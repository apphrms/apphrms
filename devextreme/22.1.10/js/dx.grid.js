"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[276],{52978(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ExportController=t.DataProvider=void 0,n(58635),n(61670);var i=g(n(69828)),o=g(n(68689)),a=n(68759),r=n(68841),l=n(2005),s=n(28675),d=n(4964),u=n(47371),c=g(n(38306)),h=g(n(17545)),f=n(31900),p=g(n(70770));function g(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function v(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var $="dx-datagrid-export-button",w="export",y=i.default.inherit({ctor:function(e,t,n){this._exportController=e,this._initialColumnWidthsByColumnIndex=t,this._selectedRowsOnly=n},_getGroupValue:function(e){var t=e.key,n=e.data,i=e.rowType,o=e.groupIndex,a=e.summaryCells,r=this._options.groupColumns[o],l=p.default.getDisplayValue(r,r.deserializeValue?r.deserializeValue(t[o]):t[o],n,i),s="".concat(r.caption,": ").concat(p.default.formatValue(l,r));return a&&a[0]&&a[0].length&&(s+=" ".concat(p.default.getGroupRowSummaryText(a[0],this._options.summaryTexts))),s},_correctCellIndex:function(e){return e},_initOptions:function(){var e=this._exportController,t=e._columnsController.getGroupColumns(),n=e.option("export.excelWrapTextEnabled");this._options={columns:e._getColumns(this._initialColumnWidthsByColumnIndex),groupColumns:t,items:this._selectedRowsOnly||e._selectionOnly?e._getSelectedItems():e._getAllItems(),getVisibleIndex:e._columnsController.getVisibleIndex.bind(e._columnsController),isHeadersVisible:e.option("showColumnHeaders"),summaryTexts:e.option("summary.texts"),customizeExportData:e.option("customizeExportData"),rtlEnabled:e.option("rtlEnabled"),wrapTextEnabled:(0,d.isDefined)(n)?n:!!e.option("wordWrapEnabled"),customizeExcelCell:e.option("export.customizeExcelCell")}},hasCustomizeExcelCell:function(){return(0,d.isDefined)(this._options.customizeExcelCell)},customizeExcelCell:function(e,t){this._options.customizeExcelCell&&(e.gridCell=t,(0,d.isDefined)(this._exportController)&&(0,d.isDefined)(this._exportController.component)&&(e.component=this._exportController.component),this._options.customizeExcelCell(e))},getHeaderStyles:function(){return[{bold:!0,alignment:"center",wrapText:!0},{bold:!0,alignment:"left",wrapText:!0},{bold:!0,alignment:"right",wrapText:!0}]},getGroupRowStyle:function(){return{bold:!0,wrapText:!1,alignment:(0,l.getDefaultAlignment)(this._options.rtlEnabled)}},getColumnStyles:function(){var e=this._options.wrapTextEnabled,t=[];return this.getColumns().forEach(function(n){t.push({alignment:n.alignment||"left",format:n.format,wrapText:e,dataType:n.dataType})}),t},getStyles:function(){return[].concat(v(this.getHeaderStyles()),v(this.getColumnStyles()),[this.getGroupRowStyle()])},_getTotalCellStyleId:function(e){var t,n=(null===(t=this.getColumns()[e])||void 0===t?void 0:t.alignment)||"right";return this.getHeaderStyles().map(function(e){return e.alignment}).indexOf(n)},getStyleId:function(e,t){return e<this.getHeaderRowCount()?0:this.isTotalCell(e-this.getHeaderRowCount(),t)?this._getTotalCellStyleId(t):this.isGroupRow(e-this.getHeaderRowCount())?this.getHeaderStyles().length+this.getColumns().length:t+this.getHeaderStyles().length},getColumns:function(e){var t=this._options.columns;return e?t:t[t.length-1]},getColumnsWidths:function(){var e=this.getColumns();return(0,d.isDefined)(e)?e.map(function(e){return e.width}):void 0},getRowsCount:function(){return this._options.items.length+this.getHeaderRowCount()},getHeaderRowCount:function(){return this.isHeadersVisible()?this._options.columns.length-1:0},isGroupRow:function(e){return e<this._options.items.length&&"group"===this._options.items[e].rowType},getGroupLevel:function(e){var t=this._options.items[e-this.getHeaderRowCount()],n=t&&t.groupIndex;return t&&"totalFooter"===t.rowType?0:(0,d.isDefined)(n)?n:this._options.groupColumns.length},getCellType:function(e,t){var n=this.getColumns();if(e<this.getHeaderRowCount())return"string";if(e-=this.getHeaderRowCount(),t<n.length){var i=this._options.items.length&&this._options.items[e],o=n[t];return i&&"data"===i.rowType&&isFinite(i.values[this._correctCellIndex(t)])&&!(0,d.isDefined)(o.customizeText)?(0,d.isDefined)(o.lookup)?o.lookup.dataType:o.dataType:"string"}},ready:function(){var e=this;e._initOptions();var t=e._options;return(0,a.when)(t.items).done(function(n){t.customizeExportData&&t.customizeExportData(e.getColumns(e.getHeaderRowCount()>1),n),t.items=n}).fail(function(){t.items=[]})},_convertFromGridGroupSummaryItems:function(e){if((0,d.isDefined)(e)&&e.length>0)return e.map(function(e){return{value:e.value,name:e.name}})},getCellData:function(e,t,n){var i,o,a={cellSourceData:{},value:i},r=this.getColumns(),l=this._correctCellIndex(t);if(e<this.getHeaderRowCount())o=this.getColumns(!0)[e][t],a.cellSourceData.rowType="header",a.cellSourceData.column=o&&o.gridColumn,a.value=o&&o.caption;else{e-=this.getHeaderRowCount();var s=this._options.items.length&&this._options.items[e];if(s){var u=s.values;switch(a.cellSourceData.rowType=s.rowType,a.cellSourceData.column=r[t]&&r[t].gridColumn,s.rowType){case"groupFooter":case"totalFooter":l<u.length&&(i=u[l],(0,d.isDefined)(i)?(a.cellSourceData.value=i.value,a.cellSourceData.totalSummaryItemName=i.name,a.value=p.default.getSummaryText(i,this._options.summaryTexts)):a.cellSourceData.value=void 0);break;case"group":if(a.cellSourceData.groupIndex=s.groupIndex,t<1)a.cellSourceData.column=this._options.groupColumns[s.groupIndex],a.cellSourceData.value=s.key[s.groupIndex],a.cellSourceData.groupSummaryItems=this._convertFromGridGroupSummaryItems(s.summaryCells[0]),a.value=this._getGroupValue(s);else{var c=s.values[l];if(Array.isArray(c)){a.cellSourceData.groupSummaryItems=this._convertFromGridGroupSummaryItems(c),i="";for(var h=0;h<c.length;h++)i+=(h>0?n?"\n":" \n ":"")+p.default.getSummaryText(c[h],this._options.summaryTexts);a.value=i}else a.cellSourceData.value=void 0}break;default:if(o=r[t]){var f=u[l],g=p.default.getDisplayValue(o,f,s.data,s.rowType);!isFinite(g)||(0,d.isDefined)(o.customizeText)?n&&(0,d.isDefined)(o.customizeText)&&o.customizeText===this._exportController._columnsController.getCustomizeTextByDataType("boolean")?a.value=g:a.value=p.default.formatValue(g,o):a.value=g,a.cellSourceData.value=f}a.cellSourceData.data=s.data}}}return a},isHeadersVisible:function(){return this._options.isHeadersVisible},isTotalCell:function(e,t){var n=this._options.items[e],i=this._correctCellIndex(t),o=n.summaryCells&&n.summaryCells[i]&&n.summaryCells[i].length>0&&n.summaryCells[i][0].alignByColumn;return n&&"groupFooter"===n.rowType||"totalFooter"===n.rowType||o},getCellMerging:function(e,t){var n=this._options.columns,i=n[e]&&n[e][t];return i?{colspan:(i.exportColspan||1)-1,rowspan:(i.rowspan||1)-1}:{colspan:0,rowspan:0}},getFrozenArea:function(){return{x:0,y:this.getHeaderRowCount()}}});t.DataProvider=y;var x=p.default.ViewController.inherit({}).inherit({_getEmptyCell:function(){return{caption:"",colspan:1,rowspan:1}},_updateColumnWidth:function(e,t){e.width=t},_getColumns:function(e){var t,n,i=[],o=this._columnsController,a=o.getRowCount();for(t=0;t<=a;t++){var l=[];n=o.getVisibleColumns(t,!0);var s=void 0;if(t===a){if(this._updateLockCount)s=e;else{var u=this._getColumnWidths(this._headersView,this._rowsView);if(u&&u.length){s={};for(var c=0;c<n.length;c++)s[n[c].index]=u[c]}}}for(var h=0;h<n.length;h++){var p=(0,r.extend)({},n[h],{dataType:"datetime"===n[h].dataType?"date":n[h].dataType,gridColumn:n[h]});if(this._needColumnExporting(p)){var g=this._calculateExportColspan(p);(0,d.isDefined)(g)&&(p.exportColspan=g),s&&this._updateColumnWidth(p,s[p.index]),l.push(p)}}i.push(l)}return n=i[a],(i=(0,f.prepareItems)(i.slice(0,-1),this._getEmptyCell())).push(n),i},_calculateExportColspan:function(e){var t=this;if(e.isBand){var n=this._columnsController.getChildrenByBandColumn(e.index,!0);if((0,d.isDefined)(n))return n.reduce(function(e,n){return t._needColumnExporting(n)?e+(t._calculateExportColspan(n)||1):e},0)}},_needColumnExporting:function(e){return!e.command&&(e.allowExporting||void 0===e.allowExporting)},_getFooterSummaryItems:function(e,t){var n=[],i=1,o=0;do{for(var a=[],r=0;r<e.length;r++){var l=e[r],s=l.length;i<s&&(i=s),a.push(l[o])}n.push({values:a,rowType:t?"totalFooter":"groupFooter"})}while(o++<i-1);return n},_hasSummaryGroupFooters:function(){var e=this.option("summary.groupItems");if((0,d.isDefined)(e)){for(var t=0;t<e.length;t++)if(e[t].showInGroupFooter)return!0}return!1},_getItemsWithSummaryGroupFooters:function(e){for(var t=[],n=[],i=[],o=0;o<e.length;o++){var a=e[o];"groupFooter"===a.rowType?(i=this._getFooterSummaryItems(a.summaryCells),t=t.concat(n,i),n=[]):n.push(a)}return t.length?t:n},_updateGroupValuesWithSummaryByColumn:function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],o=i.summaryCells;if("group"===i.rowType&&o&&o.length>1){for(var a,r=i.values.length,l=1;l<o.length;l++)for(var s=0;s<o[l].length;s++){var d=o[l][s];d&&d.alignByColumn&&(Array.isArray(t[l-r])||(t[l-r]=[]),t[l-r].push(d))}t.length>0&&((a=i.values).push.apply(a,v(t)),t=[])}}},_processUnExportedItems:function(e){for(var t,n,i=this._columnsController.getVisibleColumns(null,!0),o=this._columnsController.getGroupColumns(),a=0;a<e.length;a++){var r=e[a],l=!1;t=[],n=[];for(var s=0;s<i.length;s++){var d=i[s];if(l||(l=["detailExpand","buttons"].includes(d.type)),this._needColumnExporting(d)&&(r.values&&("group"!==r.rowType||t.length?t.push(r.values[s]):t.push(r.key[r.groupIndex])),r.summaryCells)){if("group"!==r.rowType||n.length)n.push(r.summaryCells[s]);else{var u=s-o.length+r.groupIndex;n.push(r.summaryCells[l?u:u+1])}}}t.length&&(r.values=t),n.length&&(r.summaryCells=n)}},_getAllItems:function(e){var t,n=this,i=new a.Deferred,o=this.getController("data"),r=o.footerItems(),l=r.length&&r[0],s=n.option("summary.totalItems");return(0,a.when)(e).done(function(e){o.loadAll(e).done(function(e,o){n._updateGroupValuesWithSummaryByColumn(e),n._hasSummaryGroupFooters()&&(e=n._getItemsWithSummaryGroupFooters(e)),t=l&&l.summaryCells,(0,d.isDefined)(o)&&s&&(t=n._getSummaryCells(s,o));var a=l&&n._getFooterSummaryItems(t,!0);a&&(e=e.concat(a)),n._processUnExportedItems(e),i.resolve(e)}).fail(i.reject)}).fail(i.reject),i},_getSummaryCells:function(e,t){var n=this.getController("data"),i=n._columnsController;return n._calculateSummaryCells(e,t,i.getVisibleColumns(null,!0),function(e,t){return n._isDataColumn(t)?t.index:-1})},_getSelectedItems:function(){var e=this.getController("selection").getSelectedRowsData();return this._getAllItems(e)},_getColumnWidths:function(e,t){return e&&e.isVisible()?e.getColumnWidths():t.getColumnWidths()},init:function(){this._columnsController=this.getController("columns"),this._rowsView=this.getView("rowsView"),this._headersView=this.getView("columnHeadersView"),this.createAction("onExporting",{excludeValidators:["disabled","readOnly"]}),this.createAction("onExported",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFileSaving",{excludeValidators:["disabled","readOnly"]})},callbackNames:function(){return["selectionOnlyChanged"]},getDataProvider:function(e){var t,n=this._getColumnWidths(this._headersView,this._rowsView);if(n&&n.length){t={};for(var i=this._columnsController.getVisibleColumns(this._columnsController.getRowCount(),!0),o=0;o<i.length;o++)t[i[o].index]=n[o]}return new y(this,t,e)},exportToExcel:function(e){this._selectionOnly=e,(0,u.export)(this.component.getDataProvider(),{fileName:this.option("export.fileName"),proxyUrl:this.option("export.proxyUrl"),format:"xlsx",selectedRowsOnly:!!e,autoFilterEnabled:!!this.option("export.excelFilterEnabled"),rtlEnabled:this.option("rtlEnabled"),ignoreErrors:this.option("export.ignoreExcelErrors"),exportingAction:this.getAction("onExporting"),exportedAction:this.getAction("onExported"),fileSavingAction:this.getAction("onFileSaving")},u.excel.getData)},exportTo:function(e,t){this._selectionOnly=e;var n=this.getAction("onExporting"),i={selectedRowsOnly:!!e,format:t,fileName:this.option("export.fileName"),cancel:!1};(0,d.isFunction)(n)&&n(i)},publicMethods:function(){return["getDataProvider","exportToExcel"]},selectionOnly:function(e){if(!(0,d.isDefined)(e))return this._isSelectedRows;this._isSelectedRows=e,this.selectionOnlyChanged.fire()}});t.ExportController=x,p.default.registerModule("export",{defaultOptions:function(){return{export:{enabled:!1,fileName:"DataGrid",excelFilterEnabled:!1,formats:["xlsx"],excelWrapTextEnabled:void 0,proxyUrl:void 0,allowExportSelectedData:!1,ignoreExcelErrors:!0,texts:{exportTo:c.default.format("dxDataGrid-exportTo"),exportAll:c.default.format("dxDataGrid-exportAll"),exportSelectedRows:c.default.format("dxDataGrid-exportSelectedRows")}}}},controllers:{export:x},extenders:{controllers:{editing:{callbackNames:function(){var e=this.callBase();return(0,d.isDefined)(e)?e.push("editingChanged"):["editingChanged"]},_updateEditButtons:function(){this.callBase(),this.editingChanged.fire(this.hasChanges())}}},views:{headerPanel:{_getToolbarItems:function(){var e=this.callBase(),t=this._getExportToolbarButton();return t&&(e.push(t),this._correctItemsPosition(e)),e},_getExportToolbarButton:function(){var e=this,t=this._getExportToolbarItems();if(0===t.length)return null;var n={name:"exportButton",location:"after",locateInMenu:"auto",sortIndex:30,options:{items:t}};if(1===t.length){var i=m(m({},t[0]),{hint:t[0].text,elementAttr:{class:$}});n.widget="dxButton",n.showText="inMenu",n.options=i}else{var a={icon:w,displayExpr:"text",items:t,hint:this.option("export.texts.exportTo"),elementAttr:{class:$},dropDownOptions:{width:"auto",_wrapperClassExternal:"dx-datagrid-export-menu"}};n.options=a,n.widget="dxDropDownButton",n.menuItemTemplate=function(n,i,a){e._createComponent((0,o.default)(a),h.default,{items:t})}}return n},_getExportToolbarItems:function(){var e,t=this,n=this.option("export"),i=this.option("export.texts"),o=null!==(e=this.option("export.formats"))&&void 0!==e?e:[];if(!n.enabled)return[];var a=[];return o.forEach(function(e){var o="exportTo",r=e.toUpperCase(),l=w;"xlsx"===e&&(o="exportToExcel",r="Excel",l="xlsxfile"),"pdf"===e&&(l="pdffile"),a.push({text:(0,s.format)(i.exportAll,r),icon:l,onClick:function(){t._exportController[o](!1,e)}}),n.allowExportSelectedData&&a.push({text:(0,s.format)(i.exportSelectedRows,r),icon:"exportselected",onClick:function(){t._exportController[o](!0,e)}})}),a},_correctItemsPosition:function(e){e.sort(function(e,t){return e.sortIndex-t.sortIndex})},_isExportButtonVisible:function(){return this.option("export.enabled")},optionChanged:function(e){this.callBase(e),"export"===e.name&&(e.handled=!0,this._invalidate())},init:function(){var e=this;this.callBase(),this._exportController=this.getController("export"),this._editingController=this.getController("editing"),this._editingController.editingChanged.add(function(t){e.setToolbarItemDisabled("exportButton",t)})},isVisible:function(){return this.callBase()||this._isExportButtonVisible()}}}}})},9549(e,t,n){var i,o=n(36808),a=n(97251),r=n(68759),l=n(68841),s=n(4964),d=n(93880),u=(i=n(70770))&&i.__esModule?i:{default:i},c=n(51123);function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var f=Number.MAX_SAFE_INTEGER||9007199254740991;u.default.registerModule("focus",(0,l.extend)(!0,{},d.focusModule,{extenders:{controllers:{data:function(e){return function(e){function t(){return e.apply(this,arguments)||this}i=e,(n=t).prototype=Object.create(i.prototype),n.prototype.constructor=n,h(n,i);var n,i,l=t.prototype;return l.changeRowExpand=function(t,n){if(this.option("focusedRowEnabled")&&Array.isArray(t)&&this.isRowExpanded(t)){var i=this.getController("keyboardNavigation");n&&i.isKeyboardEnabled()||!this._isFocusedRowInsideGroup(t)||this.option("focusedRowKey",t)}return e.prototype.changeRowExpand.call(this,t,n)},l._isFocusedRowInsideGroup=function(e){var t=this.getController("columns"),n=this.option("focusedRowKey"),i=this.getRowIndexByKey(n),o=i>=0&&this.getVisibleRows()[i],r=t.getGroupDataSourceParameters(!0);if(o){for(var l=0;l<e.length;++l)if((0,a.compileGetter)(r[l]&&r[l].selector)(o.data)!==e[l])return!1}return!0},l._getGroupPath=function(e,t){for(var n=[],i=[e];i&&i[0]&&t;){var o=i[0];void 0!==o.key&&n.push(o.key),i=o.items,t--}return n},l._expandGroupByPath=function(e,t,n){var i=new r.Deferred;return n++,e.expandRow(t.slice(0,n)).done(function(){n===t.length?i.resolve():e._expandGroupByPath(e,t,n).done(i.resolve).fail(i.reject)}).fail(i.reject),i.promise()},l._calculateGlobalRowIndexByGroupedData=function(e){var t=this,n=t._dataSource,i=t._generateFilterByKey(e),o=new r.Deferred,a=Array.isArray(e),l=n.group();return a?o.resolve(-1).promise():n._grouping._updatePagingOptions?(n.load({filter:t._concatWithCombinedFilter(i),group:l}).done(function(n){if(!n||0===n.length||!(0,s.isDefined)(n[0].key)||-1===n[0].key)return o.resolve(-1).promise();var i=t._getGroupPath(n[0],l.length);t._expandGroupByPath(t,i,0).done(function(){t._calculateExpandedRowGlobalIndex(o,e,i,l)}).fail(o.reject)}).fail(o.reject),o.promise()):(t._calculateGlobalRowIndexByFlatData(e,null,!0).done(o.resolve).fail(o.reject),o)},l._calculateExpandedRowGlobalIndex=function(e,t,n,i){var a,r=(0,c.createGroupFilter)(n,{group:i}),l=this._dataSource,s=this.option("scrolling.mode"),d="virtual"===s||"infinite"===s,u=l.pageSize();l._grouping._updatePagingOptions({skip:0,take:f},function(e,t){(0,o.equalByValue)(e.path,n)&&(a=t)}),this._calculateGlobalRowIndexByFlatData(t,r).done(function(t){var i,o;t<0?e.resolve(-1):(i=(a%u||u)+t-n.length,i=a+t+(o=d?0:Math.floor(i/(u-n.length))*n.length),e.resolve(i))}).fail(e.reject)},t}(e.inherit(d.focusModule.extenders.controllers.data))}}}}))},17863(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.GroupingHeaderPanelExtender=void 0;var i=m(n(73675)),o=m(n(68689)),a=n(68759),r=n(1685),l=n(65553),s=n(4964),d=m(n(38306)),u=n(91918),c=n(76749),h=m(n(70770)),f=m(n(17791)),p=n(1e3),g=n(27090);function m(e){return e&&e.__esModule?e:{default:e}}var v="dx-datagrid-group-panel",C="dx-group-panel-item",$="dx-toolbar-label";f.default.extend({init:function(){this.callBase.apply(this,arguments),this._initGroupingHelper()},_initGroupingHelper:function(e){var t=this._grouping,n=this.option("grouping.autoExpandAll"),i=this.option("focusedRowEnabled"),o=e?e.remoteOperations:this.remoteOperations();!(o.filtering&&o.sorting&&o.paging)||o.grouping||!n&&i?(!t||t instanceof g.GroupingHelper)&&(this._grouping=new p.GroupingHelper(this)):(!t||t instanceof p.GroupingHelper)&&(this._grouping=new g.GroupingHelper(this))},totalItemsCount:function(){var e=this.callBase();return e>0&&this._dataSource.group()&&this._dataSource.requireTotalCount()?e+this._grouping.totalCountCorrection():e},itemsCount:function(){return this._dataSource.group()?this._grouping.itemsCount()||0:this.callBase.apply(this,arguments)},allowCollapseAll:function(){return this._grouping.allowCollapseAll()},isGroupItemCountable:function(e){return this._grouping.isGroupItemCountable(e)},isRowExpanded:function(e){var t=this._grouping.findGroupInfo(e);return t?t.isExpanded:!this._grouping.allowCollapseAll()},collapseAll:function(e){return this._collapseExpandAll(e,!1)},expandAll:function(e){return this._collapseExpandAll(e,!0)},_collapseExpandAll:function(e,t){var n=this._dataSource,i=n.group(),o=h.default.normalizeSortingInfo(i||[]);if(o.length){for(var a=0;a<o.length;a++)void 0===e||e===a?o[a].isExpanded=t:i&&i[a]&&(o[a].isExpanded=i[a].isExpanded);n.group(o),this._grouping.foreachGroups(function(n,i){void 0!==e&&e!==i.length-1||(n.isExpanded=t)},!1,!0),this.resetPagesCache()}return!0},refresh:function(){return this.callBase.apply(this,arguments),this._grouping.refresh.apply(this._grouping,arguments)},changeRowExpand:function(e){var t=this._dataSource;if(t.group())return t.beginLoading(),this._lastLoadOptions&&(this._lastLoadOptions.groupExpand=!0),this._changeRowExpandCore(e).always(function(){t.endLoading()})},_changeRowExpandCore:function(e){return this._grouping.changeRowExpand(e)},getGroupsInfo:function(){return this._grouping._groupsInfo},_hasGroupLevelsExpandState:function(e,t){if(e&&Array.isArray(e)){for(var n=0;n<e.length;n++)if(e[n].isExpanded===t)return!0}},_customizeRemoteOperations:function(e,t){var n=e.remoteOperations;e.storeLoadOptions.group?(n.grouping&&!e.isCustomLoading&&(n.groupPaging&&!this._hasGroupLevelsExpandState(e.storeLoadOptions.group,!0)||(n.paging=!1)),n.grouping||n.sorting&&n.filtering&&!e.isCustomLoading&&!this._hasGroupLevelsExpandState(e.storeLoadOptions.group,!1)||(n.paging=!1)):!e.isCustomLoading&&n.paging&&t.grouping&&this.resetCache(),this.callBase.apply(this,arguments)},_handleDataLoading:function(e){return this.callBase(e),this._initGroupingHelper(e),this._grouping.handleDataLoading(e)},_handleDataLoaded:function(e){return this._grouping.handleDataLoaded(e,this.callBase.bind(this))},_handleDataLoadedCore:function(e){return this._grouping.handleDataLoadedCore(e,this.callBase.bind(this))}});var w=function(e,t){var n=this._columnsController;switch(t.itemData.value){case"group":var i=n._dataSource.group()||[];n.columnOption(e.dataField,"groupIndex",i.length);break;case"ungroup":n.columnOption(e.dataField,"groupIndex",-1);break;case"ungroupAll":this.component.clearGrouping()}},y={_getToolbarItems:function(){var e=this.callBase();return this._appendGroupingItem(e)},_appendGroupingItem:function(e){var t=this;if(this._isGroupPanelVisible()){var n=!1;e.push({template:function(){var e=(0,o.default)("<div>").addClass(v);return t._updateGroupPanelContent(e),(0,c.registerKeyboardAction)("groupPanel",t,e,void 0,t._handleActionKeyDown.bind(t)),e},name:"groupPanel",onItemRendered:function(){n&&t.renderCompleted.fire(),n=!0},location:"before",locateInMenu:"never",sortIndex:1})}return e},_handleActionKeyDown:function(e){var t=e.event,n=(0,o.default)(t.target),i=n.closest(".".concat(C)).index(),a=this._columnsController.getGroupColumns()[i],r=a&&a.index;n.is(".dx-header-filter")?this.getController("headerFilter").showHeaderFilterMenu(r,!0):this._processGroupItemAction(r),t.preventDefault()},_isGroupPanelVisible:function(){var e,t=this.option("groupPanel");return t&&"auto"===(e=t.visible)&&(e="desktop"===i.default.current().deviceType),e},_renderGroupPanelItems:function(e,t){var n=this;e.empty(),(0,r.each)(t,function(t,i){n._createGroupPanelItem(e,i)}),(0,u.restoreFocus)(this)},_createGroupPanelItem:function(e,t){var n=(0,o.default)("<div>").addClass(t.cssClass).addClass(C).data("columnData",t).appendTo(e).text(t.caption);return(0,u.setTabIndex)(this,n),n},_columnOptionChanged:function(e){if(!this._requireReady&&!h.default.checkChanges(e.optionNames,["width","visibleWidth"])){var t=this.element(),n=t&&t.find(".".concat(v));n&&n.length&&(this._updateGroupPanelContent(n),this.renderCompleted.fire())}this.callBase()},_updateGroupPanelContent:function(e){var t=this.getController("columns").getGroupColumns(),n=this.option("groupPanel");this._renderGroupPanelItems(e,t),n.allowColumnDragging&&!t.length&&((0,o.default)("<div>").addClass("dx-group-panel-message").text(n.emptyPanelText).appendTo(e),e.closest(".".concat("dx-toolbar-item")).addClass($),e.closest(".".concat($)).css("maxWidth","none"),this.updateToolbarDimensions())},allowDragging:function(e){var t=this.option("groupPanel");return this._isGroupPanelVisible()&&t.allowColumnDragging&&e&&e.allowGrouping},getColumnElements:function(){var e=this.element();return e&&e.find(".".concat(C))},getColumns:function(){return this.getController("columns").getGroupColumns()},getBoundingRect:function(){var e=this.element();if(e&&e.find(".".concat(v)).length){var t=e.offset();return{top:t.top,bottom:t.top+(0,l.getHeight)(e)}}return null},getName:function(){return"group"},getContextMenuItems:function(e){var t,n=this.option("grouping.contextMenuEnabled"),i=(0,o.default)(e.targetElement).closest(".".concat(C));if(i.length&&(e.column=i.data("columnData")),n&&e.column){var a=e.column;if(!(0,s.isDefined)(a.allowGrouping)||a.allowGrouping){var r=(0,s.isDefined)(a.groupIndex)&&a.groupIndex>-1,l=this.option("grouping.texts"),d=w.bind(this,a);t=[{text:l.ungroup,value:"ungroup",disabled:!r,onItemClick:d},{text:l.ungroupAll,value:"ungroupAll",onItemClick:d}]}}return t},isVisible:function(){return this.callBase()||this._isGroupPanelVisible()},optionChanged:function(e){"groupPanel"===e.name?(this._invalidate(),e.handled=!0):this.callBase(e)}};t.GroupingHeaderPanelExtender=y,h.default.registerModule("grouping",{defaultOptions:function(){return{grouping:{autoExpandAll:!0,allowCollapsing:!0,contextMenuEnabled:!1,expandMode:"buttonClick",texts:{groupContinuesMessage:d.default.format("dxDataGrid-groupContinuesMessage"),groupContinuedMessage:d.default.format("dxDataGrid-groupContinuedMessage"),groupByThisColumn:d.default.format("dxDataGrid-groupHeaderText"),ungroup:d.default.format("dxDataGrid-ungroupHeaderText"),ungroupAll:d.default.format("dxDataGrid-ungroupAllText")}},groupPanel:{visible:!1,emptyPanelText:d.default.format("dxDataGrid-groupPanelEmptyText"),allowColumnDragging:!0}}},extenders:{controllers:{data:{init:function(){this.callBase(),this.createAction("onRowExpanding"),this.createAction("onRowExpanded"),this.createAction("onRowCollapsing"),this.createAction("onRowCollapsed")},_beforeProcessItems:function(e){var t=this._columnsController.getGroupColumns();return(e=this.callBase(e)).length&&t.length&&(e=this._processGroupItems(e,t.length)),e},_processItem:function(e,t){return(0,s.isDefined)(e.groupIndex)&&(0,s.isString)(e.rowType)&&0===e.rowType.indexOf("group")?(e=this._processGroupItem(e,t),t.dataIndex=0):e=this.callBase.apply(this,arguments),e},_processGroupItem:function(e){return e},_processGroupItems:function(e,t,n){var i=this._columnsController.getGroupColumns(),o=i[i.length-t];if(!n){var a=this.option("scrolling.mode");n={collectContinuationItems:"virtual"!==a&&"infinite"!==a,resultItems:[],path:[],values:[]}}var r=n.resultItems;if(n.data&&(!n.collectContinuationItems&&n.data.isContinuation||r.push({rowType:"group",data:n.data,groupIndex:n.path.length-1,isExpanded:!!n.data.items,key:n.path.slice(0),values:n.values.slice(0)})),e){if(0===t)r.push.apply(r,e);else for(var l=0;l<e.length;l++){var s=e[l];s&&"items"in s?(n.data=s,n.path.push(s.key),n.values.push(o&&o.deserializeValue&&!o.calculateDisplayValue?o.deserializeValue(s.key):s.key),this._processGroupItems(s.items,t-1,n),n.data=void 0,n.path.pop(),n.values.pop()):r.push(s)}}return r},publicMethods:function(){return this.callBase().concat(["collapseAll","expandAll","isRowExpanded","expandRow","collapseRow"])},collapseAll:function(e){var t=this._dataSource;t&&t.collapseAll(e)&&(t.pageIndex(0),t.reload())},expandAll:function(e){var t=this._dataSource;t&&t.expandAll(e)&&(t.pageIndex(0),t.reload())},changeRowExpand:function(e){var t=this,n=t.isRowExpanded(e),i={key:e,expanded:n};return t.executeAction(n?"onRowCollapsing":"onRowExpanding",i),i.cancel?(new a.Deferred).resolve():(0,a.when)(t._changeRowExpandCore(e)).done(function(){i.expanded=!n,t.executeAction(n?"onRowCollapsed":"onRowExpanded",i)})},_changeRowExpandCore:function(e){var t=this,n=this._dataSource,i=new a.Deferred;return n?(0,a.when)(n.changeRowExpand(e)).done(function(){t.load().done(i.resolve).fail(i.reject)}).fail(i.reject):i.resolve(),i},isRowExpanded:function(e){var t=this._dataSource;return t&&t.isRowExpanded(e)},expandRow:function(e){return this.isRowExpanded(e)?(new a.Deferred).resolve():this.changeRowExpand(e)},collapseRow:function(e){return this.isRowExpanded(e)?this.changeRowExpand(e):(new a.Deferred).resolve()},optionChanged:function(e){"grouping"===e.name&&(e.name="dataSource"),this.callBase(e)}},columns:{_getExpandColumnOptions:function(){var e=this.callBase.apply(this,arguments);return e.cellTemplate=h.default.getExpandCellTemplate(),e}},editing:{_isProcessedItem:function(e){return(0,s.isDefined)(e.groupIndex)&&(0,s.isString)(e.rowType)&&0===e.rowType.indexOf("group")}}},views:{headerPanel:y,rowsView:{getContextMenuItems:function(e){var t;if(this.option("grouping.contextMenuEnabled")&&e.row&&"group"===e.row.rowType){var n=this._columnsController.columnOption("groupIndex:".concat(e.row.groupIndex));if(n&&n.allowGrouping){var i=this.option("grouping.texts"),o=w.bind(this,n);(t=[]).push({text:i.ungroup,value:"ungroup",onItemClick:o},{text:i.ungroupAll,value:"ungroupAll",onItemClick:o})}}return t},_rowClick:function(e){var t=this.option("grouping.expandMode"),n="infinite"!==this.option("scrolling.mode")&&"rowClick"===t&&(0,o.default)(e.event.target).closest(".".concat("dx-group-row")).length,i=(0,o.default)(e.event.target).closest(".".concat("dx-datagrid-expand")).length;(n||i)&&this._changeGroupRowState(e),this.callBase(e)},_changeGroupRowState:function(e){var t=this.getController("data"),n=t.items()[e.rowIndex],i=this._columnsController.columnOption("groupIndex:".concat(n.groupIndex),"allowCollapsing");("data"===n.rowType||"group"===n.rowType&&!1!==i)&&(t.changeRowExpand(n.key,!0),e.event.preventDefault(),e.handled=!0)}},columnHeadersView:{getContextMenuItems:function(e){var t=this.option("grouping.contextMenuEnabled"),n=this.callBase(e);if(t&&e.row&&("header"===e.row.rowType||"detailAdaptive"===e.row.rowType)){var i=e.column;if(!i.command&&(!(0,s.isDefined)(i.allowGrouping)||i.allowGrouping)){var o=this.option("grouping.texts"),a=(0,s.isDefined)(i.groupIndex)&&i.groupIndex>-1,r=w.bind(this,i);(n=n||[]).push({text:o.groupByThisColumn,value:"group",beginGroup:!0,disabled:a,onItemClick:r}),i.showWhenGrouped&&n.push({text:o.ungroup,value:"ungroup",disabled:!a,onItemClick:r}),n.push({text:o.ungroupAll,value:"ungroupAll",onItemClick:r})}}return n}}}}})},1e3(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.GroupingHelper=void 0,t.getContinuationGroupCount=h;var i=n(68759),o=n(68841),a=n(1685),r=n(28370),l=c(n(37499)),s=c(n(70770)),d=n(51123),u=n(6030);function c(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,i){if(i=i||0,t>1&&n>0){var o=e-Math.floor(e/t)*t||t;return(o+=n-i-2)<0&&(o+=t),Math.floor(o/(t-i-1))}return 0}var f=u.GroupingHelper.inherit(function(){var e=function(e,t,n){return e.foreachGroups(function(e,n){if(e.isExpanded)return t(e,n)},!0,!1,n,n)},t=function e(t,n,i,o,a,r,l){var s;if(o.items=o.items||[],o.paths=o.paths||[],o.count=o.count||0,o.lastCount=o.lastCount||0,i)for(var d=0;d<n.length;d++){var u=n[d];if(void 0!==u.items){if(a.push(u.key),r)s=!0;else{var c=t.findGroupInfo(a);s=c&&c.isExpanded}s?u.items?e(t,u.items,i-1,o,a,r,l):1===i&&u.count&&(!r||l)&&(o.items.push(u),o.paths.push(a.slice(0)),o.count+=o.lastCount,o.lastCount=u.count):(u.collapsedItems=u.items,u.items=null),a.pop()}}},n=function(e,t,n,i,o){var a,r=e.findGroupInfo(i);r?(n?r.count=t.count>0?t.count:t.items&&t.items.length||0:t.count=r.count||t.count,r.offset=o):(n&&(a=t.count>0?t.count:t.items.length),e.addGroupInfo({isExpanded:e._isGroupExpanded(i.length-1),path:i.slice(0),offset:o,count:a||0}))},c=function e(t,i,o,a,r,l,s){var d,u=(i.group?i.group.length:0)===a,c=0,h=0;if(r=r||0,l=l||[],i.remoteOperations.paging&&!s&&(c=0===r?i.skip||0:i.skips[r-1]||0),r>=a)return o.length;for(var f=0;f<o.length;f++){var p=o[f];if(p){if(l.push(p.key),!p.count&&!p.items||void 0===p.items||(n(t,p,u,l,c+f),(d=p.items?e(t,i,p.items,a,r+1,l,f):p.count||-1)<0))return -1;h+=d,l.pop()}}return h},f=function(e,t){return e&&e.length&&e[t]&&!!e[t].isExpanded},p=function(e,t,n){for(var i,o=n,a=0;a<e.length;a++)i=e[a].offset+1,a>0&&(i+=e[a-1].childrenTotalCount,t&&(i+=h(o,t,i,a-1)*a)),o+=i;return o};function g(e,t,n,i){var o=t.items[i],a=e.skips&&e.skips[n],r=e.takes&&e.takes[n],l=i===t.items.length-1,s=0===i,d=o.count>r+(s&&a||0);s&&void 0!==a&&(o.isContinuation=!0),l&&void 0!==r&&d&&(o.isContinuationOnNextPage=!0)}function m(e){return!Array.isArray(e)}function v(e){m(e.data)||(e.data=new i.Deferred)}var C=function(e,t){var n=new i.Deferred,a=!(!t.group||!t.group.length),l=(0,o.extend)({skip:0,take:1,requireGroupCount:a,requireTotalCount:!a},t,{group:a?t.group:null});return e.load(l).done(function(e,t){var i=t&&(a?t.groupCount:t.totalCount);isFinite(i)?n.resolve(i):n.reject(r.errors.Error(a?"E4022":"E4021"))}).fail(n.reject.bind(n)),n};return{updateTotalItemsCount:function(t){var n=0,i=t.extra&&t.extra.totalCount||0,o=t.extra&&t.extra.groupCount||0,a=this._dataSource.pageSize(),r=this._isVirtualPaging();e(this,function(e){e.childrenTotalCount=0}),e(this,function(e,t){var i=p(t,r?0:a,n),o=e.count+e.childrenTotalCount;r||(o+=h(i,a,o,t.length-1)),t[t.length-2]?t[t.length-2].childrenTotalCount+=o:n+=o}),this.callBase(n-i+o)},_isGroupExpanded:function(e){return f(this._dataSource.group(),e)},_updatePagingOptions:function(t,n){var i=this._isVirtualPaging(),o=this._dataSource.pageSize(),a=[],r=[],l=0,s=0;t.take&&(e(this,function(e){e.childrenTotalCount=0,e.skipChildrenTotalCount=0}),e(this,function(e,d){var u,c=0,f=0,g=p(d,i?0:o,s),m=0,v=0,C=e.count+e.childrenTotalCount,$=C;n&&n(e,g);var w=t.skip-g;g<=t.skip+t.take&&C&&(u=t.take,i||(C+=(m=h(g,o,C,d.length-1))*d.length,$+=m,o&&w>=0&&(c=d.length,f=d.length-1,v=Math.floor(w/o))),w>=0?(g+C>t.skip&&a.unshift(w-v*c-e.skipChildrenTotalCount),g+C>=t.skip+u&&r.unshift(u-c-e.childrenTotalCount+e.skipChildrenTotalCount)):g+C>=t.skip+u&&r.unshift(u+w-e.childrenTotalCount)),g<=t.skip&&(d[d.length-2]?d[d.length-2].skipChildrenTotalCount+=Math.min($,w+1-v*f):l+=Math.min($,w+1)),g<=t.skip+u&&(C=Math.min($,w+u-(v+1)*f),d[d.length-2]?d[d.length-2].childrenTotalCount+=C:s+=C)}),t.skip-=l,t.take-=s-l),t.skips=a,t.takes=r},changeRowExpand:function(e){var t=this.findGroupInfo(e),n=this._dataSource,o=n.remoteOperations().groupPaging,a=s.default.normalizeSortingInfo(n.group());return t?(t.isExpanded=!t.isExpanded,o&&t.isExpanded&&e.length<a.length?C(n,{filter:(0,d.createGroupFilter)(e,{filter:n.lastLoadOptions().filter,group:n.group()}),group:[a[e.length]],select:n.select()}).done(function(e){t.count=e}):(new i.Deferred).resolve()):(new i.Deferred).reject()},handleDataLoading:function(e){var t=e.storeLoadOptions,n=s.default.normalizeSortingInfo(t.group||e.loadOptions.group);if(!e.isCustomLoading&&n.length){if(e.remoteOperations.grouping){var i=this._dataSource.remoteOperations().paging;t.group=s.default.normalizeSortingInfo(t.group),t.group.forEach(function(e,n){var o=n===t.group.length-1;e.isExpanded=!i||!o})}e.group=e.group||n,e.remoteOperations.paging?(e.skip=t.skip,e.take=t.take,t.requireGroupCount=!0,t.group=n.slice(0,1),this._updatePagingOptions(e),t.skip=e.skip,t.take=e.take):(e.skip=e.loadOptions.skip,e.take=e.loadOptions.take,this._updatePagingOptions(e))}},handleDataLoadedCore:function(e,n){var u,h=s.default.normalizeSortingInfo(e.storeLoadOptions.group||e.loadOptions.group).length,f=e.group?e.group.length:0,p={};if(e.isCustomLoading)n(e),t(this,e.data,h,p,[],e.isCustomLoading,e.storeLoadOptions.isLoadingAll);else{if(e.remoteOperations.paging||this.foreachGroups(function(e){e.count=0}),(u=c(this,e,e.data,h))<0)return void(e.data=(new i.Deferred).reject(l.default.Error("E1037")));if(e.remoteOperations.paging||h&&e.extra&&e.loadOptions.requireTotalCount&&(e.extra.totalCount=u,e.extra.groupCount=e.data.length),f&&e.storeLoadOptions.requireGroupCount&&!isFinite(e.extra.groupCount))return void(e.data=(new i.Deferred).reject(r.errors.Error("E4022")));this.updateTotalItemsCount(e),e.remoteOperations.paging||this._updatePagingOptions(e),n(e),e.remoteOperations.paging||this._processPaging(e,h)}!function e(n,r,l,u,h,f){r.isCustomLoading||(t(n,f,l,u={},[]),p=r,C=u,w=($=l)-1,y=p.group?p.group.length:0,C.skip=p.skips&&p.skips[w],p.takes&&void 0!==p.takes[w]&&(C.take=y===$&&C.count?C.count-(C.skip||0):0,C.take+=p.takes[w]));var p,C,$,w,y,x,I,E,b,S,T,D,R,O,F,A,P,V,_,B,M,k,L,N=r.group?r.group.length:0;u.paths.length&&N-l>0?(v(r),x=n,I=r,E=u,b=l,S=0,T=f,R=(D=I.group||[])[S+1],O=[],(0,a.each)(E.paths,function(e){var t={requireTotalCount:!1,requireGroupCount:!0,group:[R],groupSummary:I.storeLoadOptions.groupSummary,filter:(0,d.createGroupFilter)(E.paths[e],{filter:I.storeLoadOptions.filter,group:D}),select:I.storeLoadOptions.select};0===e&&(t.skip=E.skip||0),e===E.paths.length-1&&(t.take=E.take);var n=0===t.take?[]:x._dataSource.loadFromStore(t);(0,i.when)(n).done(function(t){var n=E.items[e];g(I,E,S,e),n.items=t}),O.push(n)}),i.when.apply(null,O).done(function(){c(x,I,T,b+1),e(x,I,b+1,E,S+1,T)})):u.paths.length&&r.storeLoadOptions.group?(v(r),F=n,A=r,P=u,V=f,_=[],B=A.group||[],(0,a.each)(P.paths,function(e,t){_.push((0,d.createGroupFilter)(t,{group:A.isCustomLoading?A.storeLoadOptions.group:B}))}),M=A.storeLoadOptions.filter,A.storeLoadOptions.isLoadingAll||(M=s.default.combineFilters([M,s.default.combineFilters(_,"or")])),k=(0,o.extend)({},A.storeLoadOptions,{requireTotalCount:!1,requireGroupCount:!1,group:null,sort:B.concat(s.default.normalizeSortingInfo(A.storeLoadOptions.sort||[])),filter:M}),(L=F._dataSource.isLastLevelGroupItemsPagingLocal())||(k.skip=P.skip,k.take=P.take),(0,i.when)(0===P.take?[]:F._dataSource.loadFromStore(k)).done(function(e){L&&(e=F._dataSource.sortLastLevelGroupItems(e,B,P.paths),e=P.skip?e.slice(P.skip):e,e=P.take?e.slice(0,P.take):e),(0,a.each)(P.items,function(t,n){var i=n.count-(0===t&&P.skip||0),o=e.splice(0,i);g(A,P,B.length-1,t),n.items=o}),A.data.resolve(V)}).fail(A.data.reject)):m(r.data)&&r.data.resolve(f)}(this,e,h,p,0,e.data)},_processSkips:function(e,t,n){if(n){var i=e[0],o=t[0],a=i&&i.items;void 0!==o&&(i.isContinuation=!0,a&&(i.items=a.slice(o),this._processSkips(i.items,t.slice(1),n-1)))}},_processTakes:function(e,t,n,i,o){if(i&&e){o=o||[];var a=e[e.length-1],r=a&&a.items,l=n[0],s=t[0];if(a){var d=a.count-(a.isContinuation&&s||0)||r.length;void 0!==l&&d>l&&(a.isContinuationOnNextPage=!0,o.forEach(function(e){e.isContinuationOnNextPage=!0}),r&&(r=r.slice(0,l),a.items=r)),o.push(a),this._processTakes(r,t.slice(1),n.slice(1),i-1,o)}}},_processPaging:function(e,t){this._processSkips(e.data,e.skips,t),this._processTakes(e.data,e.skips,e.takes,t)},isLastLevelGroupItemsPagingLocal:function(){return!1},sortLastLevelGroupItems:function(e){return e},refresh:function(t,n){var o,a,r=this,l=r._dataSource,c=t.storeLoadOptions,h=t.group||t.storeLoadOptions.group,p=s.default.normalizeSortingInfo(r._group);function g(e,t){t.length===a+1&&(e.isExpanded=o)}for(a=0;a<p.length;a++)o=f(h,a),f(r._group,a)!==o&&r.foreachGroups(g);if(r.callBase.apply(this,arguments),h&&t.remoteOperations.paging&&n.reload)return e(r,function(e){var n=C(l,{filter:(0,d.createGroupFilter)(e.path,{filter:c.filter,group:h}),group:h.slice(e.path.length),select:c.select}),o=C(l,{filter:(0,u.createOffsetFilter)(e.path,{filter:c.filter,group:h},!0),group:h.slice(e.path.length-1,e.path.length),select:c.select});return(0,i.when)(o,n).done(function(n,i){n=parseInt(n.length?n[0]:n),i=parseInt(i.length?i[0]:i),e.offset=n,e.count!==i&&(e.count=i,r.updateTotalItemsCount(t))})},!0)}}}());t.GroupingHelper=f},6030(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.GroupingHelper=void 0,t.createOffsetFilter=function(e,t,n){for(var i=(0,r.normalizeSortingInfo)(t.group),o=[],a=n?e.length-1:0;a<e.length;a++){for(var s=[],d=0;d<=a;d++){var u=i[d].selector;if(a!==d||null!==e[d]&&!1!==e[d]&&!0!==e[d]){var c=[u,a===d?i[d].desc?">":"<":"=",e[d]];"<"===c[1]?s.push([c,"or",[u,"=",null]]):s.push(c)}else!1===e[d]?s.push([u,"=",!!i[d].desc||null]):(e[d]?!i[d].desc:i[d].desc)?s.push([u,"<>",e[d]]):(s.push([u,"<>",null]),s.push([u,"=",null]))}o.push(l.default.combineFilters(s))}return o=l.default.combineFilters(o,"or"),l.default.combineFilters([o,t.filter])};var i=s(n(69828)),o=s(n(68689)),a=n(68759),r=n(74391),l=s(n(70770));function s(e){return e&&e.__esModule?e:{default:e}}var d,u,c=i.default.inherit((d=function(e,t){var n=e.hash;return n&&n[JSON.stringify(t)]},u=function(e,t){var n,i=0,o=e.length-1;if(!e.length)return 0;do{var a=o+i>>1;e[a].offset>t?o=a:i=a}while(o-i>1);for(n=i;n<=o&&!(e[n].offset>t);n++);return n},{ctor:function(e){this._dataSource=e,this.reset()},reset:function(){this._groupsInfo=[],this._totalCountCorrection=0},totalCountCorrection:function(){return this._totalCountCorrection},updateTotalItemsCount:function(e){this._totalCountCorrection=e||0},isGroupItemCountable:function(e){return!this._isVirtualPaging()||!e.isContinuation},_isVirtualPaging:function(){var e=this._dataSource.option("scrolling.mode");return"virtual"===e||"infinite"===e},itemsCount:function(){var e=this._dataSource._dataSource,t=l.default.normalizeSortingInfo(e.group()||[]).length;return function e(t,n,i){var o=0;if(n){if(i)for(var a=0;a<n.length;a++)t.isGroupItemCountable(n[a])&&o++,o+=e(t,n[a].items,i-1);else o=n.length}return o}(this,e.items(),t)},foreachGroups:function(e,t,n,i,r){var l=this;return function e(t,s,d,u){var c=[];function h(e,t,n,i){var o=t&&e(t,n);return o&&i.push(o),o}for(var f=0;f<t.length;f++){if(u.push(t[f].data),!d&&!1===h(s,t[f].data,u,c))return!1;if(!t[f].data||t[f].data.isExpanded||n){var p=t[f].children,g=p.length&&e(p,s,d,u);if(g&&c.push(g),!1===g)return!1}if(d&&!1===h(s,t[f].data,u,c))return!1;t[f].data&&t[f].data.offset===t[f].offset||(i=!0),u.pop()}var m=r&&u.slice(0);return i&&a.when.apply(o.default,c).always(function(){l._updateGroupInfoOffsets(t,m)})}(l._groupsInfo,e,t,[])},_updateGroupInfoOffsets:function(e,t){t=t||[];for(var n=0;n<e.length;n++){var i=e[n];if(i.data&&i.data.offset!==i.offset){i.offset=i.data.offset;for(var o=0;o<t.length;o++)t[o].offset=i.offset}}e.sort(function(e,t){return e.offset-t.offset})},findGroupInfo:function(e){for(var t,n=this._groupsInfo,i=0;n&&i<e.length;i++)n=(t=d(n,e[i]))&&t.children;return t&&t.data},addGroupInfo:function(e){for(var t,n=e.path,i=this._groupsInfo,o=0;o<n.length;o++){if(!(t=d(i,n[o]))){t={key:n[o],offset:e.offset,data:{offset:e.offset,isExpanded:!0,path:n.slice(0,o+1)},children:[]};var a=u(i,e.offset);i.splice(a,0,t),i.hash=i.hash||{},i.hash[JSON.stringify(t.key)]=t}o===n.length-1&&(t.data=e,t.offset!==e.offset&&this._updateGroupInfoOffsets(i)),i=t.children}},allowCollapseAll:function(){return!0},refresh:function(e){var t=e.storeLoadOptions,n=(0,r.normalizeSortingInfo)(t.group||[]),i="_group"in this?(0,r.normalizeSortingInfo)(this._group||[]):n,o=Math.min(i.length,n.length);this._group=t.group;for(var a=0;a<o;a++)if(i[a].selector!==n[a].selector){o=a;break}o?function e(t,n,i){for(var o=0;o<t.length;o++)n+1>=i?t[o].children=[]:e(t[o].children,n+1,i)}(this._groupsInfo,0,o):this.reset()},handleDataLoading:function(){},handleDataLoaded:function(e,t){t(e)},handleDataLoadedCore:function(e,t){t(e)}}));t.GroupingHelper=c},27090(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.loadTotalCount=t.GroupingHelper=void 0;var i=n(97251),o=n(68759),a=n(68841),r=n(1685),l=f(n(72138)),s=f(n(59974)),d=n(74391),u=f(n(70770)),c=n(51123),h=n(6030);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e,t){var n=new o.Deferred,i=(0,a.extend)({skip:0,take:1,requireTotalCount:!0},t);return e.load(i).done(function(e,t){n.resolve(t&&t.totalCount)}).fail(n.reject.bind(n)),n};t.loadTotalCount=p;var g,m,v,C,$,w=h.GroupingHelper.inherit((g=function(e,t,n){return e.foreachGroups(function(e){if(!e.isExpanded)return t(e)},!1,!1,n,!0)},m=function(e,t){var n=0,i=t||0;return t&&(g(e,function(e){if(e.offset-n>=t)return!1;n+=e.count-1}),i+=n),i},v=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!(0,d.keysEqual)(null,e[n],t[n]))return!1;return!0},C=function e(t,n,i,o,a){if(n){for(var r=0;r<n.length;r++){var l=n[r];if("key"in l&&void 0!==l.items){i.push(l.key),a&&v(a.path,i)&&!l.isContinuation&&(a.offset=o);var s=t.findGroupInfo(i);s&&!l.isContinuation&&(s.offset=o),s&&!s.isExpanded?o+=s.count:o=e(t,l.items,i,o,a),i.pop()}else o++}return o}},$=function e(t,n){var i=t.count||t.items.length;if(!t.count&&n>1){i=0;for(var o=0;o<t.items.length;o++)i+=e(t.items[o],n-1)}return i},{handleDataLoading:function(e){var t,n=e.storeLoadOptions,i=[],o=0,l=!1,d=e.loadOptions.group,c=0;if(function(e,t){if(t.group){var n=u.default.normalizeSortingInfo(t.group),i=u.default.normalizeSortingInfo(e.sort);e.sort=s.default.arrangeSortingInfo(n,i),delete t.group}}(n,e.loadOptions),e.group=e.group||d,!e.isCustomLoading){var h=(0,a.extend)({},n);h.skip=m(this,n.skip),h.skip&&h.take&&d&&(h.skip--,h.take++,l=!0),h.take&&d&&(t=h.take,h.take++),g(this,function(e){if(e.offset>=h.skip+h.take+c)return!1;e.offset>=h.skip+c&&e.count&&(c+=e.count-1,i.push(e),o+=e.count)}),(0,r.each)(i,function(){h.filter=function(e,t,n){for(var i=u.default.normalizeSortingInfo(n||t.group),o=[],a=0;a<e.length;a++){for(var r=[],l=0;l<=a;l++)r.push([i[l].selector,a===l?"<>":"=",e[l]]);o.push(u.default.combineFilters(r))}return o=u.default.combineFilters(o,"or"),u.default.combineFilters([o,t.filter])}(this.path,h,d)}),e.storeLoadOptions=h,e.collapsedGroups=i,e.collapsedItemsCount=o,e.skip=h.skip||0,e.skipFirstItem=l,e.take=t}},handleDataLoaded:function(e,t){var n=e.collapsedGroups,o=u.default.normalizeSortingInfo(e.group),a=o.length;function r(e,t,n,o,a){if(e&&t.length&&n.length){var l,s,d=(0,i.toComparable)(t[0],!0);for(s=0;s<e.length&&(l=(0,i.toComparable)(e[s].key,!0),!(a>=o.offset||d===l));s++)a+=$(e[s],n.length);e.length&&d===l||e.splice(s,0,{key:t[0],items:[],count:1===t.length?o.count:void 0}),r(e[s].items,t.slice(1),n.slice(1),o,a)}}if(e.collapsedItemsCount&&e.extra&&e.extra.totalCount>=0&&(e.extra._totalCountWasIncreasedByCollapsedItems||(e.extra.totalCount+=e.collapsedItemsCount,e.extra._totalCountWasIncreasedByCollapsedItems=!0)),t(e),a){var d=e.data,c=(0,l.default)(d);if(s.default.multiLevelGroup(c,o).enumerate().done(function(e){d=e}),n)for(var h=0;h<n.length;h++)r(d,n[h].path,o,n[h],e.skip);e.isCustomLoading||function e(t,n,i,o,a,r){for(var l=0,s=!1,d=0;d<n.length;d++){var u=n[d];if(void 0!==u.items){i.push(u.key);var c=t.findGroupInfo(i);if(c&&!c.isExpanded)u.collapsedItems=u.items,u.items=null,o+=c.count,--r<0&&l++,a&&(s=!0);else if(u.items){var h=e(t,u.items,i,o,a,r);a&&(h.offset-o>1?u.isContinuation=!0:s=!0),o=h.offset,(r=h.take)<0&&(u.items.length?u.isContinuationOnNextPage=!0:l++)}i.pop()}else a&&(s=!0),o++,--r<0&&l++;a=!1}return s&&n.splice(0,1),l&&n.splice(-l,l),{offset:o,take:r}}(this,d,[],e.skip,e.skipFirstItem,e.take),e.data=d}},isGroupItemCountable:function(e){return null===e.items},updateTotalItemsCount:function(){var e=0;g(this,function(t){t.count&&(e-=t.count-1)}),this.callBase(e)},changeRowExpand:function(e){var t,n=this,i=n._dataSource,a=i.beginPageIndex?i.beginPageIndex():i.pageIndex(),r=i.items(),l=m(n,a*i.pageSize()),s=n.findGroupInfo(e);return t=s&&!s.isExpanded?(new o.Deferred).resolve(s.count):p(i,{filter:(0,c.createGroupFilter)(e,{filter:i.filter(),group:i.group()})}),(0,o.when)(t).done(function(t){t=parseInt(t.length?t[0]:t),s?(C(n,r,[],l),s.isExpanded=!s.isExpanded,s.count=t):(C(n,r,[],l,s={offset:-1,count:t,path:e,isExpanded:!1}),s.offset>=0&&n.addGroupInfo(s)),n.updateTotalItemsCount()}).fail(function(){i._eventsStrategy.fireEvent("loadError",arguments)})},allowCollapseAll:function(){return!1},refresh:function(e,t){var n=this,i=e.storeLoadOptions,a=n._dataSource;if(this.callBase.apply(this,arguments),t.reload)return g(n,function(e){var t=p(a,{filter:(0,c.createGroupFilter)(e.path,i)}),r=p(a,{filter:(0,h.createOffsetFilter)(e.path,i)});return(0,o.when)(r,t).done(function(t,i){t=parseInt(t.length?t[0]:t),i=parseInt(i.length?i[0]:i),e.offset=t,e.count!==i&&(e.count=i,n.updateTotalItemsCount())})},!0)}}));t.GroupingHelper=w},99603(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=(i=n(69828))&&i.__esModule?i:{default:i},a=n(97251),r=n(4964),l=n(28370),s=n(74391);function d(e,t,n,i){var o=0;if(e<t)for(;o<n.items.length;o++)d(e+1,t,n.items[o],i);e===t&&i(n)}function u(e,t){if("map"in e)return e.map(t);var n,i=Array(e.length);for(n in e)i[n]=t(e[n],n);return i}function c(e){var t=(0,a.compileGetter)(e.selector),n=!("skipEmptyValues"in e)||e.skipEmptyValues,i=e.aggregator;if("string"==typeof i&&!(i=s.aggregators[i]))throw l.errors.Error("E4001",e.aggregator);return{selector:t,aggregator:i,skipEmptyValues:n}}var h=o.default.inherit({ctor:function(e){this._data=e.data,this._groupLevel=e.groupLevel||0,this._totalAggregates=u(e.totalAggregates||[],c),this._groupAggregates=u(e.groupAggregates||[],c),this._totals=[]},calculate:function(){this._totalAggregates.length&&this._calculateTotals(0,{items:this._data}),this._groupAggregates.length&&this._groupLevel>0&&this._calculateGroups({items:this._data})},totalAggregates:function(){return this._totals},_aggregate:function(e,t,n){for(var i=t.items?t.items.length:0,o=0;o<e.length;o++)if(e[o].aggregator!==s.aggregators.count)for(var a=0;a<i;a++)this._accumulate(o,e[o],n,t.items[a]);else n[o]=(n[o]||0)+i},_calculateTotals:function(e,t){if(0===e&&(this._totals=this._seed(this._totalAggregates)),e===this._groupLevel)this._aggregate(this._totalAggregates,t,this._totals);else for(var n=0;n<t.items.length;n++)this._calculateTotals(e+1,t.items[n]);0===e&&(this._totals=this._finalize(this._totalAggregates,this._totals))},_calculateGroups:function(e){var t=this._groupLevel,n=t+1,i=this._seed.bind(this,this._groupAggregates),o=this._aggregate.bind(this,this._groupAggregates),a=this._finalize.bind(this,this._groupAggregates);function r(e){e.aggregates=i(n-1),n===t?o(e,e.aggregates):d(n,t,e,function(t){o(t,e.aggregates)}),e.aggregates=a(e.aggregates)}for(;--n>0;)d(0,n,e,r)},_seed:function(e,t){return u(e,function(e){var n=e.aggregator;return"seed"in n?(0,r.isFunction)(n.seed)?n.seed(t):n.seed:NaN})},_accumulate:function(e,t,n,i){var o,a=t.selector(i),r=t.aggregator;t.skipEmptyValues&&((o=a)!=o||""===o||null==o)||(n[e]!=n[e]?n[e]=a:n[e]=r.step(n[e],a))},_finalize:function(e,t){return u(e,function(e,n){var i=e.aggregator.finalize;return i?i(t[n]):t[n]})}});t.default=h},8660(e,t,n){var i,o=n(68841),a=n(92550);((i=n(70770))&&i.__esModule?i:{default:i}).default.registerModule("columns",{defaultOptions:function(){return(0,o.extend)(!0,{},a.columnsControllerModule.defaultOptions(),{commonColumnSettings:{allowExporting:!0}})},controllers:a.columnsControllerModule.controllers})},70770(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(88445)),o=a(n(31560));function a(e){return e&&e.__esModule?e:{default:e}}function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var l=r(r(r({},i.default),o.default),{modules:[]});t.default=l},40864(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DataController=void 0;var i,o,a=d(n(37499)),r=n(56087),l=d(n(70770)),s=d(n(17791));function d(e){return e&&e.__esModule?e:{default:e}}var u=null===(o=null===(i=r.dataControllerModule.controllers)||void 0===i?void 0:i.data)||void 0===o?void 0:o.inherit({_getDataSourceAdapter:function(){return s.default},_getSpecificDataSourceOption:function(){var e=this.option("dataSource");return e&&!Array.isArray(e)&&this.option("keyExpr")&&a.default.log("W1011"),this.callBase()}});t.DataController=u,l.default.registerModule("data",{defaultOptions:r.dataControllerModule.defaultOptions,controllers:{data:u}})},17791(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=((i=n(28627))&&i.__esModule?i:{default:i}).default;t.default={extend:function(e){o=o.inherit(e)},create:function(e){return new o(e)}}},74848(e,t,n){n(72893);var i,o=n(68841),a=n(25882);((i=n(70770))&&i.__esModule?i:{default:i}).default.registerModule("editing",(0,o.extend)(!0,{},a.editingModule,{extenders:{controllers:{data:{_changeRowExpandCore:function(e){var t=this._editingController;return Array.isArray(e)&&t&&t.refresh(),this.callBase.apply(this,arguments)}}}}}))},51123(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createGroupFilter=function(e,t){for(var n=(0,o.normalizeSortingInfo)(t.group),i=[],r=0;r<e.length;r++)i.push([n[r].selector,"=",e[r]]);return t.filter&&i.push(t.filter),a.default.combineFilters(i)};var i,o=n(74391),a=(i=n(31560))&&i.__esModule?i:{default:i}},74357(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=(i=n(13826))&&i.__esModule?i:{default:i};n(75011),n(7600),n(51820),n(17863),n(63538),n(74848),n(93463),n(19249),n(23215),n(43510),n(82453),n(42337),n(90530),n(9339),n(29142),n(26772),n(28656),n(48087),n(39021),n(17920),n(37102),n(1917),n(11225),n(44645),n(52978),n(9549),n(28294);var a=o.default;t.default=a},13826(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(32899),n(8660),n(40864),n(68749),n(35787),n(95982),n(49673),n(79100),n(45868);var i=p(n(80688)),o=p(n(68689)),a=p(n(47057)),r=n(36808),l=n(24927),s=n(68841),d=n(1685),u=n(4964),c=n(5083),h=p(n(70065)),f=p(n(70770));function p(e){return e&&e.__esModule?e:{default:e}}f.default.registerModulesOrder(["stateStoring","columns","selection","editorFactory","columnChooser","grouping","editing","editingRowBased","editingFormBased","editingCellBased","masterDetail","validating","adaptivity","data","virtualScrolling","columnHeaders","filterRow","headerPanel","headerFilter","sorting","search","rows","pager","columnsResizingReordering","contextMenu","keyboardNavigation","errorHandling","summary","columnFixing","export","gridView"]);var g=h.default.inherit({_activeStateUnit:".dx-row",_getDefaultOptions:function(){var e=this.callBase();return(0,d.each)(f.default.modules,function(){(0,u.isFunction)(this.defaultOptions)&&(0,s.extend)(!0,e,this.defaultOptions())}),e},_setDeprecatedOptions:function(){this.callBase(),(0,s.extend)(this._deprecatedOptions,{useKeyboard:{since:"19.2",alias:"keyboardNavigation.enabled"},rowTemplate:{since:"21.2",message:'Use the "dataRowTemplate" option instead'}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{showRowLines:!0}},{device:function(){return(0,c.isMaterial)()},options:{showRowLines:!0,showColumnLines:!1,headerFilter:{height:315},editing:{useIcons:!0},selection:{showCheckBoxesMode:"always"}}},{device:function(){return a.default.webkit},options:{loadingTimeout:30,loadPanel:{animation:{show:{easing:"cubic-bezier(1, 0, 1, 0)",duration:500,from:{opacity:0},to:{opacity:1}}}}}},{device:function(e){return"desktop"!==e.deviceType},options:{grouping:{expandMode:"rowClick"}}}])},_init:function(){this.callBase(),f.default.processModules(this,f.default),f.default.callModuleItemsMethod(this,"init")},_clean:r.noop,_optionChanged:function(e){f.default.callModuleItemsMethod(this,"optionChanged",[e]),e.handled||this.callBase(e)},_dimensionChanged:function(){this.updateDimensions(!0)},_visibilityChanged:function(e){e&&this.updateDimensions()},_initMarkup:function(){this.callBase.apply(this,arguments),this.getView("gridView").render(this.$element())},_renderContentImpl:function(){this.getView("gridView").update()},_renderContent:function(){var e=this;(0,r.deferRender)(function(){e._renderContentImpl()})},_getTemplate:function(e){var t=e;return(0,u.isString)(t)&&t.startsWith("#")&&(t=(0,o.default)(e),l.logger.warn("Specifying grid templates with the jQuery selector name is now deprecated. Use the DOM Node or the jQuery object that references this selector instead.")),this.callBase(t)},_dispose:function(){this.callBase(),f.default.callModuleItemsMethod(this,"dispose")},isReady:function(){return this.getController("data").isReady()},beginUpdate:function(){this.callBase(),f.default.callModuleItemsMethod(this,"beginUpdate")},endUpdate:function(){f.default.callModuleItemsMethod(this,"endUpdate"),this.callBase()},getController:function(e){return this._controllers[e]},getView:function(e){return this._views[e]},focus:function(e){this.getController("keyboardNavigation").focus(e)}});g.registerModule=f.default.registerModule.bind(f.default),(0,i.default)("dxDataGrid",g),t.default=g},11225(e,t,n){var i,o=n(67192);((i=n(70770))&&i.__esModule?i:{default:i}).default.registerModule("adaptivity",o.adaptivityModule)},51820(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnChooserView=t.ColumnChooserController=void 0;var i,o=n(51687),a=(i=n(70770))&&i.__esModule?i:{default:i},r=o.columnChooserModule.controllers.columnChooser;t.ColumnChooserController=r;var l=o.columnChooserModule.views.columnChooserView;t.ColumnChooserView=l,a.default.registerModule("columnChooser",o.columnChooserModule)},1917(e,t,n){var i,o=n(83265);((i=n(70770))&&i.__esModule?i:{default:i}).default.registerModule("columnFixing",o.columnFixingModule)},32899(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnHeadersView=void 0;var i,o=n(33208),a=(i=n(70770))&&i.__esModule?i:{default:i},r=o.columnHeadersModule.views.columnHeadersView;t.ColumnHeadersView=r,a.default.registerModule("columnHeaders",o.columnHeadersModule)},39021(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TrackerView=t.TablePositionViewController=t.DraggingHeaderViewController=t.DraggingHeaderView=t.ColumnsSeparatorView=t.ColumnsResizerViewController=void 0;var i,o=n(85746),a=(i=n(70770))&&i.__esModule?i:{default:i},r=o.columnsResizingReorderingModule.views.draggingHeaderView;t.DraggingHeaderView=r;var l=o.columnsResizingReorderingModule.controllers.draggingHeader;t.DraggingHeaderViewController=l;var s=o.columnsResizingReorderingModule.views.columnsSeparatorView;t.ColumnsSeparatorView=s;var d=o.columnsResizingReorderingModule.controllers.tablePosition;t.TablePositionViewController=d;var u=o.columnsResizingReorderingModule.controllers.columnsResizer;t.ColumnsResizerViewController=u;var c=o.columnsResizingReorderingModule.views.trackerView;t.TrackerView=c,a.default.registerModule("columnsResizingReordering",o.columnsResizingReorderingModule)},95982(e,t,n){var i,o=n(35246);((i=n(70770))&&i.__esModule?i:{default:i}).default.registerModule("contextMenu",o.contextMenuModule)},23215(e,t,n){var i,o=n(34248);((i=n(70770))&&i.__esModule?i:{default:i}).default.registerModule("editingCellBased",o.editingCellBasedModule)},19249(e,t,n){var i,o=n(12614);((i=n(70770))&&i.__esModule?i:{default:i}).default.registerModule("editingFormBased",o.editingFormBasedModule)},93463(e,t,n){var i,o=n(24184);((i=n(70770))&&i.__esModule?i:{default:i}).default.registerModule("editingRowBased",o.editingRowBasedModule)},72893(e,t,n){var i,o=n(16026);((i=n(70770))&&i.__esModule?i:{default:i}).default.registerModule("editorFactory",o.editorFactoryModule)},49673(e,t,n){var i,o=n(77419);((i=n(70770))&&i.__esModule?i:{default:i}).default.registerModule("errorHandling",o.errorHandlingModule)},29142(e,t,n){var i,o=n(42805);((i=n(70770))&&i.__esModule?i:{default:i}).default.registerModule("filterBuilder",o.filterBuilderModule)},26772(e,t,n){var i,o=n(10991);((i=n(70770))&&i.__esModule?i:{default:i}).default.registerModule("filterPanel",o.filterPanelModule)},42337(e,t,n){var i,o=n(68222);((i=n(70770))&&i.__esModule?i:{default:i}).default.registerModule("filterRow",o.filterRowModule)},9339(e,t,n){var i,o=n(71723);((i=n(70770))&&i.__esModule?i:{default:i}).default.registerModule("filterSync",o.filterSyncModule)},79100(e,t,n){var i,o=n(84139);((i=n(70770))&&i.__esModule?i:{default:i}).default.registerModule("gridView",o.gridViewModule)},90530(e,t,n){var i,o=n(22841);((i=n(70770))&&i.__esModule?i:{default:i}).default.registerModule("headerFilter",o.headerFilterModule)},45868(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderPanel=void 0;var i,o=n(23240),a=(i=n(70770))&&i.__esModule?i:{default:i},r=o.headerPanelModule.views.headerPanel;t.HeaderPanel=r,a.default.registerModule("headerPanel",o.headerPanelModule)},17920(e,t,n){var i,o=n(10234);((i=n(70770))&&i.__esModule?i:{default:i}).default.registerModule("keyboardNavigation",o.keyboardNavigationModule)},63538(e,t,n){var i,o=n(95026);((i=n(70770))&&i.__esModule?i:{default:i}).default.registerModule("masterDetail",o.masterDetailModule)},48087(e,t,n){var i,o=n(30531);((i=n(70770))&&i.__esModule?i:{default:i}).default.registerModule("pager",o.pagerModule)},28294(e,t,n){var i,o=n(10628);((i=n(70770))&&i.__esModule?i:{default:i}).default.registerModule("rowDragging",o.rowDraggingModule)},35787(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.RowsView=void 0;var i,o=n(62955),a=(i=n(70770))&&i.__esModule?i:{default:i},r=o.rowsModule.views.rowsView;t.RowsView=r,a.default.registerModule("rows",o.rowsModule)},28656(e,t,n){var i,o=n(59734);((i=n(70770))&&i.__esModule?i:{default:i}).default.registerModule("search",o.searchModule)},7600(e,t,n){var i,o=n(66709);((i=n(70770))&&i.__esModule?i:{default:i}).default.registerModule("selection",o.selectionModule)},68749(e,t,n){var i,o=n(38199);((i=n(70770))&&i.__esModule?i:{default:i}).default.registerModule("sorting",o.sortingModule)},75011(e,t,n){var i,o=n(75042);((i=n(70770))&&i.__esModule?i:{default:i}).default.registerModule("stateStoring",o.stateStoringModule)},43510(e,t,n){var i,o=n(74138);((i=n(70770))&&i.__esModule?i:{default:i}).default.registerModule("validating",o.validatingModule)},44645(e,t,n){var i,o=n(88101);((i=n(70770))&&i.__esModule?i:{default:i}).default.registerModule("virtualColumns",o.virtualColumnsModule)},82453(e,t,n){var i=n(56319),o=r(n(70770)),a=r(n(17791));function r(e){return e&&e.__esModule?e:{default:e}}o.default.registerModule("virtualScrolling",i.virtualScrollingModule),a.default.extend(i.virtualScrollingModule.extenders.dataSourceAdapter)},37102(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.renderSummaryCell=t.FooterView=void 0;var i=C(n(68689)),o=n(36808),a=n(97251),r=n(68841),l=n(1685),s=n(4964),d=C(n(72138)),u=C(n(59974)),c=n(74391),h=C(n(38306)),f=C(n(37499)),p=n(37259),g=C(n(99603)),m=C(n(70770)),v=C(n(17791));function C(e){return e&&e.__esModule?e:{default:e}}var $="groupFooter",w="totalFooter",y=function(e,t){var n=(0,i.default)(e),o=t.column,a=t.summaryItems,r=[];if(!o.command&&a){for(var l=0;l<a.length;l++){var s=a[l];r.push((0,i.default)("<div>").css("textAlign",s.alignment||o.alignment).addClass("dx-datagrid-summary-item").addClass("dx-datagrid-text-content").addClass(s.cssClass).toggleClass("dx-datagrid-group-text-content","group"===t.rowType).text(m.default.getSummaryText(s,t.summaryTexts)))}n.append(r)}};t.renderSummaryCell=y;var x=function(e,t){var n=e.option("summary.texts")||{};return{totalItem:t.row,summaryItems:t.row.summaryCells[t.columnIndex],summaryTexts:n}},I=function(e){return e.summary||e.aggregates||[]},E=function(e){return e.option("summary.recalculateWhileEditing")},b=p.ColumnsView.inherit({_getRows:function(){return this._dataController.footerItems()},_getCellOptions:function(e){return(0,r.extend)(this.callBase(e),x(this,e))},_renderCellContent:function(e,t){y(e,t),this.callBase.apply(this,arguments)},_renderCore:function(e){var t=!1,n=this._dataController.footerItems()[0];e&&e.columnIndices||(this.element().empty().addClass("dx-datagrid-total-footer").toggleClass("dx-datagrid-nowrap",!this.option("wordWrapEnabled")),t=!0),n&&n.summaryCells&&n.summaryCells.length&&(this._updateContent(this._renderTable({change:e}),e),t&&this._updateScrollLeftPosition())},_updateContent:function(e,t){var n=this;return t&&"update"===t.changeType&&t.columnIndices?this.waitAsyncTemplates().done(function(){var i=n.getTableElement().find(".dx-row"),o=e.find(".dx-row");n._updateCells(i,o,t.columnIndices[0])}):this.callBase.apply(this,arguments)},_rowClick:function(e){var t=this._dataController.footerItems()[e.rowIndex]||{};this.executeAction("onRowClick",(0,r.extend)({},e,t))},_columnOptionChanged:function(e){var t=e.optionNames;e.changeTypes.grouping||(t.width||t.visibleWidth)&&this.callBase(e)},_handleDataChanged:function(e){var t=e.changeType;"update"===e.changeType&&e.repaintChangesOnly?e.totalColumnIndices?e.totalColumnIndices.length&&this.render(null,{changeType:"update",columnIndices:[e.totalColumnIndices]}):this.render():"refresh"!==t&&"append"!==t&&"prepend"!==t||this.render()},_createRow:function(e){var t=this.callBase.apply(this,arguments);return e.rowType===w&&t.addClass("dx-footer-row"),t},getHeight:function(){return this.getElementHeight()},isVisible:function(){return!!this._dataController.footerItems().length}});t.FooterView=b;var S,T,D=(S=function(e,t,n,i){var o;if(E(e)){var a=e.getController("editing");if(a){var l=a.getInsertedData();l.length&&(n=function e(t,n,i){return i?e(t,n.map(function(e){return{items:[e]}},i-1)):t.concat(n)}(n,l,i));var s=a.getRemovedData();s.length&&(n=function e(t,n,i){return i?t.map(function(t){var o={},a=e(t.items||[],n,i-1);return Object.defineProperty(o,"aggregates",{get:function(){return t.aggregates},set:function(e){t.aggregates=e}}),(0,r.extend)(o,t,{items:a})}):t.filter(function(e){return 0>n.indexOf(e)})}(n,s,i))}}return t&&(o=new g.default({totalAggregates:t.totalAggregates,groupAggregates:t.groupAggregates,data:n,groupLevel:i})).calculate(),o?o.totalAggregates():[]},T=function(e,t,n){var i=n&&n.sortByGroups&&n.sortByGroups();return i&&i.length?function e(t,n,i){if(!t||!n.length)return t;var o,a=n[0],r=i[0];return a&&r&&r.length&&(o=(0,d.default)(t),(0,l.each)(r,function(e){o=0===e?o.sortBy(this.selector,this.desc):o.thenBy(this.selector,this.desc)}),o.enumerate().done(function(e){t=e})),n=n.slice(1),i=i.slice(1),n.length&&i.length&&(0,l.each)(t,function(){this.items=e(this.items,n,i)}),t}(e,t,i):e},{_customizeRemoteOperations:function(e){var t=this.summary();t&&(e.remoteOperations.summary?e.isCustomLoading&&!e.storeLoadOptions.isLoadingAll||(e.storeLoadOptions.group&&(e.remoteOperations.grouping?e.storeLoadOptions.groupSummary=t.groupAggregates:t.groupAggregates.length&&(e.remoteOperations.paging=!1)),e.storeLoadOptions.totalSummary=t.totalAggregates):(t.totalAggregates.length||t.groupAggregates.length&&e.storeLoadOptions.group)&&(e.remoteOperations.paging=!1)),this.callBase.apply(this,arguments);var n=e.cachedData.extra;n&&n.summary&&!e.isCustomLoading&&(e.storeLoadOptions.totalSummary=void 0)},_handleDataLoadedCore:function(e){var t,n,i=(0,c.normalizeSortingInfo)(e.storeLoadOptions.group||e.loadOptions.group||[]),o=e.remoteOperations||{},a=this.summaryGetter()(o);if(!e.isCustomLoading||e.storeLoadOptions.isLoadingAll){if(o.summary)!o.paging&&i.length&&a&&(o.grouping||S(this,{groupAggregates:a.groupAggregates},e.data,i.length),e.data=T(e.data,i,a));else if(!o.paging&&a){var r=e.operationTypes||{};if(!Object.keys(r).some(function(e){return r[e]})||!(null===(n=null===(t=e.cachedData)||void 0===t?void 0:t.extra)||void 0===n?void 0:n.summary)||i.length&&a.groupAggregates.length){var l=S(this,a,e.data,i.length);e.extra=(0,s.isPlainObject)(e.extra)?e.extra:{},e.extra.summary=l,e.cachedData&&(e.cachedData.extra=e.extra)}e.data=T(e.data,i,a)}}e.isCustomLoading||(this._totalAggregates=e.extra&&e.extra.summary||this._totalAggregates),this.callBase(e)}});v.default.extend({init:function(){this.callBase.apply(this,arguments),this._totalAggregates=[],this._summaryGetter=o.noop},summaryGetter:function(e){if(!arguments.length)return this._summaryGetter;(0,s.isFunction)(e)&&(this._summaryGetter=e)},summary:function(e){if(!arguments.length)return this._summaryGetter();this._summaryGetter=function(){return e}},totalAggregates:function(){return this._totalAggregates},isLastLevelGroupItemsPagingLocal:function(){var e=this.summary(),t=e&&e.sortByGroups();return t&&t.length},sortLastLevelGroupItems:function(e,t,n){var i=u.default.multiLevelGroup((0,d.default)(e),t).toArray(),o=[];return n.forEach(function(e){!function e(t,n,i,o){o=o||[];for(var a=0;a<t.length;a++)o.push(t[a].key),1===n?i(o,t[a].items):e(t[a].items,n-1,i,o),o.pop()}(i,t.length,function(t,n){e.toString()===t.toString()&&(o=o.concat(n))})}),o}}),v.default.extend(D),m.default.registerModule("summary",{defaultOptions:function(){return{summary:{groupItems:void 0,totalItems:void 0,calculateCustomSummary:void 0,skipEmptyValues:!0,recalculateWhileEditing:!1,texts:{sum:h.default.format("dxDataGrid-summarySum"),sumOtherColumn:h.default.format("dxDataGrid-summarySumOtherColumn"),min:h.default.format("dxDataGrid-summaryMin"),minOtherColumn:h.default.format("dxDataGrid-summaryMinOtherColumn"),max:h.default.format("dxDataGrid-summaryMax"),maxOtherColumn:h.default.format("dxDataGrid-summaryMaxOtherColumn"),avg:h.default.format("dxDataGrid-summaryAvg"),avgOtherColumn:h.default.format("dxDataGrid-summaryAvgOtherColumn"),count:h.default.format("dxDataGrid-summaryCount")}},sortByGroupSummaryInfo:void 0}},views:{footerView:b},extenders:{controllers:{data:{_isDataColumn:function(e){return e&&(!(0,s.isDefined)(e.groupIndex)||e.showWhenGrouped)},_isGroupFooterVisible:function(){for(var e=this.option("summary.groupItems")||[],t=0;t<e.length;t++){var n=e[t],i=this._columnsController.columnOption(n.showInColumn||n.column);if(n.showInGroupFooter&&this._isDataColumn(i))return!0}return!1},_processGroupItems:function(e,t,n){var i=n&&n.data,o=this.callBase.apply(this,arguments);return n&&(void 0===n.isGroupFooterVisible&&(n.isGroupFooterVisible=this._isGroupFooterVisible()),i&&i.items&&n.isGroupFooterVisible&&(n.collectContinuationItems||!i.isContinuationOnNextPage)&&o.push({rowType:$,key:n.path.slice(),data:i,groupIndex:n.path.length-1,values:[]})),o},_processGroupItem:function(e,t){var n=this;if(t.summaryGroupItems||(t.summaryGroupItems=n.option("summary.groupItems")||[]),"group"===e.rowType){var i=-1,o=-1;(0,l.each)(t.visibleColumns,function(n){var a=t.visibleColumns[n-1];e.groupIndex===this.groupIndex&&(i=this.index),n>0&&"expand"===a.command&&"expand"!==this.command&&(o=this.index)}),e.summaryCells=this._calculateSummaryCells(t.summaryGroupItems,I(e.data),t.visibleColumns,function(e,t){return e.showInGroupFooter?-1:e.alignByColumn&&t&&!(0,s.isDefined)(t.groupIndex)&&t.index!==o?t.index:i},!0)}return e.rowType===$&&(e.summaryCells=this._calculateSummaryCells(t.summaryGroupItems,I(e.data),t.visibleColumns,function(e,t){return e.showInGroupFooter&&n._isDataColumn(t)?t.index:-1})),e},_calculateSummaryCells:function(e,t,n,i,o){var a=this,d=[],u={};return(0,l.each)(e,function(e,n){var o=a._columnsController.columnOption(n.column),l=n.showInColumn&&a._columnsController.columnOption(n.showInColumn)||o,d=i(n,l);if(d>=0){u[d]||(u[d]=[]);var c,h=t[e];h==h&&((0,s.isDefined)(n.valueFormat)?c=n.valueFormat:"count"!==n.summaryType&&(c=m.default.getFormatByDataType(o&&o.dataType)),u[d].push((0,r.extend)({},n,{value:(0,s.isString)(h)&&o&&o.deserializeValue?o.deserializeValue(h):h,valueFormat:c,columnCaption:o&&o.index!==d?o.caption:void 0})))}}),(0,s.isEmptyObject)(u)||n.forEach(function(e,t){var i=n[t-1],a=o&&("expand"===(null==i?void 0:i.command)||"expand"===e.command)?null==i?void 0:i.index:e.index;d.push(u[a]||[])}),d},_getSummaryCells:function(e,t){var n=this,i=n._columnsController;return n._calculateSummaryCells(e,t,i.getVisibleColumns(),function(e,t){return n._isDataColumn(t)?t.index:-1})},_updateItemsCore:function(e){var t,n=this._dataSource,i=this._footerItems,o=i&&i[0]&&i[0].summaryCells,a=this.option("summary.totalItems");if(this._footerItems=[],n&&a&&a.length){var r=n.totalAggregates();t=this._getSummaryCells(a,r),e&&e.repaintChangesOnly&&o&&(e.totalColumnIndices=t.map(function(e,t){return JSON.stringify(e)!==JSON.stringify(o[t])?t:-1}).filter(function(e){return e>=0})),t.length&&this._footerItems.push({rowType:w,summaryCells:t})}this.callBase(e)},_prepareUnsavedDataSelector:function(e){if(E(this)){var t=this.getController("editing");if(t)return function(n){return e(n=t.getUpdatedData(n))}}return e},_prepareAggregateSelector:function(e,t){return e=this._prepareUnsavedDataSelector(e),"avg"===t||"sum"===t?function(t){var n=e(t);return(0,s.isDefined)(n)?Number(n):n}:e},_getAggregates:function(e,t){var n=this,i=n.getController("columns"),o=n.option("summary.calculateCustomSummary"),r=n.option("summary.skipEmptyValues");return(0,l.map)(e||[],function(e){var l=i.columnOption(e.column),d=l&&l.calculateCellValue?l.calculateCellValue.bind(l):(0,a.compileGetter)(l?l.dataField:e.column),u=e.summaryType||"count",c=(0,s.isDefined)(e.skipEmptyValues)?e.skipEmptyValues:r;if(t)return{selector:e.column,summaryType:u};var h=n._prepareAggregateSelector(d,u);if("custom"===u){o||(f.default.log("E1026"),o=function(){});var p={component:n.component,name:e.name};o(p),p.summaryProcess="calculate",u={seed:function(e){return p.summaryProcess="start",p.totalValue=void 0,p.groupIndex=e,delete p.value,o(p),p.totalValue},step:function(e,t){return p.summaryProcess="calculate",p.totalValue=e,p.value=t,o(p),p.totalValue},finalize:function(e){return p.summaryProcess="finalize",p.totalValue=e,delete p.value,o(p),p.totalValue}}}return{selector:h,aggregator:u,skipEmptyValues:c}})},_addSortInfo:function(e,t,n,i){if(t){var o=t.groupIndex;i=i||t.sortOrder,(0,s.isDefined)(o)&&(e[o]=e[o]||[],e[o].push({selector:n,desc:"desc"===i}))}},_findSummaryItem:function(e,t){var n=-1;return(0,s.isDefined)(t)&&(0,l.each)(e||[],function(e){var i,o;if(this.name===t||e===t||this.summaryType===t||this.column===t||(i=this.summaryType,o=this.column,(i&&o&&"".concat(i,"_").concat(o))===t))return n=e,!1}),n},_getSummarySortByGroups:function(e,t){var n=this,i=n._columnsController,o=i.getGroupColumns(),a=[];if(t&&t.length)return(0,l.each)(e||[],function(){var e=this.sortOrder,r=this.groupColumn,d=n._findSummaryItem(t,this.summaryItem);if(!(d<0)){var u=function(e){return I(e)[d]};(0,s.isDefined)(r)?(r=i.columnOption(r),n._addSortInfo(a,r,u,e)):(0,l.each)(o,function(t,i){n._addSortInfo(a,i,u,e)})}}),a},_createDataSourceAdapterCore:function(e,t){var n=this,i=this.callBase(e,t);return i.summaryGetter(function(e){return n._getSummaryOptions(e||t)}),i},_getSummaryOptions:function(e){var t=this,n=t.option("summary.groupItems"),i=t.option("summary.totalItems"),o=t.option("sortByGroupSummaryInfo"),a=t._getAggregates(n,e&&e.grouping&&e.summary),r=t._getAggregates(i,e&&e.summary);if(a.length||r.length)return{groupAggregates:a,totalAggregates:r,sortByGroups:function(){return t._getSummarySortByGroups(o,n)}}},publicMethods:function(){var e=this.callBase();return e.push("getTotalSummaryValue"),e},getTotalSummaryValue:function(e){var t=this._findSummaryItem(this.option("summary.totalItems"),e),n=this._dataSource.totalAggregates();if(n.length&&t>-1)return n[t]},optionChanged:function(e){"summary"!==e.name&&"sortByGroupSummaryInfo"!==e.name||(e.name="dataSource"),this.callBase(e)},init:function(){this._footerItems=[],this.callBase()},footerItems:function(){return this._footerItems}},editing:{_refreshSummary:function(){E(this)&&!this.isSaving()&&this._dataController.refresh({load:!0,changesOnly:!0})},_addChange:function(e){var t=this.callBase.apply(this,arguments);return e.type&&this._refreshSummary(),t},_removeChange:function(){var e=this.callBase.apply(this,arguments);return this._refreshSummary(),e},cancelEditData:function(){var e=this.callBase.apply(this,arguments);return this._refreshSummary(),e}}},views:{rowsView:{_createRow:function(e){var t=this.callBase.apply(this,arguments);return e&&t.addClass(e.rowType===$?"dx-datagrid-group-footer":""),t},_renderCells:function(e,t){this.callBase.apply(this,arguments),"group"===t.row.rowType&&t.row.summaryCells&&t.row.summaryCells.length&&this._renderGroupSummaryCells(e,t)},_hasAlignByColumnSummaryItems:function(e,t){return!(0,s.isDefined)(t.columns[e].groupIndex)&&t.row.summaryCells[e].length},_getAlignByColumnCellCount:function(e,t){for(var n=0,i=1;i<e;i++){var o=t.row.summaryCells.length-i;n=this._hasAlignByColumnSummaryItems(o,t)?i:n}return n},_renderGroupSummaryCells:function(e,t){var n=e.children().last(),i=Number(n.attr("colSpan"))||1,o=this._getAlignByColumnCellCount(i,t);this._renderGroupSummaryCellsCore(n,t,i,o)},_renderGroupSummaryCellsCore:function(e,t,n,i){if(i>0){e.attr("colSpan",n-i);for(var o=0;o<i;o++){var a=t.columns.length-i+o;this._renderCell(e.parent(),(0,r.extend)({column:t.columns[a],columnIndex:this._getSummaryCellIndex(a,t.columns)},t))}}},_getSummaryCellIndex:function(e){return e},_getCellTemplate:function(e){return!e.column.command&&!(0,s.isDefined)(e.column.groupIndex)&&e.summaryItems&&e.summaryItems.length?y:this.callBase(e)},_getCellOptions:function(e){var t=this.callBase(e);return e.row.summaryCells?(0,r.extend)(t,x(this,e)):t}}}}})},67192(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.adaptivityModule=void 0;var i=w(n(63559)),o=w(n(68689)),a=n(36808),r=n(68759),l=n(68841),s=n(1685),d=n(65553),u=n(4964),c=n(65252),h=n(44479),f=w(n(21445)),p=n(48634),g=w(n(38306)),m=w(n(78635)),v=n(5083),C=w(n(88445)),$=w(n(31560));function w(e){return e&&e.__esModule?e:{default:e}}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var x="columnHeadersView",I="rowsView",E=[x,I,"footerView"],b="adaptiveHidden",S="detailAdaptive",T="dx-field-item-content",D="hidden-column",R="dx-command-adaptive",O="dx-command-adaptive-hidden",F="dx-adaptive-item-text",A="adaptive",P="dx-group-cell",V="dxDataGrid-ariaAdaptiveExpand";function _(e,t){return e._columnsController.getColumnId(t)}function B(e,t){var n,i=(0,o.default)(e),a=t.component.getController("adaptiveColumns");"data"===t.rowType?(n=(0,o.default)("<span>").addClass(a.addWidgetPrefix("adaptive-more")),f.default.on(n,(0,p.addNamespace)(h.name,"dxDataGridAdaptivity"),a.createAction(function(){a.toggleExpandAdaptiveDetailRow(t.key)})),n.appendTo(i)):$.default.setEmptyText(i)}function M(e){var t,n=null===(t=e.data)||void 0===t?void 0:t.$nextCell;f.default.off(n,"focus",M),f.default.trigger(n,"dxclick")}var k={defaultOptions:function(){return{columnHidingEnabled:!1,onAdaptiveDetailRowPreparing:null}},controllers:{adaptiveColumns:C.default.ViewController.inherit({_isRowEditMode:function(){return"row"===this._getEditMode()},_isItemModified:function(e,t){var n=this._columnsController.getVisibleIndex(e.column.index),i=this._dataController.getRowIndexByKey(t.key),o=this._dataController.items()[i+1];return o&&o.modifiedValues&&(0,u.isDefined)(o.modifiedValues[n])},_renderFormViewTemplate:function(e,t,n){var i=this,o=e.column,a=i.createAction(function(){i._editingController.isEditing()&&f.default.trigger(n,h.name)}),r=t.row.data,s=o.calculateCellValue(r),d=$.default.getDisplayValue(o,s,r,t.rowType),p=$.default.formatValue(d,o),g=this._editingController.isCellOrBatchEditMode(),m=i._rowsView;if(o.allowEditing&&i.getController("keyboardNavigation").isKeyboardEnabled()&&(n.attr("tabIndex",i.option("tabIndex")),g&&(f.default.off(n,"focus",a),f.default.on(n,"focus",a))),o.cellTemplate){var v=(0,l.extend)({},t,{value:s,displayValue:d,text:p,column:o}),C=!!n.closest((0,c.getWindow)().document).length;m.renderTemplate(n,o.cellTemplate,v,C).done(function(){m._cellPrepared(n,t)})}else{var w=n.get(0);o.encodeHtml?w.textContent=p:w.innerHTML=p,n.addClass(F),(0,u.isDefined)(p)&&""!==p||n.html("&nbsp;"),i._isRowEditMode()||i._isItemModified(e,t)&&n.addClass("dx-item-modified"),m._cellPrepared(n,t)}},_getTemplate:function(e,t){var n=this,i=e.column,a=this.getController("editing");return function(r,s){var d=(0,o.default)(s),u=n._columnsController.getVisibleIndex(i.index),c=(0,l.extend)({},t),h=function(){var o=n._isItemEdited(e);c.value=t.row.values[u],o||i.showEditorAlways?a.renderFormEditorTemplate(c,e,r,d,!o):(c.column=i,c.columnIndex=u,n._renderFormViewTemplate(e,c,d))};h(),c.watch&&c.watch(function(){return{isItemEdited:n._isItemEdited(e),value:t.row.values[u]}},function(){d.contents().remove(),d.removeClass(F),h()})}},_isVisibleColumnsValid:function(e){return!(e<2)&&!(e.length-function(){for(var t=0,n=0;n<e.length;n++)e[n].command&&t++;return t}()<=1)},_calculatePercentWidths:function(e,t){var n=this,i=0;return t.forEach(function(t,o){e[o]!==b&&(i+=n._getItemPercentWidth(t))}),i},_isPercentWidth:function(e){return(0,u.isString)(e)&&e.endsWith("%")},_isColumnHidden:function(e){return this._hiddenColumns.filter(function(t){return t.index===e.index}).length>0},_getAverageColumnsWidth:function(e,t,n){var i=this,o=0,a=0;return t.forEach(function(r){if(!i._isColumnHidden(r)){var l=r.width;(0,u.isDefined)(l)&&!isNaN(parseFloat(l))?o+=i._isPercentWidth(l)?i._calculatePercentWidth({visibleIndex:r.visibleIndex,columnsCount:t.length,columnsCanFit:n,bestFitWidth:r.bestFitWidth,columnWidth:l,containerWidth:e}):parseFloat(l):a++}}),(e-o)/a},_calculateColumnWidth:function(e,t,n,i){var o,a=_(this,e),r=this._columnsController.columnOption(a,"width"),l=this._columnsController.columnOption(a,"bestFitWidth"),s=n.length;if(r&&"auto"!==r){if(!this._isPercentWidth(r))return parseFloat(r);o=this._calculatePercentWidth({visibleIndex:e.visibleIndex,columnsCount:s,columnsCanFit:i,bestFitWidth:l,columnWidth:r,containerWidth:t})}else o=this.option("columnAutoWidth")||e.command?l:this._getAverageColumnsWidth(t,n,i);return o},_calculatePercentWidth:function(e){var t=e.visibleIndex<e.columnsCount-1&&e.columnsCanFit,n=e.containerWidth*parseFloat(e.columnWidth)/100,i=e.columnsCanFit&&n<e.bestFitWidth?e.bestFitWidth:n;return t?e.containerWidth*parseFloat(e.columnWidth)/100:i},_getNotTruncatedColumnWidth:function(e,t,n,i){var o=_(this,e),a=this._columnsController.columnOption(o,"width"),r=this._columnsController.columnOption(o,"bestFitWidth");if(a&&"auto"!==a&&!this._isPercentWidth(a))return parseFloat(a);var l=this._calculateColumnWidth(e,t,n,i);return l<r?null:l},_getItemPercentWidth:function(e){var t=0;return e.width&&this._isPercentWidth(e.width)&&(t=parseFloat(e.width)),t},_getCommandColumnsWidth:function(){var e=this,t=e._columnsController.getVisibleColumns(),n=0;return(0,s.each)(t,function(t,i){(i.index<0||i.command)&&(n+=e._columnsController.columnOption(_(e,i),"bestFitWidth")||0)}),n},_isItemEdited:function(e){if(this.isFormOrPopupEditMode())return!1;if(!this._isRowEditMode()){var t=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,n=this._columnsController.getVisibleIndex(e.column.index);return this._editingController.isEditCell(t,n)}var i=this.option("editing.editRowKey");return!!(0,a.equalByValue)(i,this._dataController.adaptiveExpandedKey())||void 0},_getFormItemsByHiddenColumns:function(e){var t=[];return(0,s.each)(e,function(e,n){t.push({column:n,name:n.name,dataField:n.dataField,visibleIndex:n.visibleIndex})}),t},_getAdaptiveColumnVisibleIndex:function(e){for(var t=0;t<e.length;t++)if(e[t].command===A)return t},_hideAdaptiveColumn:function(e,t){var n=this._getAdaptiveColumnVisibleIndex(t);(0,u.isDefined)(n)&&(e[n]=b,this._hideVisibleColumn({isCommandColumn:!0,visibleIndex:n}))},_showHiddenCellsInView:function(e){var t=e.$cells,n=e.isCommandColumn,i=this.addWidgetPrefix(D);n?(i=O,t.attr({tabIndex:0,"aria-hidden":null}).removeClass(i)):t.removeClass(i)},_showHiddenColumns:function(){for(var e=0;e<E.length;e++){var t=this.getView(E[e]);if(t&&t.isVisible()&&t.element()){var n=t.name,i=t.element().find(".".concat(O));this._showHiddenCellsInView({viewName:n,$cells:i,isCommandColumn:!0});var o=t.element().find(".".concat(this.addWidgetPrefix(D)));this._showHiddenCellsInView({viewName:n,$cells:o})}}},_isCellValid:function(e){return e&&e.length&&!e.hasClass("dx-master-detail-cell")&&!e.hasClass(P)},_hideVisibleColumn:function(e){var t=e.isCommandColumn,n=e.visibleIndex,i=this;E.forEach(function(e){var o=i.getView(e);o&&i._hideVisibleColumnInView({view:o,isCommandColumn:t,visibleIndex:n})})},_hideVisibleColumnInView:function(e){var t,n=e.view,i=e.isCommandColumn,o=e.visibleIndex,a=n.name,r=this._columnsController.getVisibleColumns()[o],l=this._editingController&&this._editingController.getEditFormRowIndex();if(n&&n.isVisible()&&r){for(var s=n.getRowsCount(),d=n._getRowElements(),u=0;u<s;u++)if(!(u===l&&a===I&&"popup"!==this.option("editing.mode"))){var c=a===x?this._columnsController.getVisibleIndex(r.index,u):o;if(c>=0){var h=d.eq(u);t=this._findCellElementInRow(h,c),this._isCellValid(t)&&this._hideVisibleCellInView({viewName:a,isCommandColumn:i,$cell:t})}}}},_findCellElementInRow:function(e,t){var n=e.children(),i=t,o=!1;if(e.hasClass("dx-group-row")){var a=e.find(".".concat(P)),r=a.attr("colspan");if(a.length&&(0,u.isDefined)(r)){var l=parseInt(r);t>a.index()+l-1?i=t-l+1:o=!0}}return o?void 0:n.eq(i)},_hideVisibleCellInView:function(e){var t=e.$cell,n=e.isCommandColumn?O:this.addWidgetPrefix(D);t.attr({tabIndex:-1,"aria-hidden":!0}).addClass(n)},_getEditMode:function(){return this._editingController.getEditMode()},isFormOrPopupEditMode:function(){var e=this._getEditMode();return"form"===e||"popup"===e},hideRedundantColumns:function(e,t,n){if(this._hiddenColumns=[],this._isVisibleColumnsValid(t)&&n.length){var i,o,a,r=0,l=this.component.$element(),s=(0,d.getWidth)(l)-this._getCommandColumnsWidth(),u=(function(){var e=this;return t.filter(function(t){return!t.command&&0===e._hiddenColumns.filter(function(e){return e.index===t.index}).length})}).bind(this),c=u(),h=c.length;do{a=!1,r=0;var f=this._calculatePercentWidths(e,t),p=f<100&&0!==f;for(i=0;i<t.length;i++){var g=t[i],m=this._getNotTruncatedColumnWidth(g,s,c,p),v=_(this,g),C=this._columnsController.columnOption(v,"width"),$=this._columnsController.columnOption(v,"minWidth"),w=this._columnsController.columnOption(v,"bestFitWidth");if(e[i]!==b){if(!m&&!g.command&&!g.fixed){a=!0;break}C&&"auto"!==C||(m=Math.max(w||0,$||0)),(g.command!==A||o)&&(r+=m)}else o=!0}if(a=a||r>(0,d.getWidth)(l)){var y=n.pop(),x=this._columnsController.getVisibleIndex(y.index);s+=this._calculateColumnWidth(y,s,c,p),this._hideVisibleColumn({visibleIndex:x}),e[x]=b,this._hiddenColumns.push(y),c=u()}}while(a&&c.length>1&&n.length);h===c.length&&this._hideAdaptiveColumn(e,t)}else this._hideAdaptiveColumn(e,t)},getAdaptiveDetailItems:function(){return this._$itemContents},getItemContentByColumnIndex:function(e){for(var t,n=0;n<this._$itemContents.length;n++){var i=(t=this._$itemContents.eq(n)).data("dx-form-item");if(i&&i.column&&this._columnsController.getVisibleIndex(i.column.index)===e)return t}},toggleExpandAdaptiveDetailRow:function(e,t){this.isFormOrPopupEditMode()&&this._editingController.isEditing()||this.getController("data").toggleExpandAdaptiveDetailRow(e,t)},createFormByHiddenColumns:function(e,t){var n=this,a=(0,o.default)(e),r={items:n._getFormItemsByHiddenColumns(n._hiddenColumns),formID:"dx-".concat(new i.default)},s=(0,v.isMaterial)()?{colCount:2}:{};this.executeAction("onAdaptiveDetailRowPreparing",{formOptions:r}),n._$itemContents=null,n._form=n._createComponent((0,o.default)("<div>").appendTo(a),m.default,(0,l.extend)(s,r,{customizeItem:function(e){var i=e.column||n._columnsController.columnOption(e.name||e.dataField);i&&(e.label=e.label||{},e.label.text=e.label.text||i.caption,e.column=i,e.template=n._getTemplate(e,t,n.updateForm.bind(n))),r.customizeItem&&r.customizeItem.call(this,e)},onContentReady:function(e){r.onContentReady&&r.onContentReady.call(this,e),n._$itemContents=a.find(".".concat(T))}}))},hasAdaptiveDetailRowExpanded:function(){return(0,u.isDefined)(this._dataController.adaptiveExpandedKey())},updateForm:function(e){this.hasAdaptiveDetailRowExpanded()&&this._form&&(0,u.isDefined)(this._form._contentReadyAction)&&(e&&e.length?this._form.option("items",this._getFormItemsByHiddenColumns(e)):this._form.repaint())},updateHidingQueue:function(e){var t,n,i=e.filter(function(e){return e.visible&&!e.type&&!e.fixed&&!((0,u.isDefined)(e.groupIndex)&&e.groupIndex>=0)});if(this._hidingColumnsQueue=[],this.option("allowColumnResizing")&&"widget"===this.option("columnResizingMode"))return this._hidingColumnsQueue;for(n=0;n<i.length;n++)(0,u.isDefined)(i[n].hidingPriority)&&i[n].hidingPriority>=0&&(t=!0,this._hidingColumnsQueue[i[n].hidingPriority]=i[n]);if(t)this._hidingColumnsQueue.reverse();else if(this.option("columnHidingEnabled"))for(n=0;n<i.length;n++){var o=this._columnsController.getVisibleIndex(i[n].index);this._hidingColumnsQueue[o]=i[n]}return this._hidingColumnsQueue=this._hidingColumnsQueue.filter(Object),this._hidingColumnsQueue},getHiddenColumns:function(){return this._hiddenColumns},hasHiddenColumns:function(){return this._hiddenColumns.length>0},getHidingColumnsQueue:function(){return this._hidingColumnsQueue},init:function(){var e=this;e._columnsController=e.getController("columns"),e._dataController=e.getController("data"),e._rowsView=e.getView("rowsView"),e._columnsController.addCommandColumn({type:A,command:A,visible:!0,adaptiveHidden:!0,cssClass:R,alignment:"center",width:"auto",cellTemplate:B,fixedPosition:"right"}),e._columnsController.columnsChanged.add(function(){var t=!!e.updateHidingQueue(e._columnsController.getColumns()).length;e._columnsController.columnOption("command:adaptive","adaptiveHidden",!t,!0)}),e._editingController=e.getController("editing"),e._hidingColumnsQueue=[],e._hiddenColumns=[],e.createAction("onAdaptiveDetailRowPreparing"),e.callBase()},optionChanged:function(e){"columnHidingEnabled"===e.name&&this._columnsController.columnOption("command:adaptive","adaptiveHidden",!e.value),this.callBase(e)},publicMethods:function(){return["isAdaptiveDetailRowExpanded","expandAdaptiveDetailRow","collapseAdaptiveDetailRow"]},isAdaptiveDetailRowExpanded:function(e){var t=this._dataController;return t.adaptiveExpandedKey()&&(0,a.equalByValue)(t.adaptiveExpandedKey(),e)},expandAdaptiveDetailRow:function(e){this.hasAdaptiveDetailRowExpanded()||this.toggleExpandAdaptiveDetailRow(e)},collapseAdaptiveDetailRow:function(){this.hasAdaptiveDetailRowExpanded()&&this.toggleExpandAdaptiveDetailRow()},updateCommandAdaptiveAriaLabel:function(e,t){var n=this._dataController.getRowIndexByKey(e);if(-1!==n){var i=(0,o.default)(this.component.getRowElement(n));this.setCommandAdaptiveAriaLabel(i,t)}},setCommandAdaptiveAriaLabel:function(e,t){e.find(".dx-command-adaptive").attr("aria-label",g.default.format(t))}})},extenders:{views:{rowsView:{_getCellTemplate:function(e){var t=this,n=e.column;return e.rowType===S&&"detail"===n.command?function(e,n){t._adaptiveColumnsController.createFormByHiddenColumns((0,o.default)(e),n)}:t.callBase(e)},_createRow:function(e){var t=this.callBase.apply(this,arguments);return e&&e.rowType===S&&e.key===this._dataController.adaptiveExpandedKey()&&t.addClass("dx-adaptive-detail-row"),t},_renderCells:function(e,t){this.callBase(e,t);var n,i=this._adaptiveColumnsController,o=i.getHidingColumnsQueue().length,a=i.getHiddenColumns().length;o&&!a&&(n=e).find("td:not(.dx-datagrid-hidden-column):not([class*='dx-command-'])").last().addClass("dx-last-data-cell"),"data"===t.row.rowType&&i.setCommandAdaptiveAriaLabel(e,V)},_getColumnIndexByElementCore:function(e){var t=e.closest(".".concat(T));if(t.length&&t.closest(this.component.$element()).length){var n=t.length?t.first().data("dx-form-item"):null;return n&&n.column&&this._columnsController.getVisibleIndex(n.column.index)}return this.callBase(e)},_cellPrepared:function(e,t){this.callBase.apply(this,arguments),t.row.rowType!==S&&t.column.visibleWidth===b&&e.addClass(this.addWidgetPrefix(D))},getCell:function(e,t){var n=this._dataController.items()[null==e?void 0:e.rowIndex];if((null==n?void 0:n.rowType)===S){var i=this._adaptiveColumnsController.getAdaptiveDetailItems();return this.callBase(e,t,i)}return this.callBase.apply(this,arguments)},_getCellElement:function(e,t){var n=this._dataController.items()[e];return n&&n.rowType===S?this._adaptiveColumnsController.getItemContentByColumnIndex(t):this.callBase.apply(this,arguments)},getContextMenuItems:function(e){if(e.row&&"detailAdaptive"===e.row.rowType){var t=this.component.getView("columnHeadersView"),n=(0,o.default)(e.targetElement).closest(".dx-field-item-label").next().data("dx-form-item");return e.column=n?n.column:e.column,t.getContextMenuItems&&t.getContextMenuItems(e)}return this.callBase&&this.callBase(e)},isClickableElement:function(e){return!!this.callBase&&this.callBase(e)||!!e.closest(".".concat(R)).length},init:function(){this.callBase(),this._adaptiveColumnsController=this.getController("adaptiveColumns")}}},controllers:{export:{_updateColumnWidth:function(e,t){this.callBase(e,e.visibleWidth===b?e.bestFitWidth:t)}},columnsResizer:{_pointCreated:function(e,t,n){var i=this.callBase(e,t,n),o=n[e.columnIndex]||{},a=this._getNextColumnIndex(e.columnIndex),r=n[a]||{},l=a!==e.columnIndex+1&&r.command,s=o.visibleWidth===b||l;return i||s},_getNextColumnIndex:function(e){for(var t=this._columnsController.getVisibleColumns(),n=this.callBase(e);t[n]&&t[n].visibleWidth===b;)n++;return n}},draggingHeader:{_pointCreated:function(e,t,n,i){var o=this.callBase(e,t,n,i),a=(t[e.columnIndex-1]||{}).visibleWidth===b;return o||a}},editing:{_isRowEditMode:function(){return"row"===this.getEditMode()},_getFormEditItemTemplate:function(e,t){return"row"!==this.getEditMode()&&"detailAdaptive"===e.rowType?(e.columnIndex=this._columnsController.getVisibleIndex(t.index),this.getColumnTemplate(e)):this.callBase(e,t)},_closeEditItem:function(e){var t=e.closest(".".concat(T)),n=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,i=t.length?t.first().data("dx-form-item"):null,o=i&&i.column&&this._columnsController.getVisibleIndex(i.column.index);this.isEditCell(n,o)||this.callBase(e)},_beforeUpdateItems:function(e,t){if(!this._adaptiveController.isFormOrPopupEditMode()&&this._adaptiveController.hasHiddenColumns()){var n=this._dataController.items(),i=n[t],o=$.default.getIndexByKey(this._dataController.adaptiveExpandedKey(),n);this._isForceRowAdaptiveExpand=!this._adaptiveController.hasAdaptiveDetailRowExpanded(),o>=0&&e.push(o+1),e.push(t+1),this._dataController.adaptiveExpandedKey(i.key)}},_afterInsertRow:function(e){this.callBase.apply(this,arguments),this._adaptiveController.hasHiddenColumns()&&(this._adaptiveController.toggleExpandAdaptiveDetailRow(e,this.isRowEditMode()),this._isForceRowAdaptiveExpand=!0)},_collapseAdaptiveDetailRow:function(){this._isRowEditMode()&&this._isForceRowAdaptiveExpand&&(this._adaptiveController.collapseAdaptiveDetailRow(),this._isForceRowAdaptiveExpand=!1)},_cancelEditAdaptiveDetailRow:function(){this._adaptiveController.hasHiddenColumns()&&this._collapseAdaptiveDetailRow()},_afterSaveEditData:function(){var e=this;this.callBase.apply(this,arguments);var t=new r.Deferred;return this._isRowEditMode()&&this._adaptiveController.hasHiddenColumns()?(0,r.when)(this.getController("validating").validate(!0)).done(function(n){n&&e._cancelEditAdaptiveDetailRow(),t.resolve()}):t.resolve(),t.promise()},_beforeCancelEditData:function(){this.callBase(),this._cancelEditAdaptiveDetailRow()},_getRowIndicesForCascadeUpdating:function(e){var t=this.callBase.apply(this,arguments);return this._adaptiveController.isAdaptiveDetailRowExpanded(e.key)&&t.push(e.rowType===S?e.rowIndex-1:e.rowIndex+1),t},_beforeCloseEditCellInBatchMode:function(e){var t=this._dataController._adaptiveExpandedKey;if(t){var n=$.default.getIndexByKey(t,this._dataController.items());n>-1&&e.unshift(n)}},editRow:function(e){this._adaptiveController.isFormOrPopupEditMode()&&this._adaptiveController.collapseAdaptiveDetailRow(),this.callBase(e)},deleteRow:function(e){var t=this._dataController.getKeyByRowIndex(e);"batch"===this.getEditMode()&&this._adaptiveController.isAdaptiveDetailRowExpanded(t)&&this._adaptiveController.collapseAdaptiveDetailRow(),this.callBase(e)},init:function(){this.callBase(),this._adaptiveController=this.getController("adaptiveColumns")}},resizing:{_needBestFit:function(){return this.callBase()||!!this._adaptiveColumnsController.getHidingColumnsQueue().length},_correctColumnWidths:function(e,t){var n=this._adaptiveColumnsController,i=n.getHiddenColumns(),o=n.updateHidingQueue(this._columnsController.getColumns());n.hideRedundantColumns(e,t,o);var a=n.getHiddenColumns();return n.hasAdaptiveDetailRowExpanded()&&i.length!==a.length&&n.updateForm(a),a.length||n.collapseAdaptiveDetailRow(),this.callBase.apply(this,arguments)},_toggleBestFitMode:function(e){e&&this._adaptiveColumnsController._showHiddenColumns(),this.callBase(e)},_needStretch:function(){var e=this._adaptiveColumnsController;return this.callBase.apply(this,arguments)||e.getHidingColumnsQueue().length||e.hasHiddenColumns()},init:function(){this._adaptiveColumnsController=this.getController("adaptiveColumns"),this.callBase()},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._updateScrollableTimeoutID)}},data:{_processItems:function(e,t){var n=t.changeType;if(e=this.callBase.apply(this,arguments),"loadingAll"===n||!(0,u.isDefined)(this._adaptiveExpandedKey))return e;var i=$.default.getIndexByKey(this._adaptiveExpandedKey,e),o=!1===this.option("scrolling.legacyMode");if(i>=0){var a=e[i];e.splice(i+1,0,{visible:!0,rowType:S,key:a.key,data:a.data,node:a.node,modifiedValues:a.modifiedValues,isNewRow:a.isNewRow,values:a.values})}else"refresh"!==n||o&&t.repaintChangesOnly||(this._adaptiveExpandedKey=void 0);return e},_getRowIndicesForExpand:function(e){var t=this.callBase.apply(this,arguments);if(this.getController("adaptiveColumns").isAdaptiveDetailRowExpanded(e)){var n=t[t.length-1];t.push(n+1)}return t},adaptiveExpandedKey:function(e){if(!(0,u.isDefined)(e))return this._adaptiveExpandedKey;this._adaptiveExpandedKey=e},toggleExpandAdaptiveDetailRow:function(e,t){var n=$.default.getIndexByKey(this._adaptiveExpandedKey,this._items),i=$.default.getIndexByKey(e,this._items);n>=0&&n===i&&!t&&(e=void 0,i=-1);var o=this._adaptiveExpandedKey;this._adaptiveExpandedKey=e,n>=0&&n++,i>=0&&i++;var a=this.getRowIndexDelta();this.updateItems({allowInvisibleRowIndices:!0,changeType:"update",rowIndices:[n-a,i-a]});var r=this.getController("adaptiveColumns");r.updateCommandAdaptiveAriaLabel(e,"dxDataGrid-ariaAdaptiveCollapse"),r.updateCommandAdaptiveAriaLabel(o,V)},init:function(){this.callBase(),this._adaptiveExpandedKey=void 0}},editorFactory:{_needHideBorder:function(e){return this.callBase(e)||(null==e?void 0:e.hasClass("dx-field-item-content"))&&(null==e?void 0:e.find(".dx-checkbox").length)},_getFocusCellSelector:function(){return"".concat(this.callBase(),", .dx-adaptive-detail-row .dx-field-item > .dx-field-item-content")},_getRevertTooltipsSelector:function(){return"".concat(this.callBase(),", .dx-field-item-content .").concat(this.addWidgetPrefix("revert-tooltip"))}},columns:{_isColumnVisible:function(e){return this.callBase(e)&&!e.adaptiveHidden}},keyboardNavigation:function(e){return function(e){function t(){return e.apply(this,arguments)||this}i=e,(n=t).prototype=Object.create(i.prototype),n.prototype.constructor=n,y(n,i);var n,i,o=t.prototype;return o._isCellValid=function(t,n){return e.prototype._isCellValid.call(this,t,n)&&!t.hasClass(this.addWidgetPrefix(D))&&!t.hasClass(O)},o._processNextCellInMasterDetail=function(t,n){e.prototype._processNextCellInMasterDetail.call(this,t,n);var i=this._editingController.isCellOrBatchEditMode();this._editingController.isEditing()&&t&&i&&!this._isInsideEditForm(t)&&(f.default.off(t,"focus",M),f.default.on(t,"focus",{$nextCell:t},M),f.default.trigger(n,"focus"))},o._isCellElement=function(t){return e.prototype._isCellElement.call(this,t)||t.hasClass(F)},o.init=function(){e.prototype.init.call(this),this._adaptiveController=this.getController("adaptiveColumns")},t}(e)}}}};t.adaptivityModule=k},51687(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.columnChooserModule=void 0;var i=m(n(68689)),o=n(36808),a=n(68841),r=n(1685),l=n(65553),s=n(4964),d=m(n(38306)),u=m(n(58635)),c=m(n(73868)),h=n(5083),f=m(n(68927)),p=m(n(88445)),g=n(37259);function m(e){return e&&e.__esModule?e:{default:e}}var v="column-chooser-button",C="column-chooser",$="dx-column-chooser-item",w=function(e,t){var n=[],i="select"===e.option("columnChooser.mode");return t.length&&(0,r.each)(t,function(e,t){var o={text:t.caption,cssClass:t.cssClass,allowHiding:t.allowHiding,expanded:!0,id:t.index,disabled:!1,disableCheckBox:!1===t.allowHiding,parentId:(0,s.isDefined)(t.ownerBand)?t.ownerBand:null};i&&(o.selected=t.visible),n.push(o)}),n},y={defaultOptions:function(){return{columnChooser:{enabled:!1,allowSearch:!1,searchTimeout:500,mode:"dragAndDrop",width:250,height:260,title:d.default.format("dxDataGrid-columnChooserTitle"),emptyPanelText:d.default.format("dxDataGrid-columnChooserEmptyText"),container:void 0}}},controllers:{columnChooser:p.default.ViewController.inherit({renderShowColumnChooserButton:function(e){var t,n=this,o=n.addWidgetPrefix(v),a=n.option("columnChooser.enabled"),r=e.find(".".concat(o));a?r.length?r.show():(t=(0,i.default)("<div>").addClass(o).appendTo(e),n._createComponent(t,u.default,{icon:C,onClick:function(){n.getView("columnChooserView").showColumnChooser()},hint:n.option("columnChooser.title"),integrationOptions:{}})):r.hide()},getPosition:function(){var e=this.getView("rowsView");return{my:"right bottom",at:"right bottom",of:e&&e.element(),collision:"fit",offset:"-2 -2",boundaryOffset:"2 2"}}})},views:{columnChooserView:g.ColumnsView.inherit({_resizeCore:o.noop,_updateList:function(e){var t,n=this._popupContainer.$content(),i="select"===this.option("columnChooser.mode"),o=this._columnChooserList,a=this._columnsController.getChooserColumns(i);if(this._popupContainer.setAria({role:"dialog",label:d.default.format("dxDataGrid-columnChooserTitle")}),i&&o&&e&&"selection"===e.changeType){t=w(this,a);for(var r=0;r<t.length;r++){var l=t[r].selected,s=t[r].id;s===e.columnIndex&&(l?o.selectItem(s,l):o.unselectItem(s,l))}}else i&&o&&"full"!==e||(this._popupContainer.$wrapper().toggleClass(this.addWidgetPrefix("column-chooser-mode-drag"),!i).toggleClass(this.addWidgetPrefix("column-chooser-mode-select"),i),t=w(this,a),this._renderTreeView(n,t))},_initializePopupContainer:function(){var e=this,t=e.addWidgetPrefix("column-chooser"),n=e.element().addClass(t),i=e.option("columnChooser"),o=(0,h.current)(),r=(0,h.isGeneric)(o),l=(0,h.isMaterial)(o),d={visible:!1,shading:!1,showCloseButton:!1,dragEnabled:!0,resizeEnabled:!0,wrapperAttr:{class:t},toolbarItems:[{text:i.title,toolbar:"top",location:r||l?"before":"center"}],position:e.getController("columnChooser").getPosition(),width:i.width,height:i.height,rtlEnabled:e.option("rtlEnabled"),container:i.container};r||l?(0,a.extend)(d,{showCloseButton:!0}):d.toolbarItems[d.toolbarItems.length]={shortcut:"cancel"},(0,s.isDefined)(this._popupContainer)?this._popupContainer.option(d):(e._popupContainer=e._createComponent(n,c.default,d),e._popupContainer.on("optionChanged",function(t){"visible"===t.name&&e.renderCompleted.fire()}))},_renderCore:function(e){this._popupContainer&&this._updateList(e)},_renderTreeView:function(e,t){var n=this,r=this.option("columnChooser"),l="select"===r.mode,s={items:t,dataStructure:"plain",activeStateEnabled:!0,focusStateEnabled:!0,hoverStateEnabled:!0,itemTemplate:"item",showCheckBoxesMode:"none",rootValue:null,searchEnabled:r.allowSearch,searchTimeout:r.searchTimeout,onItemRendered:function(e){if(e.itemData.disableCheckBox){var t,n=(0,i.default)(e.itemElement).closest(".dx-treeview-node");if(n.length&&(t=n.find(".dx-checkbox")).length){var o=t.data("dxCheckBox");o&&o.option("disabled",!0)}}}},d=e.find(".dx-scrollable").data("dxScrollable"),u=d&&d.scrollTop();l&&!this._columnsController.isBandColumnsUsed()&&e.addClass(this.addWidgetPrefix("column-chooser-plain")),s.onContentReady=function(e){(0,o.deferUpdate)(function(){if(u){var t=(0,i.default)(e.element).find(".dx-scrollable").data("dxScrollable");null==t||t.scrollTo({y:u})}n.renderCompleted.fire()})},(0,a.extend)(s,l?this._prepareSelectModeConfig():this._prepareDragModeConfig()),this._columnChooserList?(s.searchEnabled||(s.searchValue=""),this._columnChooserList.option(s)):(this._columnChooserList=this._createComponent(e,f.default,s),e.addClass(this.addWidgetPrefix("column-chooser-list")))},_prepareDragModeConfig:function(){return{noDataText:this.option("columnChooser").emptyPanelText,activeStateEnabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,itemTemplate:function(e,t,n){(0,i.default)(n).text(e.text).parent().addClass(e.cssClass).addClass($)}}},_prepareSelectModeConfig:function(){var e=this;return{selectNodesRecursive:!1,showCheckBoxesMode:"normal",onItemSelectionChanged:function(t){1!==e._columnsController.getVisibleColumns().filter(function(e){return!e.command}).length||t.itemData.selected?setTimeout(function(){e._columnsController.columnOption(t.itemData.id,"visible",t.itemData.selected)},300):t.component.selectItem(t.itemElement)}}},_columnOptionChanged:function(e){var t=e.changeTypes,n=e.optionNames,i="select"===this.option("columnChooser.mode");if(this.callBase(e),i){var o=n.visible&&1===n.length&&void 0!==e.columnIndex,a=n.showInColumnChooser||n.caption||n.visible||t.columns&&n.all;o?this.render(null,{changeType:"selection",columnIndex:e.columnIndex}):a&&this.render(null,"full")}},optionChanged:function(e){"columnChooser"===e.name?(this._initializePopupContainer(),this.render(null,"full")):this.callBase(e)},getColumnElements:function(){var e,t=[],n="select"===this.option("columnChooser.mode"),o=this._columnsController.getChooserColumns(n),a=this._popupContainer&&this._popupContainer.$content(),r=a&&a.find(".dx-treeview-node");return r&&o.forEach(function(n){var i=(e=r.filter("[data-item-id = '".concat(n.index,"']"))).length?e.children(".".concat($)).get(0):null;t.push(i)}),(0,i.default)(t)},getName:function(){return"columnChooser"},getColumns:function(){return this._columnsController.getChooserColumns()},allowDragging:function(e,t){var n=e&&e.allowHiding&&("columnChooser"!==t||!e.visible&&this._columnsController.isParentColumnVisible(e.index));return this.isColumnChooserVisible()&&n},getBoundingRect:function(){var e=this._popupContainer&&this._popupContainer.$overlayContent();if(e&&e.is(":visible")){var t=e.offset();return{left:t.left,top:t.top,right:t.left+(0,l.getOuterWidth)(e),bottom:t.top+(0,l.getOuterHeight)(e)}}return null},showColumnChooser:function(){this._isPopupContainerShown=!0,this._popupContainer||(this._initializePopupContainer(),this.render()),this._popupContainer.show()},hideColumnChooser:function(){this._popupContainer&&(this._popupContainer.hide(),this._isPopupContainerShown=!1)},isColumnChooserVisible:function(){var e=this._popupContainer;return e&&e.option("visible")},publicMethods:function(){return["showColumnChooser","hideColumnChooser"]}})},extenders:{views:{headerPanel:{_getToolbarItems:function(){var e=this.callBase();return this._appendColumnChooserItem(e)},_appendColumnChooserItem:function(e){var t=this;if(t.option("columnChooser.enabled")){var n=t.option("columnChooser.title");e.push({widget:"dxButton",options:{icon:C,onClick:function(){t.component.getView("columnChooserView").showColumnChooser()},hint:n,text:n,onInitialized:function(e){(0,i.default)(e.element).addClass(t._getToolbarButtonClass(t.addWidgetPrefix(v)))},elementAttr:{"aria-haspopup":"dialog"}},showText:"inMenu",location:"after",name:"columnChooserButton",locateInMenu:"auto",sortIndex:40})}return e},optionChanged:function(e){"columnChooser"===e.name?(this._invalidate(),e.handled=!0):this.callBase(e)},isVisible:function(){var e=this.option("columnChooser.enabled");return this.callBase()||e}}},controllers:{columns:{allowMoveColumn:function(e,t,n,i){return!("select"===this.option("columnChooser.mode")&&"columnChooser"===i)&&this.callBase(e,t,n,i)}}}}};t.columnChooserModule=y},83265(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.columnFixingModule=void 0;var i=n(68199),o=m(n(68689)),a=m(n(47057)),r=n(68841),l=n(1685),s=n(2005),d=n(65553),u=n(4964),c=m(n(21445)),h=n(33385),f=m(n(38306)),p=m(n(31598)),g=m(n(31560));function m(e){return e&&e.__esModule?e:{default:e}}var v="content",C="content-fixed",$="dx-first-cell",w="dx-state-hover",y="dx-col-fixed",x="dx-pointer-events-none",I="transparent",E="dx-group-row",b=function(e){var t=-1;return(0,l.each)(e,function(e,n){if(n.command===I)return t=e,!1}),t},S=function(e,t,n){var i=0;if(e&&t&&n)for(var o=0;o<e.length;o++)e[o].command===I?i+=e[o].colspan:(t[i]<n[o]&&(t[i]=n[o]),i++);return t},T={init:function(){this.callBase(),this._isFixedTableRendering=!1,this._isFixedColumns=!1},_createCol:function(e){return this.callBase(e).toggleClass(y,!(!this._isFixedTableRendering||!(e.fixed||e.command&&e.command!==I)))},_correctColumnIndicesForFixedColumns:function(e,t){var n=b(e),i=e[n].colspan,o=t&&t.columnIndices;o&&(t.columnIndices=o.map(function(e){if(e)return e.map(function(e){return e<n?e:e>=n+i?e-i+1:-1}).filter(function(e){return e>=0})}))},_partialUpdateFixedTable:function(e){var t=this._fixedTableElement,n=this._getRowElementsCore(t);t.children("colgroup").replaceWith(this._createColGroup(e));for(var i=0;i<n.length;i++)this._partialUpdateFixedRow((0,o.default)(n[i]),e)},_partialUpdateFixedRow:function(e,t){var n,i,o=e.get(0).childNodes,a=b(t),r=t[a],l=this._columnsController.getColumnIndexOffset()+1,s=r.colspan;if(e.hasClass("dx-master-detail-row"))o[0].setAttribute("colspan",null===(n=this._columnsController.getVisibleColumns())||void 0===n?void 0:n.length);else{e.hasClass(E)&&(s=(i=this._getGroupCellOptions({row:e.data("options"),columns:this._columnsController.getVisibleColumns()})).colspan-Math.max(0,o.length-(i.columnIndex+2)));for(var d=0;d<o.length;d++){var u=i?d===i.columnIndex+1:d===a;o[d].setAttribute("aria-colindex",l),u?(o[d].setAttribute("colspan",s),l+=s):l++}}},_renderTable:function(e){var t,n=this.getFixedColumns();this._isFixedColumns=!!n.length;var i=this.callBase(e);if(this._isFixedColumns){var o=null==e?void 0:e.change;if(this._isFixedTableRendering=!0,(null==o?void 0:o.virtualColumnsScrolling)&&!0!==this.option("scrolling.legacyMode"))this._partialUpdateFixedTable(n),this._isFixedTableRendering=!1;else{var a=null==o?void 0:o.columnIndices;this._correctColumnIndicesForFixedColumns(n,o),t=this._createTable(n),this._renderRows(t,(0,r.extend)({},e,{columns:n})),this._updateContent(t,o,!0),a&&(o.columnIndices=a),this._isFixedTableRendering=!1}}else this._fixedTableElement&&this._fixedTableElement.parent().remove(),this._fixedTableElement=null;return i},_renderRow:function(e,t){var n,i=t.row.cells;if(this.callBase.apply(this,arguments),this._isFixedTableRendering&&i&&i.length){n=0;var o=t.row.cells||[];i=i.slice(),t.row.cells=i;for(var a=0;a<o.length;a++)o[a].column&&o[a].column.command===I?n=(o[a].column.colspan||1)-1:i[a+n]=o[a]}},_createCell:function(e){var t,n,i,o=e.column,r=o&&o.command,l=e.rowType,s=this.callBase.apply(this,arguments);(this._isFixedTableRendering||"filter"===l)&&(n=(t=this.getFixedColumns())[(i=b(t))-1]),this._isFixedTableRendering?r===I&&(s.addClass(x).toggleClass($,0===i||n&&"expand"===n.command).toggleClass("dx-last-cell",t.length&&i===t.length-1),"freeSpace"!==l&&g.default.setEmptyText(s)):"filter"===l&&s.toggleClass($,e.columnIndex===i);var d=this.option("rowAlternationEnabled")&&e.isAltRow,u="multiple"===this.option("selection.mode")&&0===e.columnIndex&&"header"===e.rowType;return a.default.mozilla&&e.column.fixed&&"group"!==e.rowType&&!d&&!u&&s.addClass(y),s},_getContent:function(e){var t;return e?null===(t=this._fixedTableElement)||void 0===t?void 0:t.parent():this.callBase.apply(this,arguments)},_wrapTableInScrollContainer:function(e,t){var n=this.callBase.apply(this,arguments);return(this._isFixedTableRendering||t)&&n.addClass(this.addWidgetPrefix(C)),n},_renderCellContent:function(e,t){var n,i=t.column,o=this._isFixedTableRendering,a="group"===t.rowType&&(0,u.isDefined)(i.groupIndex);if(o&&a&&!i.command&&!i.groupCellTemplate&&e.css("pointerEvents","none"),!o&&this._isFixedColumns){if(n=i.fixed||i.command&&!1!==i.fixed,a&&(n=!1,t.row.summaryCells&&t.row.summaryCells.length)){var r=this._columnsController.getVisibleColumns(),l=this._getAlignByColumnCellCount?this._getAlignByColumnCellCount(i.colspan,{columns:r,row:t.row,isFixed:!0}):0;if(l>0){var s=b(this._columnsController.getFixedColumns());n=r.length-l<s}}if(n){if(i.command&&"buttons"!==i.type||"group"===t.rowType)return void e.html("&nbsp;").addClass(i.cssClass);e.addClass("dx-hidden-cell")}}i.command!==I&&this.callBase.apply(this,arguments)},_getCellElementsCore:function(e){var t=this,n=this.callBase.apply(this,arguments),i=null==n?void 0:n.parent().hasClass(E),o="columnHeadersView"===this.name?e:void 0;if(this._fixedTableElement&&n){var a=this.getFixedColumns(o),r=this._getRowElements(this._fixedTableElement).eq(e).children("td");(0,l.each)(r,function(e,l){if(i)n[e]&&"hidden"!==l.style.visibility&&(n[e]=l);else{var s=a[e];if(s){if(s.command===I)r.eq(e).hasClass("dx-master-detail-cell")&&(n[e]=l||n[e]);else{var d=t._columnsController.getVisibleIndexByColumn(s,o);n[d]=l||n[d]}}}})}return n},getColumnWidths:function(){var e=this.callBase(),t=this.getFixedColumns(),n=this._fixedTableElement&&e.length?this.callBase(this._fixedTableElement):void 0;return S(t,e,n)},getTableElement:function(e){return(e=this._isFixedTableRendering||e)?this._fixedTableElement:this.callBase()},setTableElement:function(e,t){this._isFixedTableRendering||t?this._fixedTableElement=e.addClass(x):this.callBase(e)},getColumns:function(e,t){return t=t||this.getTableElement(),this._isFixedTableRendering||t&&t.closest("table").parent(".".concat(this.addWidgetPrefix(C))).length?this.getFixedColumns(e):this.callBase(e,t)},getRowIndex:function(e){var t=this._fixedTableElement;return t&&t.find(e).length?this._getRowElements(t).index(e):this.callBase(e)},getTableElements:function(){var e=this.callBase.apply(this,arguments);return this._fixedTableElement&&(e=(0,o.default)([e.get(0),this._fixedTableElement.get(0)])),e},getFixedColumns:function(e){return this._columnsController.getFixedColumns(e)},getFixedColumnsOffset:function(){var e,t={left:0,right:0};if(this._fixedTableElement){var n=(e=this.getTransparentColumnElement()).position();t={left:n.left,right:(0,d.getOuterWidth)(this.element(),!0)-((0,d.getOuterWidth)(e,!0)+n.left)}}return t},getTransparentColumnElement:function(){return this._fixedTableElement&&this._fixedTableElement.find(".".concat(x)).first()},getFixedTableElement:function(){return this._fixedTableElement},isFixedColumns:function(){return this._isFixedColumns},_resizeCore:function(){this.callBase(),this.synchronizeRows()},setColumnWidths:function(e){var t,n=this._columnsController.getVisibleColumns(),i=e.widths,o=i&&i.length&&(0,u.isDefined)(n[0].visibleWidth),a=e.optionNames,l=a&&a.width;this.callBase.apply(this,arguments),this._fixedTableElement&&(i&&i.some(function(e){return"auto"===e})&&(!o||!this.isScrollbarVisible(!0))&&(t=n),this.callBase((0,r.extend)({},e,{$tableElement:this._fixedTableElement,columns:t,fixed:!0}))),(o||l&&this.option("wordWrapEnabled"))&&this.synchronizeRows()},_createColGroup:function(e){if(this._isFixedTableRendering&&!this.option("columnAutoWidth")){var t=this._columnsController.getVisibleColumns();t.filter(function(e){return!e.width}).length&&(e=t)}return this.callBase(e)},_getClientHeight:function(e){var t=e.getBoundingClientRect&&(0,s.getBoundingRect)(e);return t&&t.height?t.height:e.clientHeight},synchronizeRows:function(){var e,t,n,i,o=this,a=[],r=[];this.waitAsyncTemplates(!0).done(function(){if(o._isFixedColumns&&o._tableElement&&o._fixedTableElement){var l=o._getClientHeight(o._tableElement.get(0)),s=o._getClientHeight(o._fixedTableElement.get(0));if(t=o._getRowElements(o._tableElement),n=o._getRowElements(o._fixedTableElement),i=o._findContentElement(),l!==s){for(i&&i.css("height",l),t.css("height",""),n.css("height",""),e=0;e<t.length;e++)a.push(o._getClientHeight(t.get(e))),r.push(o._getClientHeight(n.get(e)));for(e=0;e<t.length;e++){var d=a[e],u=r[e];d>u?n.eq(e).css("height",d):d<u&&t.eq(e).css("height",u)}i&&i.css("height","")}}})},setScrollerSpacing:function(e){var t=this.option("rtlEnabled");this.callBase(e),this.element().children(".".concat(this.addWidgetPrefix(C))).css({paddingLeft:t?e:"",paddingRight:t?"":e})}},D={defaultOptions:function(){return{columnFixing:{enabled:!1,texts:{fix:f.default.format("dxDataGrid-columnFixingFix"),unfix:f.default.format("dxDataGrid-columnFixingUnfix"),leftPosition:f.default.format("dxDataGrid-columnFixingLeftPosition"),rightPosition:f.default.format("dxDataGrid-columnFixingRightPosition")}}}},extenders:{views:{columnHeadersView:(0,r.extend)({},T,{_getRowVisibleColumns:function(e){return this._isFixedTableRendering?this.getFixedColumns(e):this.callBase(e)},getContextMenuItems:function(e){var t=this,n=e.column,i=this.option("columnFixing"),o=this.callBase(e);if(e.row&&"header"===e.row.rowType&&!0===i.enabled&&n&&n.allowFixing){var a=function(e){switch(e.itemData.value){case"none":t._columnsController.columnOption(n.index,"fixed",!1);break;case"left":t._columnsController.columnOption(n.index,{fixed:!0,fixedPosition:"left"});break;case"right":t._columnsController.columnOption(n.index,{fixed:!0,fixedPosition:"right"})}};(o=o||[]).push({text:i.texts.fix,beginGroup:!0,items:[{text:i.texts.leftPosition,value:"left",disabled:n.fixed&&(!n.fixedPosition||"left"===n.fixedPosition),onItemClick:a},{text:i.texts.rightPosition,value:"right",disabled:n.fixed&&"right"===n.fixedPosition,onItemClick:a}]},{text:i.texts.unfix,value:"none",disabled:!n.fixed,onItemClick:a})}return o},getFixedColumnElements:function(e){if((0,u.isDefined)(e))return this._fixedTableElement&&this._getRowElements(this._fixedTableElement).eq(e).children();var t=this.getColumnElements(),n=this.getTransparentColumnElement();if(t&&n&&n.length){var i=b(this.getFixedColumns());t.splice(i,n.get(0).colSpan,n.get(0))}return t},getColumnWidths:function(){var e,t=this.callBase(),n=this.getFixedColumnElements(),i=this.getFixedColumns();return this._fixedTableElement&&(e=n&&n.length?this._getWidths(n):this.callBase(this._fixedTableElement)),S(i,t,e)}}),rowsView:(0,r.extend)({},T,{_detachHoverEvents:function(){this._fixedTableElement&&c.default.off(this._fixedTableElement,"mouseover mouseout",".dx-data-row"),this._tableElement&&c.default.off(this._tableElement,"mouseover mouseout",".dx-data-row")},_attachHoverEvents:function(){var e=this,t=function(t){c.default.on(t,"mouseover mouseout",".dx-data-row",e.createAction(function(t){var n=t.event,i=e.getRowIndex((0,o.default)(n.target).closest(".dx-row")),a="mouseover"===n.type;i>=0&&(e._tableElement&&e._getRowElements(e._tableElement).eq(i).toggleClass(w,a),e._fixedTableElement&&e._getRowElements(e._fixedTableElement).eq(i).toggleClass(w,a))}))};e._fixedTableElement&&e._tableElement&&(t(e._fixedTableElement),t(e._tableElement))},_getScrollDelay:function(){var e;return(null===(e=this.getController("resizing"))||void 0===e?void 0:e.hasResizeTimeout())?this.option("scrolling.updateTimeout"):a.default.mozilla?60:0},_findContentElement:function(e){var t,n,i=this,a=this.addWidgetPrefix(v),r=this.element();if(e=this._isFixedTableRendering||e,r&&e){t=r.children(".".concat(a));var l=this.getScrollable();return!t.length&&l&&(t=(0,o.default)("<div>").addClass(a),c.default.on(t,"scroll",function(e){var t=i._getScrollDelay();clearTimeout(i._fixedScrollTimeout),i._fixedScrollTimeout=setTimeout(function(){n=(0,o.default)(e.target).scrollTop(),l.scrollTo({y:n})},t)}),c.default.on(t,h.name,function(e){var t=(0,o.default)(e.target).closest(".dx-scrollable"),a=!1;if(l&&l.$element().is(t))a=!0;else{var r=t.length&&p.default.getInstance(t.get(0)),s=r&&r.scrollHeight()-r.clientHeight()>0;a=r&&!s}if(a){n=l.scrollTop(),l.scrollTo({y:n-e.delta});var d=l.scrollTop()+l.clientHeight(),u=l.scrollHeight()+i.getScrollbarWidth();if(l.scrollTop()>0&&d<u)return!1}}),t.appendTo(r)),t}return this.callBase()},_updateScrollable:function(){this.callBase();var e=this.getScrollable();if(!(null==e?void 0:e._disposed)){var t=e&&e.scrollOffset().top;this._updateFixedTablePosition(t)}},_renderContent:function(e,t,n){return this._isFixedTableRendering||n?e.empty().addClass("".concat(this.addWidgetPrefix(v)," ").concat(this.addWidgetPrefix(C))).append(t):this.callBase(e,t)},_getGroupCellOptions:function(e){return this._isFixedTableRendering?this.callBase((0,r.extend)({},e,{columns:this._columnsController.getVisibleColumns()})):this.callBase(e)},_renderGroupedCells:function(e,t){return this.callBase(e,(0,r.extend)({},t,{columns:this._columnsController.getVisibleColumns()}))},_renderGroupSummaryCells:function(e,t){this._isFixedTableRendering?this.callBase(e,(0,r.extend)({},t,{columns:this._columnsController.getVisibleColumns()})):this.callBase(e,t)},_hasAlignByColumnSummaryItems:function(e,t){var n=this.callBase.apply(this,arguments),i=t.columns[e];return t.isFixed?i.fixed&&(n||"right"===i.fixedPosition):n&&(!this._isFixedColumns||!i.fixed)},_renderGroupSummaryCellsCore:function(e,t,n,i){var o;if(this._isFixedTableRendering){t.isFixed=!0,o=this._getAlignByColumnCellCount(n,t),t.isFixed=!1;var a=t.columns.length-o,l=b((t=(0,r.extend)({},t,{columns:this.getFixedColumns()})).columns);a<l?(o-=t.columns[l].colspan-1||0,n-=t.columns[l].colspan-1||0):i>0&&e.css("visibility","hidden"),i=o}this.callBase(e,t,n,i)},_getSummaryCellIndex:function(e,t){if(this._isFixedTableRendering){var n=b(t);return e>n&&(e+=t[n].colspan-1),e}return this.callBase.apply(this,arguments)},_renderCore:function(e){var t=this;this._detachHoverEvents();var n=this.callBase(e),i=this._isFixedColumns;return this.element().toggleClass("dx-fixed-columns",i),this.option("hoverStateEnabled")&&i&&n.done(function(){t._attachHoverEvents()}),n},setRowsOpacity:function(e,t){this.callBase(e,t);var n=this._getRowElements(this._fixedTableElement);this._setRowsOpacityCore(n,this.getFixedColumns(),e,t)},optionChanged:function(e){this.callBase(e),"hoverStateEnabled"===e.name&&this._isFixedColumns&&(e.value?this._attachHoverEvents():this._detachHoverEvents())},getCellIndex:function(e){var t=this._fixedTableElement,n=0;if(t&&e.is("td")&&e.closest(t).length){var i=this.getFixedColumns();return(0,l.each)(i,function(t,i){if(t===e[0].cellIndex)return!1;i.colspan?n+=i.colspan:n++}),n}return this.callBase.apply(this,arguments)},_updateFixedTablePosition:function(e,t){if(this._fixedTableElement&&this._tableElement){var n,i=this.getController("editorFactory");this._fixedTableElement.parent().scrollTop(e),t&&i&&(n=i.focus())&&i.focus(n)}},setScrollerSpacing:function(e,t){var n={marginBottom:0},i=this.element().children(".".concat(this.addWidgetPrefix(C)));i.length&&this._fixedTableElement&&(i.css(n),this._fixedTableElement.css(n),n[this.option("rtlEnabled")?"marginLeft":"marginRight"]=e,n.marginBottom=t,(this._scrollable&&this._scrollable.option("useNative")?i:this._fixedTableElement).css(n))},_getElasticScrollTop:function(e){var t=0;if(e.scrollOffset.top<0)t=-e.scrollOffset.top;else if(e.reachedBottom){var n=(0,o.default)(e.component.content()),i=(0,o.default)(e.component.container());t=Math.min(Math.max(n.get(0).clientHeight-i.get(0).clientHeight,0)-e.scrollOffset.top,0)}return Math.floor(t)},_applyElasticScrolling:function(e){if(this._fixedTableElement){var t=this._getElasticScrollTop(e);0!==Math.ceil(t)?(0,i.move)(this._fixedTableElement,{top:t}):this._fixedTableElement.css("transform","")}},_handleScroll:function(e){this._updateFixedTablePosition(e.scrollOffset.top,!0),this._applyElasticScrolling(e),this.callBase(e)},_updateContentPosition:function(e){this.callBase.apply(this,arguments),e||this._updateFixedTablePosition(this._scrollTop)},_afterRowPrepared:function(e){this._isFixedTableRendering||this.callBase(e)},_scrollToElement:function(e){this.callBase(e,this.getFixedColumnsOffset())},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._fixedScrollTimeout)}}),footerView:T},controllers:{draggingHeader:{_generatePointsByColumns:function(e){var t=e.columns,n=e.targetDraggingPanel;if(n&&"headers"===n.getName()&&n.isFixedColumns()&&e.sourceColumn.fixed){e.rowIndex||(e.columnElements=n.getFixedColumnElements(0)),e.columns=n.getFixedColumns(e.rowIndex);var i,o,a,r,s,d=this.callBase(e);return i=t,o=e.columns,a=d,r=b(o),s=i.length-o.length,(0,l.each)(a,function(e,t){t.index>r&&(t.columnIndex+=s,t.index+=s)}),d}return this.callBase(e)},_pointCreated:function(e,t,n,i){var o=this.callBase.apply(this,arguments),a=t[e.columnIndex],r=this._columnHeadersView.getTransparentColumnElement();if(!o&&"headers"===n&&r&&r.length){var l=(0,s.getBoundingRect)(r.get(0));return i&&i.fixed?"right"===i.fixedPosition?e.x<l.right:e.x>l.left:!(!a||!a.fixed||"right"===a.fixedPosition)||e.x<l.left||e.x>l.right}return o}},columnsResizer:{_generatePointsByColumns:function(){var e=this,t=e._columnsController,n=t&&e._columnsController.getVisibleColumns(),i=t&&e._columnsController.getFixedColumns(),o=b(i),a=n.length-i.length,r=e._columnHeadersView.getFixedColumnElements();e.callBase(),r&&r.length>0&&(e._pointsByFixedColumns=g.default.getPointsByColumns(r,function(t){return t.index>o&&(t.columnIndex+=a,t.index+=a),e._pointCreated(t,n.length,n)}))},_getTargetPoint:function(e,t,n){var i=this._columnHeadersView.getTransparentColumnElement();if(i&&i.length){var o=(0,s.getBoundingRect)(i.get(0));if(t<=o.left||t>=o.right)return this.callBase(this._pointsByFixedColumns,t,n)}return this.callBase(e,t,n)}}}}};t.columnFixingModule=D},33208(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.columnHeadersModule=void 0;var i=h(n(68689)),o=n(68841),a=n(1685),r=n(65553),l=n(4964),s=h(n(21445)),d=h(n(38306)),u=n(76749),c=n(37259);function h(e){return e&&e.__esModule?e:{default:e}}var f="text-content",p="dx-header-row",g="dx-visibility-hidden",m="dx-text-content-alignment-",v={defaultOptions:function(){return{showColumnHeaders:!0,cellHintEnabled:!0}},views:{columnHeadersView:c.ColumnsView.inherit(function(){var e=function(e,n,o){var a=(0,i.default)("<div>").addClass(e.addWidgetPrefix(f));e.setAria("role","presentation",a),t(e,n,o.column,a);var r=e.option("showColumnLines"),l=e.getController("columns").getHeaderContentAlignment(o.column.alignment);return a[r||"right"===l?"appendTo":"prependTo"](n)};function t(e,t,n,i){var o=e._getIndicatorElements(t,!0),a=e._getIndicatorElements(t),r=o&&o.length,l=e._getColumnAlignment(n.alignment),s=".".concat(e._getIndicatorClassName("sort")),d=".".concat(e._getIndicatorClassName("sortIndex")),u=a.filter(s),c=a.children().filter(d);(i=i||t.children(".".concat(e.addWidgetPrefix(f)))).toggleClass(m+l,r>0).toggleClass(m+("left"===l?"right":"left"),r>0&&"center"===n.alignment).toggleClass("dx-sort-indicator",!!u.length).toggleClass("dx-sort-index-indicator",!!c.length).toggleClass("dx-header-filter-indicator",!!a.filter(".".concat(e._getIndicatorClassName("headerFilter"))).length)}return{_createTable:function(){var e=this.callBase.apply(this,arguments);return s.default.on(e,"mousedown selectstart",this.createAction(function(e){var t=e.event;t.shiftKey&&t.preventDefault()})),e},_isLegacyKeyboardNavigation:function(){return this.option("useLegacyKeyboardNavigation")},_getDefaultTemplate:function(t){var n=this;return function(i,o){var a=t.command?i:e(n,i,o),r="expand"!==t.command&&t.caption;r?a.text(r):t.command&&i.html("&nbsp;")}},_getHeaderTemplate:function(e){return e.headerCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(e)}},_processTemplate:function(t,n){var i=this,a=n.column,r=i.callBase(t);return"header"===n.rowType&&r&&a.headerCellTemplate&&!a.command?{render:function(t){var n=e(i,t.container,t.model);r.render((0,o.extend)({},t,{container:n}))}}:r},_handleDataChanged:function(e){"refresh"===e.changeType&&(this._isGroupingChanged||this._requireReady)&&(this._isGroupingChanged=!1,this.render())},_renderCell:function(e,t){var n=this.callBase(e,t);return"header"===t.row.rowType&&(n.addClass("dx-cell-focus-disabled"),this._isLegacyKeyboardNavigation()||t.column&&!t.column.type&&n.attr("tabindex",this.option("tabindex")||0)),n},_setCellAriaAttributes:function(e,t){this.callBase(e,t),"header"===t.rowType&&(this.setAria("role","columnheader",e),!t.column||t.column.command||t.column.isBand||(e.attr("id",t.column.headerId),this.setAria("label","".concat(d.default.format("dxDataGrid-ariaColumn")," ").concat(t.column.caption),e)))},_createRow:function(e){var t=this.callBase.apply(this,arguments);return t.toggleClass("dx-column-lines",this.option("showColumnLines")),"header"===e.rowType&&(t.addClass(p),this._isLegacyKeyboardNavigation()||(0,u.registerKeyboardAction)("columnHeaders",this,t,"td",this._handleActionKeyDown.bind(this))),t},_handleActionKeyDown:function(e){var t=e.event,n=(0,i.default)(t.target);if(this._lastActionElement=t.target,n.is(".dx-header-filter")){var o=this.getController("headerFilter"),a=n.closest("td"),r=this.getColumnIndexByElement(a);r>=0&&o.showHeaderFilterMenu(r,!1)}else{var l=n.closest(".dx-row");this._processHeaderAction(t,l)}t.preventDefault()},_renderCore:function(){var e=this.element(),t={};if(!this._tableElement||this._dataController.isLoaded()||this._hasRowElements){e.addClass(this.addWidgetPrefix("headers")).toggleClass(this.addWidgetPrefix("nowrap"),!this.option("wordWrapEnabled")).empty(),this.setAria("role","presentation",e);var n=this._updateContent(this._renderTable({change:t}),t);return this.getRowCount()>1&&e.addClass("dx-header-multi-row"),this.callBase.apply(this,arguments),n}},_renderRows:function(){var e=this;(e._dataController.isLoaded()||e._hasRowElements)&&(e.callBase.apply(e,arguments),e._hasRowElements=!0)},_getRowVisibleColumns:function(e){return this._columnsController.getVisibleColumns(e)},_renderRow:function(e,t){t.columns=this._getRowVisibleColumns(t.row.rowIndex),this.callBase(e,t)},_createCell:function(e){var t=e.column,n=this.callBase.apply(this,arguments);return t.rowspan>1&&"header"===e.rowType&&n.attr("rowSpan",t.rowspan),n},_getRows:function(){var e=[],t=this.getRowCount();if(this.option("showColumnHeaders"))for(var n=0;n<t;n++)e.push({rowType:"header",rowIndex:n});return e},_getCellTemplate:function(e){if("header"===e.rowType)return this._getHeaderTemplate(e.column)},_columnOptionChanged:function(e){var t=e.changeTypes,n=e.optionNames;t.grouping||t.groupExpanding?t.grouping&&(this._isGroupingChanged=!0):(this.callBase(e),(n.width||n.visible)&&this.resizeCompleted.fire())},_isElementVisible:function(e){return e&&e.visible},_alignCaptionByCenter:function(e){var t=this._getIndicatorContainer(e,!0);t&&t.length&&(t.filter(".".concat(g)).remove(),(t=this._getIndicatorContainer(e)).clone().addClass(g).css("float","").insertBefore(e.children(".".concat(this.addWidgetPrefix(f)))))},_updateCell:function(e,t){"header"===t.rowType&&"center"===t.column.alignment&&this._alignCaptionByCenter(e),this.callBase.apply(this,arguments)},_updateIndicator:function(e,n,i){var o=this.callBase.apply(this,arguments);return"center"===n.alignment&&this._alignCaptionByCenter(e),t(this,e,n),o},_getIndicatorContainer:function(e,t){var n=this.callBase(e);return t?n:n.filter(":not(.".concat(g,")"))},_isSortableElement:function(){return!0},getHeadersRowHeight:function(){var e=this.getTableElement(),t=e&&e.find(".".concat(p));return t&&t.toArray().reduce(function(e,t){return e+(0,r.getHeight)(t)},0)||0},getHeaderElement:function(e){var t=this.getColumnElements();return t&&t.eq(e)},getColumnElements:function(e,t){var n,o=this,r=o._columnsController,s=o.getRowCount();if(o.option("showColumnHeaders")){if(s>1&&(!(0,l.isDefined)(e)||(0,l.isDefined)(t))){var d=[],u=(0,l.isDefined)(t)?r.getChildrenByBandColumn(t,!0):r.getVisibleColumns();return(0,a.each)(u,function(t,i){var a=(0,l.isDefined)(e)?e:r.getRowIndex(i.index);(n=o._getCellElement(a,r.getVisibleIndex(i.index,a)))&&d.push(n.get(0))}),(0,i.default)(d)}if(!e||e<s)return o.getCellElements(e||0)}},getColumnIndexByElement:function(e){var t=this.getCellIndex(e),n=e.closest(".dx-row")[0].rowIndex,i=this.getColumns(n)[t];return i?i.index:-1},getVisibleColumnIndex:function(e,t){var n=this.getColumns()[e];return n?this._columnsController.getVisibleIndex(n.index,t):-1},getColumnWidths:function(){var e=this.getColumnElements();return e&&e.length?this._getWidths(e):this.callBase.apply(this,arguments)},allowDragging:function(e,t,n){var i,o,a=0,r=e&&this._columnsController.getRowIndex(e.index),l=this.getColumns(0===r?0:null),s=(null==e?void 0:e.allowHiding)&&l.length>1;for(o=0;o<l.length;o++)((i=l[o]).allowReordering||i.allowGrouping||i.allowHiding)&&a++;if(a<=1&&!s)return!1;if(!n)return(this.option("allowColumnReordering")||this._columnsController.isColumnOptionUsed("allowReordering"))&&e&&e.allowReordering;for(o=0;o<n.length;o++){var d=n[o];if(d&&d.allowDragging(e,t))return!0}return!1},getBoundingRect:function(){var e=this.getColumnElements();return e&&e.length?{top:this.getTableElement().offset().top}:null},getName:function(){return"headers"},getColumnCount:function(){var e=this.getColumnElements();return e?e.length:0},isVisible:function(){return this.option("showColumnHeaders")},optionChanged:function(e){switch(e.name){case"showColumnHeaders":case"wordWrapEnabled":case"showColumnLines":this._invalidate(!0,!0),e.handled=!0;break;default:this.callBase(e)}},getHeight:function(){return this.getElementHeight()},getContextMenuItems:function(e){var t=this,n=e.column;if(e.row&&("header"===e.row.rowType||"detailAdaptive"===e.row.rowType)){var i=t.option("sorting");if(i&&"none"!==i.mode&&n&&n.allowSorting){var o=function(e){setTimeout(function(){t._columnsController.changeSortOrder(n.index,e.itemData.value)})};return[{text:i.ascendingText,value:"asc",disabled:"asc"===n.sortOrder,icon:"context-menu-sort-asc",onItemClick:o},{text:i.descendingText,value:"desc",disabled:"desc"===n.sortOrder,icon:"context-menu-sort-desc",onItemClick:o},{text:i.clearText,value:"none",disabled:!n.sortOrder,icon:"context-menu-sort-none",onItemClick:o}]}}},getRowCount:function(){return this._columnsController&&this._columnsController.getRowCount()},setRowsOpacity:function(e,t,n){var i,o,a=this,r=this.getRowCount(),s=this._columnsController.getColumns(),d=s&&s[e],u=d&&d.isBand&&d.index,c=function(e,n){e.ownerBand===u&&(o.eq(n).css({opacity:t}),e.isBand&&a.setRowsOpacity(e.index,t,i+1))};if((0,l.isDefined)(u))for(i=n=n||0;i<r;i++)(o=this.getCellElements(i))&&this.getColumns(i).forEach(c)}}}())}};t.columnHeadersModule=v},59866(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=(i=n(68689))&&i.__esModule?i:{default:i},a=n(36808),r=n(68841),l=n(2005),s="dx-column-indicators",d={_applyColumnState:function(e){var t,n=this.option("rtlEnabled"),i=this._getColumnAlignment(e.column.alignment,n),a=(0,r.extend)(!0,{columnAlignment:i},e),l=a.rootElement.hasClass("dx-group-panel-item"),s=this._createIndicatorContainer(a,l),d=(0,o.default)("<span>").addClass(this._getIndicatorClassName(e.name)),u=null===(t=this.component)||void 0===t?void 0:t.getController("columns"),c=(null==u?void 0:u.getHeaderContentAlignment(i))||i;return a.container=s,a.indicator=d,this._renderIndicator(a),s[!l&&e.showColumnLines||"left"!==c?"prependTo":"appendTo"](e.rootElement),d},_getIndicatorClassName:a.noop,_getColumnAlignment:function(e,t){return t=t||this.option("rtlEnabled"),e&&"center"!==e?e:(0,l.getDefaultAlignment)(t)},_createIndicatorContainer:function(e,t){var n=this._getIndicatorContainer(e.rootElement),i="left"===e.columnAlignment?"right":"left";return n.length||(n=(0,o.default)("<div>").addClass(s)),this.setAria("role","presentation",n),n.css("float",e.showColumnLines&&!t?i:null)},_getIndicatorContainer:function(e){return e&&e.find(".".concat(s))},_getIndicatorElements:function(e){var t=this._getIndicatorContainer(e);return t&&t.children()},_renderIndicator:function(e){var t=e.container,n=e.indicator;t&&n&&t.append(n)},_updateIndicators:function(e){var t,n=this.getColumns(),i=this.getColumnElements();if(i&&n.length===i.length)for(var o=0;o<n.length;o++){t=i.eq(o),this._updateIndicator(t,n[o],e);var a=t.parent().data("options");a&&a.cells&&(a.cells[t.index()].column=n[o])}},_updateIndicator:function(e,t,n){if(!t.command)return this._applyColumnState({name:n,rootElement:e,column:t,showColumnLines:this.option("showColumnLines")})}};t.default=d},4996(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.USER_STATE_FIELD_NAMES_15_1=t.USER_STATE_FIELD_NAMES=t.MAX_SAFE_INTEGER=t.IGNORE_COLUMN_OPTION_NAMES=t.GROUP_LOCATION=t.GROUP_COMMAND_COLUMN_NAME=t.DEFAULT_COLUMN_OPTIONS=t.DATATYPE_OPERATIONS=t.COMMAND_EXPAND_CLASS=t.COLUMN_OPTION_REGEXP=t.COLUMN_INDEX_OPTIONS=t.COLUMN_CHOOSER_LOCATION=void 0;var n=["filterValues","filterType","fixed","fixedPosition"];t.USER_STATE_FIELD_NAMES_15_1=n;var i=["visibleIndex","dataField","name","dataType","width","visible","sortOrder","lastSortOrder","sortIndex","groupIndex","filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation","added"].concat(n);t.USER_STATE_FIELD_NAMES=i,t.IGNORE_COLUMN_OPTION_NAMES={visibleWidth:!0,bestFitWidth:!0,bufferedFilterValue:!0},t.COMMAND_EXPAND_CLASS="dx-command-expand";var o=Number.MAX_SAFE_INTEGER||9007199254740991;t.MAX_SAFE_INTEGER=o,t.GROUP_COMMAND_COLUMN_NAME="groupExpand",t.COLUMN_OPTION_REGEXP=/columns\[(\d+)\]\.?/gi,t.DEFAULT_COLUMN_OPTIONS={visible:!0,showInColumnChooser:!0},t.DATATYPE_OPERATIONS={number:["=","<>","<",">","<=",">=","between"],string:["contains","notcontains","startswith","endswith","=","<>"],date:["=","<>","<",">","<=",">=","between"],datetime:["=","<>","<",">","<=",">=","between"]},t.COLUMN_INDEX_OPTIONS={visibleIndex:!0,groupIndex:!0,grouped:!0,sortIndex:!0,sortOrder:!0},t.GROUP_LOCATION="group",t.COLUMN_CHOOSER_LOCATION="columnChooser"},92550(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.columnsControllerModule=t.ColumnsController=void 0;var i=b(n(96261)),o=b(n(68689)),a=b(n(46169)),r=n(97251),l=n(68759),s=n(68841),d=n(92960),u=n(1685),c=n(74276),h=n(4964),f=b(n(5735)),p=b(n(99354)),g=n(16758),m=n(62459),v=b(n(89019)),C=b(n(38306)),$=b(n(47228)),w=b(n(37499)),y=b(n(88445)),x=b(n(31560)),I=n(4996),E=n(27119);function b(e){return e&&e.__esModule?e:{default:e}}function S(){return(S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function T(e,t){return(T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var D=function(e){function t(){return e.apply(this,arguments)||this}C=e,(n=t).prototype=Object.create(C.prototype),n.prototype.constructor=n,T(n,C);var n,C,y=t.prototype;return y._getExpandColumnOptions=function(){return{type:"expand",command:"expand",width:"auto",cssClass:I.COMMAND_EXPAND_CLASS,allowEditing:!1,allowGrouping:!1,allowSorting:!1,allowResizing:!1,allowReordering:!1,allowHiding:!1}},y._getFirstItems=function(e){var t,n=[];return e&&e.items().length>0&&(t=x.default.normalizeSortingInfo(e.group()).length,n=function e(t,n){if(!t||!n)return t;for(var i=0;i<t.length;i++){var o=e(t[i].items||t[i].collapsedItems,n-1);if(o&&o.length)return o}}(e.items(),t)||[]),n},y._endUpdateCore=function(){this._skipProcessingColumnsChange||(0,E.fireColumnsChanged)(this)},y.init=function(e){var t=this.option("columns");this._commandColumns=this._commandColumns||[],this._columns=this._columns||[],this._isColumnsFromOptions=!!t,this._isColumnsFromOptions?((0,E.assignColumns)(this,t?(0,E.createColumnsFromOptions)(this,t):[]),(0,E.applyUserState)(this)):(0,E.assignColumns)(this,this._columnsUserState?(0,E.createColumnsFromOptions)(this,this._columnsUserState):this._columns),(0,E.addExpandColumn)(this),this._dataSourceApplied?this.applyDataSource(this._dataSource,!0,e):(0,E.updateIndexes)(this),this._checkColumns()},y.callbackNames=function(){return["columnsChanged"]},y.getColumnByPath=function(e,t){var n,i=[];return e.replace(I.COLUMN_OPTION_REGEXP,function(e,t){return i.push(parseInt(t)),""}),i.length&&(n=t?i.reduce(function(e,t){return e&&e.columns&&e.columns[t]},{columns:t}):(0,E.getColumnByIndexes)(this,i)),n},y.optionChanged=function(t){var n;switch(t.name){case"adaptColumnWidthByRatio":t.handled=!0;break;case"dataSource":t.value===t.previousValue||this.option("columns")||Array.isArray(t.value)&&Array.isArray(t.previousValue)||(this._columns=[]);break;case"columns":n=this._skipProcessingColumnsChange,t.handled=!0,this._skipProcessingColumnsChange||(t.name===t.fullName?(this._columnsUserState=null,this._ignoreColumnOptionNames=null,this.init()):(this._columnOptionChanged(t),n=!0)),n&&this._updateRequireResize(t);break;case"commonColumnSettings":case"columnAutoWidth":case"allowColumnResizing":case"allowColumnReordering":case"columnFixing":case"grouping":case"groupPanel":case"regenerateColumnsByVisibleItems":case"customizeColumns":case"columnHidingEnabled":case"dateSerializationFormat":case"columnResizingMode":case"columnMinWidth":case"columnWidth":t.handled=!0;var i="columnWidth"===t.fullName&&["width"];this.reinit(i);break;case"rtlEnabled":this.reinit();break;default:e.prototype.optionChanged.call(this,t)}},y._columnOptionChanged=function(e){var t={},n=this.getColumnByPath(e.fullName),i=e.fullName.replace(I.COLUMN_OPTION_REGEXP,"");n&&(i?t[i]=e.value:t=e.value,this._skipProcessingColumnsChange=e.fullName,this.columnOption(n.index,t),this._skipProcessingColumnsChange=!1)},y._updateRequireResize=function(e){var t=this.component;"width"===e.fullName.replace(I.COLUMN_OPTION_REGEXP,"")&&t._updateLockCount&&(t._requireResize=!0)},y.publicMethods=function(){return["addColumn","deleteColumn","columnOption","columnCount","clearSorting","clearGrouping","getVisibleColumns","getVisibleColumnIndex"]},y.applyDataSource=function(e,t,n){var i=e&&e.isLoaded();if(this._dataSource=e,!this._dataSourceApplied||0===this._dataSourceColumnsCount||t||this.option("regenerateColumnsByVisibleItems")){if(i){if(!this._isColumnsFromOptions){var o=(0,E.createColumnsFromDataSource)(this,e);o.length&&((0,E.assignColumns)(this,o),this._dataSourceColumnsCount=this._columns.length,(0,E.applyUserState)(this))}return this.updateColumns(e,t,n)}this._dataSourceApplied=!1,(0,E.updateIndexes)(this)}else if(i&&!this.isAllDataTypesDefined(!0)&&this.updateColumnDataTypes(e))return(0,E.updateColumnChanges)(this,"columns"),(0,E.fireColumnsChanged)(this),(new l.Deferred).reject().promise()},y.reset=function(){this._dataSource=null,this._dataSourceApplied=!1,this._dataSourceColumnsCount=void 0,this.reinit()},y.resetColumnsCache=function(){this._visibleColumns=void 0,this._fixedColumns=void 0,this._rowCount=void 0,(0,E.resetBandColumnsCache)(this)},y.reinit=function(e){this._columnsUserState=this.getUserState(),this._ignoreColumnOptionNames=e||null,this.init(),e&&(this._ignoreColumnOptionNames=null)},y.isInitialized=function(){return!!this._columns.length||!!this.option("columns")},y.isDataSourceApplied=function(){return this._dataSourceApplied},y.getCommonSettings=function(e){var t,n,i=(!e||!e.type)&&this.option("commonColumnSettings")||{},o=null!==(t=this.option("grouping"))&&void 0!==t?t:{},a=null!==(n=this.option("groupPanel"))&&void 0!==n?n:{};return(0,s.extend)({allowFixing:this.option("columnFixing.enabled"),allowResizing:this.option("allowColumnResizing")||void 0,allowReordering:this.option("allowColumnReordering"),minWidth:this.option("columnMinWidth"),width:this.option("columnWidth"),autoExpandGroup:o.autoExpandAll,allowCollapsing:o.allowCollapsing,allowGrouping:a.allowColumnDragging&&a.visible||o.contextMenuEnabled},i)},y.isColumnOptionUsed=function(e){for(var t=0;t<this._columns.length;t++)if(this._columns[t][e])return!0},y.isAllDataTypesDefined=function(e){var t=this._columns;if(!t.length)return!1;for(var n=0;n<t.length;n++)if((t[n].dataField||t[n].calculateCellValue!==t[n].defaultCalculateCellValue)&&(!t[n].dataType||e&&t[n].deserializeValue&&void 0===t[n].serializationFormat))return!1;return!0},y.getColumns=function(){return this._columns},y.isBandColumnsUsed=function(){return this.getColumns().some(function(e){return e.isBand})},y.getGroupColumns=function(){var e=[];return(0,u.each)(this._columns,function(){(0,h.isDefined)(this.groupIndex)&&(e[this.groupIndex]=this)}),e},y._shouldReturnVisibleColumns=function(){return!0},y._compileVisibleColumns=function(e){return this._visibleColumns=this._visibleColumns||this._compileVisibleColumnsCore(),e=(0,h.isDefined)(e)?e:this._visibleColumns.length-1,this._visibleColumns[e]||[]},y.getVisibleColumns=function(e,t){return this._shouldReturnVisibleColumns()?this._compileVisibleColumns.apply(this,arguments):[]},y.getFixedColumns=function(e){return this._fixedColumns=this._fixedColumns||this._getFixedColumnsCore(),e=(0,h.isDefined)(e)?e:this._fixedColumns.length-1,this._fixedColumns[e]||[]},y.getFilteringColumns=function(){return this.getColumns().filter(function(e){return(e.dataField||e.name)&&(e.allowFiltering||e.allowHeaderFiltering)}).map(function(e){var t=(0,s.extend)(!0,{},e);return(0,h.isDefined)(t.dataField)||(t.dataField=t.name),t.filterOperations=e.filterOperations!==e.defaultFilterOperations?t.filterOperations:null,t})},y.getColumnIndexOffset=function(){return 0},y._getFixedColumnsCore=function(){var e,t,n,i=[],o=this.getRowCount(),a={command:"transparent"},r=0;if(this._isColumnFixing())for(var l=0;l<=o;l++){e=0,n=null,t=null;for(var s=this.getVisibleColumns(l,!0),d=0;d<s.length;d++){var u=s[d-1],c=s[d];c.fixed?u&&u.fixed&&(0,E.getFixedPosition)(this,u)!==(0,E.getFixedPosition)(this,c)?(0,h.isDefined)(t)||(t=d):n=c.fixedPosition:(0===l&&(c.isBand&&c.colspan?r+=c.colspan:r++),e++,(0,h.isDefined)(t)||(t=d))}if(0===l&&(0===e||e>=s.length))return[];(0,h.isDefined)(t)||(t="right"===n?0:s.length),i[l]=s.slice(0),a.colspan||(a.colspan=r),i[l].splice(t,e,a)}return i.map(function(e){return e.map(function(e){var t=S({},e);return t.headerId&&(t.headerId+="-fixed"),t})})},y._isColumnFixing=function(){var e=this.option("columnFixing.enabled");return e||(0,u.each)(this._columns,function(t,n){if(n.fixed)return e=!0,!1}),e},y._getExpandColumnsCore=function(){return this.getGroupColumns()},y.getExpandColumns=function(){var e,t=this._getExpandColumnsCore(),n=t.filter(function(e){return 0===e.groupIndex})[0],i=n&&n.fixed,o=this._isColumnFixing(),a=this.option("rtlEnabled");return t.length&&(e=this.columnOption("command:expand")),t=(0,u.map)(t,function(t){return(0,s.extend)({},t,{visibleWidth:null,minWidth:null,cellTemplate:(0,h.isDefined)(t.groupIndex)?null:t.cellTemplate,headerCellTemplate:null,fixed:!(!(0,h.isDefined)(t.groupIndex)||!i)||o,fixedPosition:a?"right":"left"},e,{index:t.index,type:t.type||I.GROUP_COMMAND_COLUMN_NAME})})},y.getBandColumnsCache=function(){if(!this._bandColumnsCache){var e=this._columns,t={},n={},i=!0;e.forEach(function(o){var a=o.ownerBand,r=(0,h.isObject)(a)?a.index:a,l=e[r];o.hasColumns&&(i=!1),o.colspan&&(o.colspan=void 0),o.rowspan&&(o.rowspan=void 0),l?n[o.index]=l:r=-1,t[r]=t[r]||[],t[r].push(o)}),this._bandColumnsCache={isPlain:i,columnChildrenByIndex:t,columnParentByIndex:n}}return this._bandColumnsCache},y._isColumnVisible=function(e){return e.visible&&this.isParentColumnVisible(e.index)},y._compileVisibleColumnsCore=function(){var e,t,n=this,i=[],o=0,a=0,r=n.getRowCount(),l=[],s=[],d=0,f=n.option("rtlEnabled"),p=n.getBandColumnsCache(),g=(0,E.mergeColumns)(n,n.getExpandColumns(),n._columns),m=(0,E.mergeColumns)(n,n._columns,n._commandColumns,!0),v=(0,E.digitsCount)(m.length);for((0,E.processBandColumns)(n,m,p),e=0;e<r;e++)i[e]=[],s[e]=[{}],l[e]=[{},{},{}];return(0,u.each)(m,function(){var i,o=this.visibleIndex,a=(0,E.getParentBandColumns)(this.index,p.columnParentByIndex);if(n._isColumnVisible(this)&&(!(0,h.isDefined)(this.groupIndex)||this.showWhenGrouped)){var r=a.length;if(o<0?(o=-o,i=s[r]):(this.fixed=a.length?a[0].fixed:this.fixed,this.fixedPosition=a.length?a[0].fixedPosition:this.fixedPosition,this.fixed?(t="right"===this.fixedPosition,f&&(!this.command||(0,E.isCustomCommandColumn)(n,this))&&(t=!t),i=t?l[r][2]:l[r][0]):i=l[r][1]),a.length)for(o=(0,E.numberToString)(o,v),e=a.length-1;e>=0;e--)o=(0,E.numberToString)(a[e].visibleIndex,v)+o;i[o]=i[o]||[],i[o].push(this),d++}}),(0,u.each)(i,function(e){(0,c.orderEach)(s[e],function(t,n){i[e].unshift.apply(i[e],n)});var t=i[e].length;(0,u.each)(l[e],function(t,n){(0,c.orderEach)(n,function(t,n){i[e].push.apply(i[e],n)})}),a<e+1&&(a+=E.processExpandColumns.call(n,i[e],g,"detailExpand",t)),o<e+1&&(o+=E.processExpandColumns.call(n,i[e],g,I.GROUP_COMMAND_COLUMN_NAME,t))}),i.push((0,E.getDataColumns)(i)),!d&&n._columns.length&&i[r].push({command:"empty"}),i},y.getInvisibleColumns=function(e,t){var n,i=this,o=[];return e=e||i._columns,(0,u.each)(e,function(e,a){a.ownerBand===t&&(a.isBand?(n=a.visible?i.getInvisibleColumns(i.getChildrenByBandColumn(a.index),a.index):i.getChildrenByBandColumn(a.index)).length&&(o.push(a),o=o.concat(n)):a.visible||o.push(a))}),o},y.getChooserColumns=function(e){var t=(e?this.getColumns():this.getInvisibleColumns()).filter(function(e){return e.showInColumnChooser}),n=this.option("columnChooser.sortOrder");return(0,E.sortColumns)(t,n)},y.allowMoveColumn=function(e,t,n,i){var o=(0,E.getColumnIndexByVisibleIndex)(this,e,n),a=this._columns[o];return!(!a||!(a.allowReordering||a.allowGrouping||a.allowHiding))&&(n===i?n!==I.COLUMN_CHOOSER_LOCATION&&(e=(0,h.isObject)(e)?e.columnIndex:e)!==(t=(0,h.isObject)(t)?t.columnIndex:t)&&e+1!==t:n===I.GROUP_LOCATION&&i!==I.COLUMN_CHOOSER_LOCATION||i===I.GROUP_LOCATION?a&&a.allowGrouping:n!==I.COLUMN_CHOOSER_LOCATION&&i!==I.COLUMN_CHOOSER_LOCATION||a&&a.allowHiding)},y.moveColumn=function(e,t,n,i){var o,a,r={},l=(0,E.getColumnIndexByVisibleIndex)(this,e,n),s=(0,E.getColumnIndexByVisibleIndex)(this,t,i);if(l>=0){var d=this._columns[l];if(t=(0,h.isObject)(t)?t.columnIndex:t,a=s>=0?this._columns[s].groupIndex:-1,(0,h.isDefined)(d.groupIndex)&&n===I.GROUP_LOCATION&&(a>d.groupIndex&&a--,i!==I.GROUP_LOCATION?r.groupIndex=void 0:(o=d.groupIndex,delete d.groupIndex,(0,E.updateColumnGroupIndexes)(this))),i===I.GROUP_LOCATION)r.groupIndex=(0,E.moveColumnToGroup)(this,d,a),d.groupIndex=o;else if(t>=0){var u=this._columns[s];u&&d.ownerBand===u.ownerBand?(0,E.isColumnFixed)(this,d)^(0,E.isColumnFixed)(this,u)?r.visibleIndex=I.MAX_SAFE_INTEGER:r.visibleIndex=u.visibleIndex:r.visibleIndex=I.MAX_SAFE_INTEGER}var c=i!==I.COLUMN_CHOOSER_LOCATION;d.visible!==c&&(r.visible=c),this.columnOption(d.index,r)}},y.changeSortOrder=function(e,t){var n={},i=this.option("sorting"),o=i&&i.mode,a=this._columns[e];("single"===o||"multiple"===o)&&a&&a.allowSorting&&("single"!==o&&t||(0,h.isDefined)(a.groupIndex)||(0,u.each)(this._columns,function(t){t!==e&&this.sortOrder&&((0,h.isDefined)(this.groupIndex)||delete this.sortOrder,delete this.sortIndex)}),(0,E.isSortOrderValid)(t)?a.sortOrder!==t&&(n.sortOrder=t):"none"===t?a.sortOrder&&(n.sortIndex=void 0,n.sortOrder=void 0):function(e){if("ctrl"===t){if(!("sortOrder"in e)||!("sortIndex"in e))return!1;n.sortOrder=void 0,n.sortIndex=void 0}else(0,h.isDefined)(e.groupIndex)||(0,h.isDefined)(e.sortIndex)?n.sortOrder="desc"===e.sortOrder?"asc":"desc":n.sortOrder="asc"}(a)),this.columnOption(a.index,n)},y.getSortDataSourceParameters=function(e){var t=[],n=[];return(0,u.each)(this._columns,function(){(this.dataField||this.selector||this.calculateCellValue)&&(0,h.isDefined)(this.sortIndex)&&!(0,h.isDefined)(this.groupIndex)&&(t[this.sortIndex]=this)}),(0,u.each)(t,function(){var t=this&&this.sortOrder;if((0,E.isSortOrderValid)(t)){var i={selector:this.calculateSortValue||this.displayField||this.calculateDisplayValue||e&&this.selector||this.dataField||this.calculateCellValue,desc:"desc"===this.sortOrder};this.sortingMethod&&(i.compare=this.sortingMethod.bind(this)),n.push(i)}}),n.length>0?n:null},y.getGroupDataSourceParameters=function(e){var t=[];return(0,u.each)(this.getGroupColumns(),function(){var n=this.calculateGroupValue||this.displayField||this.calculateDisplayValue||e&&this.selector||this.dataField||this.calculateCellValue;if(n){var i={selector:n,desc:"desc"===this.sortOrder,isExpanded:!!this.autoExpandGroup};this.sortingMethod&&(i.compare=this.sortingMethod.bind(this)),t.push(i)}}),t.length>0?t:null},y.refresh=function(e){var t=[];return(0,u.each)(this._columns,function(){var n=this.lookup;if(n&&!this.calculateDisplayValue){if(e&&n.valueMap)return;n.update&&t.push(n.update())}}),l.when.apply(o.default,t).done(E.resetColumnsCache.bind(null,this))},y._updateColumnOptions=function(e,t){e.selector=e.selector||function(t){return e.calculateCellValue(t)},this._reinitAfterLookupChanges&&this._previousColumns?(e.selector.columnIndex=t,e.selector.originalCallback=this._previousColumns[t].selector.originalCallback):(e.selector.columnIndex=t,e.selector.originalCallback=e.selector),(0,u.each)(["calculateSortValue","calculateGroupValue","calculateDisplayValue"],function(n,i){var o=e[i];if((0,h.isFunction)(o)){if(o.originalCallback)e[i].context.column=e;else{var a={column:e};e[i]=function(e){return o.call(a.column,e)},e[i].originalCallback=o,e[i].columnIndex=t,e[i].context=a}}}),(0,h.isString)(e.calculateDisplayValue)&&(e.displayField=e.calculateDisplayValue,e.calculateDisplayValue=(0,r.compileGetter)(e.displayField)),e.calculateDisplayValue&&(e.displayValueMap=e.displayValueMap||{}),(0,E.updateSerializers)(e,e.dataType);var n=e.lookup;n&&(0,E.updateSerializers)(n,n.dataType);var i=n?n.dataType:e.dataType;i&&(e.alignment=e.alignment||(0,E.getAlignmentByDataType)(i,this.option("rtlEnabled")),e.format=e.format||x.default.getFormatByDataType(i),e.customizeText=e.customizeText||(0,E.getCustomizeTextByDataType)(i),e.defaultFilterOperations=e.defaultFilterOperations||!n&&I.DATATYPE_OPERATIONS[i]||[],(0,h.isDefined)(e.filterOperations)||(0,E.setFilterOperationsAsDefaultValues)(e),e.defaultFilterOperation=e.filterOperations&&e.filterOperations[0]||"=",e.showEditorAlways=(0,h.isDefined)(e.showEditorAlways)?e.showEditorAlways:"boolean"===i&&!e.cellTemplate&&!e.lookup)},y.updateColumnDataTypes=function(e){var t=this,n=t.option("dateSerializationFormat"),i=t._getFirstItems(e),o=!1;return(0,u.each)(t._columns,function(e,a){var r,l,s,d,u,c=a.lookup;if(x.default.isDateType(a.dataType)&&void 0===a.serializationFormat&&(a.serializationFormat=n),c&&x.default.isDateType(c.dataType)&&void 0===a.serializationFormat&&(c.serializationFormat=n),a.calculateCellValue&&i.length){if(!a.dataType||c&&!c.dataType){for(r=0;r<i.length;r++)l=a.calculateCellValue(i[r]),a.dataType||(u=(0,E.getValueDataType)(l),(s=s||u)&&u&&s!==u&&(s="string")),c&&!c.dataType&&(u=(0,E.getValueDataType)(x.default.getDisplayValue(a,l,i[r])),(d=d||u)&&u&&d!==u&&(d="string"));(s||d)&&(s&&(a.dataType=s),c&&d&&(c.dataType=d),o=!0)}if(void 0===a.serializationFormat||c&&void 0===c.serializationFormat)for(r=0;r<i.length;r++)l=a.calculateCellValue(i[r],!0),void 0===a.serializationFormat&&(a.serializationFormat=(0,E.getSerializationFormat)(a.dataType,l)),c&&void 0===c.serializationFormat&&(c.serializationFormat=(0,E.getSerializationFormat)(c.dataType,c.calculateCellValue(l,!0)))}t._updateColumnOptions(a,e)}),o},y._customizeColumns=function(e){var t=this.option("customizeColumns");t&&(e.some(function(e){return(0,h.isObject)(e.ownerBand)})&&(0,E.updateIndexes)(this),t(e),(0,E.assignColumns)(this,(0,E.createColumnsFromOptions)(this,e)))},y.updateColumns=function(e,t,n){var i=this;if(t||this.updateSortingGrouping(e),!e||e.isLoaded()){var o=e?e.sort()||[]:this.getSortDataSourceParameters(),a=e?e.group()||[]:this.getGroupDataSourceParameters(),r=null==e?void 0:e.lastLoadOptions().filter;n||this._customizeColumns(this._columns),(0,E.updateIndexes)(this);var s=this._columns;return(0,l.when)(this.refresh(!0)).always(function(){i._columns===s&&(i._updateChanges(e,{sorting:o,grouping:a,filtering:r}),(0,E.fireColumnsChanged)(i))})}},y._updateChanges=function(e,t){e&&(this.updateColumnDataTypes(e),this._dataSourceApplied=!0),x.default.equalSortParameters(t.sorting,this.getSortDataSourceParameters())||(0,E.updateColumnChanges)(this,"sorting"),x.default.equalSortParameters(t.grouping,this.getGroupDataSourceParameters())||(0,E.updateColumnChanges)(this,"grouping");var n=this.getController("data");n&&!x.default.equalFilterParameters(t.filtering,n.getCombinedFilter())&&(0,E.updateColumnChanges)(this,"filtering"),(0,E.updateColumnChanges)(this,"columns")},y.updateSortingGrouping=function(e,t){var n,i,o=this,a=function(e,n,i){(0,u.each)(e,function(e,o){if(delete o[i],n)for(var a=0;a<n.length;a++){var r=n[a].selector,l=n[a].isExpanded;if(r===o.dataField||r===o.name||r===o.selector||r===o.calculateCellValue||r===o.calculateGroupValue||r===o.calculateDisplayValue){o.sortOrder=t?"sortOrder"in o?o.sortOrder:n[a].desc?"desc":"asc":o.sortOrder||(n[a].desc?"desc":"asc"),void 0!==l&&(o.autoExpandGroup=l),o[i]=a;break}}})};if(e){n=x.default.normalizeSortingInfo(e.sort());var r=x.default.normalizeSortingInfo(e.group()),l=o.getGroupDataSourceParameters(),s=o.getSortDataSourceParameters(),d=!x.default.equalSortParameters(r,l,!0),c=!d&&!x.default.equalSortParameters(r,l);o._columns.length||((0,u.each)(r,function(e,t){o._columns.push(t.selector)}),(0,u.each)(n,function(e,t){(0,h.isFunction)(t.selector)||o._columns.push(t.selector)}),(0,E.assignColumns)(o,(0,E.createColumnsFromOptions)(o,o._columns))),!t&&(l||o._hasUserState)||!d&&!c||(o.__groupingUpdated=!0,a(o._columns,r,"groupIndex"),t&&(d&&(0,E.updateColumnChanges)(o,"grouping"),c&&(0,E.updateColumnChanges)(o,"groupExpanding"),i=!0)),!t&&(s||o._hasUserState)||x.default.equalSortParameters(n,s)||(o.__sortingUpdated=!0,a(o._columns,n,"sortIndex"),t&&((0,E.updateColumnChanges)(o,"sorting"),i=!0)),i&&(0,E.fireColumnsChanged)(o)}},y.updateFilter=function(e,t,n,o){if(!Array.isArray(e))return e;if(n=void 0!==(e=(0,s.extend)([],e)).columnIndex?e.columnIndex:n,o=void 0!==e.filterValue?e.filterValue:o,(0,h.isString)(e[0])&&"!"!==e[0]){var a=this.columnOption(e[0]);t?(0,i.default)().forceIsoDateParsing&&a&&a.serializeValue&&e.length>1&&(e[e.length-1]=a.serializeValue(e[e.length-1],"filter")):a&&a.selector&&(e[0]=a.selector,e[0].columnIndex=a.index)}else(0,h.isFunction)(e[0])&&(e[0].columnIndex=n,e[0].filterValue=o);for(var r=0;r<e.length;r++)e[r]=this.updateFilter(e[r],t,n,o);return e},y.columnCount=function(){return this._columns?this._columns.length:0},y.columnOption=function(e,t,n,i){var o=this,a=o._columns.concat(o._commandColumns),r=(0,E.findColumn)(a,e);if(r){if(1===arguments.length)return(0,s.extend)({},r);if((0,h.isString)(t)){if(2===arguments.length)return(0,E.columnOptionCore)(o,r,t);(0,E.columnOptionCore)(o,r,t,n,i)}else(0,h.isObject)(t)&&(0,u.each)(t,function(e,t){(0,E.columnOptionCore)(o,r,e,t,i)});(0,E.fireColumnsChanged)(o)}},y.clearSorting=function(){var e=this.columnCount();this.beginUpdate();for(var t=0;t<e;t++)this.columnOption(t,"sortOrder",void 0);this.endUpdate()},y.clearGrouping=function(){var e=this.columnCount();this.beginUpdate();for(var t=0;t<e;t++)this.columnOption(t,"groupIndex",void 0);this.endUpdate()},y.getVisibleIndex=function(e,t){for(var n=this.getVisibleColumns(t),i=n.length-1;i>=0;i--)if(n[i].index===e)return i;return -1},y.getVisibleIndexByColumn=function(e,t){var n=this.getVisibleColumns(t),i=n.filter(function(t){return t.index===e.index&&t.command===e.command})[0];return n.indexOf(i)},y.getVisibleColumnIndex=function(e,t){var n=this.columnOption(e,"index");return this.getVisibleIndex(n,t)},y.addColumn=function(e){var t=(0,E.createColumn)(this,e),n=this._columns.length;this._columns.push(t),t.isBand&&(this._columns=(0,E.createColumnsFromOptions)(this,this._columns),t=this._columns[n]),t.added=e,(0,E.updateIndexes)(this,t),this.updateColumns(this._dataSource),this._checkColumns()},y.deleteColumn=function(e){var t=this.columnOption(e);if(t&&t.index>=0){if((0,E.convertOwnerBandToColumnReference)(this._columns),this._columns.splice(t.index,1),t.isBand){var n=this.getChildrenByBandColumn(t.index).map(function(e){return e.index});this._columns=this._columns.filter(function(e){return 0>n.indexOf(e.index)})}(0,E.updateIndexes)(this),this.updateColumns(this._dataSource)}},y.addCommandColumn=function(e){var t=this._commandColumns.filter(function(t){return t.command===e.command})[0];t||(t=e,this._commandColumns.push(t))},y.getUserState=function(){var e,t=this._columns,n=[];function i(i,o){void 0!==t[e][o]&&(n[e][o]=t[e][o])}for(e=0;e<t.length;e++)n[e]={},(0,u.each)(I.USER_STATE_FIELD_NAMES,i);return n},y.setName=function(e){e.name=e.name||e.dataField||e.type},y.setUserState=function(e){var t=this._dataSource,n=this.option("stateStoring.ignoreColumnOptionNames");if(null==e||e.forEach(this.setName),!n){n=[];var i=this.getCommonSettings();this.option("columnChooser.enabled")||n.push("visible"),"none"===this.option("sorting.mode")&&n.push("sortIndex","sortOrder"),i.allowGrouping||n.push("groupIndex"),i.allowFixing||n.push("fixed","fixedPosition"),i.allowResizing||n.push("width","visibleWidth");var o=!this.option("filterPanel.visible");!this.option("filterRow.visible")&&o&&n.push("filterValue","selectedFilterOperation"),!this.option("headerFilter.visible")&&o&&n.push("filterValues","filterType")}this._columnsUserState=e,this._ignoreColumnOptionNames=n,this._hasUserState=!!e,(0,E.updateColumnChanges)(this,"filtering"),this.init(!0),t&&(t.sort(this.getSortDataSourceParameters()),t.group(this.getGroupDataSourceParameters()))},y._checkColumns=function(){var e={},t=!1,n=[];this._columns.forEach(function(i){var o,a=i.name,r=null===(o=i.columns)||void 0===o?void 0:o.length,l=i.allowEditing&&(i.dataField||i.setCellValue)&&!r;a?(e[a]&&n.push('"'.concat(a,'"')),e[a]=!0):l&&(t=!0)}),n.length&&w.default.log("E1059",n.join(", ")),t&&w.default.log("E1060")},y._createCalculatedColumnOptions=function(e,t){var n={},i=e.dataField;if((Array.isArray(e.columns)&&e.columns.length||e.isBand)&&(n.isBand=!0,i=null),i){if((0,h.isString)(i)){var o=(0,r.compileGetter)(i);n={caption:(0,d.captionize)(i),calculateCellValue:function(e,t){var n=o(e);return this.deserializeValue&&!t?this.deserializeValue(n):n},setCellValue:E.defaultSetCellValue,parseValue:function(e){var t,n;return"number"===this.dataType?(0,h.isString)(e)&&this.format?t=(0,E.strictParseNumber)(e.trim(),this.format):(0,h.isDefined)(e)&&(0,h.isNumeric)(e)&&(t=Number(e)):"boolean"===this.dataType?e===this.trueText?t=!0:e===this.falseText&&(t=!1):x.default.isDateType(this.dataType)?(n=v.default.parse(e,this.format))&&(t=n):t=e,t}}}n.allowFiltering=!0}else n.allowFiltering=!!e.calculateFilterExpression;return n.calculateFilterExpression=function(){return $.default.defaultCalculateFilterExpression.apply(this,arguments)},n.defaultFilterOperation="=",n.createFilterExpression=function(e){var t;return this.calculateFilterExpression&&(t=this.calculateFilterExpression.apply(this,arguments)),(0,h.isFunction)(t)&&(t=[t,"=",!0]),t&&(t.columnIndex=this.index,t.filterValue=e),t},i&&(0,h.isString)(i)||(0,s.extend)(!0,n,{allowSorting:!1,allowGrouping:!1,calculateCellValue:function(){return null}}),t&&(n.allowFixing=!1),e.dataType&&(n.userDataType=e.dataType),!e.selectedFilterOperation||"defaultSelectedFilterOperation"in n||(n.defaultSelectedFilterOperation=e.selectedFilterOperation),e.lookup&&(n.lookup={calculateCellValue:function(e,t){return this.valueExpr&&(e=this.valueMap&&this.valueMap[e]),this.deserializeValue&&!t?this.deserializeValue(e):e},updateValueMap:function(){if(this.valueMap={},this.items)for(var e=(0,r.compileGetter)(this.valueExpr),t=(0,r.compileGetter)(this.displayExpr),n=0;n<this.items.length;n++){var i=this.items[n],o=t(i);this.valueMap[e(i)]=o,this.dataType=this.dataType||(0,E.getValueDataType)(o)}},update:function(){var e=this,t=e.dataSource;if(t){if((0,h.isFunction)(t)&&!f.default.isWrapped(t)&&(t=t({})),(0,h.isPlainObject)(t)||t instanceof p.default||Array.isArray(t)){if(e.valueExpr){var n=(0,m.normalizeDataSourceOptions)(t);return n.paginate=!1,(t=new g.DataSource(n)).load().done(function(t){e.items=t,e.updateValueMap&&e.updateValueMap()})}}else w.default.log("E1016")}else e.updateValueMap&&e.updateValueMap()}}),n.resizedCallbacks=(0,a.default)(),e.resized&&n.resizedCallbacks.add(e.resized.bind(e)),(0,u.each)(n,function(e){(0,h.isFunction)(n[e])&&0!==e.indexOf("default")&&(n["default".concat(e.charAt(0).toUpperCase()).concat(e.substr(1))]=n[e])}),n},y.getRowCount=function(){return this._rowCount=this._rowCount||(0,E.getRowCount)(this),this._rowCount},y.getRowIndex=function(e,t){var n=this._columns[e],i=this.getBandColumnsCache();return n&&(t||n.visible&&!n.command&&!(0,h.isDefined)(n.groupIndex))?(0,E.getParentBandColumns)(e,i.columnParentByIndex).length:0},y.getChildrenByBandColumn=function(e,t){var n=this.getBandColumnsCache(),i=(0,E.getChildrenByBandColumn)(e,n.columnChildrenByIndex,!t);return t?i.filter(function(e){return e.visible&&!e.command}).sort(function(e,t){return e.visibleIndex-t.visibleIndex}):i},y.isParentBandColumn=function(e,t){var n=!1,i=this._columns[e],o=this.getBandColumnsCache(),a=i&&(0,E.getParentBandColumns)(e,o.columnParentByIndex);return a&&(0,u.each)(a,function(e,i){if(i.index===t)return n=!0,!1}),n},y.isParentColumnVisible=function(e){var t=!0,n=this.getBandColumnsCache(),i=e>=0&&(0,E.getParentBandColumns)(e,n.columnParentByIndex);return i&&(0,u.each)(i,function(e,n){return t=t&&n.visible}),t},y.getColumnId=function(e){return e.command&&e.type===I.GROUP_COMMAND_COLUMN_NAME?(0,E.isCustomCommandColumn)(this,e)?"type:".concat(e.type):"command:".concat(e.command):e.index},y.getCustomizeTextByDataType=function(e){return(0,E.getCustomizeTextByDataType)(e)},y.getHeaderContentAlignment=function(e){return this.option("rtlEnabled")?"left"===e?"right":"left":e},t}(y.default.Controller);t.ColumnsController=D,t.columnsControllerModule={defaultOptions:function(){return{commonColumnSettings:{allowFiltering:!0,allowHiding:!0,allowSorting:!0,allowEditing:!0,encodeHtml:!0,trueText:C.default.format("dxDataGrid-trueText"),falseText:C.default.format("dxDataGrid-falseText")},allowColumnReordering:!1,allowColumnResizing:!1,columnResizingMode:"nextColumn",columnMinWidth:void 0,columnWidth:void 0,adaptColumnWidthByRatio:!0,columns:void 0,regenerateColumnsByVisibleItems:!1,customizeColumns:null,dateSerializationFormat:void 0}},controllers:{columns:D}}},27119(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.applyUserState=t.addExpandColumn=void 0,t.assignColumns=A,t.calculateColspan=void 0,t.checkUserStateColumn=R,t.isCustomCommandColumn=t.isColumnFixed=t.getValueDataType=t.getSerializationFormat=t.getRowCount=t.getParentBandColumns=t.getFixedPosition=t.getDataColumns=t.getCustomizeTextByDataType=t.getColumnIndexByVisibleIndex=t.getColumnFullPath=t.getColumnByIndexes=t.getChildrenByBandColumn=t.getAlignmentByDataType=t.fireOptionChanged=t.fireColumnsChanged=t.findColumn=t.digitsCount=t.defaultSetCellValue=t.customizeTextForBooleanDataType=t.createColumnsFromOptions=t.createColumnsFromDataSource=t.createColumn=t.convertOwnerBandToColumnReference=t.columnOptionCore=void 0,t.isSortOrderValid=B,t.updateSortOrderWhenGrouping=t.updateSerializers=t.updateIndexes=t.updateColumnVisibleIndexes=t.updateColumnSortIndexes=t.updateColumnIndexes=t.updateColumnGroupIndexes=t.updateColumnChanges=t.strictParseNumber=t.sortColumns=t.setFilterOperationsAsDefaultValues=t.resetColumnsCache=t.resetBandColumnsCache=t.processExpandColumns=t.processBandColumns=t.numberToString=t.moveColumnToGroup=t.mergeColumns=void 0;var i=n(37001),o=n(36808),a=n(97251),r=m(n(59781)),l=n(68841),s=n(1685),d=n(74276),u=n(2005),c=n(4964),h=m(n(5735)),f=m(n(84396)),p=m(n(31560)),g=n(4996);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){e.filterOperations=e.defaultFilterOperations};t.setFilterOperationsAsDefaultValues=v;var C=1,$=function(e,t,n,i){var o={};if(t){(0,c.isString)(t)&&(t={dataField:t}),e.setName(t);var a={};if(t.command)a=(0,d.deepExtendArraySafe)(o,t);else{o=e.getCommonSettings(t),n&&n.name&&n.dataField&&(t=(0,l.extend)({},t,{dataField:n.dataField}));var r=e._createCalculatedColumnOptions(t,i);t.type||(a={headerId:"dx-col-".concat(C++)}),a=(0,d.deepExtendArraySafe)(a,g.DEFAULT_COLUMN_OPTIONS),(0,d.deepExtendArraySafe)(a,o),(0,d.deepExtendArraySafe)(a,r),(0,d.deepExtendArraySafe)(a,t),(0,d.deepExtendArraySafe)(a,{selector:null})}return t.filterOperations===t.defaultFilterOperations&&v(a),a}};t.createColumn=$;var w=function e(t,n,i){var o=[];return n&&(0,s.each)(n,function(n,a){var r=t._columnsUserState&&R(a,t._columnsUserState[n])&&t._columnsUserState[n],l=$(t,a,r,i);l&&(i&&(l.ownerBand=i),o.push(l),l.columns&&(o=o.concat(e(t,l.columns,l)),delete l.columns,l.hasColumns=!0))}),o};t.createColumnsFromOptions=w;var y=function(e,t){for(var n=[],i=t[e];i;)n.unshift(i),i=t[e=i.index];return n};t.getParentBandColumns=y,t.getChildrenByBandColumn=function e(t,n,i){var o=[],a=n[t];if(a)for(var r=0;r<a.length;r++){var l=a[r];(0,c.isDefined)(l.groupIndex)&&!l.showWhenGrouped||(o.push(l),i&&l.isBand&&(o=o.concat(e(l.index,n,i))))}return o},t.getColumnByIndexes=function(e,t){var n,i,o=function(e){var t=n?n.index:void 0;return e.ownerBand===t};if(e.getBandColumnsCache().isPlain)n=e._columns[t[0]];else{i=e._columns.filter(o);for(var a=0;a<t.length;a++)(n=i[t[a]])&&(i=e._columns.filter(o))}return n};var x=function(e,t){var n,i=[],o=e.getBandColumnsCache(),a=function(e){return e.ownerBand===t.ownerBand};if(o.isPlain){var r=e._columns.indexOf(t);r>=0&&(i=["columns[".concat(r,"]")])}else for(n=e._columns.filter(a);n.length&&-1!==n.indexOf(t);)i.unshift("columns[".concat(n.indexOf(t),"]")),n=(t=o.columnParentByIndex[t.index])?e._columns.filter(a):[];return i.join(".")};t.getColumnFullPath=x;var I=function e(t,n){var i=0,o=t.getChildrenByBandColumn(n,!0);return(0,s.each)(o,function(n,o){o.isBand?(o.colspan=o.colspan||e(t,o.index),i+=o.colspan||1):i+=1}),i};t.calculateColspan=I,t.processBandColumns=function(e,t,n){for(var i,o=0;o<t.length;o++){var a=t[o];(a.visible||a.command)&&(a.isBand&&(a.colspan=a.colspan||I(e,a.index)),a.isBand&&a.colspan||(i=e.getRowCount(),a.command||(0,c.isDefined)(a.groupIndex)&&!a.showWhenGrouped||(i-=y(a.index,n.columnParentByIndex).length),i>1&&(a.rowspan=i)))}},t.getValueDataType=function(e){var t=(0,c.type)(e);return"string"!==t&&"boolean"!==t&&"number"!==t&&"date"!==t&&"object"!==t&&(t=void 0),t},t.getSerializationFormat=function(e,t){switch(e){case"date":case"datetime":return r.default.getDateSerializationFormat(t);case"number":if((0,c.isString)(t))return"string";if((0,c.isNumeric)(t))return null}},t.updateSerializers=function(e,t){e.deserializeValue||(p.default.isDateType(t)&&(e.deserializeValue=function(e){return r.default.deserializeDate(e)},e.serializeValue=function(e){return(0,c.isString)(e)?e:r.default.serializeDate(e,this.serializationFormat)}),"number"===t&&(e.deserializeValue=function(e){var t=parseFloat(e);return isNaN(t)?e:t},e.serializeValue=function(e,t){return"filter"===t?e:(0,c.isDefined)(e)&&"string"===this.serializationFormat?e.toString():e}))},t.getAlignmentByDataType=function(e,t){switch(e){case"number":return"right";case"boolean":return"center";default:return(0,u.getDefaultAlignment)(t)}};var E=function(e){return!0===e.value?this.trueText||"true":!1===e.value?this.falseText||"false":e.valueText||""};t.customizeTextForBooleanDataType=E,t.getCustomizeTextByDataType=function(e){if("boolean"===e)return E},t.createColumnsFromDataSource=function(e,t){for(var n,i=e._getFirstItems(t),o={},a=[],r=0;r<i.length;r++)if(i[r])for(n in i[r])(0,c.isFunction)(i[r][n])&&!h.default.isWrapped(i[r][n])||(o[n]=!0);for(n in o)if(0!==n.indexOf("__")){var l=$(e,n);a.push(l)}return a};var b=function(e){(0,s.each)(e._columns,function(e,t){t.index=e}),(0,s.each)(e._columns,function(e,t){(0,c.isObject)(t.ownerBand)&&(t.ownerBand=t.ownerBand.index)}),(0,s.each)(e._commandColumns,function(e,t){t.index=-(e+1)})};t.updateColumnIndexes=b;var S=function(e,t){(0,i.normalizeIndexes)(e._columns,"groupIndex",t,function(e){var t=e.grouped;return delete e.grouped,t})};t.updateColumnGroupIndexes=S;var T=function(e,t){(0,s.each)(e._columns,function(e,t){(0,c.isDefined)(t.sortIndex)&&!B(t.sortOrder)&&delete t.sortIndex}),(0,i.normalizeIndexes)(e._columns,"sortIndex",t,function(e){return!(0,c.isDefined)(e.groupIndex)&&B(e.sortOrder)})};t.updateColumnSortIndexes=T;var D=function(e,t){for(var n,o=[],a=e.getBandColumnsCache(),r=[],l=e._columns.filter(function(e){return!e.command}),s=0;s<l.length;s++)n=l[s],y(s,a.columnParentByIndex).length?r.push(n):o.push(n);(0,i.normalizeIndexes)(r,"visibleIndex",t),(0,i.normalizeIndexes)(o,"visibleIndex",t)};function R(e,t){return e&&t&&t.name===(e.name||e.dataField)&&(t.dataField===e.dataField||e.name)}t.updateColumnVisibleIndexes=D,t.getColumnIndexByVisibleIndex=function(e,t,n){var i,o=(0,c.isObject)(t)?t.rowIndex:null;return(i=(n===g.GROUP_LOCATION?e.getGroupColumns():n===g.COLUMN_CHOOSER_LOCATION?e.getChooserColumns():e.getVisibleColumns(o))[t=(0,c.isObject)(t)?t.columnIndex:t])&&i.type===g.GROUP_COMMAND_COLUMN_NAME&&(i=e._columns.filter(function(e){return i.type===e.type})[0]||i),i&&(0,c.isDefined)(i.index)?i.index:-1},t.moveColumnToGroup=function(e,t,n){var i,o=e.getGroupColumns();if(n>=0)for(i=0;i<o.length;i++)o[i].groupIndex>=n&&o[i].groupIndex++;else for(n=0,i=0;i<o.length;i++)n=Math.max(n,o[i].groupIndex+1);return n},t.applyUserState=function(e){var t,n,i,o=e._columnsUserState,a=e._ignoreColumnOptionNames||[],r=e._columns,l={},s=[],d=!0,u=[];function h(e,t){if(t)for(var n=0;n<g.USER_STATE_FIELD_NAMES.length;n++){var i=g.USER_STATE_FIELD_NAMES[n];a.includes(i)||("dataType"===i?e[i]=e[i]||t[i]:g.USER_STATE_FIELD_NAMES_15_1.includes(i)?i in t&&(e[i]=t[i]):("selectedFilterOperation"===i&&t[i]&&(e.defaultSelectedFilterOperation=e[i]||null),e[i]=t[i]))}}function f(e,t){for(var n=t.name||t.dataField,i=l[n]||0,o=0;o<e.length;o++)if(R(t,e[o])){if(!i)return l[n]=l[n]||0,l[n]++,o;i--}return -1}if(o){for(i=0;i<r.length;i++)n=f(o,r[i]),d=d&&n>=0,u.push(n);for(i=0;i<r.length;i++)t=r[i],n=u[i],(e._hasUserState||d)&&h(t,o[n]),n>=0&&(0,c.isDefined)(o[n].initialIndex)?s[n]=t:s.push(t);var p=!1;for(i=0;i<o.length;i++){var m=o[i];m.added&&0>f(r,m)&&(h(t=$(e,m.added),m),s.push(t),m.added.columns&&(p=!0))}p&&(b(e),s=w(e,s)),A(e,s)}};var O=function(e,t){b(e),S(e,t),T(e,t),k(e),D(e,t)};t.updateIndexes=O;var F=function(e){e.resetColumnsCache()};function A(e,t){e._previousColumns=e._columns,e._columns=t,F(e),e.updateColumnDataTypes()}t.resetColumnsCache=F;var P=function(e,t,n,i){var o=e._columnChanges||{optionNames:{length:0},changeTypes:{length:0},columnIndex:i};n=(n=n||"all").split(".")[0];var a=o.changeTypes;t&&!a[t]&&(a[t]=!0,a.length++);var r=o.optionNames;n&&!r[n]&&(r[n]=!0,r.length++),void 0!==i&&i===o.columnIndex||delete o.columnIndex,e._columnChanges=o,F(e)};t.updateColumnChanges=P,t.fireColumnsChanged=function(e){var t,n=e.option("onColumnsChanging"),i=e._columnChanges;e.isInitialized()&&!e._updateLockCount&&i&&(n&&(e._updateLockCount++,n((0,l.extend)({component:e.component},i)),e._updateLockCount--),e._columnChanges=void 0,(t=i.optionNames)&&["dataField","lookup","dataType","columns"].some(function(e){return t[e]})?(e._reinitAfterLookupChanges=null==i?void 0:i.optionNames.lookup,e.reinit(),e._reinitAfterLookupChanges=void 0):e.columnsChanged.fire(i))};var V=function(e,t,n,i){if(n>=0)i>=0||(t.lastSortOrder=t.sortOrder);else{var o=e.option("sorting.mode"),a=t.lastSortOrder;"single"===o&&e._columns.some(function(e){return e!==t&&(0,c.isDefined)(e.sortIndex)})&&(a=void 0),t.sortOrder=a}};t.updateSortOrderWhenGrouping=V;var _=function(e,t){var n=t.value,i=t.optionName,o=t.prevValue,a=t.fullOptionName,r="".concat(a,".").concat(i);g.IGNORE_COLUMN_OPTION_NAMES[i]||e._skipProcessingColumnsChange===r||(e._skipProcessingColumnsChange=r,e.component._notifyOptionChanged(r,n,o),e._skipProcessingColumnsChange=!1)};function B(e){return"asc"===e||"desc"===e}t.fireOptionChanged=_,t.columnOptionCore=function(e,t,n,i,r){var l,s,d,u=(0,a.compileGetter)(n),h=t.index;if(3===arguments.length)return u(t,{functionsAsIs:!0});var f=u(t,{functionsAsIs:!0});if(!(0,o.equalByValue)(f,i,{maxDepth:5})){"groupIndex"===n||"calculateGroupValue"===n?(s="grouping",V(e,t,i,f)):s="sortIndex"===n||"sortOrder"===n||"calculateSortValue"===n?"sorting":"columns";var p=(0,a.compileSetter)(n);p(t,i,{functionsAsIs:!0});var m=x(e,t);g.COLUMN_INDEX_OPTIONS[n]&&(O(e,t),i=u(t)),"name"!==n&&"allowEditing"!==n||e._checkColumns(),(0,c.isDefined)(f)||(0,c.isDefined)(i)||0===n.indexOf("buffer")||(r=!0),r?F(e):(g.USER_STATE_FIELD_NAMES.includes(n)||"visibleWidth"===n||(l=e.option("columns"),d=e.getColumnByPath(m,l),(0,c.isString)(d)&&(d=l[h]={dataField:d}),d&&R(d,t)&&p(d,i,{functionsAsIs:!0})),P(e,s,n,h)),m&&_(e,{fullOptionName:m,optionName:n,value:i,prevValue:f})}},t.addExpandColumn=function(e){var t=e._getExpandColumnOptions();e.addCommandColumn(t)},t.defaultSetCellValue=function(e,t){var n=this.dataField.split("."),i=n.length-1;this.serializeValue&&(t=this.serializeValue(t));for(var o=0;o<i;o++){var a=n[o];e=e[a]=e[a]||{}}e[n[i]]=t},t.getDataColumns=function e(t,n,i){var o=[];return t[n=n||0]&&(0,s.each)(t[n],function(a,r){r.ownerBand!==i&&r.type!==g.GROUP_COMMAND_COLUMN_NAME||(r.isBand&&r.colspan?o.push.apply(o,e(t,n+1,r.index)):(!r.command||n<1)&&o.push(r))}),o},t.getRowCount=function(e){var t=1,n=e.getBandColumnsCache().columnParentByIndex;return e._columns.forEach(function(e){var i=y(e.index,n),o=i.filter(function(e){return!e.visible});e.visible&&!o.length&&(t=Math.max(t,i.length+1))}),t};var M=function(e,t){return!!e._columns.filter(function(e){return e.type===t.type}).length};t.isCustomCommandColumn=M,t.getFixedPosition=function(e,t){var n=e.option("rtlEnabled");return(!t.command||M(e,t))&&t.fixedPosition?t.fixedPosition:n?"right":"left"},t.processExpandColumns=function(e,t,n,i){var o,a=this.getRowCount(),r=e[i]&&e[i].rowspan,d=t.filter(function(e){return e.type===n});return e.forEach(function(t,i){t.type===n&&(o=i,r=e[i+1]?e[i+1].rowspan:a)}),r>1&&(d=(0,s.map)(d,function(e){return(0,l.extend)({},e,{rowspan:r})})),d.unshift.apply(d,(0,c.isDefined)(o)?[o,1]:[i,0]),e.splice.apply(e,d),r||1},t.digitsCount=function(e){var t;for(t=0;e>1;t++)e/=10;return t},t.numberToString=function(e,t){for(var n=e?e.toString():"0";n.length<t;)n="0".concat(n);return n},t.mergeColumns=function(e,t,n,i){for(var o,a,r=t.slice().map(function(e){return(0,l.extend)({},e)}),s=e._isColumnFixing(),d=n.slice().map(function(e){return(0,l.extend)({fixed:s},e)}),u=function(e){return n.reduce(function(t,n,o){var a=i&&e.type===g.GROUP_COMMAND_COLUMN_NAME?"expand":e.type;return n.type===a||n.command===e.command?o:t},-1)},c=function(e){return e.command!==n[a].command},h=0;h<t.length;h++)if((a=(o=t[h])&&(o.type||o.command)?u(o):-1)>=0){if(i)r[h]=(0,l.extend)({fixed:s},n[a],o),o.type!==g.GROUP_COMMAND_COLUMN_NAME&&(d=d.filter(c));else{var f={visibleIndex:o.visibleIndex,index:o.index,headerId:o.headerId,allowFixing:0===o.groupIndex,allowReordering:0===o.groupIndex,groupIndex:o.groupIndex};r[h]=(0,l.extend)({},o,n[a],o.type===g.GROUP_COMMAND_COLUMN_NAME&&f)}}return t.length&&i&&d.length&&(r=r.concat(d)),r},t.isColumnFixed=function(e,t){return(0,c.isDefined)(t.fixed)||!t.type?t.fixed:e._isColumnFixing()},t.convertOwnerBandToColumnReference=function(e){e.forEach(function(t){(0,c.isDefined)(t.ownerBand)&&(t.ownerBand=e[t.ownerBand])})};var k=function(e){e._bandColumnsCache=void 0};t.resetBandColumnsCache=k,t.findColumn=function(e,t){var n,i=(0,c.isString)(t)&&t.substr(0,t.indexOf(":"));if(void 0!==t)return i&&(t=t.substr(i.length+1)),i?n=e.filter(function(e){return"".concat(e[i])===t})[0]:["index","name","dataField","caption"].some(function(i){return!!(n=e.filter(function(e){return e[i]===t})[0])}),n},t.sortColumns=function(e,t){if("asc"!==t&&"desc"!==t)return e;var n="asc"===t?1:-1;return e.sort(function(e,t){var i=e.caption||"",o=t.caption||"";return n*i.localeCompare(o)}),e},t.strictParseNumber=function(e,t){var n=f.default.parse(e);if((0,c.isNumeric)(n)){var i=f.default.format(n,t),o=f.default.format(n,"decimal");if(i===e||o===e)return n}}},85746(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.columnsResizingReorderingModule=void 0;var i=$(n(87602)),o=$(n(71251)),a=$(n(68689)),r=$(n(46169)),l=n(68841),s=n(1685),d=n(2005),u=n(65553),c=n(4964),h=$(n(21445)),f=n(80711),p=$(n(30593)),g=n(48634),m=$(n(31155)),v=$(n(88445)),C=$(n(31560));function $(e){return e&&e.__esModule?e:{default:e}}var w="columns-separator-transparent",y="drag-header",x="drag-action",I="tracker",E="drop-highlight",b="dx-block-separator",S="dx-header-row",T="dxDataGridResizingReordering",D=function(e){return e.option("allowColumnResizing")||e.getController("columns").isColumnOptionUsed("allowResizing")},R=function(e){return e.option("allowColumnReordering")||e.getController("columns").isColumnOptionUsed("allowReordering")},O=v.default.View.inherit({_renderCore:function(){var e=this.callBase();return this.element().addClass(this.addWidgetPrefix(I)),this.hide(),e},_unsubscribeFromCallback:function(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)},_subscribeToCallback:function(){var e=this;e._positionChanged=function(t){var n=e.element();n&&n.hasClass(e.addWidgetPrefix(I))&&(n.css({top:t.top}),(0,u.setHeight)(n,t.height))},this._tablePositionController.positionChanged.add(e._positionChanged)},optionChanged:function(e){"allowColumnResizing"===e.name&&(this._unsubscribeFromCallback(),e.value&&(this._subscribeToCallback(),this._invalidate())),this.callBase(e)},init:function(){this.callBase(),this._tablePositionController=this.getController("tablePosition"),this._subscribeToCallback()},isVisible:function(){return D(this)},show:function(){this.element().show()},hide:function(){this.element()&&this.element().hide()},setHeight:function(e){(0,u.setHeight)(this.element(),e)},dispose:function(){this._unsubscribeFromCallback(),this.callBase()}}),F=v.default.View.inherit({_renderSeparator:function(){},_renderCore:function(e){var t=this.callBase(e);return this._isShown=!0,this._renderSeparator(),this.hide(),t},show:function(){this._isShown=!0},hide:function(){this._isShown=!1},height:function(e){var t=this.element();if(t){if(!(0,c.isDefined)(e))return(0,u.getHeight)(t);(0,u.setHeight)(t,e)}},width:function(e){var t=this.element();if(t){if(!(0,c.isDefined)(e))return(0,u.getWidth)(t);(0,u.setWidth)(t,e)}}}),A=F.inherit({_renderSeparator:function(){this.callBase(),this.element().addClass(this.addWidgetPrefix("columns-separator"))},_subscribeToCallback:function(){var e,t=this;t._positionChanged=function(n){(e=t.element())&&(e.css({top:n.top}),(0,u.setHeight)(e,n.height))},t._tablePositionController.positionChanged.add(t._positionChanged)},_unsubscribeFromCallback:function(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)},_init:function(){this._isTransparent=D(this),this.isVisible()&&this._subscribeToCallback()},isVisible:function(){return this.option("showColumnHeaders")&&(R(this)||D(this))},optionChanged:function(e){"allowColumnResizing"===e.name&&(e.value?(this._init(),this._invalidate(),this.hide(!0)):(this._unsubscribeFromCallback(),this._isTransparent=D(this),this.hide(!0))),this.callBase(e)},init:function(){this.callBase(),this._tablePositionController=this.getController("tablePosition"),this._init()},show:function(){var e=this.element();e&&!this._isShown&&(this._isTransparent?e.removeClass(this.addWidgetPrefix(w)):e.show()),this.callBase()},hide:function(e){var t=this.element(),n=this.addWidgetPrefix(w);t&&(this._isShown||e)&&(this._isTransparent?(t.addClass(n),t.css("left",""),t.show()):(t.hasClass(n)&&t.removeClass(n),t.hide())),this.callBase()},moveByX:function(e){var t=this.element();t&&(t.css("left",null===e?0:e-this._parentElement().offset().left),this._testPosX=e)},changeCursor:function(e){e=(0,c.isDefined)(e)?e:"";var t=this.element();t&&(t.css("cursor",e),this._testCursorName=e)},dispose:function(){this._unsubscribeFromCallback(),this.callBase()}}),P=F.inherit({init:function(){var e=this;this.callBase(),this.getController("data").loadingChanged.add(function(t){t||e.hide()})},_renderSeparator:function(){this.callBase(),this.element().addClass(b).html("&nbsp;")},hide:function(){var e=this._parentElement(),t=this.element();t&&this._isShown&&t.css("display","none"),e&&!e.children(".".concat(b)).length&&e.prepend(this.element()),this.callBase()},isVisible:function(){var e=this.option("groupPanel"),t=this.option("columnChooser");return e&&e.visible||t&&t.enabled},show:function(e){var t=this.element(),n=function(e){i.default.stop(t,!0),i.default.animate(t,{type:"slide",from:{width:0,display:e.display},to:e,duration:300,easing:"swing"})};if(t&&!this._isShown)switch(e){case"group":n({width:"50px",display:"inline-block"});break;case"columnChooser":n({width:"100%",display:"block"});break;default:t.css("display","")}this.callBase()}}),V=v.default.View.inherit({_isDragging:!1,isDragging:function(){return this._isDragging},_getDraggingPanelByPos:function(e){var t;return(0,s.each)(this._dragOptions.draggingPanels,function(n,i){if(i){var o=i.getBoundingRect();if(o&&(void 0===o.bottom||e.y<o.bottom)&&(void 0===o.top||e.y>o.top)&&(void 0===o.left||e.x>o.left)&&(void 0===o.right||e.x<o.right))return t=i,!1}}),t},_renderCore:function(){this.element().addClass("".concat(this.addWidgetPrefix(y)," ").concat(this.addWidgetPrefix("text-content")," ").concat("dx-widget")).hide()},_resetTargetColumnOptions:function(){var e=this._dropOptions;e.targetColumnIndex=-1,delete e.targetColumnElement,delete e.isLast,delete e.posX,delete e.posY},_getVisibleIndexObject:function(e,t){return(0,c.isDefined)(e)?{columnIndex:t,rowIndex:e}:t},dispose:function(){var e=this.element();this._dragOptions=null,e&&e.parent().find(".".concat(this.addWidgetPrefix(y))).remove()},isVisible:function(){var e=this.getController("columns").getCommonSettings();return this.option("showColumnHeaders")&&(R(this)||e.allowGrouping||e.allowHiding)},init:function(){var e=this;this.callBase(),this._controller=this.getController("draggingHeader"),this._columnsResizerViewController=this.getController("columnsResizer"),this.getController("data").loadingChanged.add(function(t){var n=e.element();!t&&n&&n.hide()})},dragHeader:function(e){var t=e.columnElement,n=!!e.sourceColumn.type;this._isDragging=!0,this._dragOptions=e,this._dropOptions={sourceIndex:e.index,sourceColumnIndex:this._getVisibleIndexObject(e.rowIndex,e.columnIndex),sourceColumnElement:e.columnElement,sourceLocation:e.sourceLocation};var i=o.default.getDocument();this._onSelectStart=i.onselectstart,i.onselectstart=function(){return!1},this._controller.drag(this._dropOptions),this.element().css({textAlign:t&&t.css("textAlign"),height:t&&(n&&t.get(0).clientHeight||(0,u.getHeight)(t)),width:t&&(n&&t.get(0).clientWidth||(0,u.getWidth)(t)),whiteSpace:t&&t.css("whiteSpace")}).addClass(this.addWidgetPrefix(x)).toggleClass("dx-drag-command-cell",n).text(n?"":e.sourceColumn.caption),this.element().appendTo(m.default.getSwatchContainer(t))},moveHeader:function(e){var t=e.event,n=t.data.that,i=(0,g.eventData)(t),o=!!n._columnsResizerViewController&&n._columnsResizerViewController.isResizing(),a=n._dragOptions;if(n._isDragging&&!o){var r=n.element(),l=Math.abs(i.x-a.columnElement.offset().left-a.deltaX),s=Math.abs(i.y-a.columnElement.offset().top-a.deltaY);if(r.is(":visible")||l>5||s>5){r.show();var d=i.x-a.deltaX,u=i.y-a.deltaY;r.css({left:d,top:u}),n.dockHeader(i)}t.preventDefault()}},dockHeader:function(e){var t=this._getDraggingPanelByPos(e),n=this._controller,i=this._dropOptions,o=this._dragOptions;if(t){var r=this.option("rtlEnabled"),s="columnChooser"===t.getName(),d=s?"y":"x",u=t.getName(),c="headers"===u?o.rowIndex:void 0,h=o.sourceColumn,f=t.getColumnElements(c,null==h?void 0:h.ownerBand)||[],p=o.pointsByTarget=o.pointsByTarget||{},g="columnChooser"===u?[]:p[u]||n._generatePointsByColumns((0,l.extend)({},o,{targetDraggingPanel:t,columns:t.getColumns(c),columnElements:f,isVerticalOrientation:s,startColumnIndex:"headers"===u&&(0,a.default)(f[0]).index()}));if(p[u]=g,this._testPointsByColumns=g,i.targetLocation=u,g.length>0)for(var m=0;m<g.length;m++){var v=g[m+1]&&(g[m][d]+g[m+1][d])/2;if(void 0===v||(r&&"x"===d?e[d]>v:e[d]<v)){i.targetColumnIndex=this._getVisibleIndexObject(c,g[m].columnIndex),f[m]?(i.targetColumnElement=f.eq(m),i.isLast=!1):(i.targetColumnElement=f.last(),i.isLast=!0),i.posX=g[m].x,i.posY=g[m].y,n.dock(i);break}}else this._resetTargetColumnOptions(),n.dock(i)}},dropHeader:function(e){var t=e.event.data.that,n=t._controller;t.element().hide(),n&&t._isDragging&&n.drop(t._dropOptions),t.element().appendTo(t._parentElement()),t._dragOptions=null,t._dropOptions=null,t._isDragging=!1,o.default.getDocument().onselectstart=t._onSelectStart||null}}),_=function(e){return"widget"!==e.option("columnResizingMode")},B=v.default.ViewController.inherit({_isHeadersRowArea:function(e){if(this._columnHeadersView){var t=this._columnHeadersView.element();if(t){var n=t.offset().top,i=this._columnHeadersView.getHeadersRowHeight();return e>=n&&e<=n+i}}return!1},_isRtlParentStyle:function(){var e;return this.option("rtlEnabled")&&"rtl"===(null===(e=this._$parentContainer)||void 0===e?void 0:e.parent().css("direction"))},_pointCreated:function(e,t,n){var i=_(this),o=this.option("rtlEnabled"),a=this._isRtlParentStyle(),r=i||!o||a?1:0;if(e.index>=r&&e.index<t+(i||o&&!a?0:1)){e.columnIndex-=r;var l=n[e.columnIndex]||{},s=n[e.columnIndex+1]||{};return!(i?l.allowResizing&&s.allowResizing:l.allowResizing)}return!0},_getTargetPoint:function(e,t,n){if(e){for(var i=0;i<e.length;i++)if((e[i].x!==e[0].x||!e[i+1]||e[i].x!==e[i+1].x)&&e[i].x-n<=t&&t<=e[i].x+n)return e[i]}return null},_moveSeparator:function(e){var t,n=e.event,i=n.data,o=i._columnsSeparatorView.width(),a=_(i),r=i._$parentContainer.offset(),l=r.left,s=(0,g.eventData)(n),d=i.option("rtlEnabled"),c=this._isRtlParentStyle(),h=null===(t=i._draggingHeaderView)||void 0===t?void 0:t.isDragging();if(i._isResizing&&i._resizingInfo){if((l<=s.x||!a&&c)&&(!a||s.x<=l+(0,u.getWidth)(i._$parentContainer))&&i._updateColumnsWidthIfNeeded(s.x)){var f=i._columnHeadersView.getColumnElements().eq(i._resizingInfo.currentColumnIndex),p=f[0];if(p){var m=p.getBoundingClientRect().width;i._columnsSeparatorView.moveByX(f.offset().left+((a||c)&&d?0:m)),i._tablePositionController.update(i._targetPoint.y),n.preventDefault()}}}else h||(i._isHeadersRowArea(s.y)?(i._previousParentOffset&&(i._previousParentOffset.left===r.left&&i._previousParentOffset.top===r.top||i.pointsByColumns(null)),i._targetPoint=i._getTargetPoint(i.pointsByColumns(),s.x,o),i._previousParentOffset=r,i._isReadyResizing=!1,i._targetPoint?(i._columnsSeparatorView.changeCursor("col-resize"),i._columnsSeparatorView.moveByX(i._targetPoint.x-o/2),i._tablePositionController.update(i._targetPoint.y),i._isReadyResizing=!0,n.preventDefault()):(i._columnsSeparatorView.changeCursor(),i._columnsSeparatorView.moveByX(null))):(i.pointsByColumns(null),i._isReadyResizing=!1,i._columnsSeparatorView.changeCursor(),i._columnsSeparatorView.moveByX(null)))},_endResizing:function(e){var t=e.event.data;t._isResizing&&(t.pointsByColumns(null),t._resizingInfo=null,t._columnsSeparatorView.hide(),t._columnsSeparatorView.changeCursor(),t._trackerView.hide(),t._isReadyResizing=!1,t._isResizing=!1)},_getNextColumnIndex:function(e){return e+1},_setupResizingInfo:function(e){var t=this._targetPoint.columnIndex,n=this._getNextColumnIndex(t),i=this._columnHeadersView.getHeaderElement(t),o=this._columnHeadersView.getHeaderElement(n);this._resizingInfo={startPosX:e,currentColumnIndex:t,currentColumnWidth:i&&i.length>0?(0,d.getBoundingRect)(i[0]).width:0,nextColumnIndex:n,nextColumnWidth:o&&o.length>0?(0,d.getBoundingRect)(o[0]).width:0}},_startResizing:function(e){var t=e.event,n=t.data,i=(0,g.eventData)(t);if((0,g.isTouchEvent)(t)&&(n._isHeadersRowArea(i.y)?(n._targetPoint=n._getTargetPoint(n.pointsByColumns(),i.x,10),n._targetPoint&&(n._columnsSeparatorView.moveByX(n._targetPoint.x-n._columnsSeparatorView.width()/2),n._isReadyResizing=!0)):n._isReadyResizing=!1),n._isReadyResizing){n._targetPoint&&(n._testColumnIndex=n._targetPoint.columnIndex),n._setupResizingInfo(i.x),n._isResizing=!0,n._tablePositionController.update(n._targetPoint.y),n._columnsSeparatorView.show(),n._trackerView.show();var o=n.component.getScrollable();o&&n._isRtlParentStyle()&&(n._scrollRight=(0,u.getWidth)(o.$content())-(0,u.getWidth)(o.container())-o.scrollLeft()),t.preventDefault(),t.stopPropagation()}this.isResizing()&&this.getController("editorFactory").loseFocus()},_generatePointsByColumns:function(){var e=this,t=e._columnsController?e._columnsController.getVisibleColumns():[],n=e._columnHeadersView.getColumnElements(),i=[];n&&n.length>0&&(i=C.default.getPointsByColumns(n,function(i){return e._pointCreated(i,n.length,t)})),e._pointsByColumns=i},_unsubscribeFromEvents:function(){this._moveSeparatorHandler&&h.default.off(o.default.getDocument(),(0,g.addNamespace)(p.default.move,T),this._moveSeparatorHandler),this._startResizingHandler&&h.default.off(this._$parentContainer,(0,g.addNamespace)(p.default.down,T),this._startResizingHandler),this._endResizingHandler&&(h.default.off(this._columnsSeparatorView.element(),(0,g.addNamespace)(p.default.up,T),this._endResizingHandler),h.default.off(o.default.getDocument(),(0,g.addNamespace)(p.default.up,T),this._endResizingHandler))},_subscribeToEvents:function(){this._moveSeparatorHandler=this.createAction(this._moveSeparator),this._startResizingHandler=this.createAction(this._startResizing),this._endResizingHandler=this.createAction(this._endResizing),h.default.on(o.default.getDocument(),(0,g.addNamespace)(p.default.move,T),this,this._moveSeparatorHandler),h.default.on(this._$parentContainer,(0,g.addNamespace)(p.default.down,T),this,this._startResizingHandler),h.default.on(this._columnsSeparatorView.element(),(0,g.addNamespace)(p.default.up,T),this,this._endResizingHandler),h.default.on(o.default.getDocument(),(0,g.addNamespace)(p.default.up,T),this,this._endResizingHandler)},_updateColumnsWidthIfNeeded:function(e){var t,n,i,o,a,r,l,s,d,h=this._rowsView.contentWidth(),f=this._resizingInfo,p=this._columnsController,g=p.getVisibleColumns(),m=this._columnsSeparatorView.width(),v=_(this),$=v&&this.option("adaptColumnWidthByRatio")&&!this.option("columnAutoWidth"),w=this.option("rtlEnabled"),y=this._isRtlParentStyle(),x=g[f.currentColumnIndex],I=g[f.nextColumnIndex];function E(e){return(0,c.isString)(e)&&e.endsWith("%")}function b(e,t,n,i){if(e){var o=e.width;o&&(i=E(o)),i?(p.columnOption(e.index,"visibleWidth",t),p.columnOption(e.index,"width","".concat((t/n*100).toFixed(3),"%"))):(p.columnOption(e.index,"visibleWidth",null),p.columnOption(e.index,"width",t))}}s=e-f.startPosX,(v||y)&&w&&(s=-s);var S=(t=s,a=f.currentColumnWidth+t,r=x&&x.minWidth||m,l={},a>=r?l.cellWidth=a:(l.cellWidth=r,o=!0),v&&((i=f.nextColumnWidth-t)>=(n=I&&I.minWidth||m)?l.nextCellWidth=o?f.nextColumnWidth-(t+r-a):i:(l.nextCellWidth=n,l.cellWidth=f.currentColumnWidth+(t-n+i))),l),T=S.cellWidth,D=S.nextCellWidth;if(d=x.width!==T){if(p.beginUpdate(),T=Math.floor(T),h=function(e,t){if(t.every(function(e){return e.width})){var n=t.reduce(function(e,t){return E(t.width)&&(e+=parseFloat(t.width)),e},0);n>100&&(e=e/n*100)}return e}(h,g),b(x,T,h,$),v)b(I,D=Math.floor(D),h,$);else{var R=this._columnHeadersView.getColumnWidths();if(R[f.currentColumnIndex]=T,!(R.reduce(function(e,t){return e+t},0)>this._rowsView.contentWidth())){var O=C.default.getLastResizableColumnIndex(g);O>=0&&p.columnOption(g[O].index,"visibleWidth","auto")}for(var F=0;F<R.length;F++)g[F]&&g[F]!==x&&void 0===g[F].width&&p.columnOption(g[F].index,"width",R[F])}if(p.endUpdate(),!v){this.component.updateDimensions();var A=this.component.getScrollable();if(A&&y){var P=(0,u.getWidth)(A.$content())-(0,u.getWidth)(A.container())-this._scrollRight;A.scrollTo({left:P})}}}return d},_subscribeToCallback:function(e,t){e.add(t),this._subscribesToCallbacks.push({callback:e,handler:t})},_unsubscribeFromCallbacks:function(){for(var e=0;e<this._subscribesToCallbacks.length;e++){var t=this._subscribesToCallbacks[e];t.callback.remove(t.handler)}this._subscribesToCallbacks=[]},_unsubscribes:function(){this._unsubscribeFromEvents(),this._unsubscribeFromCallbacks()},_init:function(){var e=this,t=function(){e._isResizing||e.pointsByColumns(null)},n=function(t){e._scrollLeft!==t.left&&(e._scrollLeft=t.left,e.pointsByColumns(null))};e._columnsSeparatorView=e.getView("columnsSeparatorView"),e._columnHeadersView=e.getView("columnHeadersView"),e._trackerView=e.getView("trackerView"),e._rowsView=e.getView("rowsView"),e._columnsController=e.getController("columns"),e._tablePositionController=e.getController("tablePosition"),e._$parentContainer=e.component.$element(),e._draggingHeaderView=e.component.getView("draggingHeaderView"),e._subscribeToCallback(e._columnHeadersView.renderCompleted,t),e._subscribeToCallback(e._columnHeadersView.resizeCompleted,t),e._subscribeToCallback(e._columnsSeparatorView.renderCompleted,function(){e._unsubscribeFromEvents(),e._subscribeToEvents()}),e._subscribeToCallback(e._rowsView.renderCompleted,function(){e._rowsView.scrollChanged.remove(n),e._rowsView.scrollChanged.add(n)});var i=0!==e._rowsView.getScrollbarWidth(),o=0;e._subscribeToCallback(e.getController("tablePosition").positionChanged,function(t){if(e._isResizing&&!e._rowsView.isResizing){var n=0!==e._rowsView.getScrollbarWidth();i!==n||o&&o!==t.height?(i=n,o=t.height,e.component.updateDimensions()):e._rowsView.updateFreeSpaceRowHeight()}o=t.height})},optionChanged:function(e){this.callBase(e),"allowColumnResizing"===e.name&&(e.value?(this._init(),this._subscribeToEvents()):this._unsubscribes())},isResizing:function(){return this._isResizing},init:function(){this._subscribesToCallbacks=[],D(this)&&this._init()},pointsByColumns:function(e){if(void 0===e)return this._pointsByColumns||this._generatePointsByColumns(),this._pointsByColumns;this._pointsByColumns=e},dispose:function(){this._unsubscribes(),this.callBase()}}),M=v.default.ViewController.inherit({update:function(e){var t={},n=this._columnHeadersView.element(),i=n&&n.offset(),o=i&&i.top||0,a=(0,c.isDefined)(e)?Math.abs(e-o):0,r=this._columnHeadersView?this._columnHeadersView.getHeight():0,l=this._rowsView.getScrollbarWidth(!0),s=this._rowsView?this._rowsView.height()-l:0,d=this.component.getController("columnsResizer"),u=this.component.getView("draggingHeaderView");t.height=r,(d.isResizing()||u.isDragging())&&(t.height+=s-a),null!==e&&n&&n.length&&(t.top=n[0].offsetTop+a),this.positionChanged.fire(t)},init:function(){var e=this;e.callBase(),e._columnHeadersView=this.getView("columnHeadersView"),e._rowsView=this.getView("rowsView"),e._pagerView=this.getView("pagerView"),e._rowsView.resizeCompleted.add(function(){if(e.option("allowColumnResizing")){var t=e.getController("columnsResizer")._targetPoint;e.update(t?t.y:null)}})},ctor:function(e){this.callBase(e),this.positionChanged=(0,r.default)()}}),k={views:{columnsSeparatorView:A,blockSeparatorView:P,draggingHeaderView:V,trackerView:O},controllers:{draggingHeader:v.default.ViewController.inherit({_generatePointsByColumns:function(e){var t=this;return C.default.getPointsByColumns(e.columnElements,function(n){return t._pointCreated(n,e.columns,e.targetDraggingPanel.getName(),e.sourceColumn)},e.isVerticalOrientation,e.startColumnIndex)},_pointCreated:function(e,t,n,i){var o=t[e.columnIndex],a=t[e.columnIndex-1];switch(n){case"columnChooser":return!0;case"headers":return i&&!i.allowReordering||(!o||!o.allowReordering)&&(!a||!a.allowReordering);default:return 0===t.length}},_subscribeToEvents:function(e,t){var n=this;(0,s.each)(t,function(i,o){if(o)for(var r,l=o.getRowCount?o.getRowCount():1,d=o.getName(),u=function(i,l){if(l){var s=(0,a.default)(l),u=r[i];o.allowDragging(u,d,t)&&(s.addClass(n.addWidgetPrefix(x)),h.default.on(s,(0,g.addNamespace)(f.start,T),n.createAction(function(o){var r=o.event,l=(0,g.eventData)(r);e.dragHeader({deltaX:l.x-(0,a.default)(r.currentTarget).offset().left,deltaY:l.y-(0,a.default)(r.currentTarget).offset().top,sourceColumn:u,index:u.index,columnIndex:i,columnElement:s,sourceLocation:d,draggingPanels:t,rowIndex:n._columnsController.getRowIndex(u.index,!0)})})),h.default.on(s,(0,g.addNamespace)(f.move,T),{that:e},n.createAction(e.moveHeader)),h.default.on(s,(0,g.addNamespace)(f.end,T),{that:e},n.createAction(e.dropHeader)))}},c=0;c<l;c++){var p=o.getColumnElements(c)||[];p.length&&(r=o.getColumns(c)||[],(0,s.each)(p,u))}})},_unsubscribeFromEvents:function(e,t){var n=this;(0,s.each)(t,function(e,t){if(t){var i=t.getColumnElements()||[];(0,s.each)(i,function(e,t){var i=(0,a.default)(t);h.default.off(i,(0,g.addNamespace)(f.start,T)),h.default.off(i,(0,g.addNamespace)(f.move,T)),h.default.off(i,(0,g.addNamespace)(f.end,T)),i.removeClass(n.addWidgetPrefix(x))})}})},_getSeparator:function(e){return"headers"===e?this._columnsSeparatorView:this._blockSeparatorView},hideSeparators:function(e){var t=this._blockSeparatorView,n=this._columnsSeparatorView;this._animationColumnIndex=null,t&&t.hide(),"block"!==e&&n&&n.hide()},init:function(){var e=this;e.callBase(),e._columnsController=e.getController("columns"),e._columnHeadersView=e.getView("columnHeadersView"),e._columnsSeparatorView=e.getView("columnsSeparatorView"),e._draggingHeaderView=e.getView("draggingHeaderView"),e._rowsView=e.getView("rowsView"),e._blockSeparatorView=e.getView("blockSeparatorView"),e._headerPanelView=e.getView("headerPanel"),e._columnChooserView=e.getView("columnChooserView");var t=function(){if(e._draggingHeaderView){var t=[e._columnChooserView,e._columnHeadersView,e._headerPanelView];e._unsubscribeFromEvents(e._draggingHeaderView,t),e._subscribeToEvents(e._draggingHeaderView,t)}};e._columnHeadersView.renderCompleted.add(t),e._headerPanelView&&e._headerPanelView.renderCompleted.add(t),e._columnChooserView&&e._columnChooserView.renderCompleted.add(t)},allowDrop:function(e){return this._columnsController.allowMoveColumn(e.sourceColumnIndex,e.targetColumnIndex,e.sourceLocation,e.targetLocation)},drag:function(e){var t=e.sourceIndex,n=e.sourceLocation,i=e.sourceColumnElement,o=this._columnHeadersView,a=this._rowsView;i&&(i.css({opacity:.5}),"headers"===n&&(o&&o.setRowsOpacity(t,.5),a&&a.setRowsOpacity(t,.5)))},dock:function(e){var t=this,n=(0,c.isObject)(e.targetColumnIndex)?e.targetColumnIndex.columnIndex:e.targetColumnIndex,i=e.sourceLocation,o=e.targetLocation,a=t._getSeparator(o),r=n>=0;t._columnHeadersView.element().find(".".concat(S)).toggleClass(t.addWidgetPrefix(E),"headers"!==i&&"headers"===o&&!r),a&&(t.allowDrop(e)&&r?"group"===o||"columnChooser"===o?t._animationColumnIndex!==n&&(t.hideSeparators(),a.element()[e.isLast?"insertAfter":"insertBefore"](e.targetColumnElement),t._animationColumnIndex=n,a.show(o)):(t.hideSeparators("block"),t.getController("tablePosition").update(e.posY),a.moveByX(e.posX-a.width()),a.show()):t.hideSeparators())},drop:function(e){var t=e.sourceColumnElement;if(t&&(t.css({opacity:""}),this._columnHeadersView.setRowsOpacity(e.sourceIndex,""),this._rowsView.setRowsOpacity(e.sourceIndex,""),this._columnHeadersView.element().find(".".concat(S)).removeClass(this.addWidgetPrefix(E))),this.allowDrop(e)){var n=this._getSeparator(e.targetLocation);n&&n.hide(),this._columnsController.moveColumn(e.sourceColumnIndex,e.targetColumnIndex,e.sourceLocation,e.targetLocation)}},dispose:function(){this._draggingHeaderView&&this._unsubscribeFromEvents(this._draggingHeaderView,[this._columnChooserView,this._columnHeadersView,this._headerPanelView])}}),tablePosition:M,columnsResizer:B},extenders:{views:{rowsView:{_needUpdateRowHeight:function(e){var t=this.option("wordWrapEnabled"),n=this.getController("columnsResizer").isResizing();return this.callBase.apply(this,arguments)||e>0&&t&&n}}},controllers:{editorFactory:{renderFocusOverlay:function(){if(!this.getController("columnsResizer").isResizing())return this.callBase.apply(this,arguments)}}}}};t.columnsResizingReorderingModule=k},35246(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.contextMenuModule=void 0;var i=n(77225),o=d(n(68689)),a=n(36808),r=n(1685),l=d(n(66628)),s=d(n(88445));function d(e){return e&&e.__esModule?e:{default:e}}var u={columnHeadersView:"header",rowsView:"content",footerView:"footer",headerPanel:"headerPanel"},c=["columnHeadersView","rowsView","footerView","headerPanel"],h={defaultOptions:function(){return{onContextMenuPreparing:null}},controllers:{contextMenu:s.default.ViewController.inherit({init:function(){this.createAction("onContextMenuPreparing")},getContextMenuItems:function(e){if(!e)return!1;var t,n,a,l,s=this,d=(0,o.default)(e.target);return(0,r.each)(c,function(){var o,r,c=s.getView(this);if((t=c&&c.element())&&(t.is(d)||t.find(d).length)){n=(a=d.closest(".dx-row > td, .dx-row > tr")).parent();var h=c.getRowIndex(n),f=a[0]&&a[0].cellIndex,p=n.data("options"),g={event:e,targetElement:(0,i.getPublicElement)(d),target:u[this],rowIndex:h,row:c._getRows()[h],columnIndex:f,column:null===(r=null===(o=null==p?void 0:p.cells)||void 0===o?void 0:o[f])||void 0===r?void 0:r.column};if(g.items=c.getContextMenuItems&&c.getContextMenuItems(g),s.executeAction("onContextMenuPreparing",g),s._contextMenuPrepared(g),l=g.items)return!1}}),l},_contextMenuPrepared:a.noop})},views:{contextMenuView:s.default.View.inherit({_renderCore:function(){var e=this,t=e.element().addClass("dx-context-menu");this.setAria("role","presentation",t),this._createComponent(t,l.default,{onPositioning:function(t){var n=t.event,i=t.component,o=e.getController("contextMenu").getContextMenuItems(n);o?(i.option("items",o),n.stopPropagation()):t.cancel=!0},onItemClick:function(e){e.itemData.onItemClick&&e.itemData.onItemClick(e)},cssClass:e.getWidgetContainerClass(),target:e.component.$element()})}})}};t.contextMenuModule=h},56087(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.dataControllerModule=t.DataController=void 0;var i=m(n(68689)),o=n(32755),a=n(36808),r=n(68759),l=n(68841),s=n(1685),d=n(4964),u=m(n(49233)),c=m(n(68694)),h=m(n(82676)),f=m(n(37499)),p=m(n(88445)),g=m(n(31560));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var C=function(e,t,n){var i=e._dataSource;if(i){if(void 0!==n){if(e._getPagingOptionValue(t)!==n){"pageSize"===t&&i.pageIndex(0),i[t](n),e._skipProcessingPagingChange=!0,e.option("paging.".concat(t),n),e._skipProcessingPagingChange=!1;var o=i.pageIndex();return e._isPaging="pageIndex"===t,i["pageIndex"===t?"load":"reload"]().done(function(){e._isPaging=!1,e.pageChanged.fire(o)})}return(0,r.Deferred)().resolve().promise()}return i[t]()}return 0},$=function(e){function t(){return e.apply(this,arguments)||this}h=e,(n=t).prototype=Object.create(h.prototype),n.prototype.constructor=n,v(n,h);var n,h,p=t.prototype;return p.init=function(){var e=this,t=this;t._items=[],t._cachedProcessedItems=null,t._columnsController=this.getController("columns"),t._isPaging=!1,t._currentOperationTypes=null,t._dataChangedHandler=function(n){t._currentOperationTypes=e._dataSource.operationTypes(),t._handleDataChanged(n),t._currentOperationTypes=null},t._columnsChangedHandler=t._handleColumnsChanged.bind(t),t._loadingChangedHandler=t._handleLoadingChanged.bind(t),t._loadErrorHandler=t._handleLoadError.bind(t),t._customizeStoreLoadOptionsHandler=t._handleCustomizeStoreLoadOptions.bind(t),t._changingHandler=t._handleChanging.bind(t),t._dataPushedHandler=t._handleDataPushed.bind(t),t._columnsController.columnsChanged.add(t._columnsChangedHandler),t._isLoading=!1,t._isCustomLoading=!1,t._repaintChangesOnly=void 0,t._changes=[],t.createAction("onDataErrorOccurred"),t.dataErrorOccurred.add(function(e){return t.executeAction("onDataErrorOccurred",{error:e})}),t._refreshDataSource()},p._getPagingOptionValue=function(e){return this._dataSource[e]()},p.callbackNames=function(){return["changed","loadingChanged","dataErrorOccurred","pageChanged","dataSourceChanged","pushed"]},p.callbackFlags=function(e){if("dataErrorOccurred"===e)return{stopOnFalse:!0}},p.publicMethods=function(){return["beginCustomLoading","endCustomLoading","refresh","filter","clearFilter","getCombinedFilter","keyOf","byKey","getDataByKeys","pageIndex","pageSize","pageCount","totalCount","_disposeDataSource","getKeyByRowIndex","getRowIndexByKey","getDataSource","getVisibleRows","repaintRows"]},p.reset=function(){this._columnsController.reset(),this._items=[],this._refreshDataSource()},p._handleDataSourceChange=function(e){if(e.value===e.previousValue||this.option("columns")&&Array.isArray(e.value)&&Array.isArray(e.previousValue)){if(e.value!==e.previousValue){var t=this.store();t&&(t._array=e.value)}return this.needToRefreshOnDataSourceChange(e)&&this.refresh(this.option("repaintChangesOnly")),!0}return!1},p.needToRefreshOnDataSourceChange=function(e){return!0},p.optionChanged=function(t){var n,i,o=this,a=this;function r(){t.handled=!0}if("dataSource"===t.name&&t.name===t.fullName&&this._handleDataSourceChange(t))r();else switch(t.name){case"cacheEnabled":case"repaintChangesOnly":case"highlightChanges":case"loadingTimeout":r();break;case"remoteOperations":case"keyExpr":case"dataSource":case"scrolling":r(),a.reset();break;case"paging":if((n=a.dataSource())&&(i=a._setPagingOptions(n))){var l=n.pageIndex();this._isPaging=i.isPageIndexChanged,n.load().done(function(){o._isPaging=!1,a.pageChanged.fire(l)})}r();break;case"rtlEnabled":a.reset();break;case"columns":(n=a.dataSource())&&n.isLoading()&&t.name===t.fullName&&(this._useSortingGroupingFromColumns=!0,n.load());break;default:e.prototype.optionChanged.call(this,t)}},p.isReady=function(){return!this._isLoading},p.getDataSource=function(){return this._dataSource&&this._dataSource._dataSource},p.getCombinedFilter=function(e){return this.combinedFilter(void 0,e)},p.combinedFilter=function(e,t){if(!this._dataSource)return e;var n=null!=e?e:this._dataSource.filter();if(this._columnsController.isDataSourceApplied()||this._columnsController.isAllDataTypesDefined()){var i=this._calculateAdditionalFilter();n=i?g.default.combineFilters([i,n]):n}var o=this._dataSource.remoteOperations().filtering||t;return this._columnsController.updateFilter(n,o)},p.waitReady=function(){return this._updateLockCount?(this._readyDeferred=new r.Deferred,this._readyDeferred):(0,r.when)()},p._endUpdateCore=function(){var e=this._changes;if(e.length){this._changes=[];var t=e.every(function(e){return e.repaintChangesOnly});this.updateItems(1===e.length?e[0]:{repaintChangesOnly:t})}this._readyDeferred&&(this._readyDeferred.resolve(),this._readyDeferred=null)},p._handleCustomizeStoreLoadOptions=function(e){var t,n=this._columnsController,i=this._dataSource,o=e.storeLoadOptions;e.isCustomLoading&&!o.isLoadingAll||(o.filter=this.combinedFilter(o.filter),1===(null===(t=o.filter)||void 0===t?void 0:t.length)&&"!"===o.filter[0]&&(e.data=[],e.extra=e.extra||{},e.extra.totalCount=0),n.isDataSourceApplied()||n.updateColumnDataTypes(i),this._columnsUpdating=!0,n.updateSortingGrouping(i,!this._useSortingGroupingFromColumns),this._columnsUpdating=!1,o.sort=n.getSortDataSourceParameters(),o.group=n.getGroupDataSourceParameters(),i.sort(o.sort),i.group(o.group),o.sort=n.getSortDataSourceParameters(!i.remoteOperations().sorting),e.group=n.getGroupDataSourceParameters(!i.remoteOperations().grouping))},p._handleColumnsChanged=function(e){var t,n,i,o=this,a=e.changeTypes,r=e.optionNames;if(a.sorting||a.grouping)o._dataSource&&!o._columnsUpdating&&(o._dataSource.group(o._columnsController.getGroupDataSourceParameters()),o._dataSource.sort(o._columnsController.getSortDataSourceParameters()),o.reload());else if(a.columns&&(n=o._columnsController.columnOption(e.columnIndex,"filterValues"),(r.filterValues||r.filterType&&Array.isArray(n)||r.filterValue||r.selectedFilterOperation||r.allowFiltering)&&(t=o._columnsController.columnOption(e.columnIndex,"filterValue"),(Array.isArray(n)||void 0===e.columnIndex||(0,d.isDefined)(t)||!r.selectedFilterOperation||r.filterValue)&&(o._applyFilter(),i=!0)),o._needApplyFilter||g.default.checkChanges(r,["width","visibleWidth","filterValue","bufferedFilterValue","selectedFilterOperation","filterValues","filterType"])||o._columnsController.columnsChanged.add(function e(t){var n;o._columnsController.columnsChanged.remove(e),o.updateItems({repaintChangesOnly:!1,virtualColumnsScrolling:null===(n=null==t?void 0:t.changeTypes)||void 0===n?void 0:n.virtualColumnsScrolling})}),(0,d.isDefined)(r.visible))){var l=o._columnsController.columnOption(e.columnIndex);l&&((0,d.isDefined)(l.filterValue)||(0,d.isDefined)(l.filterValues))&&(o._applyFilter(),i=!0)}!i&&a.filtering&&o.reload()},p._handleDataChanged=function(e){var t=this,n=t._dataSource,i=t._columnsController,o=!1;this._useSortingGroupingFromColumns=!1,n&&!t._isDataSourceApplying&&(t._isDataSourceApplying=!0,(0,r.when)(t._columnsController.applyDataSource(n)).done(function(){t._isLoading&&t._handleLoadingChanged(!1),o&&e&&e.isDelayed&&(e.isDelayed=!1),t._isDataSourceApplying=!1;var n,i=t._needApplyFilter;t._needApplyFilter=!1,i&&!t._isAllDataTypesDefined&&(n=t._calculateAdditionalFilter())&&n.length?(f.default.log("W1005",t.component.NAME),t._applyFilter()):t.updateItems(e,!0)}).fail(function(){t._isDataSourceApplying=!1}),t._isDataSourceApplying&&(o=!0,t._handleLoadingChanged(!0)),t._needApplyFilter=!t._columnsController.isDataSourceApplied(),t._isAllDataTypesDefined=i.isAllDataTypesDefined())},p._handleLoadingChanged=function(e){this._isLoading=e,this._fireLoadingChanged()},p._handleLoadError=function(e){this.dataErrorOccurred.fire(e)},p._handleDataPushed=function(e){this.pushed.fire(e)},p.fireError=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.dataErrorOccurred.fire(f.default.Error.apply(f.default,t))},p._setPagingOptions=function(e){var t=this.option("paging.pageIndex"),n=this.option("paging.pageSize"),i=this.option("paging.enabled"),o=this.option("scrolling.mode"),a="infinite"===o,r=i||"virtual"===o||a,l=!1,s=!1,d=!1;return e.requireTotalCount(!a),void 0!==i&&e.paginate()!==r&&(e.paginate(r),l=!0),void 0!==n&&e.pageSize()!==n&&(e.pageSize(n),s=!0),void 0!==t&&e.pageIndex()!==t&&(e.pageIndex(t),d=!0),!!(l||s||d)&&{isPaginateChanged:l,isPageSizeChanged:s,isPageIndexChanged:d}},p._getSpecificDataSourceOption=function(){var e=this.option("dataSource");return Array.isArray(e)?{store:{type:"array",data:e,key:this.option("keyExpr")}}:e},p._initDataSource=function(){var t=this._dataSource;e.prototype._initDataSource.call(this);var n=this._dataSource;if(this._useSortingGroupingFromColumns=!0,this._cachedProcessedItems=null,n){var i=this._setPagingOptions(n);this._isPaging=null==i?void 0:i.isPageIndexChanged,this.setDataSource(n)}else t&&this.updateItems()},p._loadDataSource=function(){var e=this,t=e._dataSource,n=new r.Deferred;return(0,r.when)(this._columnsController.refresh(!0)).always(function(){t?t.load().done(function(){e._isPaging=!1,n.resolve.apply(n,arguments)}).fail(n.reject):n.resolve()}),n.promise()},p._beforeProcessItems=function(e){return e.slice(0)},p.getRowIndexDelta=function(){return 0},p.getDataIndex=function(e){var t=this._items,n="append"===e.changeType&&t.length>0?t[t.length-1]:null;return(0,d.isDefined)(null==n?void 0:n.dataIndex)?n.dataIndex+1:0},p._processItems=function(e,t){var n=this,i=n.getRowIndexDelta(),o=t.changeType,a={visibleColumns:n._columnsController.getVisibleColumns(null,"loadingAll"===o),dataIndex:this.getDataIndex(t)},r=[];return(0,s.each)(e,function(e,t){(0,d.isDefined)(t)&&(a.rowIndex=e-i,t=n._processItem(t,a),r.push(t))}),r},p._processItem=function(e,t){return e=this._generateDataItem(e,t),(e=this._processDataItem(e,t)).dataIndex=t.dataIndex++,e},p._generateDataItem=function(e,t){return{rowType:"data",data:e,key:this.keyOf(e)}},p._processDataItem=function(e,t){return e.values=this.generateDataValues(e.data,t.visibleColumns),e},p.generateDataValues=function(e,t,n){for(var i,o=[],a=0;a<t.length;a++){var r=t[a];i=n?void 0:null,r.command||(r.calculateCellValue?i=r.calculateCellValue(e):r.dataField&&(i=e[r.dataField])),o.push(i)}return o},p._applyChange=function(e){"update"===e.changeType?this._applyChangeUpdate(e):this.items().length&&e.repaintChangesOnly&&"refresh"===e.changeType?this._applyChangesOnly(e):"refresh"===e.changeType&&this._applyChangeFull(e)},p._applyChangeFull=function(e){this._items=e.items.slice(0)},p._getRowIndices=function(e){var t=e.rowIndices.slice(0),n=this.getRowIndexDelta();t.sort(function(e,t){return e-t});for(var i=0;i<t.length;i++){var o=t[i];e.allowInvisibleRowIndices&&(o+=n),o<0&&(t.splice(i,1),i--)}return t},p._applyChangeUpdate=function(e){var t,n=this,i=e.items,o=n._getRowIndices(e),r=n.getRowIndexDelta(),l=n.option("repaintChangesOnly"),d=-1,u=0;e.items=[],e.rowIndices=[],e.columnIndices=[],e.changeTypes=[];var c=function(e,t,n){var i=e&&t&&(0,a.equalByValue)(e.key,t.key);return i&&n&&(i=e.rowType===t.rowType&&("detail"!==t.rowType||e.isEditing===t.isEditing)),i};(0,s.each)(o,function(o,a){var s;if(d!==(a+=u+r)){d=a;var h=n._items[a],f=n._items[a+1],p=i[a],g=i[a+1],m=c(h,f)||c(p,g);if(p&&(p.rowIndex=a,e.items.push(p)),h&&p&&c(h,p,m))t="update",n._items[a]=p,h.visible!==p.visible?e.items.splice(-1,1,{visible:p.visible}):l&&!e.isFullUpdate&&(s=n._partialUpdateRow(h,p,a-r));else if(p&&!h||g&&c(h,g,m))t="insert",n._items.splice(a,0,p),u++;else if(h&&!p||f&&c(p,f,m))t="remove",n._items.splice(a,1),u--,d=-1;else{if(!p)return;t="update",n._items[a]=p}e.rowIndices.push(a-r),e.changeTypes.push(t),e.columnIndices.push(s)}})},p._isCellChanged=function(e,t,n,i,o){if(JSON.stringify(e.values[i])!==JSON.stringify(t.values[i]))return!0;function a(e,t){return!!e.modifiedValues&&void 0!==e.modifiedValues[t]}return a(e,i)!==a(t,i)},p._getChangedColumnIndices=function(e,t,n,i){var o;if(e.rowType===t.rowType){if("group"!==t.rowType&&"groupFooter"!==t.rowType&&(o=[],"detail"!==t.rowType))for(var a=0;a<e.values.length;a++)this._isCellChanged(e,t,n,a,i)&&o.push(a);"group"===t.rowType&&t.isExpanded===e.isExpanded&&e.cells&&(o=e.cells.map(function(e,t){var n;return"groupExpand"!==(null===(n=e.column)||void 0===n?void 0:n.type)?t:-1}).filter(function(e){return e>=0}))}return o},p._partialUpdateRow=function(e,t,n,i){var o=this._getChangedColumnIndices(e,t,n,i);return(null==o?void 0:o.length)&&this.option("dataRowTemplate")&&(o=void 0),o&&(e.cells&&e.cells.forEach(function(e,n){!(o.indexOf(n)>=0)&&e&&e.update&&e.update(t)}),t.update=e.update,t.watch=e.watch,t.cells=e.cells,i&&(t.oldValues=e.values),e.update&&e.update(t)),o},p._isItemEquals=function(e,t){var n,i,o,a;if(JSON.stringify(e.values)!==JSON.stringify(t.values)||["modified","isNewRow","removed","isEditing"].some(function(n){return e[n]!==t[n]}))return!1;if("group"===e.rowType||"groupFooter"===e.rowType){var r=e.isExpanded===t.isExpanded,l=JSON.stringify(e.summaryCells)===JSON.stringify(t.summaryCells),s=(null===(n=e.data)||void 0===n?void 0:n.isContinuation)===(null===(i=t.data)||void 0===i?void 0:i.isContinuation)&&(null===(o=e.data)||void 0===o?void 0:o.isContinuationOnNextPage)===(null===(a=t.data)||void 0===a?void 0:a.isContinuationOnNextPage);if(!r||!l||!s)return!1}return!0},p._applyChangesOnly=function(e){var t,n=this,i=[],a=[],r=[],l=[],s={},d=null===(t=null==e?void 0:e.isLiveUpdate)||void 0===t||t;function u(e){if(e)return"".concat(e.rowType,",").concat(JSON.stringify(e.key))}var c=this._items,h=c.slice();e.items.forEach(function(e,t){s[u(e)]=t,e.rowIndex=t});var f=(0,o.findChanges)(h,e.items,u,function(e,t){return!!n._isItemEquals(e,t)&&(e.cells&&(e.update&&e.update(t),e.cells.forEach(function(e){e&&e.update&&e.update(t,!0)})),!0)});f?(f.forEach(function(e){switch(e.type){case"update":var t=e.index,o=e.data,s=e.oldItem,u=n._partialUpdateRow(s,o,t,d);i.push(t),r.push("update"),l.push(o),c[t]=o,a.push(u);break;case"insert":i.push(e.index),r.push("insert"),l.push(e.data),a.push(void 0),c.splice(e.index,0,e.data);break;case"remove":i.push(e.index),r.push("remove"),c.splice(e.index,1),l.push(e.oldItem),a.push(void 0)}}),e.repaintChangesOnly=!0,e.changeType="update",e.rowIndices=i,e.columnIndices=a,e.changeTypes=r,e.items=l,h.length&&(e.isLiveUpdate=!0),this._correctRowIndices(function(e){var t=n._rowIndexOffset||0,i=n.getRowIndexOffset(),o=s[u(h[e-t])];return o>=0?o+i-e:0})):this._applyChangeFull(e)},p._correctRowIndices=function(e){},p._afterProcessItems=function(e,t){return e},p._updateItemsCore=function(e){var t,n=this._dataSource,i=e.changeType||"refresh";if(e.changeType=i,n){var o=this._cachedProcessedItems;e.useProcessedItemsCache&&o?t=o:(t=e.items||n.items(),t=this._beforeProcessItems(t),t=this._processItems(t,e),this._cachedProcessedItems=t),t=this._afterProcessItems(t,e),e.items=t;var a=this._items.length===t.length&&this._items;this._applyChange(e);var r=this.getRowIndexDelta();(0,s.each)(this._items,function(e,n){n.rowIndex=e-r,a&&(n.cells=null!==(i=a[e].cells)&&void 0!==i?i:[]);var i,o=t[e];o&&(n.loadIndex=o.loadIndex)}),this._rowIndexOffset=this.getRowIndexOffset()}else this._items=[]},p._handleChanging=function(e){var t=this.getVisibleRows();this.dataSource()&&e.changes.forEach(function(e){if("insert"===e.type&&e.index>=0){for(var n=0,i=0;i<e.index;i++){var o=t[i];!o||"data"!==o.rowType&&"group"!==o.rowType||n++}e.index=n}})},p.updateItems=function(e,t){var n;if(e=e||{},void 0!==this._repaintChangesOnly)e.repaintChangesOnly=null!==(n=e.repaintChangesOnly)&&void 0!==n?n:this._repaintChangesOnly,e.needUpdateDimensions=e.needUpdateDimensions||this._needUpdateDimensions;else if(e.changes)e.repaintChangesOnly=this.option("repaintChangesOnly");else if(t){var i=this.dataSource().operationTypes();e.repaintChangesOnly=i&&!i.grouping&&!i.filtering&&this.option("repaintChangesOnly"),e.isDataChanged=!0,i&&(i.reload||i.paging||i.groupExpanding)&&(e.needUpdateDimensions=!0)}!this._updateLockCount||e.cancel?(this._updateItemsCore(e),e.cancel||this._fireChanged(e)):this._changes.push(e)},p.loadingOperationTypes=function(){var e=this.dataSource();return e&&e.loadingOperationTypes()||{}},p._fireChanged=function(e){var t=this;this._currentOperationTypes&&(e.operationTypes=this._currentOperationTypes,this._currentOperationTypes=null),(0,a.deferRender)(function(){t.changed.fire(e)})},p.isLoading=function(){return this._isLoading||this._isCustomLoading},p._fireLoadingChanged=function(){this.loadingChanged.fire(this.isLoading(),this._loadingText)},p._calculateAdditionalFilter=function(){return null},p._applyFilter=function(){var e=this,t=this._dataSource;if(t)return t.pageIndex(0),this._isFilterApplying=!0,this.reload().done(function(){e._isFilterApplying&&e.pageChanged.fire()})},p.resetFilterApplying=function(){this._isFilterApplying=!1},p.filter=function(e){var t=this._dataSource,n=t&&t.filter();if(0===arguments.length)return n;e=arguments.length>1?Array.prototype.slice.call(arguments,0):e,g.default.equalFilterParameters(n,e)||(t&&t.filter(e),this._applyFilter())},p.clearFilter=function(e){var t=this._columnsController,n=function(e){for(var n=t.columnCount(),i=0;i<n;i++)t.columnOption(i,e,void 0)};if(this.component.beginUpdate(),arguments.length>0)switch(e){case"dataSource":this.filter(null);break;case"search":this.searchByText("");break;case"header":n("filterValues");break;case"row":n("filterValue")}else this.filter(null),this.searchByText(""),n("filterValue"),n("bufferedFilterValue"),n("filterValues");this.component.endUpdate()},p._fireDataSourceChanged=function(){var e=this;e.changed.add(function t(){e.changed.remove(t),e.dataSourceChanged.fire()})},p._getDataSourceAdapter=function(){},p._createDataSourceAdapterCore=function(e,t){var n=this._getDataSourceAdapter().create(this.component);return n.init(e,t),n},p.isLocalStore=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.store())instanceof u.default},p.isCustomStore=function(e){return(e=e||this.store())instanceof c.default},p._createDataSourceAdapter=function(e){var t=this.option("remoteOperations"),n=e.store(),i={filtering:!0,sorting:!0,paging:!0,grouping:!0,summary:!0};return(0,d.isObject)(t)&&t.groupPaging&&(t=(0,l.extend)({},i,t)),"auto"===t&&(t=this.isLocalStore(n)||this.isCustomStore(n)?{}:{filtering:!0,sorting:!0,paging:!0}),!0===t&&(t=i),this._createDataSourceAdapterCore(e,t)},p.setDataSource=function(e){var t=this._dataSource;!e&&t&&(t.cancelAll(),t.changed.remove(this._dataChangedHandler),t.loadingChanged.remove(this._loadingChangedHandler),t.loadError.remove(this._loadErrorHandler),t.customizeStoreLoadOptions.remove(this._customizeStoreLoadOptionsHandler),t.changing.remove(this._changingHandler),t.pushed.remove(this._dataPushedHandler),t.dispose(this._isSharedDataSource)),e&&(e=this._createDataSourceAdapter(e)),this._dataSource=e,e&&(this._fireDataSourceChanged(),this._isLoading=!e.isLoaded(),this._needApplyFilter=!0,this._isAllDataTypesDefined=this._columnsController.isAllDataTypesDefined(),e.changed.add(this._dataChangedHandler),e.loadingChanged.add(this._loadingChangedHandler),e.loadError.add(this._loadErrorHandler),e.customizeStoreLoadOptions.add(this._customizeStoreLoadOptionsHandler),e.changing.add(this._changingHandler),e.pushed.add(this._dataPushedHandler))},p.items=function(e){return this._items},p.isEmpty=function(){return!this.items().length},p.pageCount=function(){return this._dataSource?this._dataSource.pageCount():1},p.dataSource=function(){return this._dataSource},p.store=function(){var e=this._dataSource;return e&&e.store()},p.loadAll=function(e){var t=this,n=new r.Deferred,i=t._dataSource;if(i){if(e){var o={data:e,isCustomLoading:!0,storeLoadOptions:{isLoadingAll:!0},loadOptions:{filter:t.getCombinedFilter(),group:i.group(),sort:i.sort()}};i._handleDataLoaded(o),(0,r.when)(o.data).done(function(e){var i;e=t._beforeProcessItems(e),n.resolve(t._processItems(e,{changeType:"loadingAll"}),null===(i=o.extra)||void 0===i?void 0:i.summary)}).fail(n.reject)}else if(i.isLoading())n.reject();else{var a=(0,l.extend)({},i.loadOptions(),{isLoadingAll:!0,requireTotalCount:!1});i.load(a).done(function(e,i){e=t._beforeProcessItems(e),e=t._processItems(e,{changeType:"loadingAll"}),n.resolve(e,i&&i.summary)}).fail(n.reject)}}else n.resolve([]);return n},p.getKeyByRowIndex=function(e,t){var n=this.items(t)[e];if(n)return n.key},p.getRowIndexByKey=function(e,t){return g.default.getIndexByKey(e,this.items(t))},p.keyOf=function(e){var t=this.store();if(t)return t.keyOf(e)},p.byKey=function(e){var t,n=this.store(),i=this.getRowIndexByKey(e);if(n)return i>=0&&(t=(new r.Deferred).resolve(this.items()[i].data)),t||n.byKey(e)},p.key=function(){var e=this.store();if(e)return e.key()},p.getRowIndexOffset=function(){return 0},p.getDataByKeys=function(e){var t=this,n=new r.Deferred,o=[],a=[];return(0,s.each)(e,function(e,n){o.push(t.byKey(n).done(function(t){a[e]=t}))}),r.when.apply(i.default,o).always(function(){n.resolve(a)}),n},p.pageIndex=function(e){return C(this,"pageIndex",e)},p.pageSize=function(e){return C(this,"pageSize",e)},p.beginCustomLoading=function(e){this._isCustomLoading=!0,this._loadingText=e||"",this._fireLoadingChanged()},p.endCustomLoading=function(){this._isCustomLoading=!1,this._loadingText=void 0,this._fireLoadingChanged()},p.refresh=function(e){!0===e?e={reload:!0,changesOnly:!0}:e||(e={lookup:!0,selection:!0,reload:!0});var t=this,n=t.getDataSource(),i=e.changesOnly,o=new r.Deferred,a=function(){t._repaintChangesOnly=!!i};return(0,r.when)(!e.lookup||t._columnsController.refresh()).always(function(){e.load||e.reload?(n&&n.on("customizeLoadResult",a),(0,r.when)(t.reload(e.reload,i)).always(function(){n&&n.off("customizeLoadResult",a),t._repaintChangesOnly=void 0}).done(o.resolve).fail(o.reject)):(t.updateItems({repaintChangesOnly:e.changesOnly}),o.resolve())}),o.promise()},p.getVisibleRows=function(){return this.items()},p._disposeDataSource=function(){this.setDataSource(null)},p.dispose=function(){this._disposeDataSource(),e.prototype.dispose.call(this)},p.repaintRows=function(e,t){((e=Array.isArray(e)?e:[e]).length>1||(0,d.isDefined)(e[0]))&&this.updateItems({changeType:"update",rowIndices:e,isFullUpdate:!t})},p.skipProcessingPagingChange=function(e){return this._skipProcessingPagingChange&&("paging.pageIndex"===e||"paging.pageSize"===e)},p.getUserState=function(){return{searchText:this.option("searchPanel.text"),pageIndex:this.pageIndex(),pageSize:this.pageSize()}},p.getCachedStoreData=function(){return this._dataSource&&this._dataSource.getCachedStoreData()},p.isLastPageLoaded=function(){return this.pageIndex()===this.pageCount()-1},p.load=function(){var e;return null===(e=this._dataSource)||void 0===e?void 0:e.load()},p.reload=function(e,t){var n;return null===(n=this._dataSource)||void 0===n?void 0:n.reload(e,t)},p.push=function(){var e,t;return null===(t=this._dataSource)||void 0===t?void 0:(e=t).push.apply(e,arguments)},p.itemsCount=function(){var e;return this._dataSource?null===(e=this._dataSource)||void 0===e?void 0:e.itemsCount():0},p.totalItemsCount=function(){var e;return this._dataSource?null===(e=this._dataSource)||void 0===e?void 0:e.totalItemsCount():0},p.hasKnownLastPage=function(){var e;return!this._dataSource||(null===(e=this._dataSource)||void 0===e?void 0:e.hasKnownLastPage())},p.isLoaded=function(){var e;return!this._dataSource||(null===(e=this._dataSource)||void 0===e?void 0:e.isLoaded())},p.totalCount=function(){var e;return this._dataSource?null===(e=this._dataSource)||void 0===e?void 0:e.totalCount():0},t}(p.default.Controller.inherit(h.default));t.DataController=$,t.dataControllerModule={defaultOptions:function(){return{loadingTimeout:0,dataSource:null,cacheEnabled:!0,repaintChangesOnly:!1,highlightChanges:!1,onDataErrorOccurred:null,remoteOperations:"auto",paging:{enabled:!0,pageSize:void 0,pageIndex:void 0}}},controllers:{data:$}}},28627(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=f(n(46169)),o=n(36808),a=n(68759),r=n(68841),l=n(1685),s=n(4964),d=f(n(49233)),u=n(44129),c=f(n(88445)),h=f(n(31560));function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var g=c.default.Controller.inherit(function(){function e(t,n){if(t&&(t=t.slice(0),n))for(var i=0;i<t.length;i++)t[i]=(0,r.extend)({key:t[i].key},t[i]),t[i].items=e(t[i].items,n-1);return t}function t(e,t,n){var i={reload:!0,fullReload:!0};return t&&((i={sorting:!h.default.equalSortParameters(e.sort,t.sort),grouping:!h.default.equalSortParameters(e.group,t.group,!0),groupExpanding:!h.default.equalSortParameters(e.group,t.group)||t.groupExpand,filtering:!h.default.equalFilterParameters(e.filter,t.filter),pageIndex:e.pageIndex!==t.pageIndex,skip:e.skip!==t.skip,take:e.take!==t.take,pageSize:e.pageSize!==t.pageSize,fullReload:n}).reload=n||i.sorting||i.grouping||i.filtering,i.paging=i.pageIndex||i.pageSize||i.take),i}function n(e,t){var n=h.default.normalizeSortingInfo(e.group||e.storeLoadOptions.group||e.loadOptions.group).length,i=[];if(c(i,e,n))return i;t&&function(e,t,n){var i,o,a=e.length,r=t.storeLoadOptions;if(void 0!==r.skip&&r.take&&!n){var l=[];c(l,t,n,!0);var s=l.length;(a||s)&&(t.skip=null!==(i=t.skip)&&void 0!==i?i:r.skip,t.take=null!==(o=t.take)&&void 0!==o?o:r.take),a&&(r.skip+=a,r.take-=a,t.cachedDataPartBegin=e),s&&(r.take-=s,t.cachedDataPartEnd=l.reverse())}}(i,e,n)}function c(e,t,n,i){var o,a,r,l,s,d=t.storeLoadOptions,u=null!==(a=null!==(o=t.take)&&void 0!==o?o:d.take)&&void 0!==a?a:0,c=null===(r=t.cachedData)||void 0===r?void 0:r.items;if(u&&c){for(var h=null!==(s=null!==(l=t.skip)&&void 0!==l?l:d.skip)&&void 0!==s?s:0,p=0;p<u;p++){var g=i?u-1-p:p,m=g+h,v=c[m];if(void 0===v&&m in c)break;var C=f(t,v,n,g,u);if(!C)return!1;e.push(C)}return!0}return!1}function f(e,t,n,i,o){return n&&t?function e(t,n,i,o){if(n&&t){var a=p({},t),r=i[0]||0,l=o[0],s=t.items;if(s){if(void 0===l&&!s[r])return;a.items=[],i.length&&(a.isContinuation=!0),l&&(a.isContinuationOnNextPage=t.count>l);for(var d=0;void 0===l?s[d+r]:d<l;d++){var u=d+1===l,c=e(s[d+r],n-1,0===d?i.slice(1):[],u?o.slice(1):[]);if(void 0===c)return;a.items.push(c)}}return a}return t}(t,n,0===i&&e.skips||[],i===o-1&&e.takes||[]):t}function g(e,t,n,i){if(n&&t){var o=p({},t);delete o.isContinuation,delete o.isContinuationOnNextPage;var a=i[0]||0;return t.items&&(o.items=(null==e?void 0:e.items)||{},t.items.forEach(function(e,t){var r=t+a,l=0===t?i.slice(1):[];o.items[r]=g(o.items[r],e,n-1,l)})),o}return t}return{init:function(e,t){var n=this;n._dataSource=e,n._remoteOperations=t||{},n._isLastPage=!e.isLastPage(),n._hasLastPage=!1,n._currentTotalCount=0,n._cachedData={items:{}},n._lastOperationTypes={},n._eventsStrategy=e._eventsStrategy,n._totalCountCorrection=0,n._isLoadingAll=!1,n.changed=(0,i.default)(),n.loadingChanged=(0,i.default)(),n.loadError=(0,i.default)(),n.customizeStoreLoadOptions=(0,i.default)(),n.changing=(0,i.default)(),n.pushed=(0,i.default)(),n._dataChangedHandler=n._handleDataChanged.bind(n),n._customizeStoreLoadOptionsHandler=n._handleCustomizeStoreLoadOptions.bind(n),n._dataLoadedHandler=n._handleDataLoaded.bind(n),n._loadingChangedHandler=n._handleLoadingChanged.bind(n),n._loadErrorHandler=n._handleLoadError.bind(n),n._pushHandler=n._handlePush.bind(n),n._changingHandler=n._handleChanging.bind(n),e.on("changed",n._dataChangedHandler),e.on("customizeStoreLoadOptions",n._customizeStoreLoadOptionsHandler),e.on("customizeLoadResult",n._dataLoadedHandler),e.on("loadingChanged",n._loadingChangedHandler),e.on("loadError",n._loadErrorHandler),e.on("changing",n._changingHandler),e.store().on("beforePush",n._pushHandler),(0,l.each)(e,function(e,t){!n[e]&&(0,s.isFunction)(t)&&(n[e]=function(){return this._dataSource[e].apply(this._dataSource,arguments)})})},remoteOperations:function(){return this._remoteOperations},dispose:function(e){var t=this._dataSource,n=t.store();t.off("changed",this._dataChangedHandler),t.off("customizeStoreLoadOptions",this._customizeStoreLoadOptionsHandler),t.off("customizeLoadResult",this._dataLoadedHandler),t.off("loadingChanged",this._loadingChangedHandler),t.off("loadError",this._loadErrorHandler),t.off("changing",this._changingHandler),n&&n.off("beforePush",this._pushHandler),e||t.dispose()},refresh:function(e,t){var n=this._dataSource;t.reload&&(this.resetCurrentTotalCount(),this._isLastPage=!n.paginate(),this._hasLastPage=this._isLastPage)},resetCurrentTotalCount:function(){this._currentTotalCount=0,this._totalCountCorrection=0},resetCache:function(){this._cachedStoreData=void 0,this._cachedPagingData=void 0},resetPagesCache:function(){this._cachedData={items:{}}},_needClearStoreDataCache:function(){var e=this.remoteOperations(),n=t(this._lastLoadOptions||{},{});return!Object.keys(e).every(function(t){return!n[t]||!e[t]})},push:function(e,t){var n=this.store();this._needClearStoreDataCache()&&(this._cachedStoreData=void 0),this._cachedPagingData=void 0,this.resetPagesCache(!0),this._cachedStoreData&&(0,u.applyBatch)({keyInfo:n,data:this._cachedStoreData,changes:e}),t||this._applyBatch(e),this.pushed.fire(e)},getDataIndexGetter:function(){var e=this;if(!this._dataIndexGetter){var t,n,i=this.store();this._dataIndexGetter=function(a){var r=n&&n!==e._cachedStoreData;if(!t||r){n=e._cachedStoreData||[],t={};for(var l=0;l<n.length;l++)t[(0,o.getKeyHash)(i.keyOf(n[l]))]=l}return t[(0,o.getKeyHash)(i.keyOf(a))]}}return this._dataIndexGetter},_getKeyInfo:function(){return this.store()},_needToCopyDataObject:function(){return!0},_applyBatch:function(e,t){var n=this,i=this._getKeyInfo(),o=this._dataSource,a=h.default.normalizeSortingInfo(this.group()).length,r="reshape"===this.option("editing.refreshMode"),l="virtual"===this.option("scrolling.mode");e=e.filter(function(e){return!o.paginate()||"insert"!==e.type||void 0!==e.index});var s=function(){return a?n.itemsCount():n.items().length},d=s();(0,u.applyBatch)({keyInfo:i,data:this._items,changes:e,groupCount:a,useInsertIndex:!0,skipCopying:!this._needToCopyDataObject()}),(0,u.applyBatch)({keyInfo:i,data:o.items(),changes:e,groupCount:a,useInsertIndex:!0,skipCopying:!this._needToCopyDataObject()}),(this._currentTotalCount>0||(t||!r)&&l)&&(this._totalCountCorrection+=s()-d),e.splice(0,e.length)},_handlePush:function(e){var t=e.changes;this.push(t,!0)},_handleChanging:function(e){this.changing.fire(e),this._applyBatch(e.changes,!0)},_needCleanCacheByOperation:function(e,t){var n=["filtering","sorting","paging"],i=n.indexOf(e);return(i>=0?n.slice(i):[e]).some(function(e){return t[e]})},_customizeRemoteOperations:function(e,t){var n=this,i=this._cachedStoreData,o=this._cachedPagingData,a=this._cachedData;(e.storeLoadOptions.filter&&!e.remoteOperations.filtering||e.storeLoadOptions.sort&&!e.remoteOperations.sorting)&&(e.remoteOperations={filtering:e.remoteOperations.filtering,summary:e.remoteOperations.summary}),t.fullReload?(i=void 0,o=void 0,a={items:{}}):(t.reload?(o=void 0,a={items:{}}):t.groupExpanding&&(a={items:{}}),(0,l.each)(t,function(t,a){a&&n._needCleanCacheByOperation(t,e.remoteOperations)&&(i=void 0,o=void 0)})),o&&(e.remoteOperations.paging=!1),e.cachedStoreData=i,e.cachedPagingData=o,e.cachedData=a,e.isCustomLoading||(this._cachedStoreData=i,this._cachedPagingData=o,this._cachedData=a)},_handleCustomizeStoreLoadOptions:function(e){var t;this._handleDataLoading(e),0!==(null===(t=e.data)||void 0===t?void 0:t.length)&&(e.data=n(e,!0)||e.cachedStoreData)},_handleDataLoading:function(e){var n=this,i=this._dataSource,o=this._lastLoadOptions;this.customizeStoreLoadOptions.fire(e),e.delay=this.option("loadingTimeout"),e.originalStoreLoadOptions=e.storeLoadOptions,e.remoteOperations=(0,r.extend)({},this.remoteOperations());var l=!this.isLoaded()&&!this._isRefreshing;this.option("integrationOptions.renderedOnServer")&&!this.isLoaded()&&(e.delay=void 0);var s=(0,r.extend)({pageIndex:this.pageIndex(),pageSize:this.pageSize()},e.storeLoadOptions),d=t(s,o,l);if(this._customizeRemoteOperations(e,d),!e.isCustomLoading){var u=this._isRefreshing;e.pageIndex=i.pageIndex(),e.lastLoadOptions=s,e.operationTypes=d,this._loadingOperationTypes=d,this._isRefreshing=!0,(0,a.when)(u||this._isRefreshed||this.refresh(e,d)).done(function(){n._lastOperationId===e.operationId&&(n._isRefreshed=!0,n.load().always(function(){n._isRefreshed=!1}))}).fail(function(){i.cancel(e.operationId)}).always(function(){n._isRefreshing=!1}),i.cancel(this._lastOperationId),this._lastOperationId=e.operationId,this._isRefreshing&&i.cancel(this._lastOperationId)}this._handleDataLoadingCore(e)},_handleDataLoadingCore:function(e){var t=e.remoteOperations;e.loadOptions={};var n=e.cachedData.extra,i={filter:!t.filtering,sort:!t.sorting,group:!t.grouping,summary:!t.summary,skip:!t.paging,take:!t.paging,requireTotalCount:n&&"totalCount"in n||!t.paging};(0,l.each)(e.storeLoadOptions,function(t,n){i[t]&&(e.loadOptions[t]=n,delete e.storeLoadOptions[t])}),n&&(e.extra=n)},_handleDataLoaded:function(t){var i,o,l=this,u=t.loadOptions,c=t.remoteOperations&&!t.remoteOperations.paging,f=t.cachedData,p=t.storeLoadOptions,m=!1!==this.option("cacheEnabled")&&p,v=m&&!t.isCustomLoading&&f&&(!c||p.group),C=m&&c,$=C&&!t.isCustomLoading;if(u){c&&(t.skip=u.skip,t.take=u.take,delete u.skip,delete u.take),u.group&&(u.group=t.group||u.group);var w=h.default.normalizeSortingInfo(t.group||p.group||u.group).length;t.cachedDataPartBegin&&(t.data=t.cachedDataPartBegin.concat(t.data)),t.cachedDataPartEnd&&(t.data=t.data.concat(t.cachedDataPartEnd)),v&&n(t)||(C&&t.cachedPagingData?t.data=e(t.cachedPagingData,w):($&&(this._cachedStoreData?t.mergeStoreLoadData&&(t.data=this._cachedStoreData=this._cachedStoreData.concat(t.data)):this._cachedStoreData=e(t.data,h.default.normalizeSortingInfo(p.group).length)),new d.default(t.data).load(u).done(function(n){t.data=n,$&&(l._cachedPagingData=e(t.data,w))}).fail(function(e){t.data=(new a.Deferred).reject(e)})),u.requireTotalCount&&c&&(t.extra=(0,s.isPlainObject)(t.extra)?t.extra:{},t.extra.totalCount=t.data.length),t.extra&&t.extra.totalCount>=0&&(!1===p.requireTotalCount||!1===u.requireTotalCount)&&(t.extra.totalCount=-1),!u.data&&(p.requireTotalCount||(null!==(o=null===(i=t.extra)||void 0===i?void 0:i.totalCount)&&void 0!==o?o:-1)>=0)&&(this._totalCountCorrection=0),this._handleDataLoadedCore(t),v&&(f.extra=f.extra||(0,r.extend)({},t.extra),(0,a.when)(t.data).done(function(e){!function(e,t,n){for(var i,o,a,r,l=e.storeLoadOptions,s=null!==(o=null!==(i=e.skip)&&void 0!==i?i:l.skip)&&void 0!==o?o:0,d=null!==(r=null!==(a=e.take)&&void 0!==a?a:l.take)&&void 0!==r?r:0,u=0;u<d;u++){var c=u+s,h=e.cachedData.items,f=0===u&&e.skips||[];h[c]=g(h[c],t[u],n,f)}}(t,e,w)}))),(0,a.when)(t.data).done(function(){t.lastLoadOptions&&(l._lastLoadOptions=t.lastLoadOptions,Object.keys(t.operationTypes).forEach(function(e){l._lastOperationTypes[e]=l._lastOperationTypes[e]||t.operationTypes[e]}))}),t.storeLoadOptions=t.originalStoreLoadOptions}else this._dataSource.cancel(t.operationId)},_handleDataLoadedCore:function(e){e.remoteOperations&&!e.remoteOperations.paging&&Array.isArray(e.data)&&(void 0!==e.skip&&(e.data=e.data.slice(e.skip)),void 0!==e.take&&(e.data=e.data.slice(0,e.take)))},_handleLoadingChanged:function(e){this.loadingChanged.fire(e)},_handleLoadError:function(e){this.loadError.fire(e),this.changed.fire({changeType:"loadError",error:e})},_loadPageSize:function(){return this.pageSize()},_handleDataChanged:function(e){var t,n=this._dataSource,i=!1,o=!e||(0,s.isDefined)(e.changeType),a=this.itemsCount();o&&(this._isLastPage=!a||!this._loadPageSize()||a<this._loadPageSize(),this._isLastPage&&(this._hasLastPage=!0)),n.totalCount()>=0?n.pageIndex()>=this.pageCount()&&(n.pageIndex(this.pageCount()-1),this.pageIndex(n.pageIndex()),this.resetPagesCache(),n.load(),i=!0):o&&((t=n.pageIndex()*this.pageSize()+a)>this._currentTotalCount&&(this._currentTotalCount=t,0!==n.pageIndex()&&this.option("scrolling.legacyMode")||(this._totalCountCorrection=0)),0===a&&n.pageIndex()>=this.pageCount()&&(n.pageIndex(this.pageCount()-1),"infinite"!==this.option("scrolling.mode")&&(n.load(),i=!0))),i||(this._operationTypes=this._lastOperationTypes,this._lastOperationTypes={},this.component._optionCache={},this.changed.fire(e),this.component._optionCache=void 0)},_scheduleCustomLoadCallbacks:function(e){var t=this;t._isCustomLoading=!0,e.always(function(){t._isCustomLoading=!1})},loadingOperationTypes:function(){return this._loadingOperationTypes},operationTypes:function(){return this._operationTypes},lastLoadOptions:function(){return this._lastLoadOptions||{}},isLastPage:function(){return this._isLastPage},_dataSourceTotalCount:function(){return this._dataSource.totalCount()},totalCount:function(){return parseInt((this._currentTotalCount||this._dataSourceTotalCount())+this._totalCountCorrection)},totalCountCorrection:function(){return this._totalCountCorrection},itemsCount:function(){return this._dataSource.items().length},totalItemsCount:function(){return this.totalCount()},pageSize:function(){var e=this._dataSource;return arguments.length||e.paginate()?e.pageSize.apply(e,arguments):0},pageCount:function(){var e=this.totalItemsCount()-this._totalCountCorrection,t=this.pageSize();return t&&e>0?Math.max(1,Math.ceil(e/t)):1},hasKnownLastPage:function(){return this._hasLastPage||this._dataSource.totalCount()>=0},loadFromStore:function(e,t){var n=this._dataSource,i=new a.Deferred;if(n)return(t=t||n.store()).load(e).done(function(e,t){e&&!Array.isArray(e)&&Array.isArray(e.data)&&(t=e,e=e.data),i.resolve(e,t)}).fail(i.reject),i},isCustomLoading:function(){return!!this._isCustomLoading},load:function(e){var t,n,i=this,r=this,d=r._dataSource,u=new a.Deferred;if(e){var c=d.store(),h=d.loadOptions(),f={storeLoadOptions:e,isCustomLoading:!0};return(0,l.each)(c._customLoadOptions()||[],function(e,t){t in f.storeLoadOptions||(f.storeLoadOptions[t]=h[t])}),this._isLoadingAll=e.isLoadingAll,r._scheduleCustomLoadCallbacks(u),d._scheduleLoadCallbacks(u),r._handleCustomizeStoreLoadOptions(f),t=function(){if(!d.store())return u.reject("canceled");(0,a.when)(f.data||r.loadFromStore(f.storeLoadOptions)).done(function(t,n){f.data=t,f.extra=n||{},r._handleDataLoaded(f),e.requireTotalCount&&void 0===f.extra.totalCount&&(f.extra.totalCount=c.totalCount(f.storeLoadOptions)),(0,a.when)(f.data,f.extra.totalCount).done(function(e,t){f.extra.totalCount=t,u.resolve(e,f.extra)}).fail(u.reject)}).fail(u.reject)},n=r.option("loadingTimeout"),(0,s.isDefined)(n)?(0,o.executeAsync)(t,n):t(),u.fail(function(){r._eventsStrategy.fireEvent("loadError",arguments)}).always(function(){i._isLoadingAll=!1}).promise()}return d.load()},reload:function(e){return e?this._dataSource.reload():this._dataSource.load()},getCachedStoreData:function(){return this._cachedStoreData}}}());t.default=g},32982(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isRenovatedScrollable=t.VIEWPORT_TOP_NEW_ROW_POSITION=t.VIEWPORT_BOTTOM_NEW_ROW_POSITION=t.TARGET_COMPONENT_NAME=t.ROW_SELECTED_CLASS=t.ROW_SELECTED=t.ROW_REMOVED=t.ROW_MODIFIED=t.ROW_INSERTED=t.ROW_CLASS=t.ROW_BASED_MODES=t.READONLY_CLASS=t.PAGE_TOP_NEW_ROW_POSITION=t.PAGE_BOTTOM_NEW_ROW_POSITION=t.MODES_WITH_DELAYED_FOCUS=t.METHOD_NAMES=t.LINK_CLASS=t.LAST_NEW_ROW_POSITION=t.INSERT_INDEX=t.FORM_BUTTONS_CONTAINER_CLASS=t.FOCUS_OVERLAY_CLASS=t.FOCUSABLE_ELEMENT_SELECTOR=t.FOCUSABLE_ELEMENT_CLASS=t.FIRST_NEW_ROW_POSITION=t.EDIT_ROW=t.EDIT_POPUP_FORM_CLASS=t.EDIT_POPUP_CLASS=t.EDIT_MODE_ROW=t.EDIT_MODE_POPUP=t.EDIT_MODE_FORM=t.EDIT_MODE_CELL=t.EDIT_MODE_BATCH=t.EDIT_MODES=t.EDIT_LINK_CLASS=t.EDIT_ICON_CLASS=t.EDIT_FORM_ITEM_CLASS=t.EDIT_FORM_CLASS=t.EDIT_BUTTON_CLASS=t.EDITOR_CELL_CLASS=t.EDITORS_INPUT_SELECTOR=t.EDITING_POPUP_OPTION_NAME=t.EDITING_NAMESPACE=t.EDITING_FORM_OPTION_NAME=t.EDITING_EDITROWKEY_OPTION_NAME=t.EDITING_EDITCOLUMNNAME_OPTION_NAME=t.EDITING_CHANGES_OPTION_NAME=t.DROPDOWN_EDITOR_OVERLAY_CLASS=t.DEFAULT_START_EDIT_ACTION=t.DATA_ROW_CLASS=t.DATA_EDIT_DATA_UPDATE_TYPE=t.DATA_EDIT_DATA_REMOVE_TYPE=t.DATA_EDIT_DATA_INSERT_TYPE=t.COMMAND_EDIT_WITH_ICONS_CLASS=t.COMMAND_EDIT_CLASS=t.CELL_MODIFIED_CLASS=t.CELL_MODIFIED=t.CELL_FOCUS_DISABLED_CLASS=t.BUTTON_NAMES=t.BUTTON_CLASS=t.ADD_ROW_BUTTON_CLASS=t.ACTION_OPTION_NAMES=void 0;var i,o=(i=n(31598))&&i.__esModule?i:{default:i};t.EDITOR_CELL_CLASS="dx-editor-cell",t.ROW_CLASS="dx-row",t.CELL_MODIFIED_CLASS="dx-cell-modified",t.ROW_SELECTED_CLASS="dx-selection",t.EDIT_FORM_CLASS="edit-form",t.DATA_EDIT_DATA_INSERT_TYPE="insert",t.DATA_EDIT_DATA_REMOVE_TYPE="remove",t.EDITING_POPUP_OPTION_NAME="editing.popup",t.EDITING_FORM_OPTION_NAME="editing.form",t.EDITING_EDITROWKEY_OPTION_NAME="editing.editRowKey",t.EDITING_EDITCOLUMNNAME_OPTION_NAME="editing.editColumnName",t.TARGET_COMPONENT_NAME="targetComponent";var a="input:not([type='hidden'])";t.EDITORS_INPUT_SELECTOR=a,t.FOCUSABLE_ELEMENT_SELECTOR="[tabindex], "+a;var r="batch";t.EDIT_MODE_BATCH=r,t.EDIT_MODE_ROW="row";var l="cell";t.EDIT_MODE_CELL=l;var s="form";t.EDIT_MODE_FORM=s;var d="popup";t.EDIT_MODE_POPUP=d,t.FIRST_NEW_ROW_POSITION="first",t.LAST_NEW_ROW_POSITION="last",t.PAGE_BOTTOM_NEW_ROW_POSITION="pageBottom",t.PAGE_TOP_NEW_ROW_POSITION="pageTop",t.VIEWPORT_BOTTOM_NEW_ROW_POSITION="viewportBottom",t.VIEWPORT_TOP_NEW_ROW_POSITION="viewportTop",t.EDIT_MODES=[r,"row",l,s,d],t.ROW_BASED_MODES=["row",s,d],t.MODES_WITH_DELAYED_FOCUS=["row",s],t.READONLY_CLASS="readonly",t.LINK_CLASS="dx-link",t.ROW_SELECTED="dx-selection",t.EDIT_BUTTON_CLASS="dx-edit-button";var u="dx-command-edit";t.COMMAND_EDIT_CLASS=u;var c="".concat(u,"-with-icons");t.COMMAND_EDIT_WITH_ICONS_CLASS=c,t.INSERT_INDEX="__DX_INSERT_INDEX__",t.ROW_INSERTED="dx-row-inserted",t.ROW_MODIFIED="dx-row-modified",t.CELL_MODIFIED="dx-cell-modified",t.EDITING_NAMESPACE="dxDataGridEditing",t.CELL_FOCUS_DISABLED_CLASS="dx-cell-focus-disabled",t.DATA_EDIT_DATA_UPDATE_TYPE="update",t.DEFAULT_START_EDIT_ACTION="click",t.EDIT_LINK_CLASS={save:"dx-link-save",cancel:"dx-link-cancel",edit:"dx-link-edit",undelete:"dx-link-undelete",delete:"dx-link-delete",add:"dx-link-add"},t.EDIT_ICON_CLASS={save:"save",cancel:"revert",edit:"edit",undelete:"revert",delete:"trash",add:"add"},t.METHOD_NAMES={edit:"editRow",delete:"deleteRow",undelete:"undeleteRow",save:"saveEditData",cancel:"cancelEditData",add:"addRowByRowIndex"},t.ACTION_OPTION_NAMES={add:"allowAdding",edit:"allowUpdating",delete:"allowDeleting"},t.BUTTON_NAMES=["edit","save","cancel","delete","undelete"],t.EDITING_CHANGES_OPTION_NAME="editing.changes",t.FOCUS_OVERLAY_CLASS="focus-overlay",t.ADD_ROW_BUTTON_CLASS="addrow-button",t.DROPDOWN_EDITOR_OVERLAY_CLASS="dx-dropdowneditor-overlay",t.DATA_ROW_CLASS="dx-data-row",t.ROW_REMOVED="dx-row-removed";var h=!!o.default.IS_RENOVATED_WIDGET;t.isRenovatedScrollable=h,t.EDIT_FORM_ITEM_CLASS="edit-form-item",t.EDIT_POPUP_CLASS="edit-popup",t.EDIT_POPUP_FORM_CLASS="edit-popup-form",t.FOCUSABLE_ELEMENT_CLASS=h?"dx-scrollable":"dx-scrollable-container",t.BUTTON_CLASS="dx-button",t.FORM_BUTTONS_CONTAINER_CLASS="form-buttons-container",t.EDIT_ROW="dx-edit-row"},25882(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.editingModule=void 0;var o=D(n(73675)),a=D(n(71251)),r=D(n(63559)),l=D(n(68689)),s=n(36808),d=n(68759),u=n(34284),c=n(68841),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=a?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(o,r,l):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(n(667)),f=n(1685),p=n(74276),g=n(4964),m=n(44129),v=n(44479),C=D(n(21445)),$=D(n(30593)),w=n(48634),y=D(n(38306)),x=n(37853),I=D(n(88445)),E=D(n(31560)),b=n(32982),S=n(60252);function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function D(e){return e&&e.__esModule?e:{default:e}}function R(){return(R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function O(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function A(e,t){return(A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var P={defaultOptions:function(){return{editing:{mode:"row",refreshMode:"full",newRowPosition:b.VIEWPORT_TOP_NEW_ROW_POSITION,allowAdding:!1,allowUpdating:!1,allowDeleting:!1,useIcons:!1,selectTextOnEditStart:!1,confirmDelete:!0,texts:{editRow:y.default.format("dxDataGrid-editingEditRow"),saveAllChanges:y.default.format("dxDataGrid-editingSaveAllChanges"),saveRowChanges:y.default.format("dxDataGrid-editingSaveRowChanges"),cancelAllChanges:y.default.format("dxDataGrid-editingCancelAllChanges"),cancelRowChanges:y.default.format("dxDataGrid-editingCancelRowChanges"),addRow:y.default.format("dxDataGrid-editingAddRow"),deleteRow:y.default.format("dxDataGrid-editingDeleteRow"),undeleteRow:y.default.format("dxDataGrid-editingUndeleteRow"),confirmDeleteMessage:y.default.format("dxDataGrid-editingConfirmDeleteMessage"),confirmDeleteTitle:""},form:{colCount:2},popup:{},startEditAction:"click",editRowKey:null,editColumnName:null,changes:[]},useLegacyColumnButtonTemplate:!1}},controllers:{editing:function(e){function t(){return e.apply(this,arguments)||this}i=e,(n=t).prototype=Object.create(i.prototype),n.prototype.constructor=n,A(n,i);var n,i,u=t.prototype;return u.init=function(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._rowsView=this.getView("rowsView"),this._lastOperation=null,this._changes=[],this._deferreds&&this._deferreds.forEach(function(e){return e.reject("cancel")}),this._deferreds=[],this._dataChangedHandler||(this._dataChangedHandler=this._handleDataChanged.bind(this),this._dataController.changed.add(this._dataChangedHandler)),this._saveEditorHandler||(this.createAction("onInitNewRow",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowInserting",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowInserted",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditingStart",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowUpdating",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowUpdated",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowRemoving",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowRemoved",{excludeValidators:["disabled","readOnly"]}),this.createAction("onSaved",{excludeValidators:["disabled","readOnly"]}),this.createAction("onSaving",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditCanceling",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditCanceled",{excludeValidators:["disabled","readOnly"]})),this._updateEditColumn(),this._updateEditButtons(),this._internalState||(this._internalState=[]),this.component._optionsByReference[b.EDITING_EDITROWKEY_OPTION_NAME]=!0,this.component._optionsByReference[b.EDITING_CHANGES_OPTION_NAME]=!0},u.getEditMode=function(){var e=this.option("editing.mode");return b.EDIT_MODES.includes(e)?e:b.EDIT_MODE_ROW},u._getDefaultEditorTemplate=function(){var e=this;return function(t,n){var i=(0,l.default)("<div>").appendTo(t);e.getController("editorFactory").createEditor(i,(0,c.extend)({},n.column,{value:n.value,setValue:n.setValue,row:n.row,parentType:"dataRow",width:null,readOnly:!n.setValue,isOnForm:n.isOnForm,id:n.id}))}},u._getNewRowPosition=function(){var e=this.option("editing.newRowPosition");if("virtual"===this.option("scrolling.mode"))switch(e){case b.PAGE_TOP_NEW_ROW_POSITION:return b.VIEWPORT_TOP_NEW_ROW_POSITION;case b.PAGE_BOTTOM_NEW_ROW_POSITION:return b.VIEWPORT_BOTTOM_NEW_ROW_POSITION}return e},u.getChanges=function(){return this.option(b.EDITING_CHANGES_OPTION_NAME)},u.getInsertRowCount=function(){return this.option(b.EDITING_CHANGES_OPTION_NAME).filter(function(e){return"insert"===e.type}).length},u.resetChanges=function(){var e=this.getChanges();(null==e?void 0:e.length)&&this._silentOption(b.EDITING_CHANGES_OPTION_NAME,[])},u._getInternalData=function(e){return this._internalState.filter(function(t){return(0,s.equalByValue)(t.key,e)})[0]},u._addInternalData=function(e){var t=this._getInternalData(e.key);return t?(0,c.extend)(t,e):(this._internalState.push(e),e)},u._getOldData=function(e){var t;return null===(t=this._getInternalData(e))||void 0===t?void 0:t.oldData},u.getUpdatedData=function(e){var t=this._dataController.keyOf(e),n=this.getChanges(),i=E.default.getIndexByKey(t,n);return n[i]?(0,m.createObjectWithChanges)(e,n[i].data):e},u.getInsertedData=function(){return this.getChanges().filter(function(e){return e.data&&e.type===b.DATA_EDIT_DATA_INSERT_TYPE}).map(function(e){return e.data})},u.getRemovedData=function(){var e=this;return this.getChanges().filter(function(t){return e._getOldData(t.key)&&t.type===b.DATA_EDIT_DATA_REMOVE_TYPE}).map(function(t){return e._getOldData(t.key)})},u._fireDataErrorOccurred=function(e){if("cancel"!==e){var t=this.getPopupContent();this._dataController.dataErrorOccurred.fire(e,t)}},u._needToCloseEditableCell=function(e){},u._closeEditItem=function(e){},u._handleDataChanged=function(e){},u._isDefaultButtonVisible=function(e,t){var n=!0;switch(e.name){case"delete":n=this.allowDeleting(t);break;case"undelete":n=!1}return n},u._isButtonVisible=function(e,t){var n=e.visible;return(0,g.isDefined)(n)?(0,g.isFunction)(n)?n.call(e,{component:t.component,row:t.row,column:t.column}):n:this._isDefaultButtonVisible(e,t)},u._isButtonDisabled=function(e,t){var n=e.disabled;return(0,g.isFunction)(n)?n.call(e,{component:t.component,row:t.row,column:t.column}):!!n},u._getButtonConfig=function(e,t){var n=this,i=(0,g.isObject)(e)?e:{},o=(0,S.getButtonName)(e),a=(0,S.getEditingTexts)(t),r=b.METHOD_NAMES[o],l=this.option("editing"),s=b.ACTION_OPTION_NAMES[o],d=!s||l[s];return(0,c.extend)({name:o,text:a[o],cssClass:b.EDIT_LINK_CLASS[o]},{onClick:r&&function(e){var i=e.event;i.stopPropagation(),i.preventDefault(),setTimeout(function(){t.row&&d&&n[r]&&n[r](t.row.rowIndex)})}},i)},u._getEditingButtons=function(e){var t,n=this,i=!!e.column.buttons,o=(e.column.buttons||[]).slice();return i?((t=(0,S.getButtonIndex)(o,"edit"))>=0&&(0>(0,S.getButtonIndex)(o,"save")&&o.splice(t+1,0,"save"),0>(0,S.getButtonIndex)(o,"cancel")&&o.splice((0,S.getButtonIndex)(o,"save")+1,0,"cancel")),(t=(0,S.getButtonIndex)(o,"delete"))>=0&&0>(0,S.getButtonIndex)(o,"undelete")&&o.splice(t+1,0,"undelete")):o=b.BUTTON_NAMES.slice(),o.map(function(t){return n._getButtonConfig(t,e)})},u._renderEditingButtons=function(e,t,n,i){var o=this;t.forEach(function(t){o._isButtonVisible(t,n)&&o._createButton(e,t,n,i)})},u._getEditCommandCellTemplate=function(){var e=this;return function(t,n,i){var o=(0,l.default)(t);if("data"===n.rowType){var a=e._getEditingButtons(n);e._renderEditingButtons(o,a,n,i),n.watch&&n.watch(function(){return a.map(function(t){return e._isButtonVisible(t,n)})},function(){o.empty(),e._renderEditingButtons(o,a,n)})}else E.default.setEmptyText(o)}},u.isRowBasedEditMode=function(){var e=this.getEditMode();return b.ROW_BASED_MODES.includes(e)},u.getFirstEditableColumnIndex=function(){var e,t=this.getController("columns").getVisibleColumns();return(0,f.each)(t,function(t,n){if(n.allowEditing)return e=t,!1}),e},u.getFirstEditableCellInRow=function(e){var t=this.getView("rowsView"),n=this.getFirstEditableColumnIndex();return null==t?void 0:t._getCellElement(e||0,n)},u.getFocusedCellInRow=function(e){return this.getFirstEditableCellInRow(e)},u.getIndexByKey=function(e,t){return E.default.getIndexByKey(e,t)},u.hasChanges=function(e){for(var t=this.getChanges(),n=!1,i=0;i<(null==t?void 0:t.length);i++)if(t[i].type&&(!(0,g.isDefined)(e)||this._dataController.getRowIndexByKey(t[i].key)===e)){n=!0;break}return n},u.dispose=function(){e.prototype.dispose.call(this),clearTimeout(this._inputFocusTimeoutID),C.default.off(a.default.getDocument(),$.default.up,this._pointerUpEditorHandler),C.default.off(a.default.getDocument(),$.default.down,this._pointerDownEditorHandler),C.default.off(a.default.getDocument(),v.name,this._saveEditorHandler)},u._silentOption=function(t,n){"editing.changes"===t&&(this._changes=(0,p.deepExtendArraySafe)([],n)),e.prototype._silentOption.call(this,t,n)},u.optionChanged=function(t){if("editing"===t.name){var n=t.fullName;n===b.EDITING_EDITROWKEY_OPTION_NAME?this._handleEditRowKeyChange(t):n===b.EDITING_CHANGES_OPTION_NAME?(0,s.equalByValue)(t.value,this._changes,{maxDepth:4})||(this._changes=(0,p.deepExtendArraySafe)([],t.value),this._handleChangesChange(t)):t.handled||(this._columnsController.reinit(),this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey()),t.handled=!0}else e.prototype.optionChanged.call(this,t)},u._handleEditRowKeyChange=function(e){var t=this._dataController.getRowIndexByKey(e.value),n=this._getEditRowIndexCorrection(),i=this._dataController.getRowIndexByKey(e.previousValue)+n;(0,g.isDefined)(e.value)?e.value!==e.previousValue&&this._editRowFromOptionChanged(t,i):this.cancelEditData()},u._handleChangesChange=function(e){var t=this,n=this._dataController,i=e.value;(e.value.length||e.previousValue.length)&&(i.forEach(function(e){var i;if("insert"===e.type)t._addInsertInfo(e);else{var o=n.getCachedStoreData()||(null===(i=n.items())||void 0===i?void 0:i.map(function(e){return e.data})),a=E.default.getIndexByKey(e.key,o,n.key());t._addInternalData({key:e.key,oldData:o[a]})}}),n.updateItems({repaintChangesOnly:!0,isLiveUpdate:!1,isOptionChanged:!0}))},u.publicMethods=function(){return["addRow","deleteRow","undeleteRow","editRow","saveEditData","cancelEditData","hasEditData"]},u.refresh=function(){(0,g.isDefined)(this._pageIndex)&&this._refreshCore.apply(this,arguments)},u._refreshCore=function(e){},u.isEditing=function(){return(0,g.isDefined)(this.option(b.EDITING_EDITROWKEY_OPTION_NAME))},u.isEditRow=function(e){return!1},u._setEditRowKey=function(e,t){t?this._silentOption(b.EDITING_EDITROWKEY_OPTION_NAME,e):this.option(b.EDITING_EDITROWKEY_OPTION_NAME,e),this._refocusEditCell&&(this._refocusEditCell=!1,this._focusEditingCell())},u._setEditRowKeyByIndex=function(e,t){var n=this._dataController.getKeyByRowIndex(e);void 0!==n?this._setEditRowKey(n,t):this._dataController.fireError("E1043")},u.getEditRowIndex=function(){return this._getVisibleEditRowIndex()},u.getEditFormRowIndex=function(){return -1},u.isEditRowByIndex=function(e){var t=this._dataController.getKeyByRowIndex(e),n=(0,g.isDefined)(t)&&(0,s.equalByValue)(this.option(b.EDITING_EDITROWKEY_OPTION_NAME),t);return n?this._getVisibleEditRowIndex()===e:n},u.isEditCell=function(e,t){return this.isEditRowByIndex(e)&&this._getVisibleEditColumnIndex()===t},u.getPopupContent=function(){},u._isProcessedItem=function(e){return!1},u._getInsertRowIndex=function(e,t,n){var i=this,o=-1,a=this._dataController,r=this._getInsertAfterOrBeforeKey(t);return(0,g.isDefined)(r)||0!==e.length?(0,g.isDefined)(r)&&e.some(function(l,d){var u=n||i._isProcessedItem(l);if((0,g.isObject)(l)&&(u||(0,g.isDefined)(l[b.INSERT_INDEX])?(0,s.equalByValue)(l.key,r)&&(o=d):(0,s.equalByValue)(a.keyOf(l),r)&&(o=d)),o>=0){var c=e[o+1];if(c&&("detail"===c.rowType||"detailAdaptive"===c.rowType)&&(0,g.isDefined)(t.insertAfterKey))return;return(0,g.isDefined)(t.insertAfterKey)&&(o+=1),!0}}):o=0,o},u._generateNewItem=function(e){var t,n={key:e},i=null===(t=this._getInternalData(e))||void 0===t?void 0:t.insertInfo;return(null==i?void 0:i[b.INSERT_INDEX])&&(n[b.INSERT_INDEX]=i[b.INSERT_INDEX]),n},u._getLoadedRowIndex=function(e,t,n){var i=this._getInsertRowIndex(e,t,n),o=this._dataController;if(i<0){var a=this._getNewRowPosition(),r=o.pageIndex(),l=this._getInsertAfterOrBeforeKey(t);a===b.LAST_NEW_ROW_POSITION||0!==r||(0,g.isDefined)(l)?a===b.LAST_NEW_ROW_POSITION&&o.isLastPageLoaded()&&(i=e.length):i=0}return i},u.processItems=function(e,t){var n=this,i=t.changeType;return this.update(i),this.getChanges().forEach(function(t){var i;if(t.type===b.DATA_EDIT_DATA_INSERT_TYPE){var o=t.key,a=null===(i=n._getInternalData(o))||void 0===i?void 0:i.insertInfo;(0,g.isDefined)(o)&&(0,g.isDefined)(a)||(o=(a=n._addInsertInfo(t)).key);var r=n._getLoadedRowIndex(e,t),l=n._generateNewItem(o);r>=0&&e.splice(r,0,l)}}),e},u.processDataItem=function(e,t,n){var i=t.visibleColumns,o=e.data[b.INSERT_INDEX]?e.data.key:e.key,a=this.getChanges(),r=E.default.getIndexByKey(o,a);e.isEditing=!1,r>=0&&this._processDataItemCore(e,a[r],o,i,n)},u._processDataItemCore=function(e,t,n,i,o){var a=t.data;switch(t.type){case b.DATA_EDIT_DATA_INSERT_TYPE:e.isNewRow=!0,e.key=n,e.data=a;break;case b.DATA_EDIT_DATA_UPDATE_TYPE:e.modified=!0,e.oldData=e.data,e.data=(0,m.createObjectWithChanges)(e.data,a),e.modifiedValues=o(a,i,!0);break;case b.DATA_EDIT_DATA_REMOVE_TYPE:e.removed=!0}},u._initNewRow=function(e){var t=this;if(this.executeAction("onInitNewRow",e),e.promise){var n=new d.Deferred;return(0,d.when)((0,d.fromPromise)(e.promise)).done(n.resolve).fail((0,S.createFailureHandler)(n)).fail(function(e){return t._fireDataErrorOccurred(e)}),n}},u._createInsertInfo=function(){var e={};return e[b.INSERT_INDEX]=this._getInsertIndex(),e},u._addInsertInfo=function(e,t){var n,i,o=e.key;if((0,g.isDefined)(o)||(o=String(new r.default),e.key=o),i=null===(n=this._getInternalData(o))||void 0===n?void 0:n.insertInfo,!(0,g.isDefined)(i)){var a=this._getInsertAfterOrBeforeKey(e);i=this._createInsertInfo(),(0,g.isDefined)(a)||this._setInsertAfterOrBeforeKey(e,t)}return this._addInternalData({insertInfo:i,key:o}),{insertInfo:i,key:o}},u._setInsertAfterOrBeforeKey=function(e,t){var n=this._dataController,i=n.items(!0),o=this.getView("rowsView"),a=this._getNewRowPosition();switch(a){case b.FIRST_NEW_ROW_POSITION:case b.LAST_NEW_ROW_POSITION:break;case b.PAGE_TOP_NEW_ROW_POSITION:case b.PAGE_BOTTOM_NEW_ROW_POSITION:if(i.length){var r=a===b.PAGE_TOP_NEW_ROW_POSITION?0:i.length-1;e[0===r?"insertBeforeKey":"insertAfterKey"]=i[r].key}break;default:var l=a===b.VIEWPORT_BOTTOM_NEW_ROW_POSITION?null==o?void 0:o.getBottomVisibleItemIndex():null==o?void 0:o.getTopVisibleItemIndex(),s=n.getVisibleRows()[l];s&&(!s.isEditing&&"detail"===s.rowType||"detailAdaptive"===s.rowType)&&l++;var d=n.getKeyByRowIndex(l);(0,g.isDefined)(d)&&(e.insertBeforeKey=d)}},u._getInsertIndex=function(){var e=this,t=0;return this.getChanges().forEach(function(n){var i,o=null===(i=e._getInternalData(n.key))||void 0===i?void 0:i.insertInfo;(0,g.isDefined)(o)&&n.type===b.DATA_EDIT_DATA_INSERT_TYPE&&o[b.INSERT_INDEX]>t&&(t=o[b.INSERT_INDEX])}),t+1},u._getInsertAfterOrBeforeKey=function(e){var t;return null!==(t=e.insertAfterKey)&&void 0!==t?t:e.insertBeforeKey},u._getPageIndexToInsertRow=function(){var e=this._getNewRowPosition(),t=this._dataController,n=t.pageIndex(),i=t.pageCount()-1;return e===b.FIRST_NEW_ROW_POSITION&&0!==n?0:e===b.LAST_NEW_ROW_POSITION&&n!==i?i:-1},u.addRow=function(e){var t=this._dataController;return t.store()?this._addRow(e):(t.fireError("E1052",this.component.NAME),(new d.Deferred).reject())},u._addRow=function(e){var t=this,n=this._dataController.store(),i=n&&n.key(),o={data:{}},a=this._getVisibleEditRowIndex(),l=new d.Deferred;return this.refresh({allowCancelEditing:!0}),this._allowRowAdding()?(i||(o.data.__KEY__=String(new r.default)),(0,d.when)(this._initNewRow(o,e)).done(function(){t._allowRowAdding()?(0,d.when)(t._addRowCore(o.data,e,a)).done(l.resolve).fail(l.reject):l.reject("cancel")}).fail(l.reject),l.promise()):((0,d.when)(this._navigateToNewRow(a)).done(l.resolve).fail(l.reject),l.promise())},u._allowRowAdding=function(e){return!(this._getInsertIndex()>1)},u._addRowCore=function(e,t,n){var i={data:e,type:b.DATA_EDIT_DATA_INSERT_TYPE},o=this._getVisibleEditRowIndex(),a=this._addInsertInfo(i,t).key;return this._setEditRowKey(a,!0),this._addChange(i),this._navigateToNewRow(n,i,o)},u._navigateToNewRow=function(e,t,n){var i=this,o=new d.Deferred,a=this._dataController,r=this.getController("focus");if(n=null!=n?n:-1,!(t=null!=t?t:this.getChanges().filter(function(e){return e.type===b.DATA_EDIT_DATA_INSERT_TYPE})[0]))return o.reject("cancel").promise();var l=this._getPageIndexToInsertRow(),s=this._getLoadedRowIndex(a.items(),t,!0),u=function(e){(0,d.when)(null==r?void 0:r.navigateToRow(e)).done(function(){s=a.getRowIndexByKey(t.key),o.resolve()})},c=this._getInsertAfterOrBeforeKey(t);return l>=0?a.pageIndex(l).done(function(){u(t.key)}).fail(o.reject):s<0&&(0,g.isDefined)(c)?u(c):(a.updateItems({changeType:"update",rowIndices:[e,n,s]}),(s=a.getRowIndexByKey(t.key))<0?u(t.key):o.resolve()),o.done(function(){var e;null===(e=i._rowsView)||void 0===e||e.waitAsyncTemplates(!0).done(function(){i._showAddedRow(s),i._afterInsertRow(t.key)})}),o.promise()},u._showAddedRow=function(e){this._focusFirstEditableCellInRow(e)},u._beforeFocusElementInRow=function(e){},u._focusFirstEditableCellInRow=function(e){var t=this,n=this._dataController,i=this.getController("keyboardNavigation"),o=n.getKeyByRowIndex(e),a=this.getFirstEditableCellInRow(e);null==i||i.focus(a),this.option("focusedRowKey",o),this._editCellInProgress=!0,this._delayedInputFocus(a,function(){e=n.getRowIndexByKey(o),t._editCellInProgress=!1,t._beforeFocusElementInRow(e)})},u._isEditingStart=function(e){return this.executeAction("onEditingStart",e),e.cancel},u._beforeUpdateItems=function(){},u._getVisibleEditColumnIndex=function(){var e=this.option(b.EDITING_EDITCOLUMNNAME_OPTION_NAME);return(0,g.isDefined)(e)?this._columnsController.getVisibleColumnIndex(e):-1},u._setEditColumnNameByIndex=function(e,t){var n,i=this._columnsController.getVisibleColumns();this._setEditColumnName(null===(n=i[e])||void 0===n?void 0:n.name,t)},u._setEditColumnName=function(e,t){t?this._silentOption(b.EDITING_EDITCOLUMNNAME_OPTION_NAME,e):this.option(b.EDITING_EDITCOLUMNNAME_OPTION_NAME,e)},u._resetEditColumnName=function(){this._setEditColumnName(null,!0)},u._getEditColumn=function(){var e=this.option(b.EDITING_EDITCOLUMNNAME_OPTION_NAME);return this._getColumnByName(e)},u._getColumnByName=function(e){var t,n=this._columnsController.getVisibleColumns();return(0,g.isDefined)(e)&&n.some(function(n){if(n.name===e)return t=n,!0}),t},u._getVisibleEditRowIndex=function(e){var t=this._dataController,n=this.option(b.EDITING_EDITROWKEY_OPTION_NAME),i=t.getRowIndexByKey(n);return -1===i?i:i+this._getEditRowIndexCorrection(e)},u._getEditRowIndexCorrection=function(e){var t=e?this._getColumnByName(e):this._getEditColumn();return"adaptiveHidden"===(null==t?void 0:t.visibleWidth)?1:0},u._resetEditRowKey=function(){this._refocusEditCell=!1,this._setEditRowKey(null,!0)},u._resetEditIndices=function(){this._resetEditColumnName(),this._resetEditRowKey()},u.editRow=function(e){var t,n=this._dataController,i=n.items()[e],o={data:i&&i.data,cancel:!1},a=this._getVisibleEditRowIndex();if(i)return e===a||void(void 0!==i.key?(i.isNewRow||(o.key=i.key),this._isEditingStart(o)||(this.resetChanges(),this.init(),this._resetEditColumnName(),this._pageIndex=n.pageIndex(),this._addInternalData({key:i.key,oldData:null!==(t=i.oldData)&&void 0!==t?t:i.data}),this._setEditRowKey(i.key))):this._dataController.fireError("E1043"))},u._editRowFromOptionChanged=function(e,t){var n=[t,e];this._beforeUpdateItems(n,e,t),this._editRowFromOptionChangedCore(n,e)},u._editRowFromOptionChangedCore=function(e,t,n){this._needFocusEditor=!0,this._dataController.updateItems({changeType:"update",rowIndices:e,cancel:n})},u._focusEditorIfNeed=function(){},u._showEditPopup=function(e,t){},u._repaintEditPopup=function(){},u._getEditPopupHiddenHandler=function(){var e=this;return function(t){e.isEditing()&&e.cancelEditData()}},u._getPopupEditFormTemplate=function(e){},u._getSaveButtonConfig=function(){return{text:this.option("editing.texts.saveRowChanges"),onClick:this.saveEditData.bind(this)}},u._getCancelButtonConfig=function(){return{text:this.option("editing.texts.cancelRowChanges"),onClick:this.cancelEditData.bind(this)}},u._removeInternalData=function(e){var t=this._getInternalData(e),n=this._internalState.indexOf(t);n>-1&&this._internalState.splice(n,1)},u._updateInsertAfterOrBeforeKeys=function(e,t){var n=this,i=e[t];e.forEach(function(e){var t=n._getInsertAfterOrBeforeKey(e);(0,s.equalByValue)(t,i.key)&&(e[(0,g.isDefined)(e.insertAfterKey)?"insertAfterKey":"insertBeforeKey"]=n._getInsertAfterOrBeforeKey(i))})},u._removeChange=function(e){if(e>=0){var t=O(this.getChanges()),n=t[e].key;this._removeInternalData(n),this._updateInsertAfterOrBeforeKeys(t,e),t.splice(e,1),this._silentOption(b.EDITING_CHANGES_OPTION_NAME,t),(0,s.equalByValue)(this.option(b.EDITING_EDITROWKEY_OPTION_NAME),n)&&this._resetEditIndices()}},u.executeOperation=function(e,t){var n=this;this._lastOperation&&this._lastOperation.reject(),this._lastOperation=e,this.waitForDeferredOperations().done(function(){"rejected"!==e.state()&&(t(),n._lastOperation=null)}).fail(function(){e.reject(),n._lastOperation=null})},u.waitForDeferredOperations=function(){return d.when.apply(void 0,O(this._deferreds))},u._processCanceledEditingCell=function(){},u._repaintEditCell=function(e,t,n){this._needFocusEditor=!0,e&&e.showEditorAlways&&(!t||t.showEditorAlways)?e!==t&&this._dataController.updateItems({changeType:"update",rowIndices:[]}):(this._editCellInProgress=!0,this.getController("editorFactory").loseFocus(),this._dataController.updateItems({changeType:"update",rowIndices:[n,this._getVisibleEditRowIndex()]}))},u._delayedInputFocus=function(e,t,n){var i=this,a=function(){if(t&&t(),e){var n=e.find(b.FOCUSABLE_ELEMENT_SELECTOR).first();E.default.focusAndSelectElement(i,n)}i._beforeFocusCallback=null};o.default.real().ios||o.default.real().android?a():(this._beforeFocusCallback&&this._beforeFocusCallback(),clearTimeout(this._inputFocusTimeoutID),n&&(this._beforeFocusCallback=t),this._inputFocusTimeoutID=setTimeout(a))},u._focusEditingCell=function(e,t,n){var i=this.getView("rowsView"),o=this._getVisibleEditColumnIndex();(t=t||i&&i._getCellElement(this._getVisibleEditRowIndex(),o))&&this._delayedInputFocus(t,e,n)},u.deleteRow=function(e){this._checkAndDeleteRow(e)},u._checkAndDeleteRow=function(e){var t=this,n=this.option("editing"),i=null==n?void 0:n.texts,o=null==n?void 0:n.confirmDelete,a=null==i?void 0:i.confirmDeleteMessage,r=this._dataController.items()[e],l=!this.isEditing()||r.isNewRow;if(r&&l){if(o&&a){var s=i&&i.confirmDeleteTitle,d=(0,g.isDefined)(s)&&s.length>0;(0,x.confirm)(a,s,d).done(function(n){n&&t._deleteRowCore(e)})}else this._deleteRowCore(e)}},u._deleteRowCore=function(e){var t=this._dataController.items()[e],n=t&&t.key,i=this._getVisibleEditRowIndex();this.refresh();var o=this.getChanges(),a=E.default.getIndexByKey(n,o);return a>=0?o[a].type===b.DATA_EDIT_DATA_INSERT_TYPE?this._removeChange(a):this._addChange({key:n,type:b.DATA_EDIT_DATA_REMOVE_TYPE}):this._addChange({key:n,oldData:t.data,type:b.DATA_EDIT_DATA_REMOVE_TYPE}),this._afterDeleteRow(e,i)},u._afterDeleteRow=function(e,t){return this.saveEditData()},u.undeleteRow=function(e){var t=this._dataController,n=t.items()[e],i=this._getVisibleEditRowIndex(),o=n&&n.key,a=this.getChanges();if(n){var r=E.default.getIndexByKey(o,a);if(r>=0){var l=a[r].data;(0,g.isEmptyObject)(l)?this._removeChange(r):this._addChange({key:o,type:b.DATA_EDIT_DATA_UPDATE_TYPE}),t.updateItems({changeType:"update",rowIndices:[i,e]})}}},u._fireOnSaving=function(){var e=this,t={cancel:!1,promise:null,changes:O(this.getChanges())};this.executeAction("onSaving",t);var n=new d.Deferred;return(0,d.when)((0,d.fromPromise)(t.promise)).done(function(){n.resolve(t)}).fail(function(t){(0,S.createFailureHandler)(n),e._fireDataErrorOccurred(t),n.resolve({cancel:!0})}),n},u._executeEditingAction=function(e,t,n){if(this.component._disposed)return null;var i=new d.Deferred;return this.executeAction(e,t),(0,d.when)((0,d.fromPromise)(t.cancel)).done(function(e){e?setTimeout(function(){i.resolve("cancel")}):n(t).done(i.resolve).fail((0,S.createFailureHandler)(i))}).fail((0,S.createFailureHandler)(i)),i},u._processChanges=function(e,t,n,i){var o=this,a=this._dataController.store();(0,f.each)(i,function(r,l){var s,u,c=o._getOldData(l.key),h=l.data,f=l.type,p=R({},l);if(!o._beforeSaveEditData(l,r)){switch(f){case b.DATA_EDIT_DATA_REMOVE_TYPE:u={data:c,key:l.key,cancel:!1},s=o._executeEditingAction("onRowRemoving",u,function(){return a.remove(l.key).done(function(e){n.push({type:"remove",key:e})})});break;case b.DATA_EDIT_DATA_INSERT_TYPE:u={data:h,cancel:!1},s=o._executeEditingAction("onRowInserting",u,function(){return a.insert(u.data).done(function(e,t){(0,g.isDefined)(t)&&(p.key=t),e&&(0,g.isObject)(e)&&e!==u.data&&(p.data=e),n.push({type:"insert",data:e,index:0})})});break;case b.DATA_EDIT_DATA_UPDATE_TYPE:u={newData:h,oldData:c,key:l.key,cancel:!1},s=o._executeEditingAction("onRowUpdating",u,function(){return a.update(l.key,u.newData).done(function(e,t){e&&(0,g.isObject)(e)&&e!==u.newData&&(p.data=e),n.push({type:"update",key:t,data:e})})})}if(i[r]=p,s){var m=new d.Deferred;s.always(function(e){t.push({key:l.key,result:e})}).always(m.resolve),e.push(m.promise())}}})},u._processRemoveIfError=function(e,t){var n=e[t];return(null==n?void 0:n.type)===b.DATA_EDIT_DATA_REMOVE_TYPE&&t>=0&&e.splice(t,1),!0},u._processRemove=function(e,t,n){var i=e[t];if(!n||!i||i.type===b.DATA_EDIT_DATA_REMOVE_TYPE)return this._processRemoveCore(e,t,!n||!i)},u._processRemoveCore=function(e,t,n){return t>=0&&e.splice(t,1),!0},u._processSaveEditDataResult=function(e){for(var t=!1,n=O(this.getChanges()),i=n.length,o=0;o<e.length;o++){var a=e[o].result,r="cancel"===a,l=E.default.getIndexByKey(e[o].key,n),s=n[l];if(a&&a instanceof Error){if(s&&this._addInternalData({key:s.key,error:a}),this._fireDataErrorOccurred(a),this._processRemoveIfError(n,l))break}else this._processRemove(n,l,r)&&(t=!r)}return n.length<i&&this._silentOption(b.EDITING_CHANGES_OPTION_NAME,n),t},u._fireSaveEditDataEvents=function(e){var t=this;(0,f.each)(e,function(e,n){var i=n.data,o=n.key,a=n.type,r=t._addInternalData({key:o}),l={key:o,data:i};switch(r.error&&(l.error=r.error),a){case b.DATA_EDIT_DATA_REMOVE_TYPE:t.executeAction("onRowRemoved",(0,c.extend)({},l,{data:r.oldData}));break;case b.DATA_EDIT_DATA_INSERT_TYPE:t.executeAction("onRowInserted",l);break;case b.DATA_EDIT_DATA_UPDATE_TYPE:t.executeAction("onRowUpdated",l)}}),this.executeAction("onSaved",{changes:e})},u.saveEditData=function(){var e=this,t=new d.Deferred;return this.waitForDeferredOperations().done(function(){e.isSaving()?e._resolveAfterSave(t):(0,d.when)(e._beforeSaveEditData()).done(function(n){n?e._resolveAfterSave(t,{cancel:n}):(e._saving=!0,e._saveEditDataInner().always(function(){e._saving=!1,e._refocusEditCell&&e._focusEditingCell()}).done(t.resolve).fail(t.reject))}).fail(t.reject)}).fail(t.reject),t.promise()},u._resolveAfterSave=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.cancel,i=t.error;(0,d.when)(this._afterSaveEditData(n)).done(function(){e.resolve(i)}).fail(e.reject)},u._saveEditDataInner=function(){var e=this,t=new d.Deferred,n=[],i=[],o=[],a=this._dataController.dataSource();return(0,d.when)(this._fireOnSaving()).done(function(r){var l=r.cancel,s=r.changes;return l?t.resolve().promise():(e._processChanges(i,n,o,s),i.length?(e._refocusEditCell=!0,null==a||a.beginLoading(),d.when.apply(void 0,i).done(function(){e._processSaveEditDataResult(n)?e._endSaving(o,s,t):(null==a||a.endLoading(),t.resolve())}).fail(function(e){null==a||a.endLoading(),t.resolve(e)}),t.always(function(){e._refocusEditCell=!0}).promise()):void e._cancelSaving(t))}).fail(t.reject),t.promise()},u._beforeEndSaving=function(e){this._resetEditIndices()},u._endSaving=function(e,t,n){var i=this._dataController.dataSource();this._beforeEndSaving(t),null==i||i.endLoading(),this._refreshDataAfterSave(e,t,n)},u._cancelSaving=function(e){this.executeAction("onSaved",{changes:[]}),this._resolveAfterSave(e)},u._refreshDataAfterSave=function(e,t,n){var i=this,o=this._dataController,a=this.option("editing.refreshMode"),r="reshape"!==a&&"repaint"!==a;r||o.push(e),(0,d.when)(o.refresh({selection:r,reload:r,load:"reshape"===a,changesOnly:this.option("repaintChangesOnly")})).always(function(){i._fireSaveEditDataEvents(t)}).done(function(){i._resolveAfterSave(n)}).fail(function(e){i._resolveAfterSave(n,{error:e})})},u.isSaving=function(){return this._saving},u._updateEditColumn=function(){var e=this._isEditColumnVisible(),t=this.option("editing.useIcons"),n=b.COMMAND_EDIT_CLASS+(t?" ".concat(b.COMMAND_EDIT_WITH_ICONS_CLASS):"");this._columnsController.addCommandColumn({type:"buttons",command:"edit",visible:e,cssClass:n,width:"auto",alignment:"center",cellTemplate:this._getEditCommandCellTemplate(),fixedPosition:"right"}),this._columnsController.columnOption("command:edit",{visible:e,cssClass:n})},u._isEditColumnVisible=function(){return this.option("editing").allowDeleting},u._isEditButtonDisabled=function(){var e=this.hasChanges();return!((0,g.isDefined)(this.option("editing.editRowKey"))||e)},u._updateEditButtons=function(){var e=this.getView("headerPanel"),t=this._isEditButtonDisabled();e&&(e.setToolbarItemDisabled("saveButton",t),e.setToolbarItemDisabled("revertButton",t))},u._applyModified=function(e,t){e&&e.addClass(b.CELL_MODIFIED)},u._beforeCloseEditCellInBatchMode=function(e){},u.cancelEditData=function(){var e=this.getChanges(),t={cancel:!1,changes:e};this.executeAction("onEditCanceling",t),t.cancel||(this._cancelEditDataCore(),this.executeAction("onEditCanceled",{changes:e}))},u._cancelEditDataCore=function(){var e=this._getVisibleEditRowIndex();this._beforeCancelEditData(),this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey(),this._afterCancelEditData(e)},u._afterCancelEditData=function(e){this._dataController.updateItems({repaintChangesOnly:this.option("repaintChangesOnly")})},u._hideEditPopup=function(){},u.hasEditData=function(){return this.hasChanges()},u.update=function(e){var t=this._dataController;t&&this._pageIndex!==t.pageIndex()&&("refresh"===e&&this.refresh({isPageChanged:!0}),this._pageIndex=t.pageIndex()),this._updateEditButtons()},u._getRowIndicesForCascadeUpdating=function(e,t){return t?[]:[e.rowIndex]},u.addDeferred=function(e){var t=this;0>this._deferreds.indexOf(e)&&(this._deferreds.push(e),e.always(function(){var n=t._deferreds.indexOf(e);n>=0&&t._deferreds.splice(n,1)}))},u._prepareChange=function(e,t,n){var i,o=this,a={},r=null===(i=e.row)||void 0===i?void 0:i.data,l=e.key,s=new d.Deferred;return void 0!==l&&(e.value=t,(0,d.fromPromise)(e.column.setCellValue(a,t,(0,c.extend)(!0,{},r),n)).done(function(){s.resolve({data:a,key:l,oldData:r,type:b.DATA_EDIT_DATA_UPDATE_TYPE})}).fail((0,S.createFailureHandler)(s)).fail(function(e){return o._fireDataErrorOccurred(e)}),(0,g.isDefined)(n)&&e.column.displayValueMap&&(e.column.displayValueMap[t]=n),this._updateRowValues(e),this.addDeferred(s)),s},u._updateRowValues=function(e){if(e.values){var t=this._dataController,n=t.getRowIndexByKey(e.key),i=t.getVisibleRows()[n];i&&(e.row.values=i.values,e.values=i.values),e.values[e.columnIndex]=e.value}},u.updateFieldValue=function(e,t,n,i){var o=this,a=e.key,r=new d.Deferred;return void 0===a&&this._dataController.fireError("E1043"),e.column.setCellValue?this._prepareChange(e,t,n).done(function(t){(0,d.when)(o._applyChange(e,t,i)).always(function(){r.resolve()})}):r.resolve(),r.promise()},u._focusPreviousEditingCellIfNeed=function(e){if(this.hasEditData()&&!this.isEditCell(e.rowIndex,e.columnIndex))return this._focusEditingCell(),this._updateEditRow(e.row,!0),!0},u._needUpdateRow=function(e){var t=this._columnsController.getVisibleColumns();e||(e=this._getEditColumn());var n=e&&e.setCellValue!==e.defaultSetCellValue,i=t.some(function(e){return e.calculateCellValue!==e.defaultCalculateCellValue});return n||i},u._applyChange=function(e,t,n){var i=R(R({},e),{forceUpdateRow:n});return this._addChange(t,i),this._updateEditButtons(),this._applyChangeCore(e,i.forceUpdateRow)},u._applyChangeCore=function(e,t){var n=e.column.setCellValue!==e.column.defaultSetCellValue,i=e.row;i&&(t||n?this._updateEditRow(i,t,n):i.update&&i.update())},u._updateEditRowCore=function(e,t,n){this._dataController.updateItems({changeType:"update",rowIndices:this._getRowIndicesForCascadeUpdating(e,t)})},u._updateEditRow=function(e,t,n){t?this._updateRowImmediately(e,t,n):this._updateRowWithDelay(e,n)},u._updateRowImmediately=function(e,t,n){this._updateEditRowCore(e,!t,n),this._validateEditFormAfterUpdate(e,n),t||this._focusEditingCell()},u._updateRowWithDelay=function(e,t){var n=this,i=new d.Deferred;this.addDeferred(i),setTimeout(function(){var o=(0,l.default)(a.default.getActiveElement()),r=n._rowsView.getCellIndex(o,e.rowIndex),s=o.get(0),d=E.default.getSelectionRange(s);if(n._updateEditRowCore(e,!1,t),n._validateEditFormAfterUpdate(e,t),r>=0){var u=n._rowsView._getCellElement(e.rowIndex,r);n._delayedInputFocus(u,function(){setTimeout(function(){s=a.default.getActiveElement(),d.selectionStart>=0&&E.default.setSelectionRange(s,d)})})}i.resolve()})},u._validateEditFormAfterUpdate=function(){},u._addChange=function(e,t){var n,i=null==t?void 0:t.row,o=O(this.getChanges()),a=E.default.getIndexByKey(e.key,o);a<0&&(a=o.length,this._addInternalData({key:e.key,oldData:e.oldData}),delete e.oldData,o.push(e));var r=R({},o[a]);return r&&(e.data&&(r.data=(0,m.createObjectWithChanges)(r.data,e.data)),r.type&&e.data||!e.type||(r.type=e.type),i&&(i.oldData=this._getOldData(i.key),i.data=(0,m.createObjectWithChanges)(i.data,e.data))),o[a]=r,this._silentOption(b.EDITING_CHANGES_OPTION_NAME,o),t&&r!==(null===(n=this.getChanges())||void 0===n?void 0:n[a])&&(t.forceUpdateRow=!0),r},u._getFormEditItemTemplate=function(e,t){return t.editCellTemplate||this._getDefaultEditorTemplate()},u.getColumnTemplate=function(e){var t,n,i=this,o=e.column,a=e.row&&e.row.rowIndex,r=this.isRowBasedEditMode(),l=this.isEditRow(a),s=this.isEditCell(a,e.columnIndex);return!(o.showEditorAlways||o.setCellValue&&(l&&o.allowEditing||s))||"data"!==e.rowType&&"detailAdaptive"!==e.rowType||o.command?"detail"===o.command&&"detail"===e.rowType&&l&&(t=null==this?void 0:this.getEditFormTemplate(e)):(!((this.allowUpdating(e)||l)&&o.allowEditing||s)||!l&&r||(o.showEditorAlways&&!r&&(n={cancel:!1,key:e.row.isNewRow?void 0:e.row.key,data:e.row.data,column:o},this._isEditingStart(n)),n&&n.cancel||(e.setValue=function(t,n){i.updateFieldValue(e,t,n)})),t=o.editCellTemplate||this._getDefaultEditorTemplate()),t},u._createButton=function(e,t,n,i){var o=b.EDIT_ICON_CLASS[t.name],a=this.option("editing.useIcons"),r=this.option("useLegacyColumnButtonTemplate"),s=(0,l.default)("<a>").attr("href","#").addClass(b.LINK_CLASS).addClass(t.cssClass);if(t.template&&r)this._rowsView.renderTemplate(e,t.template,n,!0);else{if(t.template)s=(0,l.default)("<span>").addClass(t.cssClass);else if(a&&o||t.icon){o=t.icon||o;var d=h.getImageSourceType(o);"image"===d||"svg"===d?s=h.getImageContainer(o).addClass(t.cssClass):s.addClass("dx-icon".concat("dxIcon"===d?"-":" ").concat(o)).attr("title",t.text),s.addClass("dx-link-icon"),e.addClass(b.COMMAND_EDIT_WITH_ICONS_CLASS);var u=this.getButtonLocalizationNames()[t.name];u&&s.attr("aria-label",y.default.format(u))}else s.text(t.text);(0,g.isDefined)(t.hint)&&s.attr("title",t.hint),this._isButtonDisabled(t,n)?s.addClass("dx-state-disabled"):t.template&&!t.onClick||C.default.on(s,(0,w.addNamespace)("click",b.EDITING_NAMESPACE),this.createAction(function(e){var i;null===(i=t.onClick)||void 0===i||i.call(t,(0,c.extend)({},e,{row:n.row,column:n.column})),e.event.preventDefault(),e.event.stopPropagation()})),e.append(s,"&nbsp;"),t.template&&(n.renderAsync=!1,this._rowsView.renderTemplate(s,t.template,n,!0,i))}},u.getButtonLocalizationNames=function(){return{edit:"dxDataGrid-editingEditRow",save:"dxDataGrid-editingSaveRowChanges",delete:"dxDataGrid-editingDeleteRow",undelete:"dxDataGrid-editingUndeleteRow",cancel:"dxDataGrid-editingCancelRowChanges"}},u.prepareButtonItem=function(e,t,n,i){var o,a=this,r=null!==(o=this.option("editing.texts"))&&void 0!==o?o:{},s={revert:r.cancelAllChanges,save:r.saveAllChanges,addRow:r.addRow},d={revert:"cancel",save:"save",addRow:"addrow"}[t],u=s[t],c=("save"===d||"cancel"===d)&&this._isEditButtonDisabled();return{widget:"dxButton",options:{onInitialized:function(t){(0,l.default)(t.element).addClass(e._getToolbarButtonClass("".concat(b.EDIT_BUTTON_CLASS," ").concat(a.addWidgetPrefix(d),"-button")))},icon:"edit-button-".concat(d),disabled:c,onClick:function(){setTimeout(function(){a[n]()})},text:u,hint:u},showText:"inMenu",name:"".concat(t,"Button"),location:"after",locateInMenu:"auto",sortIndex:i}},u.prepareEditButtons=function(e){var t,n=[];return(null!==(t=this.option("editing"))&&void 0!==t?t:{}).allowAdding&&n.push(this.prepareButtonItem(e,"addRow","addRow",20)),n},u.highlightDataCell=function(e,t){this.shouldHighlightCell(t)&&e.addClass(b.CELL_MODIFIED)},u._afterInsertRow=function(){},u._beforeSaveEditData=function(e){if(e&&!(0,g.isDefined)(e.key)&&(0,g.isDefined)(e.type))return!0},u._afterSaveEditData=function(){},u._beforeCancelEditData=function(){},u._allowEditAction=function(e,t){var n=this.option("editing.".concat(e));return(0,g.isFunction)(n)&&(n=n({component:this.component,row:t.row})),n},u.allowUpdating=function(e,t){var n,i=null!==(n=this.option("editing.startEditAction"))&&void 0!==n?n:b.DEFAULT_START_EDIT_ACTION;return(!(arguments.length>1)||i===t||"down"===t)&&this._allowEditAction("allowUpdating",e)},u.allowDeleting=function(e){return this._allowEditAction("allowDeleting",e)},u.isCellModified=function(e){var t=e.columnIndex,n=e.row&&(e.row.isNewRow?e.row.values:e.row.modifiedValues);return!!n&&void 0!==n[t]},u.isNewRowInEditMode=function(){var e=this._getVisibleEditRowIndex(),t=this._dataController.items();return e>=0&&t[e].isNewRow},u._isRowDeleteAllowed=function(){},u.shouldHighlightCell=function(e){return this.isCellModified(e)&&e.column.setCellValue&&(this.getEditMode()!==b.EDIT_MODE_ROW||!e.row.isEditing)},t}(I.default.ViewController)},extenders:{controllers:{data:{init:function(){this._editingController=this.getController("editing"),this.callBase()},reload:function(e,t){return t||this._editingController.refresh(),this.callBase.apply(this,arguments)},repaintRows:function(){if(!this.getController("editing").isSaving())return this.callBase.apply(this,arguments)},_updateEditRow:function(e){var t,n=this.option(b.EDITING_EDITROWKEY_OPTION_NAME),i=e[E.default.getIndexByKey(n,e)];i&&(i.isEditing=!0,null===(t=this._updateEditItem)||void 0===t||t.call(this,i))},_updateItemsCore:function(e){this.callBase(e),this._updateEditRow(this.items(!0))},_applyChangeUpdate:function(e){this._updateEditRow(e.items),this.callBase(e)},_applyChangesOnly:function(e){this._updateEditRow(e.items),this.callBase(e)},_processItems:function(e,t){return e=this._editingController.processItems(e,t),this.callBase(e,t)},_processDataItem:function(e,t){return this._editingController.processDataItem(e,t,this.generateDataValues),this.callBase(e,t)},_processItem:function(e,t){return(e=this.callBase(e,t)).isNewRow&&(t.dataIndex--,delete e.dataIndex),e},_getChangedColumnIndices:function(e,t,n,i){if(e.isNewRow===t.isNewRow&&e.removed===t.removed)return this.callBase.apply(this,arguments)},_isCellChanged:function(e,t,n,i,o){var a=this.getController("editing"),r=e.cells&&e.cells[i],l=a&&a.isEditCell(n,i);return(!o||!l)&&(!(!r||!r.column||r.column.showEditorAlways||r.isEditing===l)||this.callBase.apply(this,arguments))},needToRefreshOnDataSourceChange:function(e){var t=this.getController("editing");return!(Array.isArray(e.value)&&e.value===e.previousValue&&t.isSaving())},_handleDataSourceChange:function(e){var t=this,n=this.callBase(e),i=this.option("editing.changes"),o=e.value;if(Array.isArray(o)&&i.length){var a=o.map(function(e){return t.keyOf(e)}),r=i.filter(function(e){return"insert"===e.type||a.some(function(t){return(0,s.equalByValue)(e.key,t)})});r.length!==i.length&&this.option("editing.changes",r);var l=this.option("editing.editRowKey");!r.some(function(e){return"insert"===e.type&&(0,s.equalByValue)(l,e.key)})&&a.every(function(e){return!(0,s.equalByValue)(l,e)})&&this.option("editing.editRowKey",null)}return n}}},views:{rowsView:{init:function(){this.callBase(),this._editingController=this.getController("editing")},getCellIndex:function(e,t){if(!e.is("td")&&t>=0){var n=this.getCellElements(t),i=-1;return(0,f.each)(n,function(t,n){(0,l.default)(n).find(e).length&&(i=t)}),i}return this.callBase.apply(this,arguments)},publicMethods:function(){return this.callBase().concat(["cellValue"])},_getCellTemplate:function(e){return this._editingController.getColumnTemplate(e)||this.callBase(e)},_createRow:function(e){var t=this.callBase.apply(this,arguments);if(e){var n=!!e.removed,i=!!e.isNewRow,o=!!e.modified;i&&t.addClass(b.ROW_INSERTED),o&&t.addClass(b.ROW_MODIFIED),(i||n)&&t.removeClass(b.ROW_SELECTED)}return t},_getColumnIndexByElement:function(e){for(var t=e.closest("table"),n=this.getTableElements();t.length&&!n.filter(t).length;)t=(e=t.closest("td")).closest("table");return this._getColumnIndexByElementCore(e)},_getColumnIndexByElementCore:function(e){var t=e.closest(".".concat(b.ROW_CLASS,"> td:not(.dx-master-detail-cell)"));return this.getCellIndex(t)},_editCellByClick:function(e,t){var n=this._editingController,i=(0,l.default)(e.event.target),a=this._getColumnIndexByElement(i),r=this._dataController.items()[e.rowIndex],s=n.allowUpdating({row:r},t)||r&&r.isNewRow,d=this._columnsController.getVisibleColumns()[a],c=n.isEditCell(e.rowIndex,a),h=s&&d&&(d.allowEditing||c),f=this.option("editing.startEditAction")||"click",p=d&&d.showEditorAlways;if(c)return!0;if("down"===t)return(o.default.real().ios||o.default.real().android)&&(0,u.resetActiveElement)(),p&&h&&n.editCell(e.rowIndex,a);if("click"===t&&"dblClick"===f){var g=null==r?void 0:r.isNewRow;n.closeEditCell(!1,g)}return h&&t===f?n.editCell(e.rowIndex,a)||n.isEditRow(e.rowIndex):void 0},_rowPointerDown:function(e){var t=this;this._pointerDownTimeout=setTimeout(function(){t._editCellByClick(e,"down")})},_rowClick:function(e){var t=(0,l.default)(e.rowElement).hasClass(this.addWidgetPrefix(b.EDIT_FORM_CLASS));e.event[b.TARGET_COMPONENT_NAME]=this.component,this._editCellByClick(e,"click")||t||this.callBase.apply(this,arguments)},_rowDblClick:function(e){this._editCellByClick(e,"dblClick")||this.callBase.apply(this,arguments)},_cellPrepared:function(e,t){var n,i=this._editingController,o=!!t.column.command,a=t.setValue,r=i.isEditRow(t.rowIndex),l=(0,S.isEditingCell)(r,t);if((0,S.isEditingOrShowEditorAlwaysDataCell)(r,t)){var s=t.column.alignment;e.toggleClass(this.addWidgetPrefix(b.READONLY_CLASS),!a).toggleClass(b.CELL_FOCUS_DISABLED_CLASS,!a),s&&e.find(b.EDITORS_INPUT_SELECTOR).first().css("textAlign",s)}l&&this._editCellPrepared(e);var d=!!(null===(n=t.column)||void 0===n?void 0:n.cellTemplate);!t.column||o||d&&!i.shouldHighlightCell(t)||i.highlightDataCell(e,t),this.callBase.apply(this,arguments)},_editCellPrepared:s.noop,_formItemPrepared:s.noop,_getCellOptions:function(e){var t=this.callBase(e);return t.isEditing=this._editingController.isEditCell(t.rowIndex,t.columnIndex),t},_createCell:function(e){var t=this.callBase(e),n=this._editingController.isEditRow(e.rowIndex);return(0,S.isEditingOrShowEditorAlwaysDataCell)(n,e)&&t.addClass(b.EDITOR_CELL_CLASS),t},cellValue:function(e,t,n,i){var o=this.getCellOptions(e,t);if(o){if(void 0===n)return o.value;this._editingController.updateFieldValue(o,n,i,!0)}},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._pointerDownTimeout)},_renderCore:function(){var e=this;return this.callBase.apply(this,arguments),this.waitAsyncTemplates(!0).done(function(){e._editingController._focusEditorIfNeed()})}},headerPanel:{_getToolbarItems:function(){var e=this.callBase();return this.getController("editing").prepareEditButtons(this).concat(e)},optionChanged:function(e){var t=e.fullName;switch(e.name){case"editing":var n=[b.EDITING_POPUP_OPTION_NAME,b.EDITING_CHANGES_OPTION_NAME,b.EDITING_EDITCOLUMNNAME_OPTION_NAME,b.EDITING_EDITROWKEY_OPTION_NAME];t&&!n.some(function(e){return e===t})&&this._invalidate(),this.callBase(e);break;case"useLegacyColumnButtonTemplate":e.handled=!0;break;default:this.callBase(e)}},isVisible:function(){var e=this.getController("editing").option("editing");return this.callBase()||(null==e?void 0:e.allowAdding)}}}}};t.editingModule=P},34248(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.editingCellBasedModule=void 0;var i=v(n(71251)),o=v(n(68689)),a=n(36808),r=n(68759),l=n(4964),s=n(65252),d=n(44129),u=n(44479),c=v(n(21445)),h=v(n(45585)),f=v(n(30593)),p=n(48634),g=n(32982),m=n(60252);function v(e){return e&&e.__esModule?e:{default:e}}function C(e,t){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.editingCellBasedModule={extenders:{controllers:{editing:function(e){return function(e){function t(){return e.apply(this,arguments)||this}h=e,(n=t).prototype=Object.create(h.prototype),n.prototype.constructor=n,C(n,h);var n,h,p=t.prototype;return p.init=function(){var t,n,a=this,r=!this._saveEditorHandler;e.prototype.init.call(this),r&&(this._pointerUpEditorHandler=function(){var e;n=null===(e=a.getController("columnsResizer"))||void 0===e?void 0:e.isResizing()},this._pointerDownEditorHandler=function(e){return t=(0,o.default)(e.target)},this._saveEditorHandler=this.createAction(function(e){var i=e.event,a=(0,o.default)(i.target),r=i[g.TARGET_COMPONENT_NAME],l=this.component;if((!(0,m.isEditable)(t)||t.is(a))&&this.isCellOrBatchEditMode()&&!this._editCellInProgress){var d=v(a)||v(null==r?void 0:r.$element()),u=!!a.closest((0,s.getWindow)().document).length,c=r&&!r._disposed&&r!==this.component,h=!!a.closest(".".concat(this.addWidgetPrefix(g.ADD_ROW_BUTTON_CLASS))).length,f=a.hasClass(this.addWidgetPrefix(g.FOCUS_OVERLAY_CLASS)),p=this.isCellEditMode();n||d||f||h&&p&&this.isEditing()||!u&&!c||this._closeEditItem.bind(this)(a)}function v(e){if(!e)return!1;var t=e.closest(".".concat(g.DROPDOWN_EDITOR_OVERLAY_CLASS)),n=l.$element();return t.length>0&&0===n.closest(t).length}}),c.default.on(i.default.getDocument(),f.default.up,this._pointerUpEditorHandler),c.default.on(i.default.getDocument(),f.default.down,this._pointerDownEditorHandler),c.default.on(i.default.getDocument(),u.name,this._saveEditorHandler))},p.isCellEditMode=function(){return this.option("editing.mode")===g.EDIT_MODE_CELL},p.isBatchEditMode=function(){return this.option("editing.mode")===g.EDIT_MODE_BATCH},p.isCellOrBatchEditMode=function(){return this.isCellEditMode()||this.isBatchEditMode()},p._needToCloseEditableCell=function(t){var n,i=this.component.$element(),o=this.isEditing();if((!i||t.closest(i).length)&&t.closest(".".concat(g.DATA_ROW_CLASS)).length){var a=this.getView("rowsView"),r=t.closest(".".concat(g.ROW_CLASS,"> td")),l=a.getRowIndex(r.parent()),s=a.getCellElements(l);if(null==s?void 0:s.length){var d=s.index(r),u=null===(n=this._columnsController.getVisibleColumns()[d])||void 0===n?void 0:n.allowEditing,c=this.isEditCell(l,d);o=o&&!u&&!c}}return o||e.prototype._needToCloseEditableCell.call(this,t)},p._closeEditItem=function(e){this._needToCloseEditableCell(e)&&this.closeEditCell()},p._focusEditorIfNeed=function(){var t,n=this;if(this._needFocusEditor&&this.isCellOrBatchEditMode()){var i=this._getVisibleEditColumnIndex(),o=null===(t=this._rowsView)||void 0===t?void 0:t._getCellElement(this._getVisibleEditRowIndex(),i);o&&!o.find(":focus").length?this._focusEditingCell(function(){n._editCellInProgress=!1},o,!0):this._editCellInProgress=!1,this._needFocusEditor=!1}else e.prototype._focusEditorIfNeed.call(this)},p.isEditing=function(){if(this.isCellOrBatchEditMode()){var t=(0,l.isDefined)(this.option(g.EDITING_EDITROWKEY_OPTION_NAME)),n=(0,l.isDefined)(this.option(g.EDITING_EDITCOLUMNNAME_OPTION_NAME));return t&&n}return e.prototype.isEditing.call(this)},p._handleEditColumnNameChange=function(e){var t=this._getVisibleEditRowIndex(e.previousValue);if(this.isCellOrBatchEditMode()&&-1!==t&&(0,l.isDefined)(e.value)&&e.value!==e.previousValue){var n=this._columnsController.getVisibleColumnIndex(e.value),i=this._columnsController.getVisibleColumnIndex(e.previousValue);this._editCellFromOptionChanged(n,i,t)}},p._addRow=function(t){var n=this;if(this.isCellEditMode()&&this.hasChanges()){var i=new r.Deferred;return this.saveEditData().done(function(){n.hasChanges()?i.reject("cancel"):n.addRow(t).done(i.resolve).fail(i.reject)}),i.promise()}return e.prototype._addRow.call(this,t)},p.editCell=function(e,t){return this._editCell({rowIndex:e,columnIndex:t})},p._editCell=function(e){var t,n=this,i=new r.Deferred;return this.executeOperation(i,function(){t=n._editCellCore(e),(0,r.when)(t).done(i.resolve).fail(i.reject)}),void 0!==t?t:i.promise()},p._editCellCore=function(e){var t=this,n=this._dataController,i=(0,l.isDefined)(e.oldColumnIndex)||(0,l.isDefined)(e.oldRowIndex),o=this._getNormalizedEditCellOptions(e),a=o.columnIndex,s=o.rowIndex,d=o.column,u=o.item,c={data:null==u?void 0:u.data,cancel:!1,column:d};if(void 0!==u.key){if(d&&("data"===u.rowType||"detailAdaptive"===u.rowType)&&!u.removed&&this.isCellOrBatchEditMode()){if(!i&&this.isEditCell(s,a))return!0;var h=s+n.getRowIndexOffset();return(0,r.when)(this._beforeEditCell(s,a,u)).done(function(e){e||t._prepareEditCell(c,u,a,h)||t._processCanceledEditingCell()})}return!1}this._dataController.fireError("E1043")},p._beforeEditCell=function(e,t,n){var i=this;if(this.isCellEditMode()&&!n.isNewRow&&this.hasChanges()){var o=new r.Deferred;return this.saveEditData().always(function(){o.resolve(i.hasChanges())}),o}},p.publicMethods=function(){return e.prototype.publicMethods.call(this).concat(["editCell","closeEditCell"])},p._getNormalizedEditCellOptions=function(e){var t,n=e.oldColumnIndex,i=e.oldRowIndex,o=e.columnIndex,a=e.rowIndex,r=this._columnsController,s=r.getVisibleColumns(),d=this._dataController.items()[a];return t=(0,l.isDefined)(n)?s[n]:this._getEditColumn(),(0,l.isDefined)(i)||(i=this._getVisibleEditRowIndex()),(0,l.isString)(o)&&(o=r.columnOption(o,"index"),o=r.getVisibleIndex(o)),{oldColumn:t,columnIndex:o,oldRowIndex:i,rowIndex:a,column:s[o],item:d}},p._prepareEditCell=function(e,t,n,i){var o;return t.isNewRow||(e.key=t.key),!this._isEditingStart(e)&&(this._pageIndex=this._dataController.pageIndex(),this._setEditRowKey(t.key),this._setEditColumnNameByIndex(n),e.column.showEditorAlways||this._addInternalData({key:t.key,oldData:null!==(o=t.oldData)&&void 0!==o?o:t.data}),!0)},p.closeEditCell=function(e,t){var n=this,i=(0,r.when)(),o=this._getVisibleEditRowIndex();if(this.isCellOrBatchEditMode()){var a=new r.Deferred;i=new r.Deferred,this.executeOperation(a,function(){n._closeEditCellCore(e,o,t).always(i.resolve)})}return i.promise()},p._closeEditCellCore=function(e,t,n){var i=this,o=this._dataController,a=new r.Deferred,l=a.promise();if(this.isCellEditMode()&&this.hasChanges()){if(!n)return this.saveEditData().done(function(e){i.hasChanges()?a.resolve():i.closeEditCell(!!e).always(a.resolve)}),l}else if(this._resetEditRowKey(),this._resetEditColumnName(),t>=0){var s=[t];this._beforeCloseEditCellInBatchMode(s),e||o.updateItems({changeType:"update",rowIndices:s})}return a.resolve(),l},p._resetModifiedClassCells=function(e){var t=this;if(this.isBatchEditMode()){var n=this._columnsController.getVisibleColumns().length;e.forEach(function(e){for(var i=e.key,o=t._dataController.getRowIndexByKey(i),a=0;a<n;a++){var r=t._rowsView._getCellElement(o,a);null==r||r.removeClass(g.CELL_MODIFIED_CLASS)}})}},p._prepareChange=function(t,n,i){var a=(0,o.default)(t.cellElement);return this.isBatchEditMode()&&void 0!==t.key&&this._applyModified(a,t),e.prototype._prepareChange.call(this,t,n,i)},p._cancelSaving=function(t){var n=this._dataController;this.isCellOrBatchEditMode()&&(this.isBatchEditMode()&&this._resetEditIndices(),n.updateItems()),e.prototype._cancelSaving.call(this,t)},p.optionChanged=function(t){var n=t.fullName;"editing"===t.name&&n===g.EDITING_EDITCOLUMNNAME_OPTION_NAME?(this._handleEditColumnNameChange(t),t.handled=!0):e.prototype.optionChanged.call(this,t)},p._editCellFromOptionChanged=function(e,t,n){var i=this,o=this._columnsController.getVisibleColumns();e>-1&&(0,a.deferRender)(function(){i._repaintEditCell(o[e],o[t],n)})},p._handleEditRowKeyChange=function(t){var n;if(this.isCellOrBatchEditMode()){var i=this._getVisibleEditColumnIndex(),o=this._getEditRowIndexCorrection(),a=this._dataController.getRowIndexByKey(t.previousValue)+o;(0,l.isDefined)(t.value)&&t.value!==t.previousValue&&(null===(n=this._editCellFromOptionChanged)||void 0===n||n.call(this,i,i,a))}else e.prototype._handleEditRowKeyChange.call(this,t)},p.deleteRow=function(t){var n=this;if(this.isCellEditMode()&&this.isEditing()){var i=this._dataController.items()[t].isNewRow,o=this._dataController.getKeyByRowIndex(t);this.closeEditCell(null,i).always(function(){t=n._dataController.getRowIndexByKey(o),n._checkAndDeleteRow(t)})}else e.prototype.deleteRow.call(this,t)},p._checkAndDeleteRow=function(t){this.isBatchEditMode()?this._deleteRowCore(t):e.prototype._checkAndDeleteRow.call(this,t)},p._refreshCore=function(t){var n=(null!=t?t:{}).isPageChanged,i=this.isBatchEditMode()||n&&"virtual"!==this.option("scrolling.mode");this.isCellOrBatchEditMode()?i&&(this._resetEditColumnName(),this._resetEditRowKey()):e.prototype._refreshCore.call(this,t)},p._allowRowAdding=function(t){return!!this.isBatchEditMode()||e.prototype._allowRowAdding.call(this,t)},p._afterDeleteRow=function(t,n){var i=this._dataController;return this.isBatchEditMode()?(i.updateItems({changeType:"update",rowIndices:[n,t]}),(new r.Deferred).resolve()):e.prototype._afterDeleteRow.call(this,t,n)},p._updateEditRow=function(t,n,i){this.isCellOrBatchEditMode()?this._updateRowImmediately(t,n,i):e.prototype._updateEditRow.call(this,t,n,i)},p._isDefaultButtonVisible=function(t,n){if(this.isCellOrBatchEditMode()){var i=this.isBatchEditMode();switch(t.name){case"save":case"cancel":case"edit":return!1;case"delete":return e.prototype._isDefaultButtonVisible.call(this,t,n)&&(!i||!n.row.removed);case"undelete":return i&&this.allowDeleting(n)&&n.row.removed}}return e.prototype._isDefaultButtonVisible.call(this,t,n)},p._isRowDeleteAllowed=function(){return e.prototype._isRowDeleteAllowed.call(this)||this.isBatchEditMode()},p._beforeEndSaving=function(t){var n;this.isCellEditMode()?"update"!==(null===(n=t[0])||void 0===n?void 0:n.type)&&e.prototype._beforeEndSaving.call(this,t):(this.isBatchEditMode()&&this._resetModifiedClassCells(t),e.prototype._beforeEndSaving.call(this,t))},p.prepareEditButtons=function(t){var n,i=null!==(n=this.option("editing"))&&void 0!==n?n:{},o=e.prototype.prepareEditButtons.call(this,t);return(i.allowUpdating||i.allowAdding||i.allowDeleting)&&this.isBatchEditMode()&&(o.push(this.prepareButtonItem(t,"save","saveEditData",21)),o.push(this.prepareButtonItem(t,"revert","cancelEditData",22))),o},p._saveEditDataInner=function(){var t,n=this._dataController.getVisibleRows()[this.getEditRowIndex()],i=this._getEditColumn(),o=null==i?void 0:i.showEditorAlways;return this.isCellEditMode()&&!(null==n?void 0:n.isNewRow)&&o&&(t=new r.Deferred,this.addDeferred(t)),e.prototype._saveEditDataInner.call(this).always(null==t?void 0:t.resolve)},p._applyChange=function(t,n,i){var o=this.isCellEditMode()&&t.row&&!t.row.isNewRow,a=t.column.showEditorAlways,r=t.column.setCellValue!==t.column.defaultSetCellValue;return a&&!i&&o&&this.hasEditData()&&!this.isEditCell(t.rowIndex,t.columnIndex)?(this._focusEditingCell(),void this._updateEditRow(t.row,!0,r)):e.prototype._applyChange.call(this,t,n,i)},p._applyChangeCore=function(t,n){var i=t.column.showEditorAlways,o=this.isCellEditMode()&&t.row&&!t.row.isNewRow;if(i&&!n){if(o)return this._setEditRowKey(t.row.key,!0),this._setEditColumnNameByIndex(t.columnIndex,!0),this.saveEditData();if(this.isBatchEditMode())return n=this._needUpdateRow(t.column),e.prototype._applyChangeCore.call(this,t,n)}return e.prototype._applyChangeCore.call(this,t,n)},p._processDataItemCore=function(t,n,i,o,a){var r=n.data,l=n.type;this.isBatchEditMode()&&l===g.DATA_EDIT_DATA_REMOVE_TYPE&&(t.data=(0,d.createObjectWithChanges)(t.data,r)),e.prototype._processDataItemCore.call(this,t,n,i,o,a)},p._processRemoveCore=function(t,n,i){if(!this.isBatchEditMode()||i)return e.prototype._processRemoveCore.call(this,t,n,i)},p._processRemoveIfError=function(t,n){if(!this.isBatchEditMode())return e.prototype._processRemoveIfError.call(this,t,n)},p._beforeFocusElementInRow=function(t){e.prototype._beforeFocusElementInRow.call(this,t);var n=this.getFirstEditableColumnIndex();n>=0&&this.editCell(t>=0?t:0,n)},t}(e)}},views:{rowsView:{_createTable:function(){var e=this.callBase.apply(this,arguments),t=this._editingController;return t.isCellOrBatchEditMode()&&this.option("editing.allowUpdating")&&c.default.on(e,(0,p.addNamespace)(h.default.name,"dxDataGridRowsView"),"td:not(.".concat(g.EDITOR_CELL_CLASS,")"),this.createAction(function(){t.isEditing()&&t.closeEditCell()})),e},_createRow:function(e){var t=this.callBase.apply(this,arguments);if(e){var n=this._editingController,i=!!e.removed;n.isBatchEditMode()&&i&&t.addClass(g.ROW_REMOVED)}return t}},headerPanel:{isVisible:function(){var e=this.getController("editing").option("editing");return this.callBase()||e&&(e.allowUpdating||e.allowDeleting)&&e.mode===g.EDIT_MODE_BATCH}}}}}},12614(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.editingFormBasedModule=void 0;var i=$(n(73675)),o=$(n(63559)),a=$(n(68689)),r=n(36808),l=n(68759),s=n(68841),d=n(1685),u=n(4964),c=n(65252),h=$(n(21445)),f=$(n(58635)),p=$(n(78635)),g=$(n(73868)),m=$(n(31598)),v=n(32982),C=n(60252);function $(e){return e&&e.__esModule?e:{default:e}}function w(e,t){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.editingFormBasedModule={extenders:{controllers:{editing:function(e){return function(e){function t(){return e.apply(this,arguments)||this}$=e,(n=t).prototype=Object.create($.prototype),n.prototype.constructor=n,w(n,$);var n,$,y=t.prototype;return y.init=function(){this._editForm=null,this._updateEditFormDeferred=null,e.prototype.init.call(this)},y.isFormOrPopupEditMode=function(){return this.isPopupEditMode()||this.isFormEditMode()},y.isPopupEditMode=function(){return this.option("editing.mode")===v.EDIT_MODE_POPUP},y.isFormEditMode=function(){return this.option("editing.mode")===v.EDIT_MODE_FORM},y.getFirstEditableColumnIndex=function(){var t=this._firstFormItem;if(this.isFormEditMode()&&t){var n=this.option(v.EDITING_EDITROWKEY_OPTION_NAME),i=this._dataController.getRowIndexByKey(n),o=this._rowsView.getCellElements(i);return this._rowsView._getEditFormEditorVisibleIndex(o,t.column)}return e.prototype.getFirstEditableColumnIndex.call(this)},y.getEditFormRowIndex=function(){return this.isFormOrPopupEditMode()?this._getVisibleEditRowIndex():e.prototype.getEditFormRowIndex.call(this)},y._isEditColumnVisible=function(){var t=e.prototype._isEditColumnVisible.call(this),n=this.option("editing");return this.isFormOrPopupEditMode()&&n.allowUpdating||t},y._handleDataChanged=function(t){var n,i;if(this.isPopupEditMode()){var o=this.option("editing.editRowKey"),a=null===(n=null==t?void 0:t.items)||void 0===n?void 0:n.some(function(e){return(0,r.equalByValue)(e.key,o)}),l=(null===(i=t.changeTypes)||void 0===i?void 0:i.length)&&t.changeTypes.every(function(e){return"insert"===e});("refresh"===t.changeType||a&&t.isOptionChanged)&&!l&&this._repaintEditPopup()}e.prototype._handleDataChanged.call(this,t)},y.getPopupContent=function(){var e,t=null===(e=this._editPopup)||void 0===e?void 0:e.option("visible");if(this.isPopupEditMode()&&t)return this._$popupContent},y._showAddedRow=function(t){this.isPopupEditMode()?this._showEditPopup(t):e.prototype._showAddedRow.call(this,t)},y._cancelEditDataCore=function(){e.prototype._cancelEditDataCore.call(this),this.isPopupEditMode()&&this._hideEditPopup()},y._updateEditRowCore=function(t,n,i){var o,a=this._editForm;this.isPopupEditMode()?this.option("repaintChangesOnly")?(null===(o=t.update)||void 0===o||o.call(t,t),this._rowsView.renderDelayedTemplates()):a&&(this._updateEditFormDeferred=(new l.Deferred).done(function(){return a.repaint()}),this._updateLockCount||this._updateEditFormDeferred.resolve()):e.prototype._updateEditRowCore.call(this,t,n,i)},y._showEditPopup=function(t,n){var o=this,r="desktop"!==i.default.current().deviceType,l=this.addWidgetPrefix(v.EDIT_POPUP_CLASS),d=(0,s.extend)({showTitle:!1,fullScreen:r,wrapperAttr:{class:l},toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:this._getSaveButtonConfig()},{toolbar:"bottom",location:"after",widget:"dxButton",options:this._getCancelButtonConfig()}],contentTemplate:this._getPopupEditFormTemplate(t)},this.option(v.EDITING_POPUP_OPTION_NAME));if(!this._editPopup){var u=(0,a.default)("<div>").appendTo(this.component.$element()).addClass(l);this._editPopup=this._createComponent(u,g.default),this._editPopup.on("hiding",this._getEditPopupHiddenHandler()),this._editPopup.on("shown",function(e){var t;h.default.trigger(e.component.$content().find(v.FOCUSABLE_ELEMENT_SELECTOR).not(".".concat(v.FOCUSABLE_ELEMENT_CLASS)).first(),"focus"),n&&(null===(t=o._editForm)||void 0===t||t.repaint())})}this._editPopup.option(d),this._editPopup.show(),e.prototype._showEditPopup.call(this,t,n)},y._getPopupEditFormTemplate=function(e){var t=this,n=this.component.getVisibleRows()[e],i={row:n,values:n.values,rowType:n.rowType,key:n.key,rowIndex:e};return this._rowsView._addWatchMethod(i,n),function(e){var n=t.getEditFormTemplate(),o=t._createComponent((0,a.default)("<div>").appendTo(e),m.default);t._$popupContent=(0,a.default)(o.content()),n(t._$popupContent,i,{isPopupForm:!0}),t._rowsView.renderDelayedTemplates()}},y._repaintEditPopup=function(){var e,t,n=this._getVisibleEditRowIndex();if(n>=0){var i=null===(e=this._editPopup)||void 0===e?void 0:e.option("animation");null===(t=this._editPopup)||void 0===t||t.option("animation",null),this._showEditPopup(n,!0),void 0!==i&&this._editPopup.option("animation",i)}},y._hideEditPopup=function(){var e;null===(e=this._editPopup)||void 0===e||e.option("visible",!1)},y.optionChanged=function(t){if("editing"===t.name&&this.isFormOrPopupEditMode()){var n=t.fullName;0===n.indexOf(v.EDITING_FORM_OPTION_NAME)?(this._handleFormOptionChange(t),t.handled=!0):0===n.indexOf(v.EDITING_POPUP_OPTION_NAME)&&(this._handlePopupOptionChange(t),t.handled=!0)}e.prototype.optionChanged.call(this,t)},y._handleFormOptionChange=function(e){var t;if(this.isFormEditMode()){var n=this._getVisibleEditRowIndex();n>=0&&this._dataController.updateItems({changeType:"update",rowIndices:[n]})}else(null===(t=this._editPopup)||void 0===t?void 0:t.option("visible"))&&0===e.fullName.indexOf(v.EDITING_FORM_OPTION_NAME)&&this._repaintEditPopup()},y._handlePopupOptionChange=function(e){var t=this._editPopup;if(t){var n=e.fullName.slice(v.EDITING_POPUP_OPTION_NAME.length+1);n?t.option(n,e.value):t.option(e.value)}},y.renderFormEditorTemplate=function(e,t,n,i,o){var r=this,l=this,d=(0,a.default)(i),u=t.column,h=(0,C.getEditorType)(t),f=null==e?void 0:e.row.data,p=n.component,g=n.editorOptions||{},m=g.label,v=g.labelMark,$=g.labelMode,w=(0,s.extend)({},e,{data:f,cellElement:null,isOnForm:!0,item:t,id:p.getItemID(t.name||t.dataField),column:(0,s.extend)({},u,{editorType:h,editorOptions:(0,s.extend)({label:m,labelMark:v,labelMode:$},u.editorOptions,t.editorOptions)}),columnIndex:u.index,setValue:!o&&u.allowEditing&&function(e,t){l.updateFieldValue(w,e,t)}});w.value=u.calculateCellValue(f);var y=this._getFormEditItemTemplate.bind(this)(w,u);return this._rowsView.renderTemplate(d,y,w,!!d.closest((0,c.getWindow)().document).length).done(function(){r._rowsView._updateCell(d,w)}),w},y.getFormEditorTemplate=function(e,t){var n=this,i=this.component.columnOption(t.dataField);return function(o,r){var l,s,d=(0,a.default)(r);null===(s=(l=e.row).watch)||void 0===s||s.call(l,function(){return i.selector(e.row.data)},function(){var i=d.find(".dx-widget").first(),a=i.data("dxValidator"),r=null==a?void 0:a.option();d.contents().remove(),e=n.renderFormEditorTemplate.bind(n)(e,t,o,d),a=(i=d.find(".dx-widget").first()).data("dxValidator"),r&&!a&&i.dxValidator({validationRules:r.validationRules,validationGroup:r.validationGroup,dataGetter:r.dataGetter})}),e=n.renderFormEditorTemplate.bind(n)(e,t,o,d)}},y.getEditFormOptions=function(e){var t,n=this,i=null===(t=this._getValidationGroupsInForm)||void 0===t?void 0:t.call(this,e),a=this.option("editing.form.customizeItem"),r=this.addWidgetPrefix(v.EDIT_FORM_ITEM_CLASS),l=this.option("editing.form.items"),c={};if(l)(0,C.forEachFormItems)(l,function(e){var t=(null==e?void 0:e.name)||(null==e?void 0:e.dataField);t&&(c[t]=!!e.editorType)});else{var h=this.getController("columns").getColumns();l=[],(0,d.each)(h,function(e,t){t.isBand||t.type||l.push({column:t,name:t.name,dataField:t.dataField})})}return(0,s.extend)({},i,{items:l,formID:"dx-".concat(new o.default),customizeItem:function(t){var i,o=t.name||t.dataField;if((t.column||o)&&(i=t.column||n._columnsController.columnOption(t.name?"name:".concat(t.name):"dataField:".concat(t.dataField))),i){if(t.label=t.label||{},t.label.text=t.label.text||i.caption,"boolean"===i.dataType&&void 0===t.label.visible){var l=n.option("editing.form.labelMode");"floating"!==l&&"static"!==l||(t.label.visible=!0)}t.template=t.template||n.getFormEditorTemplate(e,t),t.column=i,t.isCustomEditorType=c[o],i.formItem&&(0,s.extend)(t,i.formItem),void 0===t.isRequired&&i.validationRules&&(t.isRequired=i.validationRules.some(function(e){return"required"===e.type}),t.validationRules=[]);var d=!(0,u.isDefined)(t.visible)||t.visible;!n._firstFormItem&&d&&(n._firstFormItem=t)}null==a||a.call(n,t),t.cssClass=(0,u.isString)(t.cssClass)?"".concat(t.cssClass," ").concat(r):r}})},y.getEditFormTemplate=function(){var e=this;return function(t,n,i){var o=e.option(v.EDITING_FORM_OPTION_NAME),r=e.getEditFormOptions(n),l=(0,a.default)("<div>").appendTo(t),d=null==i?void 0:i.isPopupForm;if(e._firstFormItem=void 0,d&&l.addClass(e.addWidgetPrefix(v.EDIT_POPUP_FORM_CLASS)),e._editForm=e._createComponent(l,p.default,(0,s.extend)({},o,r)),!d){var u=(0,a.default)("<div>").addClass(e.addWidgetPrefix(v.FORM_BUTTONS_CONTAINER_CLASS)).appendTo(t);e._createComponent((0,a.default)("<div>").appendTo(u),f.default,e._getSaveButtonConfig()),e._createComponent((0,a.default)("<div>").appendTo(u),f.default,e._getCancelButtonConfig())}e._editForm.on("contentReady",function(){var t;e._rowsView.renderDelayedTemplates(),null===(t=e._editPopup)||void 0===t||t.repaint()})}},y.getEditForm=function(){return this._editForm},y._endUpdateCore=function(){var e;null===(e=this._updateEditFormDeferred)||void 0===e||e.resolve()},y._beforeEndSaving=function(t){var n;e.prototype._beforeEndSaving.call(this,t),this.isPopupEditMode()&&(null===(n=this._editPopup)||void 0===n||n.hide())},y._processDataItemCore=function(t,n,i,o,a){var r=n.type;this.isPopupEditMode()&&r===v.DATA_EDIT_DATA_INSERT_TYPE&&(t.visible=!1),e.prototype._processDataItemCore.call(this,t,n,i,o,a)},y._editRowFromOptionChangedCore=function(t,n){var i=this.isPopupEditMode();e.prototype._editRowFromOptionChangedCore.call(this,t,n,i),i&&this._showEditPopup(n)},t}(e)},data:{_updateEditItem:function(e){this._editingController.isFormEditMode()&&(e.rowType="detail")},_getChangedColumnIndices:function(e,t,n,i){if(!1!==i||!t.isEditing||!this._editingController.isFormEditMode())return this.callBase.apply(this,arguments)}}},views:{rowsView:{_renderCellContent:function(e,t){"data"===t.rowType&&this._editingController.isPopupEditMode()&&!1===t.row.visible||this.callBase.apply(this,arguments)},getCellElements:function(e){var t=this.callBase(e),n=this._editingController,i=n.getEditForm();return n.getEditFormRowIndex()===e&&t&&i?i.$element().find(".".concat(this.addWidgetPrefix(v.EDIT_FORM_ITEM_CLASS),", .").concat(v.BUTTON_CLASS)):t},_getVisibleColumnIndex:function(e,t,n){if(this._editingController.getEditFormRowIndex()===t&&(0,u.isString)(n)){var i=this._columnsController.columnOption(n);return this._getEditFormEditorVisibleIndex(e,i)}return this.callBase.apply(this,arguments)},_getEditFormEditorVisibleIndex:function(e,t){var n=-1;return(0,d.each)(e,function(e,i){var o=(0,a.default)(i).find(".dx-field-item-content").data("dx-form-item");if((null==o?void 0:o.column)&&t&&o.column.index===t.index)return n=e,!1}),n},_isFormItem:function(e){var t="detail"===e.rowType||"detailAdaptive"===e.rowType,n="data"===e.rowType&&this._editingController.isPopupEditMode();return(t||n)&&e.item},_updateCell:function(e,t){this._isFormItem(t)?this._formItemPrepared(t,e):this.callBase(e,t)}}}}}},24184(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.editingRowBasedModule=void 0;var i=n(36808),o=n(32982);function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.editingRowBasedModule={extenders:{controllers:{editing:function(e){return function(e){function t(){return e.apply(this,arguments)||this}r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,a(n,r);var n,r,l=t.prototype;return l.isRowEditMode=function(){return this.getEditMode()===o.EDIT_MODE_ROW},l._afterCancelEditData=function(t){var n=this._dataController;this.isRowBasedEditMode()&&t>=0?n.updateItems({changeType:"update",rowIndices:[t,t+1]}):e.prototype._afterCancelEditData.call(this,t)},l._isDefaultButtonVisible=function(t,n){var a=this.isRowBasedEditMode(),r=n.row&&(0,i.equalByValue)(n.row.key,this.option(o.EDITING_EDITROWKEY_OPTION_NAME));if(a)switch(t.name){case"edit":return!r&&this.allowUpdating(n);case"delete":return e.prototype._isDefaultButtonVisible.call(this,t,n)&&!r;case"save":case"cancel":return r}return e.prototype._isDefaultButtonVisible.call(this,t,n)},l.isEditRow=function(e){return this.isRowBasedEditMode()&&this.isEditRowByIndex(e)},l._cancelSaving=function(t){this.isRowBasedEditMode()&&(this.hasChanges()||this._cancelEditDataCore()),e.prototype._cancelSaving.call(this,t)},l._refreshCore=function(t){var n=(null!=t?t:{}).allowCancelEditing;if(this.isRowBasedEditMode()){var i=this.getChanges().filter(function(e){return"update"===e.type}).length>0;this.init(),n&&i&&this._cancelEditDataCore()}e.prototype._refreshCore.call(this,t)},l._isEditColumnVisible=function(){var t=e.prototype._isEditColumnVisible.call(this),n=this.option("editing"),i=this.isRowEditMode(),o=n.allowUpdating||n.allowAdding;return t||i&&o},l._focusEditorIfNeed=function(){var e=this,t=this.getEditMode();if(this._needFocusEditor){if(o.MODES_WITH_DELAYED_FOCUS.includes(t)){var n=this.getFocusedCellInRow(this._getVisibleEditRowIndex());this._delayedInputFocus(n,function(){n&&e.component.focus(n)})}this._needFocusEditor=!1}},t}(e)},data:{_getChangedColumnIndices:function(e,t,n,i){if(!this.getController("editing").isRowBasedEditMode()||e.isEditing===t.isEditing)return this.callBase.apply(this,arguments)}}},views:{rowsView:{_createRow:function(e){var t=this.callBase.apply(this,arguments);return e&&this._editingController.isEditRow(e.rowIndex)&&(t.addClass(o.EDIT_ROW),t.removeClass(o.ROW_SELECTED_CLASS),"detail"===e.rowType&&t.addClass(this.addWidgetPrefix(o.EDIT_FORM_CLASS))),t},_update:function(e){this.callBase(e),"updateSelection"===e.changeType&&this.getTableElements().children("tbody").children(".".concat(o.EDIT_ROW)).removeClass(o.ROW_SELECTED_CLASS)}}}}}},60252(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getButtonIndex=t.forEachFormItems=t.createFailureHandler=void 0,t.getButtonName=a,t.getEditorType=t.getEditingTexts=void 0,t.isEditable=function(e){return e&&(e.is("input")||e.is("textarea"))},t.isEditingOrShowEditorAlwaysDataCell=t.isEditingCell=void 0;var i=n(4964);t.createFailureHandler=function(e){return function(t){var n=t instanceof Error?t:Error(t&&String(t)||"Unknown error");e.reject(n)}};var o=function(e,t){return t.isEditing||e&&t.column.allowEditing};function a(e){return(0,i.isObject)(e)?e.name:e}t.isEditingCell=o,t.isEditingOrShowEditorAlwaysDataCell=function(e,t){var n=!!t.column.command,i=o(e,t),a=!n&&(i||t.column.showEditorAlways);return"data"===t.rowType&&a},t.getEditingTexts=function(e){var t=e.component.option("editing.texts")||{};return{save:t.saveRowChanges,cancel:t.cancelRowChanges,edit:t.editRow,undelete:t.undeleteRow,delete:t.deleteRow,add:t.addRowToNode}},t.getButtonIndex=function(e,t){var n=-1;return e.some(function(e,i){if(a(e)===t)return n=i,!0}),n},t.getEditorType=function(e){var t,n=e.column;return e.isCustomEditorType?e.editorType:null===(t=n.formItem)||void 0===t?void 0:t.editorType},t.forEachFormItems=function e(t,n){t.forEach(function(t){t.items||t.tabs?e(t.items||t.tabs,n):n(t)})}},16026(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.editorFactoryModule=void 0;var i=v(n(6788)),o=v(n(71251)),a=v(n(68689)),r=v(n(47057)),l=n(68841),s=n(2005),d=n(65553),u=n(44479),c=v(n(21445)),h=v(n(30593)),f=n(48634),p=v(n(86278)),g=v(n(88445)),m=v(n(31560));function v(e){return e&&e.__esModule?e:{default:e}}var C="dx-cell-focus-disabled",$="focus-overlay",w="dx-focused",y="dxDataGridEditorFactory",x=(0,f.addNamespace)([h.default.down,"focusin",u.name].join(" "),y),I="dx-hidden",E={defaultOptions:function(){return{}},controllers:{editorFactory:g.default.ViewController.inherit(p.default).inherit({_getFocusedElement:function(e){var t=this.option("focusedRowEnabled")?"tr[tabindex]:focus":"tr[tabindex]:not(.dx-data-row):focus",n="td[tabindex]:focus, ".concat(t,", input:focus, textarea:focus, .dx-lookup-field:focus, .dx-checkbox:focus, .dx-switch:focus, .dx-dropdownbutton .dx-buttongroup:focus, .dx-adaptive-item-text:focus"),i=e.find(n);return this.elementIsInsideGrid(i)&&i},_getFocusCellSelector:function(){return".dx-row > td"},_updateFocusCore:function(){var e=this.component&&this.component.$element();if(e){var t,n=this._getFocusedElement(e);if(n&&n.length){if(!n.hasClass(C)&&!n.hasClass("dx-row")){var i=n.closest("".concat(this._getFocusCellSelector(),", .").concat(C));i.get(0)!==n.get(0)&&(t=this._needHideBorder(i),n=i)}if(n.length&&!n.hasClass(C))return void this.focus(n,t)}}this.loseFocus()},_needHideBorder:function(e){return e.hasClass("dx-editor-inline-block")},_updateFocus:function(e){var t=this,n=e&&e.event&&(0,a.default)(e.event.target).hasClass(t.addWidgetPrefix($));t._isFocusOverlay=t._isFocusOverlay||n,clearTimeout(t._updateFocusTimeoutID),t._updateFocusTimeoutID=setTimeout(function(){delete t._updateFocusTimeoutID,t._isFocusOverlay||t._updateFocusCore(),t._isFocusOverlay=!1})},_updateFocusOverlaySize:function(e,t){e.hide();var n=i.default.calculate(e,(0,l.extend)({collision:"fit"},t));n.h.oversize>0&&(0,d.setOuterWidth)(e,(0,d.getOuterWidth)(e)-n.h.oversize),n.v.oversize>0&&(0,d.setOuterHeight)(e,(0,d.getOuterHeight)(e)-n.v.oversize),e.show()},callbackNames:function(){return["focused"]},focus:function(e,t){var n=this;if(void 0===e)return n._$focusedElement;e&&(e.is(n._$focusedElement)||n._$focusedElement&&n._$focusedElement.removeClass(w),n._$focusedElement=e,clearTimeout(n._focusTimeoutID),n._focusTimeoutID=setTimeout(function(){delete n._focusTimeoutID,n.renderFocusOverlay(e,t),e.addClass(w),n.focused.fire(e)}))},refocus:function(){var e=this.focus();this.focus(e)},renderFocusOverlay:function(e,t){if(m.default.isElementInCurrentGrid(this,e)){if(this._$focusOverlay||(this._$focusOverlay=(0,a.default)("<div>").addClass(this.addWidgetPrefix($))),t)this._$focusOverlay.addClass(I);else if(e.length){var n=r.default.mozilla?"right bottom":"left top",o=e.closest(".".concat(this.addWidgetPrefix("content"))),l=(0,s.getBoundingRect)(e.get(0));this._$focusOverlay.removeClass(I).appendTo(o),(0,d.setOuterHeight)(this._$focusOverlay,l.bottom-l.top+1),(0,d.setOuterWidth)(this._$focusOverlay,l.right-l.left+1);var u={precise:!0,my:n,at:n,of:e,boundary:o.length&&o};this._updateFocusOverlaySize(this._$focusOverlay,u),i.default.setup(this._$focusOverlay,u),this._$focusOverlay.css("visibility","visible")}}},resize:function(){var e=this._$focusedElement;e&&this.focus(e)},loseFocus:function(){this._$focusedElement&&this._$focusedElement.removeClass(w),this._$focusedElement=null,this._$focusOverlay&&this._$focusOverlay.addClass(I)},init:function(){this.createAction("onEditorPreparing",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this.createAction("onEditorPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this._updateFocusHandler=this._updateFocusHandler||this.createAction(this._updateFocus.bind(this)),c.default.on(o.default.getDocument(),x,this._updateFocusHandler),this._attachContainerEventHandlers()},_attachContainerEventHandlers:function(){var e=this,t=e.component&&e.component.$element();t&&c.default.on(t,(0,f.addNamespace)("keydown",y),function(t){"tab"===(0,f.normalizeKeyName)(t)&&e._updateFocusHandler(t)})},dispose:function(){clearTimeout(this._focusTimeoutID),clearTimeout(this._updateFocusTimeoutID),c.default.off(o.default.getDocument(),x,this._updateFocusHandler)}})}};t.editorFactoryModule=E},77419(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.errorHandlingModule=void 0;var i=s(n(68689)),o=n(1685),a=n(44479),r=s(n(21445)),l=s(n(88445));function s(e){return e&&e.__esModule?e:{default:e}}var d="dx-error-row",u="dx-error-message",c={defaultOptions:function(){return{errorRowEnabled:!0}},controllers:{errorHandling:l.default.ViewController.inherit({init:function(){this._columnHeadersView=this.getView("columnHeadersView"),this._rowsView=this.getView("rowsView")},_createErrorRow:function(e,t){var n,l,s=this,u=this._renderErrorMessage(e);return t?(n=(0,i.default)("<tr>").addClass(d),l=(0,i.default)("<div>").addClass("dx-closebutton").addClass(s.addWidgetPrefix("action")),r.default.on(l,a.name,s.createAction(function(e){var n,a=e.event,r=(0,i.default)(a.currentTarget).closest(".".concat(d)).index();a.stopPropagation(),(0,o.each)(t,function(e,t){n=(0,i.default)(t).children("tbody").children("tr").eq(r),s.removeErrorRow(n)}),s.getController("resizing")&&s.getController("resizing").fireContentReadyAction()})),(0,i.default)("<td>").attr({colSpan:s.getController("columns").getVisibleColumns().length,role:"presentation"}).prepend(l).append(u).appendTo(n),n):u},_renderErrorMessage:function(e){var t=e.url?e.message.replace(e.url,""):e.message||e,n=(0,i.default)("<div>").addClass(u).text(t);return e.url&&(0,i.default)("<a>").attr("href",e.url).text(e.url).appendTo(n),n},renderErrorRow:function(e,t,n){var a,r,l=this;if(n)return n.find(".".concat(u)).remove(),a=l._createErrorRow(e),n.prepend(a),a;var s=t>=0||!l._columnHeadersView.isVisible()?l._rowsView:l._columnHeadersView,d=s.getTableElements();(0,o.each)(d,function(n,o){if(a=l._createErrorRow(e,d),r=r||a,t>=0){var u=s._getRowElements((0,i.default)(o)).eq(t);l.removeErrorRow(u.next()),a.insertAfter(u)}else{var c=(0,i.default)(o).children("tbody"),h=c.children("tr");l._columnHeadersView.isVisible()?(l.removeErrorRow(h.last()),(0,i.default)(o).append(a)):(l.removeErrorRow(h.first()),c.first().prepend(a))}});var c=l.getController("resizing");return c&&c.fireContentReadyAction(),r},removeErrorRow:function(e){if(!e){var t=this._columnHeadersView&&this._columnHeadersView.element();if(!(e=t&&t.find(".".concat(d)))||!e.length){var n=this._rowsView.element();e=n&&n.find(".".concat(d))}}e&&e.hasClass(d)&&e.remove()},optionChanged:function(e){"errorRowEnabled"===e.name?e.handled=!0:this.callBase(e)}})},extenders:{controllers:{data:{init:function(){var e=this,t=e.getController("errorHandling");e.callBase(),e.dataErrorOccurred.add(function(n,i){e.option("errorRowEnabled")&&t.renderErrorRow(n,void 0,i)}),e.changed.add(function(t){if(!t||"loadError"!==t.changeType){var n=e.getController("errorHandling"),i=e.getController("editing");i&&!i.hasChanges()&&n&&n.removeErrorRow()}})}}}}};t.errorHandlingModule=c},42805(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.filterBuilderModule=void 0;var i=u(n(68689)),o=n(68841),a=u(n(38306)),r=u(n(28283)),l=u(n(78440)),s=u(n(42126)),d=n(91918);function u(e){return e&&e.__esModule?e:{default:e}}var c={defaultOptions:function(){return{filterBuilder:{groupOperationDescriptions:{and:a.default.format("dxFilterBuilder-and"),or:a.default.format("dxFilterBuilder-or"),notAnd:a.default.format("dxFilterBuilder-notAnd"),notOr:a.default.format("dxFilterBuilder-notOr")},filterOperationDescriptions:{between:a.default.format("dxFilterBuilder-filterOperationBetween"),equal:a.default.format("dxFilterBuilder-filterOperationEquals"),notEqual:a.default.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:a.default.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:a.default.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:a.default.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:a.default.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:a.default.format("dxFilterBuilder-filterOperationStartsWith"),contains:a.default.format("dxFilterBuilder-filterOperationContains"),notContains:a.default.format("dxFilterBuilder-filterOperationNotContains"),endsWith:a.default.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:a.default.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:a.default.format("dxFilterBuilder-filterOperationIsNotBlank")}},filterBuilderPopup:{}}},views:{filterBuilderView:u(n(88445)).default.View.inherit({_renderCore:function(){this._updatePopupOptions()},_updatePopupOptions:function(){this.option("filterBuilderPopup.visible")?this._initPopup():this._filterBuilderPopup&&this._filterBuilderPopup.hide()},_disposePopup:function(){this._filterBuilderPopup&&(this._filterBuilderPopup.dispose(),this._filterBuilderPopup=void 0),this._filterBuilder&&(this._filterBuilder.dispose(),this._filterBuilder=void 0)},_initPopup:function(){var e=this;e._disposePopup(),e._filterBuilderPopup=e._createComponent(e.element(),l.default,(0,o.extend)({title:a.default.format("dxDataGrid-filterBuilderPopupTitle"),contentTemplate:function(t){return e._getPopupContentTemplate(t)},onOptionChanged:function(t){"visible"===t.name&&e.option("filterBuilderPopup.visible",t.value)},toolbarItems:e._getPopupToolbarItems()},e.option("filterBuilderPopup"),{onHidden:function(){(0,d.restoreFocus)(e),e._disposePopup()}}))},_getPopupContentTemplate:function(e){var t=(0,i.default)(e),n=(0,i.default)("<div>").appendTo((0,i.default)(e));this._filterBuilder=this._createComponent(n,r.default,(0,o.extend)({value:this.option("filterValue"),fields:this.getController("columns").getFilteringColumns()},this.option("filterBuilder"),{customOperations:this.getController("filterSync").getCustomFilterOperations()})),this._createComponent(t,s.default,{direction:"both"})},_getPopupToolbarItems:function(){var e=this;return[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:a.default.format("OK"),onClick:function(){var t=e._filterBuilder.option("value");e.option("filterValue",t),e._filterBuilderPopup.hide()}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:a.default.format("Cancel"),onClick:function(){e._filterBuilderPopup.hide()}}}]},optionChanged:function(e){switch(e.name){case"filterBuilder":case"filterBuilderPopup":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}}})}};t.filterBuilderModule=c},43997(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.anyOf=function(e){return(0,a.extend)(c(e),{name:"anyof",icon:"selectall",caption:l.default.format("dxFilterBuilder-filterOperationAnyOf")})},t.noneOf=function(e){var t=c(e);return(0,a.extend)({},t,{calculateFilterExpression:function(e,n,i){var o=t.calculateFilterExpression(e,n,i);return o&&0!==o.length?"!"===o[0]?o:["!",o]:null},name:"noneof",icon:"unselectall",caption:l.default.format("dxFilterBuilder-filterOperationNoneOf")})};var i=u(n(68689)),o=n(68759),a=n(68841),r=n(16758),l=u(n(38306)),s=n(76835),d=u(n(37499));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=function(e,t){return t?"".concat(t,"/").concat(e):e},n=e&&e.getController("headerFilter");return{dataTypes:["string","date","datetime","number","boolean","object"],calculateFilterExpression:function(e,t,n){var i=[],o=e.length-1;return e&&e.forEach(function(e,a){if((0,s.isCondition)(e)||(0,s.isGroup)(e)){var r=(0,s.getFilterExpression)(e,n,[],"headerFilter");i.push(r)}else{var l=(0,s.getFilterExpression)([t.dataField,"=",e],n,[],"headerFilter");i.push(l)}a!==o&&i.push("or")}),1===i.length?i[0]:i},editorTemplate:function(t,o){var r=(0,i.default)("<div>").addClass("dx-filterbuilder-item-value-text").appendTo(o),l=(0,a.extend)(!0,{},e.columnOption(t.field.dataField));return(0,s.renderValueText)(r,t.text&&t.text.split("|")),l.filterType="include",l.filterValues=t.value?t.value.slice():[],n.showHeaderFilterMenuBase({columnElement:r,column:l,apply:function(){var e;e=this.filterValues,t.setValue(e),n.hideHeaderFilterMenu(),t.closeEditor()},onHidden:function(){t.closeEditor()},isFilterBuilder:!0}),o},customizeText:function(i,l){l=l||{};var s=i.value,u=e.columnOption(i.field.dataField),c=u&&u.headerFilter,h=u&&u.lookup,f=l.values||[s];if(c&&c.dataSource||h&&h.dataSource){var p=new o.Deferred,g=l.items||new o.Deferred;if(!l.items){u=(0,a.extend)({},u,{filterType:"include",filterValues:f});var m=n.getDataSource(u);m.paginate=!1;var v=new r.DataSource(m),C=v.store().key();if(C){var $=l.values;if($&&$.length>1){var w=$.reduce(function(e,t){return e.length&&e.push("or"),e.push([C,"=",t]),e},[]);v.filter(w)}else v.filter([C,"=",i.value])}else i.field.calculateDisplayValue&&d.default.log("W1017");l.items=g,v.load().done(g.resolve)}return g.done(function(e){var n=f.indexOf(i.value);p.resolve(function e(n,i){var o=[];return n.forEach(function(n){if(n.items){var a=e(n.items,t(n.text,i));o=o.concat(a)}n.selected&&o.push(t(n.text,i))}),o}(e,null)[n])}),p}return n.getHeaderItemText(s,u,0,e.option("headerFilter"))}}}},10991(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.filterPanelModule=void 0;var i=p(n(68689)),o=n(68759),a=n(92960),r=n(4964),l=p(n(21445)),s=p(n(38306)),d=p(n(21769)),u=n(76835),c=n(76749),h=p(n(88445)),f=p(n(31560));function p(e){return e&&e.__esModule?e:{default:e}}var g="filter-panel",m="".concat(g,"-text"),v="".concat(g,"-checkbox"),C="".concat(g,"-clear-filter"),$="".concat(g,"-left"),w={defaultOptions:function(){return{filterPanel:{visible:!1,filterEnabled:!0,texts:{createFilter:s.default.format("dxDataGrid-filterPanelCreateFilter"),clearFilter:s.default.format("dxDataGrid-filterPanelClearFilter"),filterEnabledHint:s.default.format("dxDataGrid-filterPanelFilterEnabledHint")}}}},views:{filterPanelView:h.default.View.inherit({isVisible:function(){return this.option("filterPanel.visible")&&this.getController("data").dataSource()},init:function(){var e=this;this.getController("data").dataSourceChanged.add(function(){return e.render()}),this._columnsController=this.getController("columns")},_renderCore:function(){var e=this.element();if(e.empty(),this._columnsController.getColumns().length){e.addClass(this.addWidgetPrefix(g));var t=(0,i.default)("<div>").addClass(this.addWidgetPrefix($)).appendTo(e);this._renderFilterBuilderText(e,t)}},_renderFilterBuilderText:function(e,t){var n=this._getFilterElement(),i=this._getTextElement();if(this.option("filterValue")||this._filterValueBuffer){var o=this._getCheckElement(),a=this._getRemoveButtonElement();return t.append(o).append(n).append(i),void e.append(a)}t.append(n).append(i)},_getCheckElement:function(){var e=this,t=(0,i.default)("<div>").addClass(this.addWidgetPrefix(v));return e._createComponent(t,d.default,{value:e.option("filterPanel.filterEnabled"),onValueChanged:function(t){e.option("filterPanel.filterEnabled",t.value)}}),t.attr("title",this.option("filterPanel.texts.filterEnabledHint")),t},_getFilterElement:function(){var e=this,t=(0,i.default)("<div>").addClass("dx-icon-filter");return l.default.on(t,"click",function(){return e._showFilterBuilder()}),(0,c.registerKeyboardAction)("filterPanel",e,t,void 0,function(){return e._showFilterBuilder()}),e._addTabIndexToElement(t),t},_getTextElement:function(){var e,t=this,n=(0,i.default)("<div>").addClass(t.addWidgetPrefix(m)),a=t.option("filterValue");return a?(0,o.when)(t.getFilterText(a,t.getController("filterSync").getCustomFilterOperations())).done(function(e){var i=t.option("filterPanel.customizeText");if(i){var o=i({component:t.component,filterValue:a,text:e});"string"==typeof o&&(e=o)}n.text(e)}):(e=t.option("filterPanel.texts.createFilter"),n.text(e)),l.default.on(n,"click",function(){return t._showFilterBuilder()}),(0,c.registerKeyboardAction)("filterPanel",t,n,void 0,function(){return t._showFilterBuilder()}),t._addTabIndexToElement(n),n},_showFilterBuilder:function(){this.option("filterBuilderPopup.visible",!0)},_getRemoveButtonElement:function(){var e=this,t=function(){return e.option("filterValue",null)},n=(0,i.default)("<div>").addClass(e.addWidgetPrefix(C)).text(e.option("filterPanel.texts.clearFilter"));return l.default.on(n,"click",t),(0,c.registerKeyboardAction)("filterPanel",this,n,void 0,t),e._addTabIndexToElement(n),n},_addTabIndexToElement:function(e){if(!this.option("useLegacyKeyboardNavigation")){var t=this.option("tabindex")||0;e.attr("tabindex",t)}},optionChanged:function(e){switch(e.name){case"filterValue":this._invalidate(),this.option("filterPanel.filterEnabled",!0),e.handled=!0;break;case"filterPanel":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}},_getConditionText:function(e,t,n){var i="[".concat(e,"] ").concat(t);return(0,r.isDefined)(n)&&(i+=n),i},_getValueMaskedText:function(e){return Array.isArray(e)?"('".concat(e.join("', '"),"')"):" '".concat(e,"'")},_getValueText:function(e,t,n){var i=this,a=new o.Deferred,l=t&&t.customizeText;if((0,r.isDefined)(n)||l){if(!l&&e.lookup)(0,u.getCurrentLookupValueText)(e,n,function(e){a.resolve(i._getValueMaskedText(e))});else{var s=Array.isArray(n)?n:f.default.getDisplayValue(e,n,null);(0,o.when)((0,u.getCurrentValueText)(e,s,t,"filterPanel")).done(function(e){a.resolve(i._getValueMaskedText(e))})}}else a.resolve("");return a.promise()},getConditionText:function(e,t){var n,i=this,r=e[1],l=new o.Deferred,s=(0,u.getCustomOperation)(t.customOperations,r),d=(0,u.getField)(e[0],t.columns),c=d.caption||"",h=e[2];return n=s?s.caption||(0,a.captionize)(s.name):null===h?(0,u.getCaptionByOperation)("="===r?"isblank":"isnotblank",t.filterOperationDescriptions):(0,u.getCaptionByOperation)(r,t.filterOperationDescriptions),this._getValueText(d,s,h).done(function(e){l.resolve(i._getConditionText(c,n,e))}),l},getGroupText:function(e,t,n){var i=this,a=new o.Deferred,r=[],l=(0,u.getGroupValue)(e);return e.forEach(function(e){(0,u.isCondition)(e)?r.push(i.getConditionText(e,t)):(0,u.isGroup)(e)&&r.push(i.getGroupText(e,t,!0))}),o.when.apply(this,r).done(function(){for(var e,i=arguments.length,o=Array(i),r=0;r<i;r++)o[r]=arguments[r];if(l.startsWith("!")){var s=t.groupOperationDescriptions["not".concat(l.substring(1,2).toUpperCase()).concat(l.substring(2))].split(" ");e="".concat(s[0]," ").concat(o[0])}else e=o.join(" ".concat(t.groupOperationDescriptions[l]," "));n&&(e="(".concat(e,")")),a.resolve(e)}),a},getFilterText:function(e,t){var n={customOperations:t,columns:this.getController("columns").getFilteringColumns(),filterOperationDescriptions:this.option("filterBuilder.filterOperationDescriptions"),groupOperationDescriptions:this.option("filterBuilder.groupOperationDescriptions")};return(0,u.isCondition)(e)?this.getConditionText(e,n):this.getGroupText(e,n)}})},extenders:{controllers:{data:{optionChanged:function(e){"filterPanel"===e.name?(this._applyFilter(),e.handled=!0):this.callBase(e)}}}}};t.filterPanelModule=w},68222(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.filterRowModule=void 0;var i=C(n(68689)),o=n(36808),a=n(68841),r=n(1685),l=n(65553),s=n(4964),d=C(n(21445)),u=n(48634),c=C(n(38306)),h=C(n(20728)),f=C(n(79261)),p=C(n(9645)),g=n(91918),m=C(n(88445)),v=C(n(31560));function C(e){return e&&e.__esModule?e:{default:e}}function $(){return($=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var w={"=":"filter-operation-equals","<>":"filter-operation-not-equals","<":"filter-operation-less","<=":"filter-operation-less-equal",">":"filter-operation-greater",">=":"filter-operation-greater-equal",default:"filter-operation-default",notcontains:"filter-operation-not-contains",contains:"filter-operation-contains",startswith:"filter-operation-starts-with",endswith:"filter-operation-ends-with",between:"filter-operation-between"},y={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",between:"between"},x="filter-row",I="filter-range-overlay",E="filter-range-start",b="dx-menu",S="dx-editor-with-menu",T="dx-editor-container",D="dx-editor-cell",R="dx-highlight-outline",O="dx-focused",F="dx-filter-range-content",A="dx-filter-modified",P="input:not([type='hidden'])",V=["date","datetime","number"],_=c.default.format("dxDataGrid-ariaSearchBox");function B(e){return"onClick"===e.option("filterRow.applyFilter")}var M=function(e){var t=e&&e.children(),n=t&&t.data("dxComponents"),i=n&&n.length&&t.data(n[0]);return i instanceof h.default?i:null},k=function(){var e=function(e,n){var i="",o="",a=t(e,n),r=v.default.getFormatOptionsByColumn(n,"filterRow");return Array.isArray(a)?(i=v.default.formatValue(a[0],r),""!==(o=v.default.formatValue(a[1],r))&&(i+=" - ".concat(o))):(0,s.isDefined)(a)&&(i=v.default.formatValue(a,r)),i};function t(e,t){if(t)return B(e)&&void 0!==t.bufferedFilterValue?t.bufferedFilterValue:t.filterValue}var n=function(e,t){if(t)return B(e)&&void 0!==t.bufferedSelectedFilterOperation?t.bufferedSelectedFilterOperation:t.selectedFilterOperation},h=function(e,i,o){var a,r,l=e._columnsController.columnOption(i),s=t(e,l),d=o.closest(".".concat(e.addWidgetPrefix(I))).length,u=o.hasClass(e.addWidgetPrefix(E));return s&&Array.isArray(s)&&"between"===n(e,l)?u?s[0]:s[1]:d||(a=s,(r=l)&&V.includes(r.dataType)&&Array.isArray(a)||void 0===a)?null:s};return{_updateEditorValue:function(e,t){var n=M(t);n&&n.option("value",h(this,e.index,t))},_columnOptionChanged:function(t){var o,a,r,l,s=t.optionNames;if(v.default.checkChanges(s,["filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation","filterValues","filterType"])&&void 0!==t.columnIndex){var d=this._columnsController.getVisibleIndex(t.columnIndex),u=this._columnsController.columnOption(t.columnIndex);if(a=(o=this._getCellElement(this.element().find(".".concat(this.addWidgetPrefix(x))).index(),d)||(0,i.default)()).find(".".concat(T)).first(),s.filterValue||s.bufferedFilterValue){this._updateEditorValue(u,a);var c=o.find(".".concat(this.addWidgetPrefix(I))).data("dxOverlay");c&&(r=c.$content().find(".".concat(T)),this._updateEditorValue(u,r.first()),this._updateEditorValue(u,r.last())),c&&c.option("visible")||this._updateFilterRangeContent(o,e(this,u))}(s.selectedFilterOperation||s.bufferedSelectedFilterOperation)&&d>=0&&u&&(l=o.find(".".concat(b))).length&&(this._updateFilterOperationChooser(l,u,a),"between"===n(this,u)?this._renderFilterRangeContent(o,u):a.find(".".concat(F)).length&&(this._renderEditor(a,this._getEditorOptions(a,u)),this._hideFilterRange()))}else this.callBase(t)},_renderCore:function(){return this._filterRangeOverlayInstance=null,this.callBase.apply(this,arguments)},_resizeCore:function(){this.callBase.apply(this,arguments),this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.repaint()},isFilterRowVisible:function(){return this._isElementVisible(this.option("filterRow"))},isVisible:function(){return this.callBase()||this.isFilterRowVisible()},init:function(){this.callBase(),this._applyFilterViewController=this.getController("applyFilter")},_initFilterRangeOverlay:function(t,o){var a=this,r={},l=t.find(".dx-editor-container"),s=a.addWidgetPrefix(I),c=(0,i.default)("<div>").addClass(s).appendTo(t);return a._createComponent(c,p.default,{height:"auto",shading:!1,showTitle:!1,focusStateEnabled:!1,hideOnOutsideClick:!0,wrapperAttr:{class:s},animation:!1,position:{my:"top",at:"top",of:l.length&&l||t,offset:"0 -1"},contentTemplate:function(e){var n,l=(0,i.default)("<div>").addClass("".concat(T," ").concat(a.addWidgetPrefix(E))).appendTo(e);return o=a._columnsController.columnOption(o.index),(n=a._getEditorOptions(l,o)).sharedData=r,a._renderEditor(l,n),d.default.on(l.find(P),"keydown",function(e){var n=t.find("[tabindex]").not(e.target).first();"tab"===(0,u.normalizeKeyName)(e)&&e.shiftKey&&(e.preventDefault(),a._hideFilterRange(),n.length||(n=t.prev().find("[tabindex]").last()),d.default.trigger(n,"focus"))}),l=(0,i.default)("<div>").addClass("".concat(T," ").concat(a.addWidgetPrefix("filter-range-end"))).appendTo(e),(n=a._getEditorOptions(l,o)).sharedData=r,a._renderEditor(l,n),d.default.on(l.find(P),"keydown",function(e){"tab"!==(0,u.normalizeKeyName)(e)||e.shiftKey||(e.preventDefault(),a._hideFilterRange(),d.default.trigger(t.next().find("[tabindex]").first(),"focus"))}),(0,i.default)(e).addClass(a.getWidgetContainerClass())},onShown:function(e){var t=e.component.$content().find(".".concat(T)).first();d.default.trigger(t.find(P),"focus")},onHidden:function(){o=a._columnsController.columnOption(o.index),t.find(".".concat(b)).parent().addClass(S),"between"===n(a,o)&&(a._updateFilterRangeContent(t,e(a,o)),a.component.updateDimensions())}})},_updateFilterRangeOverlay:function(e){var t=this._filterRangeOverlayInstance;t&&t.option(e)},_showFilterRange:function(e,t){var n=e.children(".".concat(this.addWidgetPrefix(I))),i=n.length&&n.data("dxOverlay");!i&&t&&(i=this._initFilterRangeOverlay(e,t)),i.option("visible")||(this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.hide(),this._filterRangeOverlayInstance=i,this._updateFilterRangeOverlay({width:(0,l.getOuterWidth)(e,!0)+1}),this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.show())},_hideFilterRange:function(){var e=this._filterRangeOverlayInstance;e&&e.hide()},getFilterRangeOverlayInstance:function(){return this._filterRangeOverlayInstance},_createRow:function(e){var t=this,n=this.callBase(e);return"filter"===e.rowType&&(n.addClass(this.addWidgetPrefix(x)),this.option("useLegacyKeyboardNavigation")||d.default.on(n,"keydown",function(e){return(0,g.selectView)("filterRow",t,e)})),n},_getRows:function(){var e=this.callBase();return this.isFilterRowVisible()&&e.push({rowType:"filter"}),e},_renderFilterCell:function(e,t){var o=t.column,a=(0,i.default)(e);this.component.option("showColumnHeaders")&&this.setAria("describedby",o.headerId,a),this.setAria("label",c.default.format("dxDataGrid-ariaFilterCell"),a),a.addClass(D);var r=(0,i.default)("<div>").appendTo(a),l=(0,i.default)("<div>").addClass(T).appendTo(r);if("between"===n(this,o))this._renderFilterRangeContent(a,o);else{var s=this._getEditorOptions(l,o);this._renderEditor(l,s)}var d=o.alignment;d&&"center"!==d&&a.find(P).first().css("textAlign",o.alignment),o.filterOperations&&o.filterOperations.length&&this._renderFilterOperationChooser(r,o,l)},_renderCellContent:function(e,t){var n=this,i=t.column;if("filter"===t.rowType){if(i.command)e.html("&nbsp;");else if(i.allowFiltering)return void n.renderTemplate(e,n._renderFilterCell.bind(n),t).done(function(){n._updateCell(e,t)})}this.callBase.apply(this,arguments)},_getEditorOptions:function(e,i){var o=this,r={editorOptions:{inputAttr:o._getFilterInputAccessibilityAttributes(i)}},l=(0,a.extend)(r,i,{value:h(o,i.index,e),parentType:"filterRow",showAllText:o.option("filterRow.showAllText"),updateValueTimeout:"onClick"===o.option("filterRow.applyFilter")?0:700,width:null,setValue:function(a,r){!function(e,i){var o=""===i.value?null:i.value,a=i.container,r=e._columnsController.columnOption(i.column.index),l=h(e,r.index,a);if((0,s.isDefined)(l)||(0,s.isDefined)(o)){e._applyFilterViewController.setHighLight(a,l!==o);var d=B(e)?"bufferedFilterValue":"filterValue",u=function(e,i,o,a){if("between"===n(e,o)){var r=t(e,o);return a.hasClass(e.addWidgetPrefix(E))?[i,Array.isArray(r)?r[1]:void 0]:[Array.isArray(r)?r[0]:r,i]}return i}(e,o,r,a),c="between"===n(e,r),f=i.notFireEvent||c&&Array.isArray(u)&&u.includes(void 0);e._columnsController.columnOption(r.index,d,u,f)}}(o,{column:i,value:a,container:e,notFireEvent:r})}});return"between"===n(o,i)&&(e.hasClass(o.addWidgetPrefix(E))?l.placeholder=o.option("filterRow.betweenStartText"):l.placeholder=o.option("filterRow.betweenEndText")),l},_getFilterInputAccessibilityAttributes:function(e){var t=c.default.format("dxDataGrid-ariaFilterCell");return this.component.option("showColumnHeaders")?{"aria-label":t,"aria-describedby":e.headerId}:{"aria-label":t}},_renderEditor:function(e,t){e.empty();var n=(0,i.default)("<div>").appendTo(e),o=this.getController("editorFactory"),a=this.getController("data").dataSource(),r=this.getController("applyFilter");if(t.lookup&&this.option("syncLookupFilterValues")){r.setCurrentColumnForFiltering(t);var l=this.getController("data").getCombinedFilter();r.setCurrentColumnForFiltering(null);var s=v.default.getWrappedLookupDataSource(t,a,l),d=$($({},t),{lookup:$($({},t.lookup),{dataSource:s})});return o.createEditor(n,d)}return o.createEditor(n,t)},_renderFilterRangeContent:function(t,n){var o=this,a=t.find(".".concat(T)).first();a.empty();var r=(0,i.default)("<div>").addClass(F).attr("tabindex",this.option("tabIndex"));d.default.on(r,"focusin",function(){o._showFilterRange(t,n)}),r.appendTo(a),o._updateFilterRangeContent(t,e(o,n))},_updateFilterRangeContent:function(e,t){var n=e.find(".".concat(F));n.length&&(""===t?n.html("&nbsp;"):n.text(t))},_updateFilterOperationChooser:function(e,t,i){var o,a=this,r=function(){var t=f.default.getInstance(e);t&&t.option("focusedElement",null),o&&a._focusEditor(i)};a._createComponent(e,f.default,{integrationOptions:{},activeStateEnabled:!1,selectionMode:"single",cssClass:"".concat(a.getWidgetContainerClass()," ").concat("dx-cell-focus-disabled"," ").concat("dx-filter-menu"),showFirstSubmenuMode:"onHover",hideSubmenuOnMouseLeave:!0,elementAttr:{"aria-label":_},items:[{disabled:!(t.filterOperations&&t.filterOperations.length),icon:w[n(a,t)||"default"],selectable:!1,items:a._getFilterOperationMenuItems(t)}],onItemClick:function(e){var o=e.itemData.name,r=n(a,t),l=!1,s=B(a),d={};if(!(e.itemData.items||o&&o===r)){if(o?(d[s?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=o,"between"!==o&&"between"!==r||(l="between"===o,d[s?"bufferedFilterValue":"filterValue"]=null)):(d[s?"bufferedFilterValue":"filterValue"]=null,d[s?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=t.defaultSelectedFilterOperation||null),a._columnsController.columnOption(t.index,d),a._applyFilterViewController.setHighLight(i,!0),!o){var u=M(i);u&&"dxDateBox"===u.NAME&&!u.option("isValid")&&(u.reset(),u.option("isValid",!0))}l?a._showFilterRange(i.closest(".".concat(D)),t):a._focusEditor(i)}},onSubmenuShowing:function(){o=a._isEditorFocused(i),a.getController("editorFactory").loseFocus()},onSubmenuHiding:function(){d.default.trigger(e,"blur"),r()},onContentReady:function(t){d.default.on(e,"blur",function(){t.component._hideSubmenuAfterTimeout(),r()})},rtlEnabled:a.option("rtlEnabled")})},_isEditorFocused:function(e){return e.hasClass(O)||e.parents(".".concat(O)).length},_focusEditor:function(e){this.getController("editorFactory").focus(e),d.default.trigger(e.find(P),"focus")},_renderFilterOperationChooser:function(e,t,n){var o;this.option("filterRow.showOperationChooser")&&(e.addClass(S),o=(0,i.default)("<div>").prependTo(e),this._updateFilterOperationChooser(o,t,n))},_getFilterOperationMenuItems:function(e){var t=this,i=[{}],o=t.option("filterRow"),a=o&&o.operationDescriptions||{};if(e.filterOperations&&e.filterOperations.length){var l=e.filterOperations.filter(function(e){return(0,s.isDefined)(y[e])});(i=(0,r.map)(l,function(i){var o=y[i];return{name:i,selected:(n(t,e)||e.defaultFilterOperation)===i,text:a[o],icon:w[i]}})).push({name:null,text:o&&o.resetOperationText,icon:w.default})}return i},_handleDataChanged:function(e){var t,n,i;this.callBase.apply(this,arguments),((null===(t=e.operationTypes)||void 0===t?void 0:t.filtering)||(null===(n=e.operationTypes)||void 0===n?void 0:n.fullReload))&&this.updateLookupDataSource(null===(i=e.operationTypes)||void 0===i?void 0:i.filtering)},updateLookupDataSource:function(e){var t=this;if(this.option("syncLookupFilterValues")&&this.element()){var n=this._columnsController.getVisibleColumns(),i=this._dataController.dataSource(),a=this._applyFilterViewController,r=this.element().find(".".concat(this.addWidgetPrefix(x))).index();-1!==r&&n.forEach(function(n,l){if(n.lookup&&n.calculateCellValue===n.defaultCalculateCellValue){var s=t._getCellElement(r,l),d=M(null==s?void 0:s.find(".dx-editor-container"));if(d){a.setCurrentColumnForFiltering(n);var u=t._dataController.getCombinedFilter()||null;a.setCurrentColumnForFiltering(null);var c=d.option("dataSource");if(!e||!(0,o.equalByValue)(c.__dataGridSourceFilter,u)){var h=v.default.getWrappedLookupDataSource(n,i,u);d.option("dataSource",h)}}}})}},optionChanged:function(e){switch(e.name){case"filterRow":case"showColumnLines":this._invalidate(!0,!0),e.handled=!0;break;case"syncLookupFilterValues":e.value?this.updateLookupDataSource():this.render(),e.handled=!0;break;default:this.callBase(e)}}}}(),L={defaultOptions:function(){return{syncLookupFilterValues:!0,filterRow:{visible:!1,showOperationChooser:!0,showAllText:c.default.format("dxDataGrid-filterRowShowAllText"),resetOperationText:c.default.format("dxDataGrid-filterRowResetOperationText"),applyFilter:"auto",applyFilterText:c.default.format("dxDataGrid-applyFilterText"),operationDescriptions:{equal:c.default.format("dxDataGrid-filterRowOperationEquals"),notEqual:c.default.format("dxDataGrid-filterRowOperationNotEquals"),lessThan:c.default.format("dxDataGrid-filterRowOperationLess"),lessThanOrEqual:c.default.format("dxDataGrid-filterRowOperationLessOrEquals"),greaterThan:c.default.format("dxDataGrid-filterRowOperationGreater"),greaterThanOrEqual:c.default.format("dxDataGrid-filterRowOperationGreaterOrEquals"),startsWith:c.default.format("dxDataGrid-filterRowOperationStartsWith"),contains:c.default.format("dxDataGrid-filterRowOperationContains"),notContains:c.default.format("dxDataGrid-filterRowOperationNotContains"),endsWith:c.default.format("dxDataGrid-filterRowOperationEndsWith"),between:c.default.format("dxDataGrid-filterRowOperationBetween"),isBlank:c.default.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:c.default.format("dxFilterBuilder-filterOperationIsNotBlank")},betweenStartText:c.default.format("dxDataGrid-filterRowOperationBetweenStartText"),betweenEndText:c.default.format("dxDataGrid-filterRowOperationBetweenEndText")}}},controllers:{applyFilter:m.default.ViewController.inherit({_getHeaderPanel:function(){return this._headerPanel||(this._headerPanel=this.getView("headerPanel")),this._headerPanel},setHighLight:function(e,t){B(this)&&(e&&e.toggleClass(R,t)&&e.closest(".".concat(D)).toggleClass(A,t),this._getHeaderPanel().enableApplyButton(t))},applyFilter:function(){var e=this.getController("columns"),t=e.getColumns();e.beginUpdate();for(var n=0;n<t.length;n++){var i=t[n];void 0!==i.bufferedFilterValue&&(e.columnOption(n,"filterValue",i.bufferedFilterValue),i.bufferedFilterValue=void 0),void 0!==i.bufferedSelectedFilterOperation&&(e.columnOption(n,"selectedFilterOperation",i.bufferedSelectedFilterOperation),i.bufferedSelectedFilterOperation=void 0)}e.endUpdate(),this.removeHighLights()},removeHighLights:function(){if(B(this)){var e=this.getView("columnHeadersView").element();e.find(".".concat(this.addWidgetPrefix(x)," .").concat(R)).removeClass(R),e.find(".".concat(this.addWidgetPrefix(x)," .").concat(A)).removeClass(A),this._getHeaderPanel().enableApplyButton(!1)}},setCurrentColumnForFiltering:function(e){this._currentColumn=e},getCurrentColumnForFiltering:function(){return this._currentColumn}})},extenders:{controllers:{data:{skipCalculateColumnFilters:function(){return!1},_calculateAdditionalFilter:function(){if(this.skipCalculateColumnFilters())return this.callBase();var e=[this.callBase()],t=this._columnsController.getVisibleColumns(null,!0),n=this.getController("applyFilter");return(0,r.each)(t,function(){var t,i=(null===(t=n.getCurrentColumnForFiltering())||void 0===t?void 0:t.index)===this.index;if(this.allowFiltering&&this.calculateFilterExpression&&(0,s.isDefined)(this.filterValue)&&!i){var o=this.createFilterExpression(this.filterValue,this.selectedFilterOperation||this.defaultFilterOperation,"filterRow");e.push(o)}}),v.default.combineFilters(e)}},columnsResizer:{_startResizing:function(){if(this.callBase.apply(this,arguments),this.isResizing()){var e=this._columnHeadersView.getFilterRangeOverlayInstance();if(e){var t=e.$element().closest("td").index();t!==this._targetPoint.columnIndex&&t!==this._targetPoint.columnIndex+1||e.$content().hide()}}},_endResizing:function(){var e;if(this.isResizing()){var t=this._columnHeadersView.getFilterRangeOverlayInstance();t&&(e=t.$element().closest("td"),this._columnHeadersView._updateFilterRangeOverlay({width:(0,l.getOuterWidth)(e,!0)+1}),t.$content().show())}this.callBase.apply(this,arguments)}},editing:{updateFieldValue:function(e){return e.column.lookup&&(this._needUpdateLookupDataSource=!0),this.callBase.apply(this,arguments)},_afterSaveEditData:function(e){var t;return this._needUpdateLookupDataSource&&!e&&(null===(t=this.getView("columnHeadersView"))||void 0===t||t.updateLookupDataSource()),this._needUpdateLookupDataSource=!1,this.callBase.apply(this,arguments)},_afterCancelEditData:function(){return this._needUpdateLookupDataSource=!1,this.callBase.apply(this,arguments)}}},views:{columnHeadersView:k,headerPanel:{_getToolbarItems:function(){var e=this.callBase();return this._prepareFilterItem(e).concat(e)},_prepareFilterItem:function(){var e=this,t=[];if(e._isShowApplyFilterButton()){var n=e.option("filterRow.applyFilterText"),o={widget:"dxButton",options:{icon:"apply-filter",disabled:!e._columnsController.getColumns().filter(function(e){return void 0!==e.bufferedFilterValue}).length,onClick:function(){e._applyFilterViewController.applyFilter()},hint:n,text:n,onInitialized:function(t){(0,i.default)(t.element).addClass(e._getToolbarButtonClass("dx-apply-button"))}},showText:"inMenu",name:"applyFilterButton",location:"after",locateInMenu:"auto",sortIndex:10};t.push(o)}return t},_isShowApplyFilterButton:function(){var e=this.option("filterRow");return e&&e.visible&&"onClick"===e.applyFilter},init:function(){this.callBase(),this._dataController=this.getController("data"),this._applyFilterViewController=this.getController("applyFilter")},enableApplyButton:function(e){this.setToolbarItemDisabled("applyFilterButton",!e)},isVisible:function(){return this.callBase()||this._isShowApplyFilterButton()},optionChanged:function(e){"filterRow"===e.name?(this._invalidate(),e.handled=!0):this.callBase(e)}}}}};t.filterRowModule=L},71723(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.filterSyncModule=void 0;var i=n(4964),o=n(76835),a=u(n(47228)),r=u(n(37499)),l=u(n(88445)),s=u(n(31560)),d=n(43997);function u(e){return e&&e.__esModule?e:{default:e}}var c=["=","<>","<","<=",">",">=","notcontains","contains","startswith","endswith","between"],h="include",f="exclude";function p(e){return e.name||e.dataField}var g,m,v,C,$,w,y={defaultOptions:function(){return{filterValue:null,filterSyncEnabled:"auto"}},controllers:{filterSync:l.default.Controller.inherit((g=function(){return{filterType:h,filterValues:void 0}},m=function(e){var t=e.filterValues||[];return!a.default.getGroupInterval(e)&&!(e.headerFilter&&e.headerFilter.dataSource)||1===t.length&&null===t[0]},v=function(e){var t=e.filterValue;if((0,i.isDefined)(t)){var n=e.selectedFilterOperation||e.defaultFilterOperation||(0,o.getDefaultOperation)(e);return[p(e),n,e.filterValue]}return null},C=function(e){var t,n,i=e.filterValues;return i?(1===i.length&&m(e)&&!Array.isArray(i[0])?(t=e.filterType===f?"<>":"=",n=i[0]):(t=e.filterType===f?"noneof":"anyof",n=i),[p(e),t,n]):null},$=function(e,t,n){var i=function(e,t){if(!e)return g();var n,i=e[1],o=e[2],a=Array.isArray(o);if(!a&&!m(t))return g();switch(i){case"anyof":case"=":n=h;break;case"noneof":case"<>":n=f;break;default:return g()}return{filterType:n,filterValues:a?o:[o]}}(n,t);e.columnOption(p(t),i)},w=function(e,t,n){var o,a=null==n?void 0:n[1],r=null==n?void 0:n[2],l=t.filterOperations||t.defaultFilterOperations;(!l||l.indexOf(a)>=0||a===t.defaultFilterOperation)&&c.includes(a)&&null!==r?(a!==t.defaultFilterOperation||(0,i.isDefined)(t.selectedFilterOperation)||(a=t.selectedFilterOperation),o={filterValue:r,selectedFilterOperation:a}):o={filterValue:void 0,selectedFilterOperation:void 0},e.columnOption(p(t),o)},{syncFilterValue:function(){var e=this,t=e.getController("columns"),n=t.getFilteringColumns();this._skipSyncColumnOptions=!0,n.forEach(function(n){var a=(0,o.getMatchedConditions)(e.option("filterValue"),p(n));if(1===a.length){var r=a[0];$(t,n,r),w(t,n,r)}else(0,i.isDefined)(n.filterValues)&&$(t,n,null),(0,i.isDefined)(n.filterValue)&&w(t,n,null)}),this._skipSyncColumnOptions=!1},_initSync:function(){var e=this.getController("columns").getColumns(),t=this.getController("data"),n=t.pageIndex();if(function(e){e.forEach(function(e){var t=p(e);if(!(0,i.isDefined)(t)&&e.allowFiltering)throw new r.default.Error("E1049",e.caption)})}(e),!this.option("filterValue")){var o=this.getController("columns").getFilteringColumns(),a=this.getFilterValueFromColumns(o);this.option("filterValue",a)}this.syncFilterValue(),t.pageIndex(n)},init:function(){var e=this,t=this.getController("data");t.isFilterSyncActive()&&(this.getController("columns").isAllDataTypesDefined()?this._initSync():t.dataSourceChanged.add(function(){return e._initSync()}))},_getSyncFilterRow:function(e,t){var n=v(t);return(0,i.isDefined)(n)?(0,o.syncFilters)(e,n):(0,o.removeFieldConditionsFromFilter)(e,p(t))},_getSyncHeaderFilter:function(e,t){var n=C(t);return n?(0,o.syncFilters)(e,n):(0,o.removeFieldConditionsFromFilter)(e,p(t))},getFilterValueFromColumns:function(e){if(!this.getController("data").isFilterSyncActive())return null;var t=["and"];return e&&e.forEach(function(e){var n=C(e),i=v(e);n&&(0,o.addItem)(n,t),i&&(0,o.addItem)(i,t)}),(0,o.getNormalizedFilter)(t)},syncFilterRow:function(e){this.option("filterValue",this._getSyncFilterRow(this.option("filterValue"),e))},syncHeaderFilter:function(e){this.option("filterValue",this._getSyncHeaderFilter(this.option("filterValue"),e))},getCustomFilterOperations:function(){return[(0,d.anyOf)(this.component),(0,d.noneOf)(this.component)].concat(this.option("filterBuilder.customOperations")||[])},publicMethods:function(){return["getCustomFilterOperations"]}}))},extenders:{controllers:{data:{isFilterSyncActive:function(){var e=this.option("filterSyncEnabled");return"auto"===e?this.option("filterPanel.visible"):e},skipCalculateColumnFilters:function(){var e=this.getController("filterSync");return((0,i.isDefined)(this.option("filterValue"))||e._skipSyncColumnOptions)&&this.isFilterSyncActive()},_calculateAdditionalFilter:function(){if(!1===this.option("filterPanel.filterEnabled"))return this.callBase();var e=[this.callBase()],t=this.getController("columns").getFilteringColumns(),n=this.option("filterValue");if(this.isFilterSyncActive()){var i=this.getController("headerFilter").getCurrentColumn();i&&n&&(n=(0,o.removeFieldConditionsFromFilter)(n,p(i)))}var a=this.getController("filterSync").getCustomFilterOperations(),r=(0,o.getFilterExpression)(n,t,a,"filterBuilder");return r&&e.push(r),s.default.combineFilters(e)},_parseColumnPropertyName:function(e){var t=e.match(/.*\.(.*)/);return t?t[1]:null},clearFilter:function(e){this.component.beginUpdate(),arguments.length>0?("filterValue"===e&&this.option("filterValue",null),this.callBase(e)):(this.option("filterValue",null),this.callBase()),this.component.endUpdate()},optionChanged:function(e){switch(e.name){case"filterValue":this._applyFilter(),this.isFilterSyncActive()&&this.getController("filterSync").syncFilterValue(),e.handled=!0;break;case"filterSyncEnabled":e.handled=!0;break;case"columns":if(this.isFilterSyncActive()){var t=this.getController("columns").getColumnByPath(e.fullName),n=this.getController("filterSync");if(t&&!n._skipSyncColumnOptions){var i=this._parseColumnPropertyName(e.fullName);n._skipSyncColumnOptions=!0,"filterType"===i?f!==e.value&&f!==e.previousValue||n.syncHeaderFilter(t):"filterValues"===i?n.syncHeaderFilter(t):["filterValue","selectedFilterOperation"].includes(i)&&n.syncFilterRow(t,t.filterValue),n._skipSyncColumnOptions=!1}}this.callBase(e);break;default:this.callBase(e)}}}},views:{columnHeadersView:{_isHeaderFilterEmpty:function(e){return this.getController("data").isFilterSyncActive()?!(0,o.filterHasField)(this.option("filterValue"),p(e)):this.callBase(e)},_needUpdateFilterIndicators:function(){return!this.getController("data").isFilterSyncActive()},optionChanged:function(e){"filterValue"===e.name?this._updateHeaderFilterIndicators():this.callBase(e)}}}}};t.filterSyncModule=y},93880(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.focusModule=void 0;var i=c(n(68689)),o=n(36808),a=n(68759),r=n(1685),l=n(4964),s=c(n(88445)),d=c(n(31560)),u=n(69214);function c(e){return e&&e.__esModule?e:{default:e}}var h="dx-row-focused",f=".dx-row.".concat(h),p="dx-cell-focus-disabled",g={defaultOptions:function(){return{focusedRowEnabled:!1,autoNavigateToFocusedRow:!0,focusedRowKey:null,focusedRowIndex:-1,focusedColumnIndex:-1}},controllers:{focus:s.default.ViewController.inherit({init:function(){this._dataController=this.getController("data"),this._keyboardController=this.getController("keyboardNavigation"),this.component._optionsByReference.focusedRowKey=!0},optionChanged:function(e){var t=e.name,n=e.value,i=e.previousValue;switch(t){case"focusedRowIndex":this._focusRowByIndex(n),this._keyboardController._fireFocusedRowChanged(),e.handled=!0;break;case"focusedRowKey":if(Array.isArray(n)&&JSON.stringify(n)===JSON.stringify(i))return;this._focusRowByKey(n),this._keyboardController._fireFocusedRowChanged(),e.handled=!0;break;case"focusedColumnIndex":case"focusedRowEnabled":case"autoNavigateToFocusedRow":e.handled=!0;break;default:this.callBase(e)}},isAutoNavigateToFocusedRow:function(){return"infinite"!==this.option("scrolling.mode")&&this.option("autoNavigateToFocusedRow")},_focusRowByIndex:function(e,t){this.option("focusedRowEnabled")&&((e=void 0!==e?e:this.option("focusedRowIndex"))<0?this.isAutoNavigateToFocusedRow()&&this._resetFocusedRow():this._focusRowByIndexCore(e,t))},_focusRowByIndexCore:function(e,t){var n=this,i=this.getController("data"),o=i.pageSize(),r=function(){if(n._isValidFocusedRowIndex(e)){var o=e-i.getRowIndexOffset(!0);(!t||t.paging&&!t.filtering)&&(o=Math.min(o,i._getLastItemIndex()));var a=i.getKeyByRowIndex(o,!0);(0,l.isDefined)(a)&&!n.isRowFocused(a)&&n.option("focusedRowKey",a)}};if(o>=0){if(this._isLocalRowIndex(e))r();else{var s=Math.floor(e/i.pageSize());(0,a.when)(i.pageIndex(s),i.waitReady()).done(function(){r()})}}},_isLocalRowIndex:function(e){var t=this.getController("data");if(this.getController("keyboardNavigation")._isVirtualScrolling()){var n=Math.floor(e/t.pageSize()),i=t.virtualItemsCount(),o=i?i.begin:-1,a=Math.ceil((t.getVisibleRows().length+t.getRowIndexOffset())/t.pageSize());return o<=e&&a>n}return!0},_setFocusedRowKeyByIndex:function(e){var t=this.getController("data");if(this._isValidFocusedRowIndex(e)){var n=Math.min(e-t.getRowIndexOffset(),t.items().length-1),i=t.getKeyByRowIndex(n);(0,l.isDefined)(i)&&!this.isRowFocused(i)&&this.option("focusedRowKey",i)}},_focusRowByKey:function(e){(0,l.isDefined)(e)?this._navigateToRow(e,!0):this._resetFocusedRow()},_resetFocusedRow:function(){var e=this.option("focusedRowKey"),t=(0,l.isDefined)(e);if(t||!(0>this.option("focusedRowIndex"))){var n=this.getController("keyboardNavigation");t&&this.option("focusedRowKey",null),n.setFocusedRowIndex(-1),this.option("focusedRowIndex",-1),this.getController("data").updateItems({changeType:"updateFocusedRow",focusedRowKey:null}),n._fireFocusedRowChanged(void 0,-1)}},_isValidFocusedRowIndex:function(e){var t=this.getController("data").getVisibleRows()[e];return!t||"data"===t.rowType||"group"===t.rowType},publicMethods:function(){return["navigateToRow","isRowFocused"]},navigateToRow:function(e){return this.isAutoNavigateToFocusedRow()||this.option("focusedRowIndex",-1),this._navigateToRow(e)},_navigateToRow:function(e,t){var n=this,i=n.getController("data"),o=n.isAutoNavigateToFocusedRow(),r=new a.Deferred;if(void 0===e||!i.dataSource())return r.reject().promise();var l=n.getFocusedRowIndexByKey(e);return!o&&t||l>=0?n._navigateTo(e,r,t):i.getPageIndexByKey(e).done(function(o){o<0?r.resolve(-1):o===i.pageIndex()?i.reload().done(function(){n.isRowFocused(e)&&i.getRowIndexByKey(e)>=0?r.resolve(n.getFocusedRowIndexByKey(e)):n._navigateTo(e,r,t)}).fail(r.reject):i.pageIndex(o).done(function(){n._navigateTo(e,r,t)}).fail(r.reject)}).fail(r.reject),r.promise()},_navigateTo:function(e,t,n){var i=this.getController("data").getRowIndexByKey(e),o=d.default.isVirtualRowRendering(this);this.isAutoNavigateToFocusedRow()&&o&&i<0?this._navigateToVirtualRow(e,t,n):this._navigateToVisibleRow(e,t,n)},_navigateToVisibleRow:function(e,t,n){if(n)this._triggerUpdateFocusedRow(e,t);else{var i=this.getFocusedRowIndexByKey(e);this.getView("rowsView").scrollToRowElement(e,t).done(function(){t.resolve(i)})}},_navigateToVirtualRow:function(e,t,n){var i=this,o=this.getController("data"),a=o._rowsScrollController,r=d.default.getIndexByKey(e,o.items(!0)),l=this.getView("rowsView").getScrollable();if(a&&l&&r>=0){var s=r+o.getRowIndexOffset(!0),u=a.getItemOffset(s);this.component.on("contentReady",function a(){o.totalCount()&&!o.items().length||(i.component.off("contentReady",a),n?i._triggerUpdateFocusedRow(e,t):t.resolve(s))}),this.getView("rowsView").scrollTopPosition(u)}else t.resolve(-1)},_triggerUpdateFocusedRow:function(e,t){var n,i=this,o=this.getController("data"),r=this.getFocusedRowIndexByKey(e);this._isValidFocusedRowIndex(r)?(this.option("focusedRowEnabled")?o.updateItems({changeType:"updateFocusedRow",focusedRowKey:e}):n=this.getView("rowsView").scrollToRowElement(e),(0,a.when)(n).done(function(){i.getController("keyboardNavigation").setFocusedRowIndex(r),t&&t.resolve(r)})):t&&t.resolve(-1)},getFocusedRowIndexByKey:function(e){var t=this.getController("data"),n=t.getRowIndexByKey(e,!0);return n>=0?n+t.getRowIndexOffset(!0):-1},_focusRowByKeyOrIndex:function(){var e=this,t=this.option("focusedRowKey"),n=this.option("focusedRowIndex"),i=this.getController("keyboardNavigation"),o=this.getController("data");if((0,l.isDefined)(t)){var a=o.getRowIndexByKey(t);a>=0?(i._isVirtualScrolling()&&(n=a+o.getRowIndexOffset()),i.setFocusedRowIndex(n),this._triggerUpdateFocusedRow(t)):this._navigateToRow(t,!0).done(function(t){n>=0&&t<0?e._focusRowByIndex():n<0&&t>=0&&i.setFocusedRowIndex(t)})}else n>=0&&this.getController("focus")._focusRowByIndex(n)},isRowFocused:function(e){var t=this.option("focusedRowKey");if((0,l.isDefined)(t))return(0,o.equalByValue)(e,this.option("focusedRowKey"))},updateFocusedRow:function(e){var t,n,o=e.focusedRowKey,a=this,l=a._dataController.getRowIndexByKey(o),s=a.getView("rowsView");(0,r.each)(s.getTableElements(),function(e,o){t=(0,i.default)(o),a._clearPreviousFocusedRow(t,l);var r=a._prepareFocusedRow({changedItem:a._dataController.getVisibleRows()[l],$tableElement:t,focusedRowIndex:l});0===e&&(n=r)}),n&&s.scrollToElementVertically(n)},_clearPreviousFocusedRow:function(e,t){var n=this,o=e.find(f).filter(function(t,o){var a=(0,i.default)(o).closest(".".concat(n.addWidgetPrefix("table")));return e.is(a)});o.removeClass(h).removeClass(p).removeAttr("tabindex"),o.children("td").removeAttr("tabindex"),0!==t&&(0,i.default)(this.getView("rowsView").getRowElement(0)).removeClass(p).removeAttr("tabIndex")},_prepareFocusedRow:function(e){var t,n=e.changedItem;if(n&&("data"===n.rowType||"group"===n.rowType)){var o=e.focusedRowIndex,a=e.$tableElement,r=this.option("tabindex")||0,l=this.getView("rowsView");(t=(0,i.default)(l._getRowElements(a).eq(o))).addClass(h).attr("tabindex",r)}return t}})},extenders:{controllers:{keyboardNavigation:{init:function(){var e=this.option("focusedRowIndex"),t=this.option("focusedColumnIndex");this.createAction("onFocusedRowChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedRowChanged",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanged",{excludeValidators:["disabled","readOnly"]}),this.callBase(),this.setRowFocusType(),this._focusedCellPosition={},(0,l.isDefined)(e)&&e>=0&&(this._focusedCellPosition.rowIndex=e),(0,l.isDefined)(t)&&t>=0&&(this._focusedCellPosition.columnIndex=t)},setFocusedRowIndex:function(e){this.callBase(e),this.option("focusedRowIndex",e)},setFocusedColumnIndex:function(e){this.callBase(e),this.option("focusedColumnIndex",e)},_escapeKeyHandler:function(e,t){!t&&this.option("focusedRowEnabled")?this.isCellFocusType()&&(this.setRowFocusType(),this._focus(this._getCellElementFromTarget(e.originalEvent.target),!0)):this.callBase(e,t)},_updateFocusedCellPosition:function(e,t){var n=this.callBase(e,t);n&&n.columnIndex>=0&&this._fireFocusedCellChanged(e)}},editorFactory:{renderFocusOverlay:function(e,t){var n,i=this.getController("keyboardNavigation"),o=this.option("focusedRowEnabled"),a=this.getController("editing");o&&(null==i?void 0:i.isRowFocusType())&&!a.isEditing()?o&&("row"!==i._getElementType(e)||e.hasClass(h)||(n=i.getFirstValidCellInRow(e),i.focus(n))):this.callBase(e,t)}},columns:{getSortDataSourceParameters:function(e,t){var n=this,i=this.callBase.apply(this,arguments),o=this.getController("data"),a=o._dataSource,r=o.store(),l=r&&r.key(),s=a&&a.remoteOperations()||{},d=Object.keys(s).every(function(e){return!s[e]});if(l&&(this.option("focusedRowEnabled")&&!1!==this.getController("focus").isAutoNavigateToFocusedRow()||t)){var u=(l=Array.isArray(l)?l:[l]).filter(function(e){return!n.columnOption(e,"sortOrder")});u.length&&(i=i||[],d?i.push({selector:a.getDataIndexGetter(),desc:!1}):u.forEach(function(e){return i.push({selector:e,desc:!1})}))}return i}},data:{_applyChange:function(e){if(!e||"updateFocusedRow"!==e.changeType)return this.callBase.apply(this,arguments)},_fireChanged:function(e){if(this.callBase(e),this.option("focusedRowEnabled")&&this._dataSource){var t="update"===e.changeType&&e.repaintChangesOnly&&e.changeTypes&&e.changeTypes.indexOf("remove")>=0;"refresh"===e.changeType&&e.items.length||t?(this._updatePageIndexes(),this.processUpdateFocusedRow(e)):"append"===e.changeType||"prepend"===e.changeType?this._updatePageIndexes():"update"===e.changeType&&e.repaintChangesOnly&&this.processUpdateFocusedRow(e)}},_updatePageIndexes:function(){var e=this._lastRenderingPageIndex||0,t=this._rowsScrollController?this._rowsScrollController.pageIndex():0;this._lastRenderingPageIndex=t,this._isPagingByRendering=t!==e},isPagingByRendering:function(){return this._isPagingByRendering},processUpdateFocusedRow:function(e){var t=e.operationTypes||{},n=this.getController("focus"),i=t.reload,o=t.fullReload,a=this.getController("keyboardNavigation")._isVirtualScrolling(),r=this.option("focusedRowKey"),s=n.isAutoNavigateToFocusedRow();if(i&&!o&&(0,l.isDefined)(r))n._navigateToRow(r,!0).done(function(e){e<0&&n._focusRowByIndex(void 0,t)});else if(t.paging&&!a){if(s){var d=this.getRowIndexByKey(r),u=this.option("focusedRowIndex");u>=0&&(u===d||!(d>=0))&&n._focusRowByIndex(void 0,t)}else 0>this.getRowIndexByKey(r)&&this.option("focusedRowIndex",-1)}else t.fullReload&&n._focusRowByKeyOrIndex()},getPageIndexByKey:function(e){var t=this,n=new a.Deferred;return t.getGlobalRowIndexByKey(e).done(function(e){n.resolve(e>=0?Math.floor(e/t.pageSize()):-1)}).fail(n.reject),n.promise()},getGlobalRowIndexByKey:function(e){return this._dataSource.group()?this._calculateGlobalRowIndexByGroupedData(e):this._calculateGlobalRowIndexByFlatData(e)},_calculateGlobalRowIndexByFlatData:function(e,t,n){var i=this,o=new a.Deferred,r=i._dataSource;if(Array.isArray(e))return o.resolve(-1).promise();var l=i._generateFilterByKey(e);return r.load({filter:i._concatWithCombinedFilter(l),skip:0,take:1}).done(function(a){a.length>0?(l=i._generateOperationFilterByKey(e,a[0],n),r.load({filter:i._concatWithCombinedFilter(l,t),skip:0,take:1,requireTotalCount:!0}).done(function(e,t){o.resolve(t.totalCount)})):o.resolve(-1)}),o.promise()},_concatWithCombinedFilter:function(e,t){var n=this.getCombinedFilter();return d.default.combineFilters([e,n,t])},_generateBooleanFilter:function(e,t,n){var i=n.desc;switch(!0){case!1===t&&i:return[e,"=",!0];case!1===t&&!i:return[e,"=",null];case!0===t&&!i:case!(0,l.isBoolean)(t)&&i:return[e,"<>",t];default:return}},_generateOperationFilterByKey:function(e,t,n){var i=this,o=i.option("dateSerializationFormat"),a=i._dataSource.remoteOperations().filtering,r=i._generateFilterByKey(e,"<"),s=i._columnsController.getSortDataSourceParameters(!a,!0);if(n){var d=i._columnsController.getGroupDataSourceParameters(!a);d&&(s=s?d.concat(s):d)}return s&&s.slice().reverse().forEach(function(e){var n=e.selector,s=e.desc,d=e.compare,c=u.UiGridCoreFocusUtils.getSortFilterValue(e,t,{isRemoteFiltering:a,dateSerializationFormat:o,getSelector:function(e){return i._columnsController.columnOption(e,"selector")}}),h=c.getter,f=c.rawValue,p=c.safeValue;if(r=[[n,"=",p],"and",r],null===f||(0,l.isBoolean)(f)){var g=i._generateBooleanFilter(n,p,s);g&&(r=[g,"or",r])}else{var m,v=s?">":"<";d?m=function(e){return"<"===v?d(f,h(e))>=1:-1>=d(f,h(e))}:(m=[n,v,p],s||(m=[m,"or",[n,"=",null]])),r=[m,"or",r]}}),r},_generateFilterByKey:function(e,t){var n=this._dataSource.key(),i=[];if(t||(t="="),Array.isArray(n))for(var o=0;o<n.length;++o){var a=e[n[o]];a&&(i.length>0&&i.push("and"),i.push([n[o],t,a]))}else i=[n,t,e];return i},_getLastItemIndex:function(){return this.items(!0).length-1}},editing:{_deleteRowCore:function(e){var t=this,n=this.callBase.apply(this,arguments),i=this.getController("data"),o=i.getKeyByRowIndex(e);n.done(function(){var e=i.getRowIndexByKey(o),n=i.getVisibleRows();-1!==e||n.length||t.getController("focus")._resetFocusedRow()})}}},views:{rowsView:{_createRow:function(e){var t=this.callBase.apply(this,arguments);return this.option("focusedRowEnabled")&&e&&this.getController("focus").isRowFocused(e.key)&&t.addClass(h),t},_checkRowKeys:function(e){if(this.callBase.apply(this,arguments),this.option("focusedRowEnabled")&&this.option("dataSource")){var t=this._dataController.store();t&&!t.key()&&this._dataController.fireError("E1042","Row focusing")}},_update:function(e){"updateFocusedRow"===e.changeType?this.option("focusedRowEnabled")&&this.getController("focus").updateFocusedRow(e):this.callBase(e)},updateFocusElementTabIndex:function(e,t){this.option("focusedRowEnabled")?this._setFocusedRowElementTabIndex(t):this.callBase(e)},_setFocusedRowElementTabIndex:function(e){var t=this,n=this.option("focusedRowKey"),i=this.option("tabIndex")||0,o=this._dataController,a=this._columnsController,r=o.getRowIndexByKey(n),s=this.option("focusedColumnIndex"),d=this._findRowElementForTabIndex();if((0,l.isDefined)(this._scrollToFocusOnResize)||(this._scrollToFocusOnResize=function(){t.scrollToElementVertically(t._findRowElementForTabIndex()),t.resizeCompleted.remove(t._scrollToFocusOnResize)}),d.attr("tabIndex",i),r>=0&&!e&&(s<0&&(s=0),r+=o.getRowIndexOffset(),s+=a.getColumnIndexOffset(),this.getController("keyboardNavigation").setFocusedCellPosition(r,s),this.getController("focus").isAutoNavigateToFocusedRow())){var u=o.dataSource(),c=u&&u.operationTypes();!c||c.paging||o.isPagingByRendering()||(this.resizeCompleted.remove(this._scrollToFocusOnResize),this.resizeCompleted.add(this._scrollToFocusOnResize))}},_findRowElementForTabIndex:function(){var e=this.option("focusedRowKey"),t=this._dataController.getRowIndexByKey(e);return(0,i.default)(this.getRowElement(t>=0?t:0))},scrollToRowElement:function(e){var t=this.getController("data").getRowIndexByKey(e),n=(0,i.default)(this.getRow(t));return this.scrollToElementVertically(n)},scrollToElementVertically:function(e){var t=this.getScrollable();if(t&&e.length){var n=t.getScrollElementPosition(e,"vertical");return this.scrollTopPosition(n)}return(new a.Deferred).resolve()},scrollTopPosition:function(e){var t=new a.Deferred,n=this.getScrollable();return n&&e!==n.scrollTop()?(n.on("scroll",function e(){n.off("scroll",e),t.resolve()}),this._dataController.resetFilterApplying(),n.scrollTo({top:e}),t.promise()):t.resolve()}}}}};t.focusModule=g},69214(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.UiGridCoreFocusUtils=void 0;var i,o=(i=n(59781))&&i.__esModule?i:{default:i},a=n(4964);t.UiGridCoreFocusUtils={getSortFilterValue:function(e,t,n){var i=n.isRemoteFiltering,r=n.dateSerializationFormat,l=n.getSelector,s=e.selector,d=(0,a.isFunction)(s)?s:l(s),u=d?d(t):t[s];return{getter:d,rawValue:u,safeValue:i&&(0,a.isDate)(u)?o.default.serializeDate(u,r):u}}}},22841(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.headerFilterModule=void 0,t.invertFilterExpression=function(e){return["!",e]};var i=n(97251),o=n(68759),a=n(68841),r=n(1685),l=n(2005),s=n(4964),d=n(62459),u=y(n(72138)),c=y(n(59974)),h=n(44479),f=y(n(21445)),p=y(n(89019)),g=y(n(38306)),m=n(91918),v=y(n(47228)),C=y(n(88445)),$=y(n(31560)),w=n(32883);function y(e){return e&&e.__esModule?e:{default:e}}function x(){return(x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var I={month:function(e){return p.default.getMonthNames()[e-1]},quarter:function(e){return p.default.format(new Date(2e3,3*e-1),"quarter")}},E=C.default.ViewController.inherit({init:function(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._headerFilterView=this.getView("headerFilterView")},_updateSelectedState:function(e,t){for(var n=e.length,i="exclude"===t.filterType;n--;){var o=e[n];"items"in e[n]&&this._updateSelectedState(e[n].items,t),(0,w.updateHeaderFilterItemSelectionState)(o,$.default.getIndexByKey(e[n].value,t.filterValues,null)>-1,i)}},_normalizeGroupItem:function(e,t,n){var i,o,r=n.path,l=n.valueSelector,d=n.displaySelector,u=n.column;return l&&d?(i=l(e),o=d(e)):o=i=e.key,e=(0,s.isObject)(e)?(0,a.extend)({},e):{},r.push(i),1===r.length?e.value=r[0]:e.value=r.join("/"),e.text=this.getHeaderItemText(o,u,t,n.headerFilterOptions),e},getHeaderItemText:function(e,t,n,i){var o,a,r,l,s,d=$.default.formatValue(e,(o=e,a=t,r=n,l=v.default.getGroupInterval(a),s=$.default.getFormatOptionsByColumn(a,"headerFilter"),l&&(s.groupInterval=l[r],$.default.isDateType(a.dataType)?s.format=I[l[r]]:"number"===a.dataType&&(s.getDisplayFormat=function(){var e={format:a.format,target:"headerFilter"},t=$.default.formatValue(o,e),n=o+l[r],i=$.default.formatValue(n,e);return t&&i?"".concat(t," - ").concat(i):""})),s));return d||(d=i.texts.emptyValue),d},_processGroupItems:function(e,t,n,o){var a,r,l=o.column.lookup,d=o.level;n=n||[],t=t||0,l&&(a=(0,i.compileGetter)(l.displayExpr),r=(0,i.compileGetter)(l.valueExpr));for(var u=0;u<e.length;u++)e[u]=this._normalizeGroupItem(e[u],t,{column:o.column,headerFilterOptions:o.headerFilterOptions,displaySelector:a,valueSelector:r,path:n}),"items"in e[u]&&(t!==d&&(0,s.isDefined)(e[u].value)?this._processGroupItems(e[u].items,t+1,n,o):delete e[u].items),n.pop()},getDataSource:function(e){var t,n=this._dataController.dataSource(),i=null==n?void 0:n.remoteOperations().grouping,a=$.default.getHeaderFilterGroupParameters(e,i),r=null===(t=e.headerFilter)||void 0===t?void 0:t.dataSource,l=this.option("headerFilter"),h=!1,f={component:this.component};if(n){if((0,s.isDefined)(r)&&!(0,s.isFunction)(r))f.dataSource=(0,d.normalizeDataSourceOptions)(r);else if(e.lookup){if(h=!0,this.option("syncLookupFilterValues")){this._currentColumn=e;var p=this._dataController.getCombinedFilter();this._currentColumn=null,f.dataSource=$.default.getWrappedLookupDataSource(e,n,p)}else f.dataSource=$.default.normalizeLookupDataSource(e.lookup)}else{var g=Array.isArray(a)?a.length-1:0;this._currentColumn=e;var m=this._dataController.getCombinedFilter();this._currentColumn=null,f.dataSource={filter:m,group:a,useDefaultSearch:!0,load:function(t){var a=new o.Deferred;return t.dataField=e.dataField||e.name,n.load(t).done(function(t){var n,o,r,d,h,f;i&&("Z"===(null==(n=e.serializationFormat)?void 0:n.slice(-1))||"'Z'"===(null==n?void 0:n.slice(-3)))&&g>3&&(t=(o=t,r=e,d=function e(t,n,i){return n=n||[],i=i||[],t.forEach(function(t){if((0,s.isDefined)(t.key)){var o=1===n.length;if(n.push(o?t.key-1:t.key),t.items)e(t.items,n,i);else{var a=new Date(Date.UTC.apply(Date,n));i.push(a)}n.pop()}else i.push(null)}),i}(o),h=(0,u.default)(d),f=$.default.getHeaderFilterGroupParameters(x(x({},r),{calculateCellValue:function(e){return e}})),c.default.queryByOptions(h,{group:f}).toArray())),C._processGroupItems(t,null,null,{level:g,column:e,headerFilterOptions:l}),a.resolve(t)}).fail(a.reject),a}}}(0,s.isFunction)(r)&&r.call(e,f);var v=f.dataSource.postProcess,C=this;return f.dataSource.postProcess=function(t){var n=t;return h&&(n=n.filter(function(t){return null!==t[e.lookup.valueExpr]}),0!==this.pageIndex()||this.searchValue()||(n=n.slice(0)).unshift(null),C._processGroupItems(n,null,null,{level:0,column:e,headerFilterOptions:l})),n=v&&v.call(this,n)||n,C._updateSelectedState(n,e),n},f.dataSource}},getCurrentColumn:function(){return this._currentColumn},showHeaderFilterMenu:function(e,t){var n=this._columnsController,i=(0,a.extend)(!0,{},this._columnsController.getColumns()[e]);if(i){var o=n.getVisibleIndex(e),r=t?this.getView("headerPanel"):this.getView("columnHeadersView"),l=l||r.getColumnElements().eq(t?i.groupIndex:o);this.showHeaderFilterMenuBase({columnElement:l,column:i,applyFilter:!0,apply:function(){n.columnOption(e,{filterValues:this.filterValues,filterType:this.filterType})}})}},showHeaderFilterMenuBase:function(e){var t=this,n=this,i=e.column;if(i){var o=v.default.getGroupInterval(i),r=n._dataController.dataSource(),l=r&&r.remoteOperations().filtering;(0,a.extend)(e,i,{type:o&&o.length>1?"tree":"list",remoteFiltering:l,onShowing:function(t){var i=t.component.$overlayContent().dxResizable("instance");i&&i.option("onResizeEnd",function(t){var i=n.getController("columns"),o=i.columnOption(e.dataField,"headerFilter");(o=o||{}).width=t.width,o.height=t.height,i.columnOption(e.dataField,"headerFilter",o,!0)})},onHidden:function(){return(0,m.restoreFocus)(t)}}),e.dataSource=n.getDataSource(e),e.isFilterBuilder&&(e.dataSource.filter=null,e.alignment="right"),n._headerFilterView.showHeaderFilterMenu(e.columnElement,e)}},hideHeaderFilterMenu:function(){this._headerFilterView.hideHeaderFilterMenu()}}),b=(0,a.extend)({},w.headerFilterMixin,{_renderCellContent:function(e,t){var n,i=t.column;!i.command&&(0,w.allowHeaderFiltering)(i)&&this.option("headerFilter.visible")&&"header"===t.rowType&&(n=this._applyColumnState({name:"headerFilter",rootElement:e,column:i,showColumnLines:this.option("showColumnLines")}))&&this._subscribeToIndicatorEvent(n,i,"headerFilter"),this.callBase.apply(this,arguments)},_subscribeToIndicatorEvent:function(e,t,n){var i=this;"headerFilter"===n&&f.default.on(e,h.name,this.createAction(function(n){n.event.stopPropagation(),(0,m.saveFocusedElementInfo)(e,i),i.getController("headerFilter").showHeaderFilterMenu(t.index,!1)}))},_updateIndicator:function(e,t,n){var i=this.callBase(e,t,n);i&&this._subscribeToIndicatorEvent(i,t,n)},_updateHeaderFilterIndicators:function(){this.option("headerFilter.visible")&&this._updateIndicators("headerFilter")},_needUpdateFilterIndicators:function(){return!0},_columnOptionChanged:function(e){var t=e.optionNames;$.default.checkChanges(t,["filterValues","filterType"])?this._needUpdateFilterIndicators()&&this._updateHeaderFilterIndicators():this.callBase(e)}}),S=(0,a.extend)({},w.headerFilterMixin,{_createGroupPanelItem:function(e,t){var n,i=this,o=i.callBase.apply(i,arguments);return!t.command&&(0,w.allowHeaderFiltering)(t)&&i.option("headerFilter.visible")&&(n=i._applyColumnState({name:"headerFilter",rootElement:o,column:{alignment:(0,l.getDefaultAlignment)(i.option("rtlEnabled")),filterValues:t.filterValues,allowHeaderFiltering:!0},showColumnLines:!0}))&&f.default.on(n,h.name,i.createAction(function(e){e.event.stopPropagation(),i.getController("headerFilter").showHeaderFilterMenu(t.index,!0)})),o}}),T={defaultOptions:function(){return{syncLookupFilterValues:!0,headerFilter:{visible:!1,width:252,height:325,allowSearch:!1,searchTimeout:500,texts:{emptyValue:g.default.format("dxDataGrid-headerFilterEmptyValue"),ok:g.default.format("dxDataGrid-headerFilterOK"),cancel:g.default.format("dxDataGrid-headerFilterCancel")}}}},controllers:{headerFilter:E},views:{headerFilterView:w.HeaderFilterView},extenders:{controllers:{data:{skipCalculateColumnFilters:function(){return!1},_calculateAdditionalFilter:function(){if(this.skipCalculateColumnFilters())return this.callBase();var e=[this.callBase()],t=this._columnsController.getVisibleColumns(null,!0),n=this.getController("headerFilter").getCurrentColumn();return(0,r.each)(t,function(t,i){var o;if((!n||n.index!==i.index)&&(0,w.allowHeaderFiltering)(i)&&i.calculateFilterExpression&&Array.isArray(i.filterValues)&&i.filterValues.length){var a=[];(0,r.each)(i.filterValues,function(e,t){Array.isArray(t)?o=t:(i.deserializeValue&&!$.default.isDateType(i.dataType)&&"number"!==i.dataType&&(t=i.deserializeValue(t)),o=i.createFilterExpression(t,"=","headerFilter")),o&&(o.columnIndex=i.index),a.push(o)}),a=$.default.combineFilters(a,"or"),e.push("exclude"===i.filterType?["!",a]:a)}}),$.default.combineFilters(e)}}},views:{columnHeadersView:b,headerPanel:S}}};t.headerFilterModule=T},32883(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.headerFilterMixin=t.allowHeaderFiltering=t.HeaderFilterView=void 0,t.updateHeaderFilterItemSelectionState=function(e,t,n){if(t^n){if(e.selected=!0,n&&e.items){for(var i=0;i<e.items.length;i++)if(!e.items[i].selected){e.selected=void 0;break}}}else(n||e.selected)&&(e.selected=!1,function e(t){t=t||[];for(var n=0;n<t.length;n++)t[n].selected=!1,e(t[n].items)}(e.items))},n(93863),n(78699);var i=f(n(68689)),o=n(68841),a=n(1685),r=n(4964),l=f(n(38306)),s=f(n(17545)),d=f(n(73868)),u=f(n(68927)),c=f(n(88445)),h=f(n(31560));function f(e){return e&&e.__esModule?e:{default:e}}var p="dx-header-filter",g="dx-header-filter-menu";function m(e,t){if(!e.component.option("searchValue")){var n=(0,i.default)(e.element).find(".dx-list-select-all-checkbox").data("dxCheckBox");n&&t&&t.length&&n.option("value",void 0)}}var v=c.default.View.inherit({getPopupContainer:function(){return this._popupContainer},getListContainer:function(){return this._listContainer},applyHeaderFilter:function(e){var t=this.getListContainer(),n=t.option("searchValue"),i=[];!n&&!e.isFilterBuilder&&t.$element().find(".dx-checkbox").eq(0).hasClass("dx-checkbox-checked")?("tree"===e.type&&(e.filterType="exclude"),Array.isArray(e.filterValues)&&(e.filterValues=[])):"tree"===e.type&&(e.filterType&&(e.filterType="include"),function e(i,o,r){(0,a.each)(o,function(o,a){if(void 0!==a.selected&&!!a.selected^r){var l=t._getNode(a),s=t._hasChildren(l)&&a.items&&a.items.some(function(e){return e.selected});if(!n||!s)return void i.push(a.value)}a.items&&a.items.length&&e(i,a.items,r)})}(i,t.option("items"),!1),e.filterValues=i),e.filterValues&&!e.filterValues.length&&(e.filterValues=null),e.apply(),this.hideHeaderFilterMenu()},showHeaderFilterMenu:function(e,t){if(t){this._initializePopupContainer(t);var n=this.getPopupContainer();this.hideHeaderFilterMenu(),this.updatePopup(e,t),n.show()}},hideHeaderFilterMenu:function(){var e=this.getPopupContainer();e&&e.hide()},updatePopup:function(e,t){var n=this.option("showColumnLines"),i="right"===t.alignment^!n?"left":"right";this._popupContainer.setAria({role:"dialog",label:l.default.format("dxDataGrid-headerFilterLabel")}),this._popupContainer&&(this._cleanPopupContent(),this._popupContainer.option("position",{my:"".concat(i," top"),at:"".concat(i," bottom"),of:e,collision:"flip fit"}))},_getSearchExpr:function(e){var t=e.lookup,n=e.useDefaultSearchExpr,i=e.headerFilter&&e.headerFilter.dataSource;if(n||(0,r.isDefined)(i)&&!(0,r.isFunction)(i))return"text";if(t)return t.displayExpr||"this";if(e.dataSource){var o=e.dataSource.group;if(Array.isArray(o)&&o.length>0)return o[0].selector;if((0,r.isFunction)(o)&&!e.remoteFiltering)return o}return e.dataField||e.selector},_cleanPopupContent:function(){this._popupContainer&&this._popupContainer.$content().empty()},_initializePopupContainer:function(e){var t=this,n=t.element(),i=t.option("headerFilter"),o={width:e.headerFilter&&e.headerFilter.width||i&&i.width,height:e.headerFilter&&e.headerFilter.height||i&&i.height,visible:!1,shading:!1,showTitle:!1,showCloseButton:!1,hideOnParentScroll:!1,dragEnabled:!1,hideOnOutsideClick:!0,wrapperAttr:{class:g},focusStateEnabled:!1,toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:i.texts.ok,onClick:function(){t.applyHeaderFilter(e)}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:i.texts.cancel,onClick:function(){t.hideHeaderFilterMenu()}}}],resizeEnabled:!0,onShowing:function(n){n.component.$content().parent().addClass("dx-dropdowneditor-overlay"),t._initializeListContainer(e),e.onShowing&&e.onShowing(n)},onShown:function(){t.getListContainer().focus()},onHidden:e.onHidden,onInitialized:function(e){var t=e.component;t.option("animation",t._getDefaultOptions().animation)}};(0,r.isDefined)(t._popupContainer)?t._popupContainer.option(o):t._popupContainer=t._createComponent(n,d.default,o)},_initializeListContainer:function(e){var t,n,l,d=this,c=d._popupContainer.$content(),f={searchEnabled:(t=d,(l=(n=e).headerFilter)&&(0,r.isDefined)(l.allowSearch)?l.allowSearch:t.option("headerFilter.allowSearch")),searchTimeout:d.option("headerFilter.searchTimeout"),searchMode:e.headerFilter&&e.headerFilter.searchMode||"",dataSource:e.dataSource,onContentReady:function(){d.renderCompleted.fire()},itemTemplate:function(t,n,o){var a=(0,i.default)(o);return e.encodeHtml?a.text(t.text):a.html(t.text)}};function p(t){"searchValue"!==t.fullName||e.isFilterBuilder||!1===d.option("headerFilter.hideSelectAllOnSearch")||("tree"===e.type?t.component.option("showCheckBoxesMode",t.value?"normal":"selectAll"):t.component.option("selectionMode",t.value?"multiple":"all"))}"tree"===e.type?d._listContainer=d._createComponent((0,i.default)("<div>").appendTo(c),u.default,(0,o.extend)(f,{showCheckBoxesMode:e.isFilterBuilder?"normal":"selectAll",onOptionChanged:p,keyExpr:"id"})):d._listContainer=d._createComponent((0,i.default)("<div>").appendTo(c),s.default,(0,o.extend)(f,{searchExpr:d._getSearchExpr(e),pageLoadMode:"scrollBottom",showSelectionControls:!0,selectionMode:e.isFilterBuilder?"multiple":"all",onOptionChanged:p,onSelectionChanged:function(t){var n=t.component.option("items"),i=t.component.option("selectedItems");if(!t.component._selectedItemsUpdating&&!t.component.option("searchValue")&&!e.isFilterBuilder){var o=e.filterValues||[],r="exclude"===e.filterType;0===i.length&&n.length&&(o.length<=1||r&&o.length===n.length-1)?(e.filterType="include",e.filterValues=[]):i.length===n.length&&(e.filterType="exclude",e.filterValues=[])}(0,a.each)(n,function(t,n){var o=h.default.getIndexByKey(n,i,null)>=0;if(!!n.selected!==o){n.selected=o,e.filterValues=e.filterValues||[];var a=h.default.getIndexByKey(n.value,e.filterValues,null);a>=0&&e.filterValues.splice(a,1),o^"exclude"===e.filterType&&e.filterValues.push(n.value)}}),m(t,e.filterValues)},onContentReady:function(t){var n=t.component,i=n.option("items"),o=[];(0,a.each)(i,function(){this.selected&&o.push(this)}),n._selectedItemsUpdating=!0,n.option("selectedItems",o),n._selectedItemsUpdating=!1,m(t,e.filterValues)}}))},_renderCore:function(){this.element().addClass(g)}});t.HeaderFilterView=v;var C=function(e){return(0,r.isDefined)(e.allowHeaderFiltering)?e.allowHeaderFiltering:e.allowFiltering};t.allowHeaderFiltering=C,t.headerFilterMixin={_applyColumnState:function(e){var t,n=e.rootElement,i=e.column;if("headerFilter"===e.name){if(n.find(".".concat(p)).remove(),C(i)){t=this.callBase(e).toggleClass("dx-header-filter-empty",this._isHeaderFilterEmpty(i)),this.option("useLegacyKeyboardNavigation")||t.attr("tabindex",this.option("tabindex")||0);var o=l.default.format("dxDataGrid-headerFilterIndicatorLabel",i.caption);t.attr("aria-label",o),t.attr("aria-haspopup","dialog"),t.attr("role","button")}return t}return this.callBase(e)},_isHeaderFilterEmpty:function(e){return!e.filterValues||!e.filterValues.length},_getIndicatorClassName:function(e){return"headerFilter"===e?p:this.callBase(e)},_renderIndicator:function(e){var t=e.container,n=e.indicator;if("headerFilter"===e.name){var i=this.option("rtlEnabled");if(t.children().length&&(!i&&"right"===e.columnAlignment||i&&"left"===e.columnAlignment))return void t.prepend(n)}this.callBase(e)},optionChanged:function(e){if("headerFilter"===e.name){var t="columnHeadersView"===this.name;this._invalidate(t,t),e.handled=!0}else this.callBase(e)}}},23240(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.headerPanelModule=void 0,n(27772);var i=c(n(68689)),o=n(36808),a=n(97251),r=n(68841),l=n(4964),s=c(n(38306)),d=c(n(81806)),u=n(37259);function c(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var f="toolbar-button",p=["addRowButton","applyFilterButton","columnChooserButton","exportButton","groupPanel","revertButton","saveButton","searchPanel"],g={defaultOptions:function(){return{}},views:{headerPanel:u.ColumnsView.inherit({_getToolbarItems:function(){return[]},_getButtonContainer:function(){return(0,i.default)("<div>").addClass(this.addWidgetPrefix(f))},_getToolbarButtonClass:function(e){var t=e?" ".concat(e):"";return this.addWidgetPrefix(f)+t},_getToolbarOptions:function(){var e=this.option("toolbar"),t={toolbarOptions:{items:this._getToolbarItems(),visible:null==e?void 0:e.visible,disabled:null==e?void 0:e.disabled,onItemRendered:function(e){var t=e.itemData.onItemRendered;t&&t(e)}}},n=null==e?void 0:e.items;if(t.toolbarOptions.items=this._normalizeToolbarItems(t.toolbarOptions.items,n),this.executeAction("onToolbarPreparing",t),t.toolbarOptions&&!(0,l.isDefined)(t.toolbarOptions.visible)){var i=t.toolbarOptions.items;t.toolbarOptions.visible=!!(null==i?void 0:i.length)}return t.toolbarOptions},_normalizeToolbarItems:function(e,t){e.forEach(function(e){if(!p.includes(e.name))throw Error("Default toolbar item '".concat(e.name,"' is not added to DEFAULT_TOOLBAR_ITEM_NAMES"))});var n={location:"after"},i=Array.isArray(t);if(!(0,l.isDefined)(t))return e;i||(t=[t]);var o={};e.forEach(function(e){o[e.name]=e});var a=t.map(function(e){return(0,l.isString)(e)&&(e={name:e}),(0,l.isDefined)(e.name)&&((0,l.isDefined)(o[e.name])?e=(0,r.extend)(!0,{},o[e.name],e):p.includes(e.name)&&(e=h(h({},e),{visible:!1}))),(0,r.extend)(!0,{},n,e)});return i?a:a[0]},_renderCore:function(){if(this._toolbar)this._toolbar.option(this._toolbarOptions);else{var e=this.element();e.addClass(this.addWidgetPrefix("header-panel"));var t=s.default.format(this.component.NAME+"-ariaToolbar"),n=(0,i.default)("<div>").attr("aria-label",t).appendTo(e);this._toolbar=this._createComponent(n,d.default,this._toolbarOptions)}},_columnOptionChanged:o.noop,_handleDataChanged:function(){this._requireReady&&this.render()},init:function(){this.callBase(),this.createAction("onToolbarPreparing",{excludeValidators:["disabled","readOnly"]})},render:function(){this._toolbarOptions=this._getToolbarOptions(),this.callBase.apply(this,arguments)},setToolbarItemDisabled:function(e,t){var n=this._toolbar;if(n){var i=n.option("items")||[],o=i.indexOf(i.filter(function(t){return t.name===e})[0]);if(o>=0){var a="items[".concat(o,"]");n.option("".concat(a,".options"))?n.option("".concat(a,".options.disabled"),t):n.option("".concat(a,".disabled"),t)}}},updateToolbarDimensions:function(){var e;null===(e=this._toolbar)||void 0===e||e.updateDimensions()},getHeaderPanel:function(){return this.element()},getHeight:function(){return this.getElementHeight()},optionChanged:function(e){if("onToolbarPreparing"===e.name&&(this._invalidate(),e.handled=!0),"toolbar"===e.name&&(e.handled=!0,this._toolbar)){var t=(0,a.getPathParts)(e.fullName),n=e.fullName.replace(/^toolbar\./,"");if(1===t.length){var i=this._getToolbarOptions();this._toolbar.option(i)}else if("items"===t[1]){if(2===t.length){var o=this._getToolbarOptions();this._toolbar.option("items",o.items)}else if(3===t.length){var r=this._normalizeToolbarItems(this._getToolbarItems(),e.value);this._toolbar.option(n,r)}else t.length>=4&&this._toolbar.option(n,e.value)}else this._toolbar.option(n,e.value)}this.callBase(e)},isVisible:function(){return this._toolbarOptions&&this._toolbarOptions.visible},allowDragging:o.noop})},extenders:{controllers:{resizing:{_updateDimensionsCore:function(){this.callBase.apply(this,arguments),this.getView("headerPanel").updateToolbarDimensions()}}}}};t.headerPanelModule=g},64652(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.WIDGET_CLASS=t.VIRTUAL_ROW_CLASS=t.ROW_CLASS=t.ROWS_VIEW_CLASS=t.REVERT_BUTTON_CLASS=t.NON_FOCUSABLE_ELEMENTS_SELECTOR=t.MASTER_DETAIL_ROW_CLASS=t.MASTER_DETAIL_CELL_CLASS=t.INTERACTIVE_ELEMENTS_SELECTOR=t.HEADER_ROW_CLASS=t.GROUP_ROW_CLASS=t.GROUP_FOOTER_CLASS=t.FUNCTIONAL_KEYS=t.FREESPACE_ROW_CLASS=t.FOCUS_TYPE_ROW=t.FOCUS_TYPE_CELL=t.FOCUS_STATE_CLASS=t.FAST_EDITING_DELETE_KEY=t.EDIT_MODE_FORM=t.EDIT_FORM_ITEM_CLASS=t.EDIT_FORM_CLASS=t.EDITOR_CELL_CLASS=t.DROPDOWN_EDITOR_OVERLAY_CLASS=t.DATEBOX_WIDGET_NAME=t.DATA_ROW_CLASS=t.COMMAND_SELECT_CLASS=t.COMMAND_EXPAND_CLASS=t.COMMAND_EDIT_CLASS=t.COMMAND_CELL_SELECTOR=t.COLUMN_HEADERS_VIEW=t.CELL_FOCUS_DISABLED_CLASS=t.ATTRIBUTES=void 0,t.ATTRIBUTES={ariaColIndex:"aria-colindex",dragCell:"dx-drag-cell"},t.ROWS_VIEW_CLASS="rowsview",t.EDIT_FORM_CLASS="edit-form",t.GROUP_FOOTER_CLASS="group-footer",t.ROW_CLASS="dx-row",t.DATA_ROW_CLASS="dx-data-row",t.GROUP_ROW_CLASS="dx-group-row",t.HEADER_ROW_CLASS="dx-header-row",t.EDIT_FORM_ITEM_CLASS="edit-form-item",t.MASTER_DETAIL_ROW_CLASS="dx-master-detail-row",t.FREESPACE_ROW_CLASS="dx-freespace-row",t.VIRTUAL_ROW_CLASS="dx-virtual-row",t.MASTER_DETAIL_CELL_CLASS="dx-master-detail-cell",t.EDITOR_CELL_CLASS="dx-editor-cell",t.DROPDOWN_EDITOR_OVERLAY_CLASS="dx-dropdowneditor-overlay",t.COMMAND_EXPAND_CLASS="dx-command-expand",t.COMMAND_SELECT_CLASS="dx-command-select",t.COMMAND_EDIT_CLASS="dx-command-edit",t.COMMAND_CELL_SELECTOR="[class^=dx-command]",t.CELL_FOCUS_DISABLED_CLASS="dx-cell-focus-disabled",t.DATEBOX_WIDGET_NAME="dxDateBox",t.FOCUS_STATE_CLASS="dx-state-focused",t.WIDGET_CLASS="dx-widget",t.REVERT_BUTTON_CLASS="dx-revert-button",t.FAST_EDITING_DELETE_KEY="delete";var n="input:not([type='hidden']), textarea, a, select, button, [tabindex], .dx-checkbox";t.INTERACTIVE_ELEMENTS_SELECTOR=n;var i="".concat(n,", .dx-dropdowneditor-icon");t.NON_FOCUSABLE_ELEMENTS_SELECTOR=i,t.EDIT_MODE_FORM="form",t.FOCUS_TYPE_ROW="row",t.FOCUS_TYPE_CELL="cell",t.COLUMN_HEADERS_VIEW="columnHeadersView",t.FUNCTIONAL_KEYS=["shift","control","alt"]},68589(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.GridCoreKeyboardNavigationDom=void 0;var i=n(64652);t.GridCoreKeyboardNavigationDom={isDragCell:function(e){return void 0!==e.attr(i.ATTRIBUTES.dragCell)},getCellToFocus:function(e,t){return e.filter("[".concat(i.ATTRIBUTES.ariaColIndex,'="').concat(t+1,'"]:not([').concat(i.ATTRIBUTES.dragCell,"])")).first()}}},10234(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.keyboardNavigationModule=t.KeyboardNavigationController=void 0;var o=n(36808),a=S(n(71251)),r=S(n(68689)),l=S(n(47057)),s=n(68759),d=n(65553),u=n(4964),c=n(44479),h=S(n(21445)),f=S(n(30593)),p=n(38803),g=n(48634),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=a?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(o,r,l):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(n(91918)),v=n(71881),C=n(32982),$=n(69282),w=S(n(88445)),y=S(n(31560)),x=n(64652),I=n(68589),E=n(95674);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){return(T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var D=function(e){function t(){return e.apply(this,arguments)||this}i=e,(n=t).prototype=Object.create(i.prototype),n.prototype.constructor=n,T(n,i);var n,i,o=t.prototype;return o.init=function(){var e=this;this._dataController=this.getController("data"),this._selectionController=this.getController("selection"),this._editingController=this.getController("editing"),this._headerPanel=this.getView("headerPanel"),this._rowsView=this.getView("rowsView"),this._columnsController=this.getController("columns"),this._editorFactory=this.getController("editorFactory"),this._focusController=this.getController("focus"),this._memoFireFocusedCellChanged=(0,$.memoize)(this._memoFireFocusedCellChanged.bind(this),{compareType:"value"}),this._memoFireFocusedRowChanged=(0,$.memoize)(this._memoFireFocusedRowChanged.bind(this),{compareType:"value"}),this.isKeyboardEnabled()&&(m.subscribeVisibilityChange(),this._updateFocusTimeout=null,this._fastEditingStarted=!1,this._focusedCellPosition={},this._canceledCellPosition=null,this._editorFactory.focused.add(function(t){e.setupFocusedView(),e._isNeedScroll&&t.is(":visible")&&e._focusedView&&e._focusedView.getScrollable&&(e._focusedView._scrollToElement(t),e._isNeedScroll=!1)}),this._initViewHandlers(),this._initDocumentHandlers(),this.createAction("onKeyDown"))},o._initViewHandlers=function(){var e=this,t=function(t){var n=(0,r.default)(t.target),i=(0,r.default)(t.relatedTarget).closest(e._rowsView.element()).length,o=n.is("a");if(t.relatedTarget&&o&&!i&&e._isEventInCurrentGrid(t)){var a=e._getFocusedCell();a=(0,E.isElementDefined)(a)?a:e._rowsView.getCellElements(0).filter("[tabindex]").eq(0),n.closest(a).length||(t.preventDefault(),h.default.trigger(a,"focus"))}};this._rowsView.renderCompleted.add(function(n){var i=e._rowsView.element(),o=!n||"refresh"===n.changeType,a=e._focusedView&&e._focusedView.name===e._rowsView.name,l=n&&("append"===n.changeType||"prepend"===n.changeType),s=(0,r.default)(":focus"),d=!s.length||s.closest(i).length;h.default.off(i,"focusin",t),h.default.on(i,"focusin",t),e._initPointerEventHandler(),e._initKeyDownHandler(),e._setRowsViewAttributes(),a&&d&&(e._isNeedFocus?!l:e._isHiddenFocus&&o&&!(null==n?void 0:n.virtualColumnsScrolling))&&e._updateFocus(!0)})},o._initDocumentHandlers=function(){var e=this,t=a.default.getDocument();this._documentClickHandler=this.createAction(function(t){var n=(0,r.default)(t.event.target),i=e._isEventInCurrentGrid(t.event)&&n.closest(".".concat(e.addWidgetPrefix(x.ROWS_VIEW_CLASS))).length,o=n.closest(".".concat(x.DROPDOWN_EDITOR_OVERLAY_CLASS)).length,a=e.getController("columnsResizer"),l=!!a&&a.isResizing();i||o||l||(e._focusedView&&n.parents().filter(e._focusedView.element()).length>0||e._resetFocusedCell(!0),e._resetFocusedView())}),h.default.on(t,(0,g.addNamespace)(f.default.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler)},o._setRowsViewAttributes=function(){var e=this._getRowsViewElement();this._dataController.getVisibleRows().length||this._applyTabIndexToElement(e)},o._initPointerEventHandler=function(){var e=(0,E.isMobile)()?c.name:f.default.down,t=".".concat(C.ROW_CLASS," > td, .").concat(C.ROW_CLASS),n=this._getRowsViewElement();(0,u.isDefined)(this._pointerEventAction)||(this._pointerEventAction=this.createAction(this._pointerEventHandler)),h.default.off(n,(0,g.addNamespace)(e,"dxDataGridKeyboardNavigation"),this._pointerEventAction),h.default.on(n,(0,g.addNamespace)(e,"dxDataGridKeyboardNavigation"),t,this._pointerEventAction)},o._initKeyDownHandler=function(){var e=this,t=this._getRowsViewElement();p.keyboard.off(this._keyDownListener),this._keyDownListener=p.keyboard.on(t,null,function(t){return e._keyDownHandler(t)})},o.dispose=function(){e.prototype.dispose.call(this),this._resetFocusedView(),p.keyboard.off(this._keyDownListener),h.default.off(a.default.getDocument(),(0,g.addNamespace)(f.default.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler),clearTimeout(this._updateFocusTimeout),m.unsubscribeVisibilityChange()},o.optionChanged=function(t){switch(t.name){case"keyboardNavigation":case"useLegacyKeyboardNavigation":t.handled=!0;break;default:e.prototype.optionChanged.call(this,t)}},o.isRowFocusType=function(){return this.focusType===x.FOCUS_TYPE_ROW},o.isCellFocusType=function(){return this.focusType===x.FOCUS_TYPE_CELL},o.setRowFocusType=function(){this.option("focusedRowEnabled")&&(this.focusType=x.FOCUS_TYPE_ROW)},o.setCellFocusType=function(){this.focusType=x.FOCUS_TYPE_CELL},o._keyDownHandler=function(e){var t,n=!0;this._isNeedFocus=!0,this._isNeedScroll=!0;var i=this._processOnKeyDown(e),o=null===(t=this._editingController)||void 0===t?void 0:t.isEditing(),a=e.originalEvent;if(a.isDefaultPrevented())return this._isNeedFocus=!1,void(this._isNeedScroll=!1);if(x.FUNCTIONAL_KEYS.includes(e.keyName)||this._updateFocusedCellPositionByTarget(a.target),!i){switch(e.keyName){case"leftArrow":case"rightArrow":this._leftRightKeysHandler(e,o),i=!0;break;case"upArrow":case"downArrow":e.ctrl?m.selectView("rowsView",this,a):this._upDownKeysHandler(e,o),i=!0;break;case"pageUp":case"pageDown":this._pageUpDownKeyHandler(e),i=!0;break;case"space":i=this._spaceKeyHandler(e,o);break;case"A":(0,g.isCommandKeyPressed)(e.originalEvent)?(this._ctrlAKeyHandler(e,o),i=!0):i=this._beginFastEditing(e.originalEvent);break;case"tab":this._tabKeyHandler(e,o),i=!0;break;case"enter":this._enterKeyHandler(e,o),i=!0;break;case"escape":this._escapeKeyHandler(e,o),i=!0;break;case"F":(0,g.isCommandKeyPressed)(e.originalEvent)?(this._ctrlFKeyHandler(e),i=!0):i=this._beginFastEditing(e.originalEvent);break;case"F2":this._f2KeyHandler(),i=!0;break;case"del":case"backspace":this._isFastEditingAllowed()&&!this._isFastEditingStarted()&&(i=this._beginFastEditing(a,!0))}i||this._beginFastEditing(a)||(this._isNeedFocus=!1,this._isNeedScroll=!1,n=!1),n&&a.stopPropagation()}},o._processOnKeyDown=function(e){var t=e.originalEvent,n={handled:!1,event:t};return this.executeAction("onKeyDown",n),e.ctrl=t.ctrlKey,e.alt=t.altKey,e.shift=t.shiftKey,!!n.handled},o._closeEditCell=function(){var e=this;setTimeout(function(){e._editingController.closeEditCell()})},o._leftRightKeysHandler=function(e,t){var n=this.getVisibleRowIndex(),i=e.originalEvent,o=this._focusedView&&this._focusedView.getRow(n),a=this._getDirectionCodeByKey(e.keyName),r=this._isFastEditingStarted();if((!t||r)&&(0,E.isDataRow)(o)){this.setCellFocusType(),r&&this._closeEditCell(),this._isVirtualColumnRender()&&this._processVirtualHorizontalPosition(a);var l=this._getNextCell(a);(0,E.isElementDefined)(l)&&this._arrowKeysHandlerFocusCell(i,l,a),i&&i.preventDefault()}},o._upDownKeysHandler=function(e,t){var n,i,o=this.getVisibleRowIndex(),a=this._focusedView&&this._focusedView.getRow(o),r=e.originalEvent,l="upArrow"===e.keyName,s=this._dataController.dataSource(),u=null===(i=null===(n=this._editingController)||void 0===n?void 0:n.isEditRowByIndex)||void 0===i?void 0:i.call(n,o),c=this._isFastEditingStarted();if((!u||!t||c)&&a&&!(0,E.isDetailRow)(a)){if(c&&this._closeEditCell(),!this._navigateNextCell(r,e.keyName)&&this._isVirtualRowRender()&&l&&s&&!s.isLoading()){var h=(0,d.getOuterHeight)(a),f=this._focusedCellPosition.rowIndex-1;this._scrollBy(0,-h,f,r)}r&&r.preventDefault()}},o._pageUpDownKeyHandler=function(e){var t=this._dataController.pageIndex(),n=this._dataController.pageCount(),i=this.option("paging.enabled"),o="pageUp"===e.keyName,a=o?-1:1,r=this._rowsView.getScrollable();i&&!this._isVirtualScrolling()?(o?t>0:t<n-1)&&!this._isVirtualScrolling()&&(this._dataController.pageIndex(t+a),e.originalEvent.preventDefault()):r&&(0,d.getHeight)(r.container())<(0,d.getHeight)(r.$content())&&(this._scrollBy(0,(0,d.getHeight)(r.container())*a),e.originalEvent.preventDefault())},o._spaceKeyHandler=function(e,t){var n=this.getVisibleRowIndex(),i=(0,r.default)(e.originalEvent&&e.originalEvent.target);if(this.option("selection")&&"none"!==this.option("selection").mode&&!t){var o="row"===this._getElementType(i)&&this.isRowFocusType()&&(0,E.isDataRow)(i);return i.hasClass(x.COMMAND_SELECT_CLASS)&&"onClick"===this.option("selection.showCheckBoxesMode")&&this._selectionController.startSelectionWithCheckboxes(),!!(o||i.parent().hasClass(x.DATA_ROW_CLASS)||i.hasClass(this.addWidgetPrefix(x.ROWS_VIEW_CLASS)))&&(this._selectionController.changeItemSelection(n,{shift:e.shift,control:e.ctrl}),e.originalEvent.preventDefault(),!0)}return this._beginFastEditing(e.originalEvent)},o._ctrlAKeyHandler=function(e,t){t||e.alt||"multiple"!==this.option("selection.mode")||!this.option("selection.allowSelectAll")||(this._selectionController.selectAll(),e.originalEvent.preventDefault())},o._tabKeyHandler=function(e,t){var n=this.option("editing"),i=e.shift?"previous":"next",o=!((0,u.isDefined)(this._focusedCellPosition)&&!(0,u.isEmptyObject)(this._focusedCellPosition))||!e.shift&&this._isLastValidCell(this._focusedCellPosition)||e.shift&&this._isFirstValidCell(this._focusedCellPosition),a=e.originalEvent.target,l=this._focusedView&&this._focusedView.element();if(!this._handleTabKeyOnMasterDetailCell(a,i)){if((0,r.default)(l).addClass(x.FOCUS_STATE_CLASS),n&&a&&!o){if((0,r.default)(a).hasClass(this.addWidgetPrefix(x.ROWS_VIEW_CLASS))&&this._resetFocusedCell(),this._isVirtualColumnRender()&&this._processVirtualHorizontalPosition(i),t){if(!this._editingCellTabHandler(e,i))return}else this._targetCellTabHandler(e,i)&&(o=!0)}o?(this._editorFactory.loseFocus(),this._editingController.isEditing()&&!this._isRowEditMode()&&(this._resetFocusedCell(!0),this._resetFocusedView(),this._closeEditCell())):e.originalEvent.preventDefault()}},o._getMaxHorizontalOffset=function(){var e=this.component.getScrollable();return e?e.scrollWidth()-(0,d.getWidth)(this._rowsView.element()):0},o._isColumnRendered=function(e){var t=this._columnsController.getVisibleColumns(null,!0),n=this._columnsController.getVisibleColumns(),i=t[e],o=!1;return i&&(o=n.indexOf(i)>=0),o},o._isFixedColumn=function(e){var t=this._columnsController.getVisibleColumns(null,!0)[e];return!!t&&!!t.fixed},o._isColumnVirtual=function(e){var t=e-this._columnsController.getColumnIndexOffset(),n=this._columnsController.getVisibleColumns()[t];return!!n&&"virtual"===n.command},o._processVirtualHorizontalPosition=function(e){var t,n=this.component.getScrollable(),i=this.getColumnIndex(),o=0,a=!1;switch(e){case"next":case"nextInRow":var r=this._getVisibleColumnCount();t=i+1,o=this.option("rtlEnabled")?this._getMaxHorizontalOffset():0,a="next"===e?r===t||this._isFixedColumn(i)&&!this._isColumnRendered(t):r>t&&this._isFixedColumn(i)&&!this._isColumnRendered(t);break;case"previous":case"previousInRow":if(t=i-1,o=this.option("rtlEnabled")?0:this._getMaxHorizontalOffset(),"previous"===e){var l=this._columnsController.getColumnIndexOffset();a=t<0&&0===l||this._isFixedColumn(i)&&!this._isColumnRendered(t)}else a=t>=0&&this._isFixedColumn(i)&&!this._isColumnRendered(t)}a?n.scrollTo({left:o}):(0,u.isDefined)(t)&&(0,u.isDefined)(e)&&this._isColumnVirtual(t)&&0!==(o=this._getHorizontalScrollPositionOffset(e))&&n.scrollBy({left:o,top:0})},o._getHorizontalScrollPositionOffset=function(e){var t=0,n=this._getCell(this._focusedCellPosition),i=n&&(0,d.getOuterWidth)(n);if(i>0){var o=this.option("rtlEnabled")?-1:1;t="nextInRow"===e||"next"===e?i*o:-(i*o*1)}return t},o._editingCellTabHandler=function(e,t){var n,i=e.originalEvent.target,o=this._getCellElementFromTarget(i),a=e.originalEvent,r=this._getElementType(i);if(o.is(x.COMMAND_CELL_SELECTOR))return!this._targetCellTabHandler(e,t);this._updateFocusedCellPosition(o);var l=this._getNextCellByTabKey(a,t,r);if(!(o=l.$cell)||this._handleTabKeyOnMasterDetailCell(o,t))return!1;var s=this._columnsController,d=this._rowsView.getCellIndex(o)+s.getColumnIndexOffset(),u=s.getVisibleColumns(null,!0)[d],c=o.parent(),h=this._getRowIndex(c),f=this._dataController.items()[h],p=this._editingController;if(u&&u.allowEditing){var g=!f||"data"===f.rowType;n=p.allowUpdating({row:f})?g:f&&f.isNewRow}return n||this._closeEditCell(),this._focusCell(o,!l.isHighlighted)&&(!this._isRowEditMode()&&n?this._editFocusedCell():this._focusInteractiveElement(o,e.shift)),!0},o._targetCellTabHandler=function(e,t){var n,i=e.originalEvent,o=i.target,a=this._getCellElementFromTarget(o),l=this._getInteractiveElement(a,!e.shift),s=!1;if(!(0,E.isEditorCell)(this,a)&&l.length&&o!==l.get(0))s=!0;else{void 0===this._focusedCellPosition.rowIndex&&(0,r.default)(o).hasClass(C.ROW_CLASS)&&this._updateFocusedCellPosition(a),n=this._getElementType(o),this.isRowFocusType()&&(this.setCellFocusType(),"row"===n&&(0,E.isDataRow)((0,r.default)(o))&&(o=this.getFirstValidCellInRow((0,r.default)(o)),n=this._getElementType(o)));var d=this._getNextCellByTabKey(i,t,n);if(!(a=d.$cell)||!(a=this._checkNewLineTransition(i,a)))return!1;this._focusCell(a,!d.isHighlighted),(0,E.isEditorCell)(this,a)||this._focusInteractiveElement(a,e.shift)}return s},o._getNextCellByTabKey=function(e,t,n){var i=this._getNextCell(t,n),o=i&&this._fireFocusedCellChanging(e,i,!0);return!o||o.cancel?{}:(o.$newCellElement&&(i=o.$newCellElement),{$cell:i,isHighlighted:o.isHighlighted})},o._checkNewLineTransition=function(e,t){var n=this.getVisibleRowIndex(),i=t.parent();if(n!==this._getRowIndex(i)){var o=this._getCellPosition(t),a=this._fireFocusedRowChanging(e,i);if(a.cancel)return;a.rowIndexChanged&&o&&(this.setFocusedColumnIndex(o.columnIndex),t=this._getFocusedCell())}return t},o._enterKeyHandler=function(e,t){var n=this._getFocusedCell(),i=this.getVisibleRowIndex(),o=this._focusedView&&this._focusedView.getRow(i);if(this.option("grouping.allowCollapsing")&&(0,E.isGroupRow)(o)||this.option("masterDetail.enabled")&&n&&n.hasClass(x.COMMAND_EXPAND_CLASS)){var a=this._dataController.getKeyByRowIndex(i),r=this._dataController.items()[i];void 0!==a&&r&&r.data&&!r.data.isContinuation&&this._dataController.changeRowExpand(a)}else this._processEnterKeyForDataCell(e,t)},o._processEnterKeyForDataCell=function(e,t){var n=this._getEnterKeyDirection(e),i=this._allowEditingOnEnterKey();t||!i&&n?(this._handleEnterKeyEditingCell(e.originalEvent),"next"===n||"previous"===n?this._targetCellTabHandler(e,n):"upArrow"!==n&&"downArrow"!==n||this._navigateNextCell(e.originalEvent,n)):i&&this._startEditing(e)},o._getEnterKeyDirection=function(e){var t=this.option("keyboardNavigation.enterKeyDirection"),n=e.shift;return"column"===t?n?"upArrow":"downArrow":"row"===t?n?"previous":"next":void 0},o._handleEnterKeyEditingCell=function(e){var t=e.target,n=this._getCellElementFromTarget(t),i=this._isRowEditMode();this._updateFocusedCellPosition(n),i?(this._focusEditFormCell(n),setTimeout(this._editingController.saveEditData.bind(this._editingController))):(h.default.trigger((0,r.default)(t),"change"),this._closeEditCell(),e.preventDefault())},o._escapeKeyHandler=function(e,t){var n=this._getCellElementFromTarget(e.originalEvent.target);t&&(this._updateFocusedCellPosition(n),this._isRowEditMode()?(this._focusEditFormCell(n),this._editingController.cancelEditData(),0===this._dataController.items().length&&(this._resetFocusedCell(),this._editorFactory.loseFocus())):"cell"===this._editingController.getEditMode()?this._editingController.cancelEditData():this._closeEditCell(),e.originalEvent.preventDefault())},o._ctrlFKeyHandler=function(e){if(this.option("searchPanel.visible")){var t=this._headerPanel.getSearchTextEditor();t&&(t.focus(),e.originalEvent.preventDefault())}},o._f2KeyHandler=function(){var e=this._editingController.isEditing(),t=this.getVisibleRowIndex(),n=this._focusedView&&this._focusedView.getRow(t);!e&&(0,E.isDataRow)(n)&&this._startEditing()},o._navigateNextCell=function(e,t){var n=this._getNextCell(t),i=this._getDirectionCodeByKey(t);return!!(n&&this._isCellValid(n))&&this._arrowKeysHandlerFocusCell(e,n,i)},o._arrowKeysHandlerFocusCell=function(e,t,n){var i="prevRow"===n||"nextRow"===n,o=this._fireFocusChangingEvents(e,t,i,!0);return t=o.$newCellElement,!(o.cancel||!this._isCellValid(t))&&(this._focus(t,!o.isHighlighted),!0)},o._beginFastEditing=function(e,t){if(!this._isFastEditingAllowed()||e.altKey||e.ctrlKey||this._editingController.isEditing())return!1;if(t)this._startEditing(e,x.FAST_EDITING_DELETE_KEY);else{var n=e.key,i=e.keyCode||e.which,o=n||i&&String.fromCharCode(i);o&&(1===o.length||o===x.FAST_EDITING_DELETE_KEY)&&this._startEditing(e,o)}return!0},o._pointerEventHandler=function(e){var t,n=e.event||e,i=(0,r.default)(n.currentTarget),o=null===(t=this._rowsView)||void 0===t?void 0:t.element(),a=i.parent(),l=(0,r.default)(n.target).is(x.INTERACTIVE_ELEMENTS_SELECTOR),s=!!(0,r.default)(n.target).closest(".".concat(x.REVERT_BUTTON_CLASS)).length,d=i.hasClass(x.COMMAND_EXPAND_CLASS);this._isEventInCurrentGrid(n)&&(!s&&(this._isCellValid(i,!l)||d)?(i=this._isInsideEditForm(i)?(0,r.default)(n.target):i,this._focusView(),(0,r.default)(o).removeClass(x.FOCUS_STATE_CLASS),a.hasClass(x.FREESPACE_ROW_CLASS)?(this._updateFocusedCellPosition(i),this._applyTabIndexToElement(this._focusedView.element()),this._focusedView.focus(!0)):this._isMasterDetailCell(i)?this._updateFocusedCellPosition(i):this._clickTargetCellHandler(n,i)):i.is("td")&&this._resetFocusedCell())},o._clickTargetCellHandler=function(e,t){var n=this._rowsView.getCellIndex(t),i=this._columnsController.getVisibleColumns()[n],o=this._isCellEditMode();this.setCellFocusType();var a=this._fireFocusChangingEvents(e,t,!0);if(t=a.$newCellElement,a.cancel)this.setRowFocusType(),this.setFocusedRowIndex(a.prevRowIndex),this._editingController.isEditing()&&o&&this._closeEditCell();else{if(a.resetFocusedRow)return void this.getController("focus")._resetFocusedRow();if(a.rowIndexChanged&&(t=this._getFocusedCell()),a.isHighlighted||o||this.setRowFocusType(),this._updateFocusedCellPosition(t),this._allowRowUpdating()&&o&&i&&i.allowEditing)this._isNeedFocus=!1,this._isHiddenFocus=!1;else{t=this._getFocusedCell();var l=e&&(0,r.default)(e.target).closest("".concat(x.NON_FOCUSABLE_ELEMENTS_SELECTOR,", td")),s=l&&l.not(t).is(x.NON_FOCUSABLE_ELEMENTS_SELECTOR),d=!(i&&!i.command&&t.hasClass(C.EDITOR_CELL_CLASS))&&(!a.isHighlighted||s);this._focus(t,d,s)}}},o._allowRowUpdating=function(){var e=this.getVisibleRowIndex(),t=this._dataController.items()[e];return this._editingController.allowUpdating({row:t},"click")},o.focus=function(e){var t,n=this.option("focusedRowEnabled"),i=this._isCellElement((0,r.default)(e));e||(t=".dx-datagrid-rowsview .dx-row[tabindex]",n||(t+=", .dx-datagrid-rowsview .dx-row > td[tabindex]"),e=this.component.$element().find(t).first()),e&&this._focusElement((0,r.default)(e),i)},o.getFocusedView=function(){return this._focusedView},o.setupFocusedView=function(){this.isKeyboardEnabled()&&!(0,u.isDefined)(this._focusedView)&&this._focusView()},o._focusElement=function(e,t){var n=(0,r.default)(this._getRowsViewElement()),i=e.closest(n),o=this.isRowFocusType(),a={};!i.length||this._isCellElement(e)&&!this._isCellValid(e)||(this._focusView(),this._isNeedFocus=!0,this._isNeedScroll=!0,(this._isCellElement(e)||(0,E.isGroupRow)(e))&&(this.setCellFocusType(),e=(a=this._fireFocusChangingEvents(null,e,!0,t)).$newCellElement,o&&!a.isHighlighted&&this.setRowFocusType()),a.cancel||(this._focus(e,!a.isHighlighted),this._focusInteractiveElement(e)))},o._getFocusedViewByElement=function(e){var t=this.getFocusedView(),n=t&&(0,r.default)(t.element());return e&&0!==e.closest(n).length},o._focusView=function(){this._focusedView=this._rowsView},o._resetFocusedView=function(){this.setRowFocusType(),this._focusedView=null},o._focusInteractiveElement=function(e,t){if(e){var n=this._getInteractiveElement(e,t);this._testInteractiveElement=n,y.default.focusAndSelectElement(this,n)}},o._focus=function(e,t,n){var i=e&&!e.hasClass(C.ROW_CLASS)?e.closest(".".concat(C.ROW_CLASS)):e;if(!i||!(0,E.isNotFocusedRow)(i)){var o,a=this._focusedView,r=a&&a.element();this._isHiddenFocus=t;var l=(0,E.isGroupRow)(i)||this.isRowFocusType();l?(o=i,a&&this.setFocusedRowIndex(this._getRowIndex(i))):this._isCellElement(e)&&(o=e,this._updateFocusedCellPosition(e)),o&&(r&&r.find(".dx-row[tabindex], .dx-row > td[tabindex]").not(o).removeClass(x.CELL_FOCUS_DISABLED_CLASS).removeAttr("tabindex"),h.default.one(o,"blur",function(e){e.relatedTarget&&o.removeClass(x.CELL_FOCUS_DISABLED_CLASS)}),n||(this._applyTabIndexToElement(o),h.default.trigger(o,"focus")),t?(o.addClass(x.CELL_FOCUS_DISABLED_CLASS),l&&e.addClass(x.CELL_FOCUS_DISABLED_CLASS)):this._editorFactory.focus(o))}},o._updateFocus=function(e){var t=this;this._updateFocusTimeout=setTimeout(function(){var n=t._editingController,i=n.getEditMode()===C.EDIT_MODE_CELL,o=n.getEditMode()===C.EDIT_MODE_BATCH;if(i&&n.hasChanges()||o&&n.isNewRowInEditMode())n._focusEditingCell();else{var a=t._getFocusedCell(),r=n.isEditing();if(a&&(!t._isMasterDetailCell(a)||t._isRowEditMode())){if(t._hasSkipRow(a.parent())){var l=t._focusedCellPosition&&t._focusedCellPosition.rowIndex>0?"upArrow":"downArrow";a=t._getNextCell(l)}if((0,E.isElementDefined)(a)){if(a.is("td")||a.hasClass(t.addWidgetPrefix(x.EDIT_FORM_ITEM_CLASS))){var s=a.is(x.COMMAND_CELL_SELECTOR),d=a.find(":focus"),u=(0,E.isElementDefined)(d);if((e||!s)&&t._editorFactory.focus()){if(s&&u)return void y.default.focusAndSelectElement(t,d);u||t._focus(a)}else!u&&(t._isNeedFocus||t._isHiddenFocus)&&t._focus(a,t._isHiddenFocus);r&&t._focusInteractiveElement.bind(t)(a)}else h.default.trigger(a,"focus")}}}})},o._getFocusedCell=function(){return(0,r.default)(this._getCell(this._focusedCellPosition))},o._updateFocusedCellPositionByTarget=function(e){var t;if("row"===this._getElementType(e)&&(0,u.isDefined)(null===(t=this._focusedCellPosition)||void 0===t?void 0:t.columnIndex)){var n=(0,r.default)(e);this._focusedView&&(0,E.isGroupRow)(n)&&this.setFocusedRowIndex(this._getRowIndex(n))}else this._updateFocusedCellPosition(this._getCellElementFromTarget(e))},o._updateFocusedCellPosition=function(e,t){var n=this._getCellPosition(e,t);return n&&(!e.length||n.rowIndex>=0&&n.columnIndex>=0)&&this.setFocusedCellPosition(n.rowIndex,n.columnIndex),n},o._getFocusedColumnIndexOffset=function(e){var t=0,n=this._columnsController.getVisibleColumns()[e];return n&&n.fixed?t=this._getFixedColumnIndexOffset(n):e>=0&&(t=this._columnsController.getColumnIndexOffset()),t},o._getFixedColumnIndexOffset=function(e){return(0,E.isFixedColumnIndexOffsetRequired)(this,e)?this._getVisibleColumnCount()-this._columnsController.getVisibleColumns().length:0},o._getCellPosition=function(e,t){var n,i=(0,E.isElementDefined)(e)&&e.closest("tr");if((0,E.isElementDefined)(i)){var o=this._getRowIndex(i);return n=this._rowsView.getCellIndex(e,o),n+=this._getFocusedColumnIndexOffset(n),t&&(n="previous"===t?n-1:n+1,n=this._applyColumnIndexBoundaries(n)),{rowIndex:o,columnIndex:n}}},o._focusCell=function(e,t){if(this._isCellValid(e))return this._focus(e,t),!0},o._focusEditFormCell=function(e){e.hasClass(x.MASTER_DETAIL_CELL_CLASS)&&this._editorFactory.focus(e,!0)},o._resetFocusedCell=function(e){var t,n=this._getFocusedCell();(0,E.isElementDefined)(n)&&n.removeAttr("tabindex"),this._isNeedFocus=!1,this._isNeedScroll=!1,this._focusedCellPosition={},clearTimeout(this._updateFocusTimeout),null===(t=this._focusedView)||void 0===t||t.renderFocusState({preventScroll:e})},o.restoreFocusableElement=function(e,t){var n,i,o=(0,u.isDefined)(e),a=this._rowsView.element(),r=this._focusedCellPosition.columnIndex,l=this._dataController.getRowIndexOffset();e=o?e:this._rowsView.getTopVisibleItemIndex()+l,o?(i=this._rowsView.getRow(e-l),!(n=this._fireFocusedRowChanging(t,i)).cancel&&n.rowIndexChanged&&(e=n.newRowIndex)):(this._editorFactory.loseFocus(),this._applyTabIndexToElement(a),h.default.trigger(a,"focus")),o&&n.cancel||this.setFocusedCellPosition(e,r),o&&this._updateFocus()},o._getNewPositionByCode=function(e,t,n){var i=e.columnIndex,o=e.rowIndex;if(void 0===e.rowIndex&&"next"===n)return{columnIndex:0,rowIndex:0};switch(n){case"nextInRow":case"next":i<this._getVisibleColumnCount()-1&&"row"!==t&&this._hasValidCellAfterPosition({columnIndex:i,rowIndex:o})?i++:this._isLastRow(o)||"next"!==n||(i=0,o++);break;case"previousInRow":case"previous":i>0&&"row"!==t&&this._hasValidCellBeforePosition({columnIndex:i,rowIndex:o})?i--:o>0&&"previous"===n&&(o--,i=this._getVisibleColumnCount()-1);break;case"upArrow":o=o>0?o-1:o;break;case"downArrow":o=this._isLastRow(o)?o:o+1}return{columnIndex:i,rowIndex:o}},o.setFocusedCellPosition=function(e,t){this.setFocusedRowIndex(e),this.setFocusedColumnIndex(t)},o.setFocusedRowIndex=function(e){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.rowIndex=e},o.setFocusedColumnIndex=function(e){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.columnIndex=e},o.getRowIndex=function(){return this._focusedCellPosition?this._focusedCellPosition.rowIndex:-1},o.getColumnIndex=function(){return this._focusedCellPosition?this._focusedCellPosition.columnIndex:-1},o.getVisibleRowIndex=function(){var e,t=null===(e=this._focusedCellPosition)||void 0===e?void 0:e.rowIndex;return!(0,u.isDefined)(t)||t<0?-1:t-this._dataController.getRowIndexOffset()},o.getVisibleColumnIndex=function(){var e,t=null===(e=this._focusedCellPosition)||void 0===e?void 0:e.columnIndex;return(0,u.isDefined)(t)?t-this._columnsController.getColumnIndexOffset():-1},o._applyColumnIndexBoundaries=function(e){var t=this._getVisibleColumnCount();return e<0?e=0:e>=t&&(e=t-1),e},o._isCellByPositionValid=function(e){var t=(0,r.default)(this._getCell(e));return this._isCellValid(t)},o._isLastRow=function(e){var t=this._dataController,n=t.items().filter(function(e){return!1!==e.visible});return this._isVirtualRowRender()?e>=t.getMaxRowIndex():e===n.length-1},o._isFirstValidCell=function(e){var t=!1;return 0===e.rowIndex&&e.columnIndex>=0&&(t=t||!this._hasValidCellBeforePosition(e)),t},o._hasValidCellBeforePosition=function(e){for(var t=e.columnIndex,n=!1;t>0&&!n;){var i={columnIndex:--t,rowIndex:e.rowIndex};n=this._isCellByPositionValid(i)}return n},o._hasValidCellAfterPosition=function(e){for(var t=e.columnIndex,n=!1,i=this._getVisibleColumnCount();t<i-1&&!n;){var o={columnIndex:++t,rowIndex:e.rowIndex};n=this._isCellByPositionValid(o)}return n},o._isLastValidCell=function(e){var t=e.columnIndex>=0?e.columnIndex+1:0,n=e.rowIndex,i={columnIndex:t,rowIndex:n},o=this._dataController.getVisibleRows(),a=o&&o[n];return!!this._isLastRow(n)&&(!!(a&&"group"===a.rowType&&e.columnIndex>0)||e.columnIndex===this._getVisibleColumnCount()-1||!this._isCellByPositionValid(i)&&this._isLastValidCell(i))},o._isCellValid=function(e,t){if((0,E.isElementDefined)(e)){var n=e.parent(),i=this._columnsController,o=this._rowsView.getCellIndex(e)+i.getColumnIndexOffset(),a=i.getVisibleColumns(null,!0)[o],r=this._getVisibleColumnCount(),l=this._editingController,s=(0,E.isDetailRow)(n),d=a&&a.showWhenGrouped,c=a&&!e.hasClass(x.COMMAND_EXPAND_CLASS)&&(0,E.isDataRow)(n);if(I.GridCoreKeyboardNavigationDom.isDragCell(e))return!1;if(this._isMasterDetailCell(e))return!0;if(r>o&&(!s&&a&&(!(0,u.isDefined)(a.groupIndex)||d&&c)||parseInt(e.attr("colspan"),10)>1)){var h=this._dataController.items(),f=this._rowsView.getRowIndex(n),p=h[f],g=l&&this._isCellEditMode()&&l.isEditing(),m=l&&l.isEditRow(f),v=m||g;return a.command?this._isLegacyNavigation()?!v&&"expand"===a.command:!g&&(m?"select"!==a.command:!v):(!g||!p||"data"===p.rowType)&&(!v||a.allowEditing||t)}}},o.getFirstValidCellInRow=function(e,t){for(var n,i,o=e.find("> td"),a=t=t||0;a<o.length;++a)if(n=o.eq(a),this._isCellValid(n)){i=n;break}return i},o._getNextCell=function(e,t,n){var i,o,a=n||this._focusedCellPosition,l=this.isRowFocusType(),s=l||["next","previous"].includes(e);if(this._focusedView&&a){var d=this._getNewPositionByCode(a,t,e);i=(0,r.default)(this._getCell(d));var u="previous"===e?this._isFirstValidCell(d):this._isLastValidCell(d);if((0,E.isElementDefined)(i)&&!this._isCellValid(i)&&this._isCellInRow(d,s)&&!u&&(i=l?this.getFirstValidCellInRow(i.parent(),d.columnIndex):this._getNextCell(e,"cell",d)),o=(0,E.isElementDefined)(i)&&i.parent(),this._hasSkipRow(o)){var c=this._getRowIndex(o);if(this._isLastRow(c))return null;i=this._getNextCell(e,"row",{columnIndex:a.columnIndex,rowIndex:c})}return(0,E.isElementDefined)(i)?i:null}return null},o._startEditing=function(e,t){var n=this._focusedCellPosition,i=this.getVisibleRowIndex(),o=this.getVisibleColumnIndex(),a=this._dataController.items()[i],r=this._columnsController.getVisibleColumns()[o];this._isAllowEditing(a,r)&&(this._isRowEditMode()?this._editingController.editRow(i):n&&this._startEditCell(e,t))},o._isAllowEditing=function(e,t){return this._editingController.allowUpdating({row:e})&&t&&t.allowEditing},o._editFocusedCell=function(){var e=this.getVisibleRowIndex(),t=this.getVisibleColumnIndex();return this._editingController.editCell(e,t)},o._startEditCell=function(e,t){var n=this;this._fastEditingStarted=(0,u.isDefined)(t);var i=this._editFocusedCell(),o=(0,u.isDeferred)(i);if(this._isFastEditingStarted()&&(o||i)){var a=o&&t===x.FAST_EDITING_DELETE_KEY?"":t,r=o?i:(0,s.Deferred)().resolve(),l=this._rowsView.waitAsyncTemplates(!0);(0,s.when)(r,l).done(function(){n._editingCellHandler(e,a)})}},o._editingCellHandler=function(e,t){var n,i,o=this._getFocusedCell().find(x.INTERACTIVE_ELEMENTS_SELECTOR).eq(0),a=o.get(0);if(a){var r=(0,g.createEvent)(e,{type:"keydown",target:a}),s=(0,g.createEvent)(e,{type:"keypress",target:a}),d=(0,g.createEvent)(e,{type:"input",target:a});d.originalEvent&&(d.originalEvent=(0,g.createEvent)(d.originalEvent,{data:t})),null===(i=(n=a).select)||void 0===i||i.call(n),h.default.trigger(o,r),!r.isDefaultPrevented()&&(h.default.trigger(o,s),!s.isDefaultPrevented())&&setTimeout(function(){o.val(t);var e=o.closest(".".concat(x.WIDGET_CLASS));h.default.off(e,"focusout"),h.default.one(e,"focusout",function(){h.default.trigger(o,"change")}),h.default.trigger(o,d)},l.default.mozilla?25:0)}},o._fireFocusChangingEvents=function(e,t,n,i){var o,a={},l=null!==(o=this._getCellPosition(t))&&void 0!==o?o:{};return this.isCellFocusType()&&((a=this._fireFocusedCellChanging(e,t,i)).cancel||(l.columnIndex=a.newColumnIndex,l.rowIndex=a.newRowIndex,i=a.isHighlighted,t=(0,r.default)(this._getCell(l)))),!a.cancel&&n&&t&&((a=this._fireFocusedRowChanging(e,t.parent())).cancel||(l.rowIndex=a.newRowIndex,a.isHighlighted=i)),a.$newCellElement=(0,r.default)(this._getCell(l)),a.$newCellElement.length||(a.$newCellElement=t),a},o._fireFocusedCellChanging=function(e,t,n){var i=this.option("focusedColumnIndex"),o=this.option("focusedRowIndex"),a=this._getCellPosition(t),l=a?a.columnIndex:-1,s=a?a.rowIndex:-1,d={cellElement:t,prevColumnIndex:i,prevRowIndex:o,newColumnIndex:l,newRowIndex:s,rows:this._dataController.getVisibleRows(),columns:this._columnsController.getVisibleColumns(),event:e,isHighlighted:n||!1,cancel:!1};return this._canceledCellPosition=null,this.executeAction("onFocusedCellChanging",d),d.newColumnIndex===l&&d.newRowIndex===s||(d.$newCellElement=(0,r.default)(this._getCell({columnIndex:d.newColumnIndex,rowIndex:d.newRowIndex}))),d.cancel&&(this._canceledCellPosition={rowIndex:s,columnIndex:l}),d},o._fireFocusedCellChanged=function(e){var t=this._rowsView.getCellIndex(e),n=(null==e?void 0:e.parent()).data("options"),i=null==n?void 0:n.key;this._memoFireFocusedCellChanged(i,t)},o._memoFireFocusedCellChanged=function(e,t){var n=this._getFocusedCell(),i=this._getRowIndex(null==n?void 0:n.parent()),o=Math.min(i-this._dataController.getRowIndexOffset(),this._dataController.items().length-1);if(!this._editingController.isEditCell(o,t)){var a=this._dataController.items()[o],r=this._columnsController.getVisibleColumns()[t];this.executeAction("onFocusedCellChanged",{cellElement:n,columnIndex:t,rowIndex:i,row:a,column:r})}},o._fireFocusedRowChanging=function(e,t){var n=this._getRowIndex(t),i=this.option("focusedRowIndex"),o=this._dataController.loadingOperationTypes(),a={rowElement:t,prevRowIndex:i,newRowIndex:n,event:e,rows:this._dataController.getVisibleRows(),cancel:!1};return!this._dataController||this._dataController.isLoading()&&(o.reload||o.paging)?(a.cancel=!0,a):(this.option("focusedRowEnabled")&&(this.executeAction("onFocusedRowChanging",a),a.cancel||a.newRowIndex===n||(a.resetFocusedRow=a.newRowIndex<0,a.resetFocusedRow||this.setFocusedRowIndex(a.newRowIndex),a.rowIndexChanged=!0)),a)},o._fireFocusedRowChanged=function(){var e,t=this.option("focusedRowEnabled"),n=this.option("focusedRowKey"),i=null===(e=this._focusController)||void 0===e?void 0:e.getFocusedRowIndexByKey(n);!t||(0,u.isDefined)(n)&&i<0||this._memoFireFocusedRowChanged(n,i)},o._memoFireFocusedRowChanged=function(e,t){var n=t-this._dataController.getRowIndexOffset();this.executeAction("onFocusedRowChanged",{rowElement:t<0?void 0:this._rowsView.getRowElement(n),rowIndex:t,row:t<0?void 0:this._dataController.getVisibleRows()[n]})},o._isEventInCurrentGrid=function(e){return y.default.isElementInCurrentGrid(this,(0,r.default)(e.target))},o._isRowEditMode=function(){var e=this._editingController.getEditMode();return e===C.EDIT_MODE_ROW||e===C.EDIT_MODE_FORM},o._isCellEditMode=function(){var e=this._editingController.getEditMode();return e===C.EDIT_MODE_CELL||e===C.EDIT_MODE_BATCH},o._isFastEditingAllowed=function(){return this._isCellEditMode()&&this.option("keyboardNavigation.editOnKeyPress")},o._getInteractiveElement=function(e,t){var n=e.find(x.INTERACTIVE_ELEMENTS_SELECTOR).filter(":visible");return t?n.last():n.first()},o._applyTabIndexToElement=function(e){var t=this.option("tabIndex")||0;e.attr("tabindex",(0,u.isDefined)(t)?t:0)},o._getCell=function(e){if(this._focusedView&&e){var t=this._dataController.getRowIndexOffset(),n=this._columnsController.getVisibleColumns(null,!0)[e.columnIndex],i=n&&n.fixed?this._getFixedColumnIndexOffset(n):this._columnsController.getColumnIndexOffset(),o=e.rowIndex>=0?e.rowIndex-t:-1,a=e.columnIndex>=0?e.columnIndex-i:-1;return this._focusedView.getCell({rowIndex:o,columnIndex:a})}},o._getRowIndex=function(e){var t=this._rowsView.getRowIndex(e);return t>=0&&(t+=this._dataController.getRowIndexOffset()),t},o._hasSkipRow=function(e){var t=e&&e.get(0);return t&&("none"===t.style.display||e.hasClass(this.addWidgetPrefix(x.GROUP_FOOTER_CLASS))||(0,E.isDetailRow)(e)&&!e.hasClass(this.addWidgetPrefix(C.EDIT_FORM_CLASS)))},o._allowEditingOnEnterKey=function(){return"startEdit"===this.option("keyboardNavigation.enterKeyAction")},o._isLegacyNavigation=function(){return this.option("useLegacyKeyboardNavigation")},o._getDirectionCodeByKey=function(e){var t;switch(e){case"upArrow":t="prevRow";break;case"downArrow":t="nextRow";break;case"leftArrow":t=this.option("rtlEnabled")?"nextInRow":"previousInRow";break;case"rightArrow":t=this.option("rtlEnabled")?"previousInRow":"nextInRow"}return t},o._isVirtualScrolling=function(){var e=this.option("scrolling.mode");return"virtual"===e||"infinite"===e},o._isVirtualRowRender=function(){return this._isVirtualScrolling()||y.default.isVirtualRowRendering(this)},o._isVirtualColumnRender=function(){return"virtual"===this.option("scrolling.columnRenderingMode")},o._scrollBy=function(e,t,n,i){var o=this,a=this._rowsView.getScrollable();return o._focusedCellPosition&&a.on("scroll",function e(){a.off("scroll",e),setTimeout(o.restoreFocusableElement.bind(o,n,i))}),a.scrollBy({left:e,top:t})},o._isInsideEditForm=function(e){var t=(0,r.default)(e).closest(".".concat(this.addWidgetPrefix(C.EDIT_FORM_CLASS)));return t.length&&this.elementIsInsideGrid(t)},o._isMasterDetailCell=function(e){var t=(0,r.default)(e).closest(".".concat(x.MASTER_DETAIL_CELL_CLASS));return t.length&&this.elementIsInsideGrid(t)},o._processNextCellInMasterDetail=function(e,t){!this._isInsideEditForm(e)&&e&&this._applyTabIndexToElement(e)},o._handleTabKeyOnMasterDetailCell=function(e,t){if(this._isMasterDetailCell(e)){this._updateFocusedCellPosition((0,r.default)(e),t);var n=this._getNextCell(t,"row");return this._processNextCellInMasterDetail(n,(0,r.default)(e)),!0}return!1},o._getElementType=function(e){return(0,r.default)(e).is("tr")?"row":"cell"},o._isFastEditingStarted=function(){return this._isFastEditingAllowed()&&this._fastEditingStarted},o._getVisibleColumnCount=function(){return this._columnsController.getVisibleColumns(null,!0).length},o._isCellInRow=function(e,t){var n=e.columnIndex,i=this._getVisibleColumnCount();return t?n>=0&&n<=i-1:n>0&&n<i-1},o._isCellElement=function(e){return e.length&&"TD"===e[0].tagName},o._getCellElementFromTarget=function(e){var t=this._getElementType(e),n=(0,r.default)(e);return"cell"===t?n.closest(".".concat(C.ROW_CLASS," > td")):n.children().not(".".concat(x.COMMAND_EXPAND_CLASS)).first()},o._getRowsViewElement=function(){var e;return null===(e=this._rowsView)||void 0===e?void 0:e.element()},o.isKeyboardEnabled=function(){return this.option("keyboardNavigation.enabled")},o._processCanceledEditCellPosition=function(e,t){if(this._canceledCellPosition){var n=this._canceledCellPosition.rowIndex===e&&this._canceledCellPosition.columnIndex===t;return this._canceledCellPosition=null,n}},o.updateFocusedRowIndex=function(){var e=this._dataController,t=this.getVisibleRowIndex(),n=e.items(),i=n.length?n.length-1:-1,o=e.getRowIndexOffset();i>=0&&t>i&&this.setFocusedRowIndex(i+o)},t}(w.default.ViewController);t.KeyboardNavigationController=D,t.keyboardNavigationModule={defaultOptions:function(){return{useLegacyKeyboardNavigation:!1,keyboardNavigation:{enabled:!0,enterKeyAction:"startEdit",enterKeyDirection:"none",editOnKeyPress:!1}}},controllers:{keyboardNavigation:D},extenders:{views:{rowsView:{_rowClick:function(e){var t=this.getController("editing").getEditRowIndex(),n=this.getController("keyboardNavigation"),i=n.isKeyboardEnabled();t===e.rowIndex&&n.setCellFocusType(),((0,E.isMobile)()||!i)&&this.option("focusedRowEnabled")&&this._triggerPointerDownEventHandler(e,!i),this.callBase.apply(this,arguments)},_triggerPointerDownEventHandler:function(e,t){var n=e.event.originalEvent;if(n){var i=this.getController("keyboardNavigation"),o=(0,r.default)(n.target),a=this.getCellIndex(o),l=this.getController("columns").getVisibleColumns()[a],s=this.getController("data").items()[e.rowIndex];if(i._isAllowEditing(s,l)||t){var d=(0,g.createEvent)(n,{currentTarget:n.target});i._pointerEventHandler(d)}}},renderFocusState:function(e){var t=null!=e?e:{},n=t.preventScroll,i=t.pageSizeChanged,o=this.getController("keyboardNavigation"),a=this.element();a&&!(0,v.focused)(a)&&a.attr("tabindex",null),i&&o.updateFocusedRowIndex();var r=o.getVisibleRowIndex();(!(0,u.isDefined)(r)||r<0)&&(r=0);var l=this.getCellElements(r);o.isKeyboardEnabled()&&(null==l?void 0:l.length)&&this.updateFocusElementTabIndex(l,n)},updateFocusElementTabIndex:function(e){var t=this.getController("keyboardNavigation"),n=e.eq(0).parent();if((0,E.isGroupRow)(n))t._applyTabIndexToElement(n);else{var i=t.getColumnIndex();(!(0,u.isDefined)(i)||i<0)&&(i=0),this._updateFocusedCellTabIndex(e,i)}},_updateFocusedCellTabIndex:function(e,t){var n=this.getController("keyboardNavigation"),i=e?e.length:-1,o=function(e){var t=n._isMasterDetailCell(e),i=n._isCellValid(e);if(!t&&i&&n._isCellElement(e))return n._applyTabIndexToElement(e),n.setCellFocusType(),!0},a=I.GridCoreKeyboardNavigationDom.getCellToFocus(e,t);if(a.length)o(a);else{i<=t&&(t=i-1);for(var l=t;l<i&&!o((0,r.default)(e[l]));++l);}},renderDelayedTemplates:function(e){this.callBase.apply(this,arguments),this._renderFocusByChange(e)},_renderFocusByChange:function(e){var t=null!=e?e:{},n=t.operationTypes,i=t.repaintChangesOnly,o=null!=n?n:{},a=o.fullReload,r=o.pageSize;if(!e||!i||a||r){var l=(0,E.shouldPreventScroll)(this);this.renderFocusState({preventScroll:l,pageSizeChanged:r})}},_renderCore:function(e){var t=this.callBase.apply(this,arguments);return this._renderFocusByChange(e),t},_editCellPrepared:function(e){var t=this._getEditorInstance(e),n=this.getController("keyboardNavigation"),i=n&&n._isFastEditingStarted();t&&i&&this._handleEditingNavigationMode(t),this.callBase.apply(this,arguments)},_handleEditingNavigationMode:function(e){["downArrow","upArrow"].forEach(function(t){var n=e._supportedKeys()[t];e.registerKeyHandler(t,function(t){if("true"===e._input().attr("aria-expanded"))return n&&n.call(e,t)})}),e.registerKeyHandler("leftArrow",o.noop),e.registerKeyHandler("rightArrow",o.noop),e.NAME===x.DATEBOX_WIDGET_NAME&&e.option("useMaskBehavior")&&e.registerKeyHandler("enter",o.noop)},_getEditorInstance:function(e){var t=e.find(".dx-texteditor").eq(0);return y.default.getWidgetInstance(t)}}},controllers:{editing:{editCell:function(e,t){var n=this.getController("keyboardNavigation");if(n._processCanceledEditCellPosition(e,t))return!1;var i=this.callBase(e,t);return i&&n.setupFocusedView(),i},editRow:function(e){var t=this.getController("keyboardNavigation"),n=t.getVisibleColumnIndex(),i=this._columnsController.getVisibleColumns()[n];(i&&i.type||this.option("editing.mode")===C.EDIT_MODE_FORM)&&t._resetFocusedCell(),this.callBase(e)},addRow:function(e){var t=this.getController("keyboardNavigation");return t.setupFocusedView(),t.setCellFocusType(),this.callBase.apply(this,arguments)},getFocusedCellInRow:function(e){var t=this.getController("keyboardNavigation"),n=this.callBase(e);if(t.isKeyboardEnabled()&&t._focusedCellPosition.rowIndex===e){var i=t._getFocusedCell();(0,E.isElementDefined)(i)&&!i.hasClass(x.COMMAND_EDIT_CLASS)&&(n=i)}return n},_processCanceledEditingCell:function(){var e=this;this.closeEditCell().done(function(){e.getController("keyboardNavigation")._updateFocus()})},init:function(){this.callBase(),this._keyboardNavigationController=this.getController("keyboardNavigation")},closeEditCell:function(){var e=this._keyboardNavigationController;e._fastEditingStarted=!1;var t=this.callBase.apply(this,arguments);return e._updateFocus(),t},_delayedInputFocus:function(){this._keyboardNavigationController._isNeedScroll=!0,this.callBase.apply(this,arguments)},_isEditingStart:function(){var e=this.getController("keyboardNavigation"),t=this.callBase.apply(this,arguments);if(t&&!e._isNeedFocus){var n=e._getFocusedCell();e._focus(n,!0)}return t}},data:{_correctRowIndices:function(e){var t=this.getController("keyboardNavigation"),n=this.getController("editorFactory"),i=t._focusedCellPosition;if(this.callBase.apply(this,arguments),i&&i.rowIndex>=0){var o=e(i.rowIndex);o&&(i.rowIndex+=o,n.refocus())}},getMaxRowIndex:function(){var e=this.items().length-1,t=this.virtualItemsCount();return t&&(e+=this.getRowIndexOffset()+t.end),e}},adaptiveColumns:{_showHiddenCellsInView:function(e){var t=e.viewName,n=e.$cells,i=e.isCommandColumn;this.callBase.apply(this,arguments),t!==x.COLUMN_HEADERS_VIEW||i||n.each(function(e,t){var n=(0,r.default)(t);(0,E.isCellInHeaderRow)(n)&&n.attr("tabindex",0)})},_hideVisibleCellInView:function(e){var t=e.viewName,n=e.$cell,i=e.isCommandColumn;this.callBase.apply(this,arguments),t===x.COLUMN_HEADERS_VIEW&&!i&&(0,E.isCellInHeaderRow)(n)&&n.removeAttr("tabindex")}}}}}},95674(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isCellInHeaderRow=function(e){return!!e.parent(".".concat(l.HEADER_ROW_CLASS)).length},t.isDataRow=function(e){return e&&!s(e)&&!d(e)},t.isDetailRow=d,t.isEditorCell=function(e,t){return!e._isRowEditMode()&&t&&!t.hasClass(l.COMMAND_SELECT_CLASS)&&t.hasClass(r.EDITOR_CELL_CLASS)},t.isElementDefined=function(e){return(0,a.isDefined)(e)&&e.length>0},t.isFixedColumnIndexOffsetRequired=function(e,t){return e.option("rtlEnabled")?!("right"===t.fixedPosition||(0,a.isDefined)(t.command)&&!(0,a.isDefined)(t.fixedPosition)):!(!(0,a.isDefined)(t.fixedPosition)||"left"===t.fixedPosition)},t.isGroupRow=s,t.isMobile=function(){return"desktop"!==o.default.current().deviceType},t.isNotFocusedRow=function(e){return!e||e.hasClass(l.FREESPACE_ROW_CLASS)||e.hasClass(l.VIRTUAL_ROW_CLASS)},t.shouldPreventScroll=function(e){var t=e.getController("keyboardNavigation");return!!t._isVirtualScrolling()&&e.option("focusedRowIndex")===t.getRowIndex()};var i,o=(i=n(73675))&&i.__esModule?i:{default:i},a=n(4964),r=n(32982),l=n(64652);function s(e){return e&&e.hasClass(l.GROUP_ROW_CLASS)}function d(e){return e&&e.hasClass(l.MASTER_DETAIL_ROW_CLASS)}},76749(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.registerKeyboardAction=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=r?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(o,l,s):o[l]=e[l]}return o.default=e,n&&n.set(e,o),o}(n(91918));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}t.registerKeyboardAction=function(e,t,n,i,a){var r=t.getController("keyboardNavigation");t.option("useLegacyKeyboardNavigation")||r&&!r.isKeyboardEnabled()||(t.createAction("onKeyDown"),o.registerKeyboardAction(e,t,n,i,a,function(e){t.executeAction("onKeyDown",e)}))}},31900(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.prepareItems=function(e,t){for(var n,o,a,r=function(e){return e||1},l=[],s=(e[0]||[]).reduce(function(e,t){return e+r(t.colspan)},0),d=(n=e,o=0,a=0,function(){var e=n[o]||[],t=e[a++];return a>=e.length&&(o++,a=0),t&&(t.colspan=r(t.colspan),t.rowspan=r(t.rowspan)),t}),u=d(),c=0;u;){for(var h=0;h<s&&u;h++)l[c]&&l[c][h]||(function e(n,o,a){if((l[n]=l[n]||[])[o]=a,a.colspan>1||a.rowspan>1){for(var r,s=(r=a,(0,i.extend)({},r,t)),d=1;d<a.colspan;d++)e(n,o+d,s);for(var u=1;u<a.rowspan;u++)for(var c=0;c<a.colspan;c++)e(n+u,o+c,s)}}(c,h,u),h+=u.colspan-1,u=d());c++}return l};var i=n(68841)},88445(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.processModules=y;var i=h(n(69828)),o=h(n(68689)),a=h(n(46169)),r=n(36808),l=n(1685),s=n(4964),d=n(65252),u=h(n(38306)),c=h(n(37499));function h(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],s=!0,d=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(u){d=!0,o=u}finally{try{if(!s&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(d)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var m=i.default.inherit({_endUpdateCore:function(){},ctor:function(e){var t=this;t._updateLockCount=0,t.component=e,t._actions={},t._actionConfigs={},(0,l.each)(this.callbackNames()||[],function(e,n){var i=t.callbackFlags(n)||{};i.unique=!0,i.syncStrategy=!0,t[this]=(0,a.default)(i)})},init:function(){},callbackNames:function(){},callbackFlags:function(){},publicMethods:function(){},beginUpdate:function(){this._updateLockCount++},endUpdate:function(){this._updateLockCount>0&&(this._updateLockCount--,this._updateLockCount||this._endUpdateCore())},option:function(e){var t=this.component,n=t._optionCache;return 1===arguments.length&&n?(e in n||(n[e]=t.option(e)),n[e]):t.option.apply(t,arguments)},_silentOption:function(e,t){var n=this.component,i=n._optionCache;return i&&(i[e]=t),n._setOptionWithoutOptionChange(e,t)},localize:function(e){var t=this.component._optionCache;return t?(e in t||(t[e]=u.default.format(e)),t[e]):u.default.format(e)},on:function(){return this.component.on.apply(this.component,arguments)},off:function(){return this.component.off.apply(this.component,arguments)},optionChanged:function(e){e.name in this._actions&&(this.createAction(e.name,this._actionConfigs[e.name]),e.handled=!0)},getAction:function(e){return this._actions[e]},setAria:function(e,t,n){var i=n.get(0),o="role"!==e&&"id"!==e?"aria-":"";i.setAttribute?i.setAttribute(o+e,t):n.attr(o+e,t)},_createComponent:function(){return this.component._createComponent.apply(this.component,arguments)},getController:function(e){return this.component._controllers[e]},createAction:function(e,t){if((0,s.isFunction)(e)){var n=this.component._createAction(e.bind(this),t);return function(e){n({event:e})}}this._actions[e]=this.component._createActionByOption(e,t),this._actionConfigs[e]=t},executeAction:function(e,t){var n=this._actions[e];return n&&n(t)},dispose:function(){var e=this;(0,l.each)(e.callbackNames()||[],function(){e[this].empty()})},addWidgetPrefix:function(e){var t=this.component.NAME;return"dx-".concat(t.slice(2).toLowerCase()).concat(e?"-".concat(e):"")},getWidgetContainerClass:function(){var e="dxDataGrid"===this.component.NAME?null:"container";return this.addWidgetPrefix(e)},elementIsInsideGrid:function(e){return e.closest(".".concat(this.getWidgetContainerClass())).parent().is(this.component.$element())}}),v=m,C=v.inherit({getView:function(e){return this.component._views[e]},getViews:function(){return this.component._views}}),$=m.inherit({_isReady:function(){return this.component.isReady()},_endUpdateCore:function(){this.callBase(),!this._isReady()&&this._requireReady&&(this._requireRender=!1,this.component._requireResize=!1),this._requireRender&&(this._requireRender=!1,this.render(this._$parent))},_invalidate:function(e,t){this._requireRender=!0,this.component._requireResize=(0,d.hasWindow)()&&(this.component._requireResize||e),this._requireReady=this._requireReady||t},_renderCore:function(){},_resizeCore:function(){},_parentElement:function(){return this._$parent},ctor:function(e){this.callBase(e),this.renderCompleted=(0,a.default)(),this.resizeCompleted=(0,a.default)()},element:function(){return this._$element},getElementHeight:function(){var e=this.element();if(!e)return 0;var t=parseFloat(e.css("marginTop"))||0,n=parseFloat(e.css("marginBottom"))||0;return e.get(0).offsetHeight+t+n},isVisible:function(){return!0},getTemplate:function(e){return this.component._getTemplate(e)},render:function(e,t){var n=this,i=this._$element,a=this.isVisible();if((i||e)&&(this._requireReady=!1,i||(i=this._$element=(0,o.default)("<div>").appendTo(e),this._$parent=e),i.toggleClass("dx-hidden",!a),a)){this.component._optionCache={};var r=this._renderCore(t);this.component._optionCache=void 0,r?r.done(function(){n.renderCompleted.fire(t)}):this.renderCompleted.fire(t)}},resize:function(){this.isResizing=!0,this._resizeCore(),this.resizeCompleted.fire(),this.isResizing=!1},focus:function(e){this.element().get(0).focus({preventScroll:e})}});function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};return Object.entries(t).forEach(function(t){var i=p(t,2),o=i[0],a=i[1],r=e[o];r&&((0,s.isFunction)(a)?n[o]=a(r):n[o]=r.inherit(a))}),n}function y(e,t){var n=t.modules,i=t.modulesOrder;function o(t){var n={};return(0,l.each)(t,function(t,i){var o,a,r,s,d=new i(e);d.name=t,o=e,a=t,(s=(r=d).publicMethods())&&(0,l.each)(s,function(e,t){if(!r[t])throw c.default.Error("E1006",a,t);if(o[t])throw c.default.Error("E1005",t);o[t]=function(){return r[t].apply(r,arguments)}}),n[t]=d}),n}i&&n.sort(function(e,t){var n=i.indexOf(e.name),o=i.indexOf(t.name);return n<0&&(n=1e6),o<0&&(o=1e6),n-o});var a={},r={};n.forEach(function(e){var t=e.name,n=e.controllers,i=e.views;Object.entries(void 0===n?{}:n).forEach(function(e){var n,i=p(e,2),o=i[0],r=i[1];if(a[o])throw c.default.Error("E1001",t,o);if(!(null===(n=null==r?void 0:r.subclassOf)||void 0===n?void 0:n.call(r,v)))throw c.default.Error("E1002",t,o);a[o]=r}),Object.entries(void 0===i?{}:i).forEach(function(e){var n,i=p(e,2),o=i[0],a=i[1];if(r[o])throw c.default.Error("E1003",t,o);if(!(null===(n=null==a?void 0:a.subclassOf)||void 0===n?void 0:n.call(a,$)))throw c.default.Error("E1004",t,o);r[o]=a})});var s=n.filter(function(e){return!!e.extenders}),d=s.reduce(function(e,t){var n=t.extenders;return f(f({},e),w(e,null==n?void 0:n.controllers))},a),u=s.reduce(function(e,t){var n=t.extenders;return f(f({},e),w(e,null==n?void 0:n.views))},r);e._controllers=o(d),e._views=o(u)}t.default={modules:[],View:$,ViewController:C,Controller:v,registerModule:function(e,t){for(var n=this.modules,i=0;i<n.length;i++)if(n[i].name===e)return;t.name=e,n.push(t)},registerModulesOrder:function(e){this.modulesOrder=e},unregisterModule:function(e){this.modules=(0,r.grep)(this.modules,function(t){return t.name!==e})},processModules:y,callModuleItemsMethod:function(e,t,n){n=n||[],e._controllers&&(0,l.each)(e._controllers,function(){this[t]&&this[t].apply(this,n)}),e._views&&(0,l.each)(e._views,function(){this[t]&&this[t].apply(this,n)})}}},31560(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=x(n(68689)),o=n(36808),a=n(97251),r=n(68759),l=n(68841),s=n(1685),d=n(2005),u=n(65553),c=n(28675),h=n(4964),f=x(n(5735)),p=n(65252),g=n(16758),m=n(62459),v=n(74391),C=x(n(21445)),$=x(n(43914)),w=x(n(16936)),y=x(n(47228));function x(e){return e&&e.__esModule?e:{default:e}}function I(){return(I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var E="virtual",b="scrolling.mode",S={year:function(e){return e&&e.getFullYear()},month:function(e){return e&&e.getMonth()+1},day:function(e){return e&&e.getDate()},quarter:function(e){return e&&Math.floor(e.getMonth()/3)+1},hour:function(e){return e&&e.getHours()},minute:function(e){return e&&e.getMinutes()},second:function(e){return e&&e.getSeconds()}},T=function(){var e=arguments[1],t=this.calculateCellValue(e);if(!(0,h.isDefined)(t))return null;if(D(this.dataType))return S[arguments[0]](t);if("number"===this.dataType){var n=arguments[0];return Math.floor(Number(t)/n)*n}};function D(e){return"date"===e||"datetime"===e}var R=function(e){e.get(0).textContent="\xa0"},O=function(e){e=e||[];for(var t=(0,v.normalizeSortingInfo)(e),n=0;n<e.length;n++)e&&e[n]&&void 0!==e[n].isExpanded&&(t[n].isExpanded=e[n].isExpanded),e&&e[n]&&void 0!==e[n].groupInterval&&(t[n].groupInterval=e[n].groupInterval);return t},F=function(e,t){var n=$.default.format(e,t.format)||e&&e.toString()||"",i={value:e,valueText:t.getDisplayFormat?t.getDisplayFormat(n):n,target:t.target||"row",groupInterval:t.groupInterval};return t.customizeText?t.customizeText.call(t,i):i.valueText},A=function(e,t){var n=e.displayFormat||e.columnCaption&&t["".concat(e.summaryType,"OtherColumn")]||t[e.summaryType];return F(e.value,{format:e.valueFormat,getDisplayFormat:function(t){return n?(0,c.format)(n,t,e.columnCaption):t},customizeText:e.customizeText})},P=function(e){var t=e.data&&e.data(),n=t&&t.dxComponents,i=n&&n[0];return i&&t[i]};t.default={renderNoDataText:function(e){if(e=e||this.element()){var t=this.addWidgetPrefix("nodata"),n=e.find(".".concat(t)).last(),o=this._dataController.isEmpty(),a=this._dataController.isLoading();n.length||(n=(0,i.default)("<span>").addClass(t).appendTo(e)),o&&!a?n.removeClass("dx-hidden").text(this._getNoDataText()):n.addClass("dx-hidden")}},renderLoadPanel:function(e,t,n){var o;this._loadPanel&&this._loadPanel.$element().remove(),(o=this.option("loadPanel"))&&("auto"===o.enabled?!n:o.enabled)?(o=(0,l.extend)({shading:!1,message:o.text,container:t},o),this._loadPanel=this._createComponent((0,i.default)("<div>").appendTo(t),w.default,o)):this._loadPanel=null},calculateLoadPanelPosition:function(e){var t=(0,i.default)((0,p.getWindow)());return(0,u.getHeight)(e)>(0,u.getHeight)(t)?{of:t,boundary:e,collision:"fit"}:{of:e}},getIndexByKey:function(e,t,n){var i=-1;if(void 0!==e&&Array.isArray(t)){n=arguments.length<=2?"key":n;for(var a=0;a<t.length;a++){var r=(0,h.isDefined)(n)?t[a][n]:t[a];if((0,o.equalByValue)(e,r)){i=a;break}}}return i},combineFilters:function(e,t){var n,i=[];t=t||"and";for(var o=0;o<e.length;o++)if(e[o]){if(1===(null===(n=e[o])||void 0===n?void 0:n.length)&&"!"===e[o][0]){if("and"===t)return["!"];if("or"===t)continue}i.length&&i.push(t),i.push(e[o])}if(1===i.length&&(i=i[0]),i.length)return i},checkChanges:function(e,t){for(var n=0,i=0;i<t.length;i++)e[t[i]]&&n++;return e.length&&e.length===n},equalFilterParameters:function e(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!e(t[i],n[i]))return!1;return!0}return(0,h.isFunction)(t)&&t.columnIndex>=0&&(0,h.isFunction)(n)&&n.columnIndex>=0?t.columnIndex===n.columnIndex&&(0,a.toComparable)(t.filterValue)===(0,a.toComparable)(n.filterValue):(0,a.toComparable)(t)==(0,a.toComparable)(n)},proxyMethod:function(e,t,n){e[t]||(e[t]=function(){var e=this._dataSource;return e?e[t].apply(e,arguments):n})},formatValue:F,getFormatOptionsByColumn:function(e,t){return{format:e.format,getDisplayFormat:e.getDisplayFormat,customizeText:e.customizeText,target:t,trueText:e.trueText,falseText:e.falseText}},getDisplayValue:function(e,t,n,i){return e.displayValueMap&&void 0!==e.displayValueMap[t]?e.displayValueMap[t]:e.calculateDisplayValue&&n&&"group"!==i?e.calculateDisplayValue(n):!e.lookup||"group"===i&&(e.calculateGroupValue||e.calculateDisplayValue)?t:e.lookup.calculateCellValue(t)},getGroupRowSummaryText:function(e,t){for(var n="(",i=0;i<e.length;i++){var o=e[i];n+=(i>0?", ":"")+A(o,t)}return n+")"},getSummaryText:A,normalizeSortingInfo:O,getFormatByDataType:function(e){switch(e){case"date":return"shortDate";case"datetime":return"shortDateShortTime";default:return}},getHeaderFilterGroupParameters:function(e,t){var n=[],i=e.dataField||e.name,o=y.default.getGroupInterval(e);return o?((0,s.each)(o,function(a,r){n.push(t?{selector:i,groupInterval:r,isExpanded:a<o.length-1}:T.bind(e,r))}),n):(t?n=[{selector:i,isExpanded:!1}]:(n=function(t){var n=e.calculateCellValue(t);return void 0!==n&&""!==n||(n=null),n},e.sortingMethod&&(n=[{selector:n,compare:e.sortingMethod.bind(e)}])),n)},equalSortParameters:function(e,t,n){if(e=O(e),t=O(t),Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var i,o,a=0;a<e.length;a++)if(i=e[a].selector,o=t[a].selector,!((0,h.isFunction)(i)&&(0,h.isFunction)(o)&&i.originalCallback&&o.originalCallback?i.originalCallback===o.originalCallback&&i.columnIndex===o.columnIndex:i===o)||e[a].desc!==t[a].desc||e[a].groupInterval!==t[a].groupInterval||!n&&Boolean(e[a].isExpanded)!==Boolean(t[a].isExpanded))return!1;return!0}return(!e||!e.length)==(!t||!t.length)},getPointsByColumns:function(e,t,n,i){for(var o,a,r,l=e.length,s=!1,u=i||0,c=[],h=0;h<=l;h++){h<l&&(a=(o=e.eq(h)).offset(),r="rtl"===o.css("direction"));var f={index:u,x:a?a.left+(!n&&r^h===l?(0,d.getBoundingRect)(o[0]).width:0):0,y:a?a.top+(n&&h===l?(0,d.getBoundingRect)(o[0]).height:0):0,columnIndex:u};if(!n&&h>0){var p=e.eq(h-1).offset();p.top<f.y&&(f.y=p.top)}t&&(s=t(f)),s||c.push(f),u++}return c},getExpandCellTemplate:function(){return{allowRenderToDetachedContainer:!0,render:function(e,t){var n=(0,i.default)(e);if(!(0,h.isDefined)(t.value)||t.data&&t.data.isContinuation||t.row.isNewRow)R(n);else{var o=t.component.getView("rowsView");n.addClass("dx-datagrid-expand").addClass("dx-selection-disabled"),(0,i.default)("<div>").addClass(t.value?"dx-datagrid-group-opened":"dx-datagrid-group-closed").appendTo(n),o.setAria("label",t.value?o.localize("dxDataGrid-ariaCollapse"):o.localize("dxDataGrid-ariaExpand"),n)}}}},setEmptyText:R,isDateType:D,getSelectionRange:function(e){try{if(e)return{selectionStart:e.selectionStart,selectionEnd:e.selectionEnd}}catch(t){}return{}},setSelectionRange:function(e,t){try{e&&e.setSelectionRange&&e.setSelectionRange(t.selectionStart,t.selectionEnd)}catch(n){}},focusAndSelectElement:function(e,t){var n=t.is(":focus");C.default.trigger(t,"focus");var i=e.option("editing.selectTextOnEditStart"),o=t.get(0);if(!n&&i&&t.is(".dx-texteditor-input")&&!t.is("[readonly]")){var a=P(t.closest(".dx-texteditor"));(0,r.when)(a&&a._loadItemDeferred).done(function(){o.select()})}},getWidgetInstance:P,getLastResizableColumnIndex:function(e,t){var n,i=e.some(function(e){return e&&!e.command&&!e.fixed&&!1!==e.allowResizing});for(n=e.length-1;e[n];n--){var o=e[n],a=t&&t[n],r=!i||!1!==o.allowResizing;if(!o.command&&!o.fixed&&"adaptiveHidden"!==a&&r)break}return n},isElementInCurrentGrid:function(e,t){return!(!t||!t.length)&&t.closest(".".concat(e.getWidgetContainerClass())).parent().is(e.component.$element())},isVirtualRowRendering:function(e){var t=e.option("scrolling.rowRenderingMode"),n=e.option(b)===E,i="infinite"===e.option(b);return!(!1!==e.option("scrolling.legacyMode")||!n&&!i)||t===E},getPixelRatio:function(e){return e.devicePixelRatio||1},_setPixelRatioFn:function(e){this.getPixelRatio=e},getContentHeightLimit:function(e){return e.mozilla?8e6:15e6/this.getPixelRatio((0,p.getWindow)())},normalizeLookupDataSource:function(e){var t;return e.items?t=e.items:(t=e.dataSource,(0,h.isFunction)(t)&&!f.default.isWrapped(t)&&(t=t({}))),(0,m.normalizeDataSourceOptions)(t)},getWrappedLookupDataSource:function(e,t,n){var i=this;if(!t)return[];var o=this.normalizeLookupDataSource(e.lookup);if(e.calculateCellValue!==e.defaultCalculateCellValue)return o;var a,l,s,d=t.remoteOperations().groupPaging,u=e.displayField&&(0,h.isString)(e.displayField),c=function(e,t){var n,i=null!==(n=t.skip)&&void 0!==n?n:0,o=t.take?i+t.take:e.length;return e.slice(i,o)};return I(I({},o),{__dataGridSourceFilter:n,load:function(f){var p,m,v,C,$=new r.Deferred;return(p=f,v=(Array.isArray(m=u?[e.dataField,e.displayField]:e.dataField)||(m=[m]),m.map(function(e,t){return(0,h.isString)(e)?{selector:e,isExpanded:t<m.length-1}:e})),C=new r.Deferred,a&&(!d||p.skip===s&&p.take===l)?C.resolve(c(a,p)):(s=p.skip,l=p.take,t.load({filter:n,group:v,take:d?p.take:void 0,skip:d?p.skip:void 0}).done(function(e){a=e,C.resolve(d?e:c(e,p))}).fail(C.fail)),C).done(function(t){if(0!==t.length){var n=i.combineFilters(t.flatMap(function(e){return e.key}).map(function(t){return[e.lookup.valueExpr,t]}),"or");new g.DataSource(I(I(I({},o),f),{filter:i.combineFilters([n,f.filter],"and"),paginate:!1})).load().done($.resolve).fail($.fail)}else $.resolve([])}).fail($.fail),$},key:e.lookup.valueExpr,byKey:function(t){var n=(0,r.Deferred)();return this.load({filter:[e.lookup.valueExpr,"=",t]}).done(function(e){n.resolve(e[0])}),n.promise()}})}}},95026(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.masterDetailModule=void 0;var i=u(n(68689)),o=n(36808),a=n(68759),r=n(1685),l=n(65553),s=n(4964),d=u(n(31560));function u(e){return e&&e.__esModule?e:{default:e}}var c,h="dx-master-detail-row",f={defaultOptions:function(){return{masterDetail:{enabled:!1,autoExpandAll:!1,template:null}}},extenders:{controllers:{columns:{_getExpandColumnsCore:function(){var e=this.callBase();return this.option("masterDetail.enabled")&&e.push({type:"detailExpand",cellTemplate:d.default.getExpandCellTemplate()}),e}},data:(c=function(e){e._expandedItems=[],e._isExpandAll=e.option("masterDetail.autoExpandAll")},{init:function(){c(this),this.callBase()},expandAll:function(e){var t=this;e<0?(t._isExpandAll=!0,t._expandedItems=[],t.updateItems()):t.callBase.apply(t,arguments)},collapseAll:function(e){var t=this;e<0?(t._isExpandAll=!1,t._expandedItems=[],t.updateItems()):t.callBase.apply(t,arguments)},isRowExpanded:function(e){var t=d.default.getIndexByKey(e,this._expandedItems);return Array.isArray(e)?this.callBase.apply(this,arguments):!!(this._isExpandAll^(t>=0&&this._expandedItems[t].visible))},_getRowIndicesForExpand:function(e){var t=this.getRowIndexByKey(e);return[t,t+1]},_changeRowExpandCore:function(e){var t,n=this;if(Array.isArray(e))t=n.callBase.apply(n,arguments);else{var i=d.default.getIndexByKey(e,n._expandedItems);if(i>=0){var o=n._expandedItems[i].visible;n._expandedItems[i].visible=!o}else n._expandedItems.push({key:e,visible:!0});n.updateItems({changeType:"update",rowIndices:n._getRowIndicesForExpand(e)}),t=(new a.Deferred).resolve()}return t},_processDataItem:function(e,t){var n=this.callBase.apply(this,arguments);return n.isExpanded=this.isRowExpanded(n.key),void 0===t.detailColumnIndex&&(t.detailColumnIndex=-1,(0,r.each)(t.visibleColumns,function(e,n){if("expand"===n.command&&!(0,s.isDefined)(n.groupIndex))return t.detailColumnIndex=e,!1})),t.detailColumnIndex>=0&&(n.values[t.detailColumnIndex]=n.isExpanded),n},_processItems:function(e,t){var n=this,i=t.changeType,a=[];return e=n.callBase.apply(n,arguments),"loadingAll"===i?e:("refresh"===i&&(n._expandedItems=(0,o.grep)(n._expandedItems,function(e){return e.visible})),(0,r.each)(e,function(e,t){a.push(t);var i=d.default.getIndexByKey(t.key,n._expandedItems);"data"===t.rowType&&(t.isExpanded||i>=0)&&!t.isNewRow&&a.push({visible:t.isExpanded,rowType:"detail",key:t.key,data:t.data,values:[]})}),a)},optionChanged:function(e){var t,n;if("masterDetail"===e.name){switch(e.name="dataSource",e.fullName){case"masterDetail":var i=e.value||{},o=e.previousValue||{};t=i.enabled!==o.enabled,n=i.autoExpandAll!==o.autoExpandAll;break;case"masterDetail.template":c(this);break;case"masterDetail.enabled":t=!0;break;case"masterDetail.autoExpandAll":n=!0}(t||n)&&c(this)}this.callBase(e)}}),resizing:{fireContentReadyAction:function(){this.callBase.apply(this,arguments),this._updateParentDataGrids(this.component.$element())},_updateParentDataGrids:function(e){var t=this,n=e.closest(".".concat(h));n.length&&(0,a.when)(this._updateMasterDataGrid(n,e)).done(function(){t._updateParentDataGrids(n.parent())})},_updateMasterDataGrid:function(e,t){var n=(0,i.default)(e).data("options"),o=(0,i.default)(e).closest(".".concat(this.getWidgetContainerClass())).parent().data("dxDataGrid");if(n&&o)return this._updateMasterDataGridCore(o,n)},_updateMasterDataGridCore:function(e,t){var n=(0,a.Deferred)();if(e.getView("rowsView").isFixedColumns())this._updateFixedMasterDetailGrids(e,t.rowIndex,(0,i.default)(t.rowElement)).done(n.resolve);else{if(!0===e.option("scrolling.useNative"))return void e.updateDimensions().done(function(){return n.resolve(!0)});var o=e.getScrollable();o?null==o||o.update().done(function(){return n.resolve()}):n.resolve()}return n.promise()},_updateFixedMasterDetailGrids:function(e,t,n){var o=this,r=(0,a.Deferred)(),s=(0,i.default)(e.getRowElement(t)),d=(0,i.default)(e.getView("rowsView").getTableElements()),u=2===(null==s?void 0:s.length)&&(0,l.getHeight)(s.eq(0))!==(0,l.getHeight)(s.eq(1)),c=2===(null==d?void 0:d.length)&&(0,l.getHeight)(d.eq(0))!==(0,l.getHeight)(d.eq(1));if(u||c){var h=(0,l.getWidth)(n);return e.updateDimensions().done(function(){var t=o.option("columnAutoWidth")&&!0===e.option("scrolling.useNative"),i=t&&h!==(0,l.getWidth)(n);t&&i?o.updateDimensions().done(function(){return r.resolve(!0)}):r.resolve(!0)}),r.promise()}return(0,a.Deferred)().resolve()},_toggleBestFitMode:function(e){if(this.callBase.apply(this,arguments),this.option("masterDetail.template")){var t=this._rowsView.getTableElement();t&&t.find(".dx-master-detail-cell").css("maxWidth",e?0:"")}}}},views:{rowsView:{_getCellTemplate:function(e){var t=e.column,n=this.getController("editing"),i=n&&n.isEditRow(e.rowIndex);return"detail"!==t.command||i?this.callBase.apply(this,arguments):this.option("masterDetail.template")||{allowRenderToDetachedContainer:!1,render:this._getDefaultTemplate(t)}},_isDetailRow:function(e){return e&&e.rowType&&0===e.rowType.indexOf("detail")},_createRow:function(e){var t=this.callBase.apply(this,arguments);return e&&this._isDetailRow(e)&&(this.option("showRowLines")&&t.addClass("dx-row-lines"),t.addClass(h),(0,s.isDefined)(e.visible)&&t.toggle(e.visible)),t},_renderCells:function(e,t){var n=t.row,i=this._columnsController.getVisibleColumns();n.rowType&&this._isDetailRow(n)?this._needRenderCell(0,t.columnIndices)&&this._renderCell(e,{value:null,row:n,rowIndex:n.rowIndex,column:{command:"detail"},columnIndex:0,change:t.change}).addClass("dx-cell-focus-disabled").addClass("dx-master-detail-cell").attr("colSpan",i.length):this.callBase.apply(this,arguments)}}}}};t.masterDetailModule=f},30531(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.pagerModule=void 0;var i=n(4964),o=n(65252),a=s(n(38306)),r=s(n(23632)),l=s(n(88445));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){return 1+(parseInt(e.pageIndex())||0)},u={defaultOptions:function(){return{pager:{visible:"auto",showPageSizeSelector:!1,allowedPageSizes:"auto",label:a.default.format("dxPager-ariaLabel")}}},views:{pagerView:l.default.View.inherit({init:function(){var e=this,t=this.getController("data");t.changed.add(function(n){if(n&&n.repaintChangesOnly){var i=e._pager;i?i.option({pageIndex:d(t),pageSize:t.pageSize(),pageCount:t.pageCount(),totalCount:t.totalCount(),hasKnownLastPage:t.hasKnownLastPage()}):e.render()}else n&&("update"===n.changeType||"updateSelection"===n.changeType||"updateFocusedRow"===n.changeType)||(e._pager=null,e.render())})},_renderCore:function(){var e=this.element().addClass(this.addWidgetPrefix("pager")),t=this.option("pager")||{},n=this.getController("data"),a=this.getController("keyboardNavigation"),l={maxPagesCount:10,pageIndex:d(n),pageCount:n.pageCount(),pageSize:n.pageSize(),showPageSizes:t.showPageSizeSelector,showInfo:t.showInfo,displayMode:t.displayMode,pagesNavigatorVisible:t.visible,showNavigationButtons:t.showNavigationButtons,label:t.label,pageSizes:this.getPageSizes(),totalCount:n.totalCount(),hasKnownLastPage:n.hasKnownLastPage(),pageIndexChanged:function(e){n.pageIndex()!==e-1&&n.pageIndex(e-1)},pageSizeChanged:function(e){n.pageSize(e)},onKeyDown:function(e){return a&&a.executeAction("onKeyDown",e)},useLegacyKeyboardNavigation:this.option("useLegacyKeyboardNavigation"),useKeyboard:this.option("keyboardNavigation.enabled")};(0,i.isDefined)(t.infoText)&&(l.infoText=t.infoText),this._pager?this._pager.repaint():(0,o.hasWindow)()?this._pager=this._createComponent(e,r.default,l):e.addClass("dx-pager").html('<div class="dx-pages"><div class="dx-page"></div></div>')},getPager:function(){return this._pager},getPageSizes:function(){var e=this.getController("data"),t=this.option("pager"),n=t&&t.allowedPageSizes,o=e.pageSize();return(0,i.isDefined)(this._pageSizes)&&this._pageSizes.includes(o)||(this._pageSizes=[],t&&(Array.isArray(n)?this._pageSizes=n:n&&o>1&&(this._pageSizes=[Math.floor(o/2),o,2*o]))),this._pageSizes},isVisible:function(){var e=this.getController("data"),t=this.option("pager"),n=t&&t.visible,i=this.option("scrolling");return"auto"===n&&(n=(!i||"virtual"!==i.mode&&"infinite"!==i.mode)&&(e.pageCount()>1||e.isLoaded()&&!e.hasKnownLastPage())),n},getHeight:function(){return this.getElementHeight()},optionChanged:function(e){var t=e.name,n="pager"===t,i="paging"===t,a="dataSource"===t,r=this.getController("data");if(n||i||"scrolling"===t||a){if(e.handled=!0,r.skipProcessingPagingChange(e.fullName))return;(n||i)&&(this._pageSizes=null),a||(this._pager=null,this._invalidate(),(0,o.hasWindow)()&&n&&this.component&&this.component.resize())}},dispose:function(){this._pager=null}})}};t.pagerModule=u},8315(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CLASSES=t.ATTRIBUTES=void 0,t.ATTRIBUTES={dragCell:"dx-drag-cell"},t.CLASSES={cellFocusDisabled:"dx-cell-focus-disabled",handleIcon:"drag-icon",commandDrag:"dx-command-drag",sortableWithoutHandle:"dx-sortable-without-handle",rowsView:"rowsview"}},58574(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.GridCoreRowDraggingDom=void 0;var i=r(n(68689)),o=r(n(31560)),a=n(8315);function r(e){return e&&e.__esModule?e:{default:e}}t.GridCoreRowDraggingDom={createHandleTemplateFunc:function(e){return function(t,n){var r=(0,i.default)(t);if(r.attr(a.ATTRIBUTES.dragCell,""),"data"===n.rowType)return r.addClass(a.CLASSES.cellFocusDisabled),(0,i.default)("<span>").addClass(e(a.CLASSES.handleIcon));o.default.setEmptyText(r)}}}},10628(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.rowDraggingModule=void 0;var i=c(n(68689)),o=n(68841),a=n(36808),r=n(65553),l=c(n(25342)),s=c(n(31560)),d=n(8315),u=n(58574);function c(e){return e&&e.__esModule?e:{default:e}}t.rowDraggingModule={defaultOptions:function(){return{rowDragging:{showDragIcons:!0,dropFeedbackMode:"indicate",allowReordering:!1,allowDropInsideItem:!1}}},extenders:{views:{rowsView:{init:function(){this.callBase.apply(this,arguments),this._updateHandleColumn()},_allowReordering:function(){var e=this.option("rowDragging");return!(!e||!(e.allowReordering||e.allowDropInsideItem||e.group))},_updateHandleColumn:function(){var e=this.option("rowDragging"),t=this._allowReordering(),n=this._columnsController,i=t&&e.showDragIcons;n&&n.addCommandColumn({type:"drag",command:"drag",visibleIndex:-2,alignment:"center",cssClass:d.CLASSES.commandDrag,width:"auto",cellTemplate:this._getHandleTemplate(),visible:i}),n.columnOption("type:drag","visible",i)},_renderContent:function(){var e=this,t=this.option("rowDragging"),n=this._allowReordering(),a=this.callBase.apply(this,arguments),r=this._isFixedTableRendering,s="_sortable",u="_sortableFixed",c=r?u:s,h=r?s:u,f=function(t){var n;null===(n=e[u])||void 0===n||n.$element().css("pointerEvents",t?"auto":"")},p=".dx-row:not(.dx-freespace-row):not(.dx-virtual-row):not(.dx-header-row):not(.dx-footer-row)",g=this.option("dataRowTemplate")?"> table > tbody".concat(p):"> table > tbody > ".concat(p);return(n||this[c])&&a.length&&(this[c]=this._createComponent(a,l.default,(0,o.extend)({component:this.component,contentTemplate:null,filter:g,cursorOffset:function(t){var n=t.event,o=(0,i.default)(e.element()).offset();return{x:n.pageX-o.left}},onDraggableElementShown:function(n){if(!t.dragTemplate){var o=(0,i.default)(n.dragElement).children(".dx-widget").data(e.component.NAME);e._synchronizeScrollLeftPosition(o)}},dragTemplate:this._getDraggableRowTemplate(),handle:t.showDragIcons&&".".concat(d.CLASSES.commandDrag),dropFeedbackMode:"indicate"},t,{onDragStart:function(i){null===(o=e.getController("keyboardNavigation"))||void 0===o||o._resetFocusedCell();var o,a,r=i.component.getVisibleRows()[i.fromIndex];i.itemData=r&&r.data;var l=r&&"data"===r.rowType;i.cancel=!n||!l,null===(a=t.onDragStart)||void 0===a||a.call(t,i)},onDragEnter:function(){f(!0)},onDragLeave:function(){f(!1)},onDragEnd:function(e){var n;f(!1),null===(n=t.onDragEnd)||void 0===n||n.call(t,e)},onAdd:function(e){var n;f(!1),null===(n=t.onAdd)||void 0===n||n.call(t,e)},dropFeedbackMode:t.dropFeedbackMode,onOptionChanged:function(t){e[u]&&("fromIndex"!==t.name&&"toIndex"!==t.name||e[h].option(t.name,t.value))}})),a.toggleClass("dx-scrollable-container",r),a.toggleClass(d.CLASSES.sortableWithoutHandle,n&&!t.showDragIcons)),a},_renderCore:function(e){var t=this;this.callBase.apply(this,arguments),e&&"update"===e.changeType&&e.repaintChangesOnly&&s.default.isVirtualRowRendering(this)&&(0,a.deferUpdate)(function(){t._updateSortable()})},_updateSortable:function(){var e=this._dataController.getRowIndexOffset();[this._sortable,this._sortableFixed].forEach(function(t){null==t||t.option("offset",e),null==t||t.update()})},_resizeCore:function(){this.callBase.apply(this,arguments),this._updateSortable()},_getDraggableGridOptions:function(e){var t=this.option(),n=this.getColumns(),o=(0,i.default)(this.getRowElement(e.rowIndex));return{dataSource:[{id:1,parentId:0}],showBorders:!0,showColumnHeaders:!1,scrolling:{useNative:!1,showScrollbar:"never"},pager:{visible:!1},loadingTimeout:null,columnFixing:t.columnFixing,columnAutoWidth:t.columnAutoWidth,showColumnLines:t.showColumnLines,columns:n.map(function(e){return{width:e.width||e.visibleWidth,fixed:e.fixed,fixedPosition:e.fixedPosition}}),onRowPrepared:function(e){var t=e.component.getView("rowsView");(0,i.default)(e.rowElement).replaceWith(o.eq(t._isFixedTableRendering?1:0).clone())}}},_synchronizeScrollLeftPosition:function(e){var t=null==e?void 0:e.getScrollable();null==t||t.scrollTo({x:this._scrollLeft})},_getDraggableRowTemplate:function(){var e=this;return function(t){var n=e.component.$element(),o=(0,i.default)("<div>");(0,r.setWidth)(o,(0,r.getWidth)(n));var a=e._dataController.items(),l=a&&a[t.fromIndex],s=e._getDraggableGridOptions(l);return e._createComponent(o,e.component.NAME,s),o.find(".dx-gridbase-container").children(":not(.".concat(e.addWidgetPrefix(d.CLASSES.rowsView),")")).hide(),o}},_getHandleTemplate:function(){var e=this;return u.GridCoreRowDraggingDom.createHandleTemplateFunc(function(t){return e.addWidgetPrefix(t)})},optionChanged:function(e){"rowDragging"===e.name&&(this._updateHandleColumn(),this._invalidate(!0,!0),e.handled=!0),this.callBase.apply(this,arguments)}}}}}},59734(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.searchModule=void 0;var i=u(n(71251)),o=u(n(68689)),a=n(97251),r=n(4964),l=u(n(72138)),s=u(n(38306)),d=u(n(31560));function u(e){return e&&e.__esModule?e:{default:e}}var c="search-panel",h="search-text";function f(e){return(0,r.isDefined)(e.allowSearch)?e.allowSearch:e.allowFiltering}function p(e,t){var n=e.lookup;return e.parseValue?n?e.parseValue.call(n,t):e.parseValue(t):t}var g,m={defaultOptions:function(){return{searchPanel:{visible:!1,width:160,placeholder:s.default.format("dxDataGrid-searchPanelPlaceholder"),highlightSearchText:!0,highlightCaseSensitive:!1,text:"",searchVisibleColumnsOnly:!1}}},extenders:{controllers:{data:{publicMethods:function(){return this.callBase().concat(["searchByText"])},_calculateAdditionalFilter:function(){var e=this.callBase(),t=function(e,t){var n,i,o,r=e._columnsController.getColumns(),s=e.option("searchPanel.searchVisibleColumnsOnly"),u=[];if(!t)return null;function c(e){for(var t=(0,a.compileGetter)(o.valueExpr),n=0;n<e.length;n++){var r=t(e[n]);u.push(i.createFilterExpression(r,null,"search"))}}for(n=0;n<r.length;n++)if(i=r[n],(!s||i.visible)&&f(i)&&i.calculateFilterExpression){o=i.lookup;var h=p(i,t);o&&o.items?(0,l.default)(o.items).filter(i.createFilterExpression.call({dataField:o.displayExpr,dataType:o.dataType,calculateFilterExpression:i.calculateFilterExpression},h,null,"search")).enumerate().done(c):void 0!==h&&u.push(i.createFilterExpression(h,null,"search"))}return 0===u.length?["!"]:d.default.combineFilters(u,"or")}(this,this.option("searchPanel.text"));return d.default.combineFilters([e,t])},searchByText:function(e){this.option("searchPanel.text",e)},optionChanged:function(e){switch(e.fullName){case"searchPanel.text":case"searchPanel":this._applyFilter(),e.handled=!0;break;default:this.callBase(e)}}}},views:{headerPanel:(g=function(e){return e.option("searchPanel")},{_getToolbarItems:function(){var e=this.callBase();return this._prepareSearchItem(e)},_prepareSearchItem:function(e){var t=this,n=t.getController("data"),i=g(t);return i&&i.visible&&e.push({template:function(e,a,r){var l=(0,o.default)("<div>").addClass(t.addWidgetPrefix(c)).appendTo(r);t.getController("editorFactory").createEditor(l,{width:i.width,placeholder:i.placeholder,parentType:"searchPanel",value:t.option("searchPanel.text"),updateValueTimeout:700,setValue:function(e){n.searchByText(e)},editorOptions:{inputAttr:{"aria-label":s.default.format("".concat(t.component.NAME,"-ariaSearchInGrid"))}}}),t.resize()},name:"searchPanel",location:"after",locateInMenu:"never",sortIndex:40}),e},getSearchTextEditor:function(){var e=this,t=e.element(),n=t.find(".".concat(e.addWidgetPrefix(c))).filter(function(){return(0,o.default)(this).closest(".".concat(e.addWidgetPrefix("header-panel"))).is(t)});return n.length?n.dxTextBox("instance"):null},isVisible:function(){var e=g(this);return this.callBase()||e&&e.visible},optionChanged:function(e){if("searchPanel"===e.name){if("searchPanel.text"===e.fullName){var t=this.getSearchTextEditor();t&&t.option("value",e.value)}else this._invalidate();e.handled=!0}else this.callBase(e)}}),rowsView:{init:function(){this.callBase.apply(this,arguments),this._searchParams=[]},_getFormattedSearchText:function(e,t){var n=p(e,t),i=d.default.getFormatOptionsByColumn(e,"search");return d.default.formatValue(n,i)},_getStringNormalizer:function(){var e=this.option("searchPanel.highlightCaseSensitive");return function(t){return e?t:t.toLowerCase()}},_findHighlightingTextNodes:function(e,t,n){var i,a=t.parent(),r=this._getStringNormalizer(),l=r(n),s=[];if(a.length){if(e){if(e.groupIndex>=0&&!e.showWhenGrouped)i=t;else{var d=this._columnsController.getVisibleIndex(e.index);i=a.children("td").eq(d).find("*")}}}else a=(0,o.default)("<div>").append(t);return(i=(null==i?void 0:i.length)?i:a.find("*")).each(function(e,t){for(var n=(0,o.default)(t).contents(),i=0;i<n.length;i++){var a=n.get(i);3===a.nodeType&&r(a.textContent||a.nodeValue).indexOf(l)>-1&&s.push(a)}}),s},_highlightSearchTextCore:function(e,t){var n=(0,o.default)("<span>").addClass(this.addWidgetPrefix(h)),a=e.text(),r=e[0],l=this._getStringNormalizer(),s=l(a).indexOf(l(t));if(s>=0)return r.textContent?r.textContent=a.substr(0,s):r.nodeValue=a.substr(0,s),e.after(n.text(a.substr(s,t.length))),e=(0,o.default)(i.default.createTextNode(a.substr(s+t.length))).insertAfter(n),this._highlightSearchTextCore(e,t)},_highlightSearchText:function(e,t,n){var i=this,a=this._getStringNormalizer(),r=i.option("searchPanel.text");t&&n&&(r=r&&i._getFormattedSearchText(n,r)),r&&i.option("searchPanel.highlightSearchText")&&i._findHighlightingTextNodes(n,e,r).forEach(function(e){t?a((0,o.default)(e).text())===a(r)&&(0,o.default)(e).replaceWith((0,o.default)("<span>").addClass(i.addWidgetPrefix(h)).text((0,o.default)(e).text())):i._highlightSearchTextCore((0,o.default)(e),r)})},_renderCore:function(){var e=this,t=this.callBase.apply(this,arguments);return(this.option().rowTemplate||this.option("dataRowTemplate"))&&(this.option("templatesRenderAsynchronously")?(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout(function(){e._highlightSearchText(e.getTableElement())})):this._highlightSearchText(this.getTableElement())),t},_updateCell:function(e,t){var n=this,i=t.column,o="string"!==(i.lookup&&i.lookup.dataType||i.dataType);f(i)&&!t.isOnForm&&(this.option("templatesRenderAsynchronously")?(this._searchParams.length||(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout(function(){n._searchParams.forEach(function(e){n._highlightSearchText.apply(n,e)}),n._searchParams=[]})),this._searchParams.push([e,o,i])):this._highlightSearchText(e,o,i)),this.callBase(e,t)},dispose:function(){clearTimeout(this._highlightTimer),this.callBase()}}}}};t.searchModule=m},66709(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.selectionModule=void 0;var i=C(n(68689)),o=n(68759),a=n(68841),r=n(1685),l=n(52869),s=n(4964),d=n(44479),u=C(n(21445)),c=C(n(45585)),h=n(48634),f=C(n(38306)),p=C(n(716)),g=C(n(37499)),m=C(n(88445)),v=C(n(31560));function C(e){return e&&e.__esModule?e:{default:e}}var $,w,y="dx-editor-cell",x="dx-selection",I="dx-select-checkbox",E="dx-command-select",b="dx-data-row",S="selection.showCheckBoxesMode",T="selection.mode",D=function(e,t){var n=e.getController("selection"),o=e.getView("rowsView"),a=(0,i.default)(t.target).closest(".".concat(b)),r=o.getRowIndex(a);r<0||("onLongTap"===e.option(S)?n.isSelectionWithCheckboxes()?n.stopSelectionWithCheckboxes():n.startSelectionWithCheckboxes():("onClick"===e.option(S)&&n.startSelectionWithCheckboxes(),"always"!==e.option(S)&&n.changeItemSelection(r,{control:!0})))},R={defaultOptions:function(){return{selection:{mode:"none",showCheckBoxesMode:"onClick",allowSelectAll:!0,selectAllMode:"allPages",maxFilterLengthInRequest:1500,deferred:!1},selectionFilter:[],selectedRowKeys:[]}},controllers:{selection:m.default.Controller.inherit(($=function(e,t){var n=t.component,o=n.getView("rowsView");n.option("renderAsync")&&!n.option("selection.deferred")&&(t.value=n.isRowSelected(t.row.key)),o.renderSelectCheckBoxContainer((0,i.default)(e),t)},w=function(e,t){var n=t.column,o=(0,i.default)(e),a=t.component.getView("columnHeadersView");o.addClass(y),a._renderSelectAllCheckBox(o,n),a._attachSelectAllCheckBoxClickEvent(o)},{init:function(){var e=this.option("selection")||{},t=e.deferred,n=e.selectAllMode,i=e.mode;"infinite"!==this.option("scrolling.mode")||t||"multiple"!==i||"allPages"!==n||g.default.log("W1018"),this._dataController=this.getController("data"),this._selectionMode=i,this._isSelectionWithCheckboxes=!1,this._selection=this._createSelection(),this._updateSelectColumn(),this.createAction("onSelectionChanged",{excludeValidators:["disabled","readOnly"]}),this._dataController&&this._dataController.pushed.add(this._handleDataPushed.bind(this))},_handleDataPushed:function(e){var t=e.filter(function(e){return"remove"===e.type}).map(function(e){return e.key});t.length&&this.deselectRows(t)},_getSelectionConfig:function(){var e=this._dataController,t=this.getController("columns"),n=this.option("selection")||{},i=n.deferred,a=this.option("scrolling.mode"),r="virtual"===a||"infinite"===a,l=this.option("selection.allowSelectAll"),d=this.option("scrolling.legacyMode");return{selectedKeys:this.option("selectedRowKeys"),mode:this._selectionMode,deferred:i,maxFilterLengthInRequest:n.maxFilterLengthInRequest,selectionFilter:this.option("selectionFilter"),ignoreDisabledItems:!0,allowLoadByRange:function(){var e=t.getGroupColumns().length>0;return r&&!d&&!e&&l&&!i},key:function(){return null==e?void 0:e.key()},keyOf:function(t){return null==e?void 0:e.keyOf(t)},dataFields:function(){var t;return null===(t=e.dataSource())||void 0===t?void 0:t.select()},load:function(t){var n;return(null===(n=e.dataSource())||void 0===n?void 0:n.load(t))||(new o.Deferred).resolve([])},plainItems:function(){return e.items(!0)},isItemSelected:function(e){return e.selected},isSelectableItem:function(e){return"data"===(null==e?void 0:e.rowType)&&!e.isNewRow},getItemData:function(e){return(0,s.isDefined)(null==e?void 0:e.rowType)?(null==e?void 0:e.oldData)||(null==e?void 0:e.data):e},filter:function(){return e.getCombinedFilter(i)},totalCount:function(){return e.totalCount()},getLoadOptions:function(t,n,i){var o,a,r=null!==(a=null===(o=e.dataSource())||void 0===o?void 0:o.lastLoadOptions())&&void 0!==a?a:{},l=r.sort,d=r.filter,u=Math.min(t,n),c=Math.max(t,n);return(0,s.isDefined)(i)&&(u=Math.min(i,u),c=Math.max(i,c)),{skip:u,take:c-u+1,filter:d,sort:l}},onSelectionChanged:this._updateSelectedItems.bind(this)}},_updateSelectColumn:function(){var e=this.getController("columns"),t=this.isSelectColumnVisible();e.addCommandColumn({type:"selection",command:"select",visible:t,visibleIndex:-1,dataType:"boolean",alignment:"center",cssClass:E,width:"auto",cellTemplate:$,headerCellTemplate:w}),e.columnOption("command:select","visible",t)},_createSelection:function(){var e=this._getSelectionConfig();return new p.default(e)},_fireSelectionChanged:function(e){var t=this.option("selection.deferred")?{selectionFilter:this.option("selectionFilter")}:{selectedRowKeys:this.option("selectedRowKeys")};this.selectionChanged.fire(t),e&&this.executeAction("onSelectionChanged",e)},_updateCheckboxesState:function(e){var t=e.isDeferredMode,n=e.selectionFilter,i=e.selectedItemKeys,o=e.removedItemKeys;"onClick"===this.option(S)&&((t?n&&function(e,t){var n=0,i=e._dataController.store(),o=i&&i.key(),a=Array.isArray(o);if(!t.length)return!1;if(a&&Array.isArray(t[0])&&"and"===t[1]){for(var r=0;r<t.length;r++)if(Array.isArray(t[r])){if(t[r][0]!==o[n]||"="!==t[r][1])return!0;n++}return!1}return o!==t[0]}(this,n):i.length>1)?this.startSelectionWithCheckboxes():(t?n&&!n.length:0===i.length&&o.length)&&this.stopSelectionWithCheckboxes())},_updateSelectedItems:function(e){var t,n=this.option("selection.deferred"),i=this._selection.selectionFilter(),o=this._dataController,a=o.items(!0),r=o.items();if(a){var l=this.isSelectionWithCheckboxes(),s=this.getChangedItemIndexes(a),d=this.getChangedItemIndexes(r);this._updateCheckboxesState({selectedItemKeys:e.selectedItemKeys,removedItemKeys:e.removedItemKeys,selectionFilter:i,isDeferredMode:n}),(s.length||l!==this.isSelectionWithCheckboxes())&&o.updateItems({changeType:"updateSelection",itemIndexes:d}),n?(this.option("selectionFilter",i),t={}):(e.addedItemKeys.length||e.removedItemKeys.length)&&(this._selectedItemsInternalChange=!0,this.option("selectedRowKeys",e.selectedItemKeys.slice(0)),this._selectedItemsInternalChange=!1,t={selectedRowsData:e.selectedItems.slice(0),selectedRowKeys:e.selectedItemKeys.slice(0),currentSelectedRowKeys:e.addedItemKeys.slice(0),currentDeselectedRowKeys:e.removedItemKeys.slice(0)}),this._fireSelectionChanged(t)}},getChangedItemIndexes:function(e){for(var t=[],n=this.option("selection.deferred"),i=0,o=e.length;i<o;i++){var a=e[i],r=this.isRowSelected(n?a.data:a.key);this._selection.isDataItem(a)&&a.isSelected!==r&&t.push(i)}return t},callbackNames:function(){return["selectionChanged"]},optionChanged:function(e){var t=this;switch(this.callBase(e),e.name){case"selection":var n=this._selectionMode;if(this.init(),"selection.showCheckBoxesMode"!==e.fullName){var i=this._selectionMode,o=this.option("selectedRowKeys");n!==i&&("single"===i?o.length>1&&(o=[o[0]]):"multiple"!==i&&(o=[])),this.selectRows(o).always(function(){t._fireSelectionChanged()})}this.getController("columns").updateColumns(),e.handled=!0;break;case"selectionFilter":this._selection.selectionFilter(e.value),e.handled=!0;break;case"selectedRowKeys":var a=e.value||[];!Array.isArray(a)||this._selectedItemsInternalChange||!this.component.getDataSource()&&a.length||this.selectRows(a),e.handled=!0}},publicMethods:function(){return["selectRows","deselectRows","selectRowsByIndexes","getSelectedRowKeys","getSelectedRowsData","clearSelection","selectAll","deselectAll","startSelectionWithCheckboxes","stopSelectionWithCheckboxes","isRowSelected"]},isRowSelected:function(e){return this._selection.isItemSelected(e)},isSelectColumnVisible:function(){return"multiple"===this.option(T)&&("always"===this.option(S)||"onClick"===this.option(S)||this._isSelectionWithCheckboxes)},_isOnePageSelectAll:function(){return"page"===this.option("selection.selectAllMode")},isSelectAll:function(){return this._selection.getSelectAllState(this._isOnePageSelectAll())},selectAll:function(){return"onClick"===this.option(S)&&this.startSelectionWithCheckboxes(),this._selection.selectAll(this._isOnePageSelectAll())},deselectAll:function(){return this._selection.deselectAll(this._isOnePageSelectAll())},clearSelection:function(){return this.selectedItemKeys([])},refresh:function(){var e=this.option("selectedRowKeys")||[];return!this.option("selection.deferred")&&e.length?this.selectedItemKeys(e):(new o.Deferred).resolve().promise()},selectedItemKeys:function(e,t,n,i){return this._selection.selectedItemKeys(e,t,n,i)},getSelectedRowKeys:function(){return this._selection.getSelectedItemKeys()},selectRows:function(e,t){return this.selectedItemKeys(e,t)},deselectRows:function(e){return this.selectedItemKeys(e,!0,!0)},selectRowsByIndexes:function(e){var t=this._dataController.items(),n=[];return Array.isArray(e)||(e=Array.prototype.slice.call(arguments,0)),(0,r.each)(e,function(){var e=t[this];e&&"data"===e.rowType&&n.push(e.key)}),this.selectRows(n)},getSelectedRowsData:function(){return this._selection.getSelectedItems()},changeItemSelection:function(e,t,n){t=t||{},this.isSelectionWithCheckboxes()&&(t.control=!0);var i=e+this._dataController.getRowIndexOffset()-this._dataController.getRowIndexOffset(!0);return this._selection.changeItemSelection(i,t,n)},focusedItemIndex:function(e){if(!(0,s.isDefined)(e))return this._selection._focusedItemIndex;this._selection._focusedItemIndex=e},isSelectionWithCheckboxes:function(){return"multiple"===this.option(T)&&("always"===this.option(S)||this._isSelectionWithCheckboxes)},startSelectionWithCheckboxes:function(){return"multiple"===this.option(T)&&!this.isSelectionWithCheckboxes()&&(this._isSelectionWithCheckboxes=!0,this._updateSelectColumn(),!0)},stopSelectionWithCheckboxes:function(){return!!this._isSelectionWithCheckboxes&&(this._isSelectionWithCheckboxes=!1,this._updateSelectColumn(),!0)}}))},extenders:{controllers:{data:{init:function(){var e=this.getController("selection"),t=this.option("selection.deferred");this.callBase.apply(this,arguments),t&&e._updateCheckboxesState({isDeferredMode:!0,selectionFilter:this.option("selectionFilter")})},_loadDataSource:function(){var e=this;return e.callBase().always(function(){e.getController("selection").refresh()})},_processDataItem:function(e,t){var n=this.getController("selection"),i=n.isSelectColumnVisible(),o=t.isDeferredSelection=void 0===t.isDeferredSelection?this.option("selection.deferred"):t.isDeferredSelection,a=this.callBase.apply(this,arguments);if(a.isSelected=n.isRowSelected(o?a.data:a.key),i&&a.values){for(var r=0;r<t.visibleColumns.length;r++)if("select"===t.visibleColumns[r].command){a.values[r]=a.isSelected;break}}return a},refresh:function(e){var t=this,n=new o.Deferred;return this.callBase.apply(this,arguments).done(function(){!e||e.selection?t.getController("selection").refresh().done(n.resolve).fail(n.reject):n.resolve()}).fail(n.reject),n.promise()},_handleDataChanged:function(e){this.callBase.apply(this,arguments),e&&"refresh"!==e.changeType||this._repaintChangesOnly||this.getController("selection").focusedItemIndex(-1)},_applyChange:function(e){var t=this;if(!e||"updateSelection"!==e.changeType)return this.callBase.apply(this,arguments);e.items.forEach(function(e,n){var i=t._items[n];i&&(i.isSelected=e.isSelected,i.values=e.values)})},_endUpdateCore:function(){var e=this._changes;if(e.length>1&&e.every(function(e){return"updateSelection"===e.changeType})){var t=e.map(function(e){return e.itemIndexes||[]}).reduce(function(e,t){return e.concat(t)});this._changes=[{changeType:"updateSelection",itemIndexes:t}]}this.callBase.apply(this,arguments)}},contextMenu:{_contextMenuPrepared:function(e){var t=e.event;t.originalEvent&&"dxhold"!==t.originalEvent.type||e.items&&e.items.length>0||D(this,t)}}},views:{columnHeadersView:{init:function(){this.callBase(),this.getController("selection").selectionChanged.add(this._updateSelectAllValue.bind(this))},_updateSelectAllValue:function(){var e=this.element(),t=e&&e.find(".".concat(I));if(e&&t.length&&"multiple"===this.option("selection.mode")){var n=this.getController("selection").isSelectAll(),i=this.option("selection.allowSelectAll")?!this.getController("data").isEmpty():!1!==n;t.dxCheckBox("instance").option({visible:i,value:n})}},_handleDataChanged:function(e){var t=this;this.callBase(e),(!e||"refresh"===e.changeType||e.repaintChangesOnly&&"update"===e.changeType)&&this.waitAsyncTemplates().done(function(){t._updateSelectAllValue()})},_renderSelectAllCheckBox:function(e,t){var n=this,o=n.getController("selection"),r=n.getController("data").isEmpty(),l=(0,i.default)("<div>").appendTo(e).addClass(I);return n.setAria("label",f.default.format("dxDataGrid-ariaSelectAll"),l),n.getController("editorFactory").createEditor(l,(0,a.extend)({},t,{parentType:"headerRow",dataType:"boolean",value:o.isSelectAll(),editorOptions:{visible:!r&&(n.option("selection.allowSelectAll")||!1!==o.isSelectAll())},tabIndex:n.option("useLegacyKeyboardNavigation")?-1:n.option("tabIndex")||0,setValue:function(e,t){var i=n.option("selection.allowSelectAll");t.component.option("visible",i||!1!==t.component.option("value")),t.event&&o.isSelectAll()!==e&&(t.value&&!i?t.component.option("value",!1):t.value?o.selectAll():o.deselectAll(),t.event.preventDefault())}})),l},_attachSelectAllCheckBoxClickEvent:function(e){u.default.on(e,d.name,this.createAction(function(e){var t=e.event;(0,i.default)(t.target).closest(".".concat(I)).length||u.default.trigger((0,i.default)(t.currentTarget).children(".".concat(I)),d.name),t.preventDefault()}))}},rowsView:{renderSelectCheckBoxContainer:function(e,t){"data"!==t.rowType||t.row.isNewRow?v.default.setEmptyText(e):(e.addClass(y),this._attachCheckBoxClickEvent(e),this._renderSelectCheckBox(e,t))},_renderSelectCheckBox:function(e,t){var n=(0,i.default)("<div>").addClass(I).appendTo(e);return this.setAria("label",f.default.format("dxDataGrid-ariaSelectRow"),n),this.getController("editorFactory").createEditor(n,(0,a.extend)({},t.column,{parentType:"dataRow",dataType:"boolean",lookup:null,value:t.value,setValue:function(e,t){var n;"keydown"===(null===(n=null==t?void 0:t.event)||void 0===n?void 0:n.type)&&u.default.trigger(t.element,d.name,t)},row:t.row})),n},_attachCheckBoxClickEvent:function(e){u.default.on(e,d.name,this.createAction(function(e){var t=this.getController("selection"),n=e.event,o=this.getRowIndex((0,i.default)(n.currentTarget).closest(".".concat("dx-row")));o>=0&&(t.startSelectionWithCheckboxes(),t.changeItemSelection(o,{shift:n.shiftKey}),(0,i.default)(n.target).closest(".".concat(I)).length&&this.getController("data").updateItems({changeType:"updateSelection",itemIndexes:[o]}))}))},_update:function(e){var t=this,n=t.getTableElements();"updateSelection"===e.changeType?n.length>0&&((0,r.each)(n,function(n,o){(0,r.each)(e.itemIndexes||[],function(n,a){var r;if(e.items[a]&&(r=t._getRowElements((0,i.default)(o)).eq(a)).length){var l=e.items[a].isSelected;r.toggleClass(x,void 0!==l&&l).find(".".concat(I)).dxCheckBox("option","value",l),t.setAria("selected",l,r)}})}),t._updateCheckboxesClass()):t.callBase(e)},_createTable:function(){var e=this,t=e.option("selection.mode"),n=e.callBase.apply(e,arguments);return"none"!==t&&("onLongTap"!==e.option(S)&&l.touch||u.default.on(n,(0,h.addNamespace)(c.default.name,"dxDataGridRowsView"),".".concat(b),e.createAction(function(t){D(e.component,t.event),t.event.stopPropagation()})),u.default.on(n,"mousedown selectstart",e.createAction(function(e){var t=e.event;t.shiftKey&&t.preventDefault()}))),n},_createRow:function(e){var t=this.callBase.apply(this,arguments);if(e){var n=e.isSelected;n&&t.addClass(x),"none"!==this.option(T)&&this.setAria("selected",n,t)}return t},_rowClick:function(e){var t=e.event,n=(0,i.default)(t.target).closest(".".concat("dx-selection-disabled")).length;this.isClickableElement((0,i.default)(t.target))||(n||"multiple"===this.option(T)&&"always"===this.option(S)||this.getController("selection").changeItemSelection(e.rowIndex,{control:(0,h.isCommandKeyPressed)(t),shift:t.shiftKey})&&(t.preventDefault(),e.handled=!0),this.callBase(e))},isClickableElement:function(e){return!!e.closest(".".concat(E)).length},_renderCore:function(e){var t=this.callBase(e);return this._updateCheckboxesClass(),t},_updateCheckboxesClass:function(){var e=this.getTableElements(),t=this.getController("selection"),n=t.isSelectColumnVisible()&&!t.isSelectionWithCheckboxes();(0,r.each)(e,function(e,t){(0,i.default)(t).toggleClass("dx-select-checkboxes-hidden",n)})}}}}};t.selectionModule=R},38199(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.sortingModule=void 0;var i=c(n(68689)),o=n(68841),a=n(4964),r=n(44479),l=c(n(21445)),s=n(48634),d=c(n(38306)),u=c(n(78982));function c(e){return e&&e.__esModule?e:{default:e}}var h={defaultOptions:function(){return{sorting:{mode:"single",ascendingText:d.default.format("dxDataGrid-sortingAscendingText"),descendingText:d.default.format("dxDataGrid-sortingDescendingText"),clearText:d.default.format("dxDataGrid-sortingClearText"),showSortIndexes:!0}}},extenders:{views:{columnHeadersView:(0,o.extend)({},u.default,{_createRow:function(e){var t=this,n=this.callBase(e);return"header"===e.rowType&&l.default.on(n,(0,s.addNamespace)(r.name,"dxDataGridColumnHeadersView"),"td",this.createAction(function(e){t._processHeaderAction(e.event,n)})),n},_processHeaderAction:function(e,t){if((0,i.default)(e.currentTarget).parent().get(0)===t.get(0)){var n=this,o=null,r=(0,i.default)(e.currentTarget),l=r.parent().index(),d=-1;[].slice.call(n.getCellElements(l)).some(function(e,t){if(e===r.get(0))return d=t,!0});var u=n._columnsController.getVisibleColumns(l)[d],c=n.getController("editing"),h=n.option("editing.mode");!(c&&c.isEditing()&&("batch"===h||"cell"===h))&&n._isSortableElement((0,i.default)(e.target))&&(!u||(0,a.isDefined)(u.groupIndex)||u.command||(e.shiftKey?o="shift":(0,s.isCommandKeyPressed)(e)&&(o="ctrl"),setTimeout(function(){n._columnsController.changeSortOrder(u.index,o)})))}},_renderCellContent:function(e,t){var n=t.column;n.command||"header"!==t.rowType||this._applyColumnState({name:"sort",rootElement:e,column:n,showColumnLines:this.option("showColumnLines")}),this.callBase.apply(this,arguments)},_columnOptionChanged:function(e){var t=e.changeTypes;1===t.length&&t.sorting?this._updateIndicators("sort"):this.callBase(e)},optionChanged:function(e){"sorting"===e.name?(this._invalidate(),e.handled=!0):this.callBase(e)}}),headerPanel:(0,o.extend)({},u.default,{_createGroupPanelItem:function(e,t){var n=this,i=n.callBase.apply(n,arguments);return l.default.on(i,(0,s.addNamespace)(r.name,"dxDataGridHeaderPanel"),n.createAction(function(){n._processGroupItemAction(t.index)})),n._applyColumnState({name:"sort",rootElement:i,column:{alignment:n.option("rtlEnabled")?"right":"left",allowSorting:t.allowSorting,sortOrder:"desc"===t.sortOrder?"desc":"asc"},showColumnLines:!0}),i},_processGroupItemAction:function(e){var t=this;setTimeout(function(){return t.getController("columns").changeSortOrder(e)})},optionChanged:function(e){"sorting"===e.name?(this._invalidate(),e.handled=!0):this.callBase(e)}})}}};t.sortingModule=h},78982(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=(i=n(68689))&&i.__esModule?i:{default:i},a=n(4964),r="dx-sort",l="dx-sort-none",s="dx-sort-index-icon";t.default={_applyColumnState:function(e){var t,n,i=this.option("sorting.mode"),l=e.rootElement,d=e.column,u=this._getIndicatorContainer(l);if("sort"===e.name){l.find(".".concat(r)).remove(),u.children().length||u.remove();var c="none"!==i&&d.allowSorting;return!(0,a.isDefined)(d.groupIndex)&&(c||(0,a.isDefined)(d.sortOrder))&&(t="asc"===d.sortOrder?"ascending":"descending",n=this.callBase(e).toggleClass("dx-sort-up","asc"===d.sortOrder).toggleClass("dx-sort-down","desc"===d.sortOrder),this.getController&&this.getController("columns").columnOption("sortIndex:1")&&this.option("sorting.showSortIndexes")&&d.sortIndex>=0&&((0,o.default)("<span>").addClass(s).text(d.sortIndex+1).appendTo(n),n.addClass("dx-sort-index")),c&&e.rootElement.addClass(this.addWidgetPrefix("action"))),(0,a.isDefined)(d.sortOrder)?this.setAria("sort",t,l):this.setAria("sort","none",l),n}return this.callBase(e)},_getIndicatorClassName:function(e){return"sort"===e?r:"sortIndex"===e?s:this.callBase(e)},_renderIndicator:function(e){var t=e.column,n=e.container,i=e.indicator;if("sort"===e.name){var o=this.option("rtlEnabled");if((0,a.isDefined)(t.sortOrder)||i&&i.addClass(l),n.children().length&&(!o&&"left"===e.columnAlignment||o&&"right"===e.columnAlignment))return void n.prepend(i)}this.callBase(e)},_updateIndicator:function(e,t,n){if("sort"!==n||!(0,a.isDefined)(t.groupIndex))return this.callBase.apply(this,arguments)},_getIndicatorElements:function(e,t){var n=this.callBase(e);return t?n:n&&n.not(".".concat(l))}}},75042(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.stateStoringModule=void 0;var i,o=n(36808),a=n(68759),r=n(68841),l=n(4964),s=(i=n(97393))&&i.__esModule?i:{default:i},d=function(e){var t=e.getController("columns"),n=e.getController("selection"),i=e.getController("export"),o=e.getController("data");t&&t.columnsChanged.add(function(){e.updateState({columns:t.getUserState()})}),n&&n.selectionChanged.add(function(t){e.updateState({selectedRowKeys:t.selectedRowKeys,selectionFilter:t.selectionFilter})}),o&&(e._initialPageSize=e.option("paging.pageSize"),e._initialFilterValue=e.option("filterValue"),o.changed.add(function(){var t,n,i,o,a=(n=(t=e).getView("pagerView"),i=t.getController("data"),o={allowedPageSizes:n?n.getPageSizes():void 0,filterPanel:{filterEnabled:t.option("filterPanel.filterEnabled")},filterValue:t.option("filterValue"),focusedRowKey:t.option("focusedRowEnabled")?t.option("focusedRowKey"):void 0},(0,r.extend)(o,i.getUserState()));e.updateState(a)})),i&&i.selectionOnlyChanged.add(function(){e.updateState({exportSelectionOnly:i.selectionOnly()})})},u={defaultOptions:function(){return{stateStoring:{enabled:!1,storageKey:null,type:"localStorage",customLoad:null,customSave:null,savingTimeout:2e3}}},controllers:{stateStoring:s.default.StateStoringController},extenders:{views:{rowsView:{init:function(){var e=this,t=e.getController("data");e.callBase(),t.stateLoaded.add(function(){if(t.isLoaded()&&!t.getDataSource()){e.setLoading(!1),e.renderNoDataText();var n=e.component.getView("columnHeadersView");n&&n.render(),e.component._fireContentReadyAction()}})}}},controllers:{stateStoring:{init:function(){this.callBase.apply(this,arguments),d(this)},isLoading:function(){return this.callBase()||this.getController("data").isStateLoading()},state:function(e){var t=this.callBase.apply(this,arguments);return void 0!==e&&this.applyState((0,r.extend)(!0,{},e)),t},updateState:function(e){if(this.isEnabled()){var t=this.state(),n=(0,r.extend)({},t,e),i=(0,o.getKeyHash)(t),a=(0,o.getKeyHash)(n);(0,o.equalByValue)(i,a)||(e=(0,r.extend)(!0,{},e),(0,r.extend)(this._state,e),this.save())}else(0,r.extend)(this._state,e)},applyState:function(e){var t,n,i,o,a,r,s=e.allowedPageSizes,d=e.searchText,u=e.selectedRowKeys,c=e.selectionFilter,h=this.getController("export"),f=this.getController("columns"),p=this.getController("data"),g=this.option("scrolling.mode"),m="virtual"===g||"infinite"===g,v=!0===this.option("pager.visible")&&this.option("pager.showPageSizeSelector"),C=null===(t=this.getView("rowsView"))||void 0===t?void 0:t.hasHeight();this.component.beginUpdate(),f&&f.setUserState(e.columns),h&&h.selectionOnly(e.exportSelectionOnly),this.option("selection.deferred")||this.option("selectedRowKeys",u||[]),this.option("selectionFilter",c),s&&"auto"===this.option("pager.allowedPageSizes")&&(this.option("pager").allowedPageSizes=s),this.option("focusedRowEnabled")&&(this.option("focusedRowIndex",-1),this.option("focusedRowKey",e.focusedRowKey||null)),this.component.endUpdate(),this.option("searchPanel.text",d||""),this.option("filterValue",(n=this,i=e,o=n.getController("filterSync"),a=n.getController("columns"),r=i.columns||void 0!==i.filterValue,o?r?i.filterValue||o.getFilterValueFromColumns(i.columns):n._initialFilterValue||o.getFilterValueFromColumns(a.getColumns()):null)),this.option("filterPanel.filterEnabled",!e.filterPanel||e.filterPanel.filterEnabled),this.option("paging.pageIndex",(!m||C)&&e.pageIndex||0),this.option("paging.pageSize",(!m||v)&&(0,l.isDefined)(e.pageSize)?e.pageSize:this._initialPageSize),p&&p.reset()}},columns:{_shouldReturnVisibleColumns:function(){var e=this.callBase.apply(this,arguments),t=this.getController("stateStoring");return e&&(!t.isEnabled()||t.isLoaded())}},data:{callbackNames:function(){return this.callBase().concat(["stateLoaded"])},_refreshDataSource:function(){var e=this,t=this.callBase,n=this.getController("stateStoring");if(n.isEnabled()&&!n.isLoaded()){clearTimeout(this._restoreStateTimeoutID);var i=new a.Deferred;return this._restoreStateTimeoutID=setTimeout(function(){n.load().always(function(){e._restoreStateTimeoutID=null}).done(function(){t.call(e),e.stateLoaded.fire(),i.resolve()}).fail(function(t){e.stateLoaded.fire(),e._handleLoadError(t||"Unknown error"),i.reject()})}),i.promise()}this.isStateLoading()||t.call(this)},isLoading:function(){var e=this.getController("stateStoring");return this.callBase()||e.isLoading()},isStateLoading:function(){return(0,l.isDefined)(this._restoreStateTimeoutID)},isLoaded:function(){return this.callBase()&&!this.isStateLoading()},dispose:function(){clearTimeout(this._restoreStateTimeoutID),this.callBase()}},selection:{_fireSelectionChanged:function(e){var t=this.getController("stateStoring"),n=this.option("selection.deferred");t.isLoading()&&n||this.callBase.apply(this,arguments)}}}}};t.stateStoringModule=u},97393(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(68759),o=n(68841),a=n(1685),r=n(98643),l=n(4964),s=n(65252),d=h(n(21445)),u=h(n(37499)),c=h(n(88445));function h(e){return e&&e.__esModule?e:{default:e}}var f,p,g=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/,m=function e(t){t&&(0,a.each)(t,function(n,i){if((0,l.isPlainObject)(i)||Array.isArray(i))e(i);else if("string"==typeof i){var o=g.exec(i);o&&(t[n]=new Date(Date.UTC(+o[1],+o[2]-1,+o[3],+o[4],+o[5],+o[6])))}})},v={StateStoringController:c.default.ViewController.inherit((f=function(e){var t="sessionStorage"===e.type?(0,r.sessionStorage)():(0,s.getWindow)().localStorage;if(!t)throw Error("E1007");return t},p=function(e){return(0,l.isDefined)(e.storageKey)?e.storageKey:"storage"},{_loadState:function(){var e=this.option("stateStoring");if("custom"===e.type)return e.customLoad&&e.customLoad();try{return JSON.parse(f(e).getItem(p(e)))}catch(t){u.default.log(t.message)}},_saveState:function(e){var t=this.option("stateStoring");if("custom"!==t.type)try{f(t).setItem(p(t),JSON.stringify(e))}catch(n){u.default.log(n.message)}else t.customSave&&t.customSave(e)},publicMethods:function(){return["state"]},isEnabled:function(){return this.option("stateStoring.enabled")},init:function(){var e=this;return e._state={},e._isLoaded=!1,e._isLoading=!1,e._windowUnloadHandler=function(){void 0!==e._savingTimeoutID&&e._saveState(e.state())},d.default.on((0,s.getWindow)(),"unload",e._windowUnloadHandler),e},isLoaded:function(){return this._isLoaded},isLoading:function(){return this._isLoading},load:function(){var e=this;this._isLoading=!0;var t=(0,i.fromPromise)(this._loadState());return t.always(function(){e._isLoaded=!0,e._isLoading=!1}).done(function(t){null===t||(0,l.isEmptyObject)(t)||e.state(t)}),t},state:function(e){var t=this;if(!arguments.length)return(0,o.extend)(!0,{},t._state);t._state=(0,o.extend)({},e),m(t._state)},save:function(){var e=this;clearTimeout(e._savingTimeoutID),e._savingTimeoutID=setTimeout(function(){e._saveState(e.state()),e._savingTimeoutID=void 0},e.option("stateStoring.savingTimeout"))},optionChanged:function(e){"stateStoring"===e.name?(this.isEnabled()&&!this.isLoading()&&this.load(),e.handled=!0):this.callBase(e)},dispose:function(){clearTimeout(this._savingTimeoutID),d.default.off((0,s.getWindow)(),"unload",this._windowUnloadHandler)}}))};t.default=v},74138(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.validatingModule=void 0;var i=b(n(68689)),o=b(n(47057)),a=n(36808),r=n(68759),l=n(68841),s=n(1685),d=n(65553),u=n(28675),c=n(4964),h=n(44129),f=b(n(21445)),p=b(n(30593)),g=b(n(38306)),m=b(n(58635)),v=b(n(42508)),C=b(n(9645)),$=b(n(82789)),w=b(n(5796)),y=n(71881),x=b(n(37499)),I=b(n(88445)),E=b(n(31560));function b(e){return e&&e.__esModule?e:{default:e}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var T="invalid",D="revert-tooltip",R="dx-invalid-message",O="invalid-message",F="dx-invalid-message-always",A="validator",P="dx-pending-indicator",V="dx-validation-pending",_="content",B="__DX_INSERT_INDEX__",M="batch",k="cell",L=["popup","form"],N="valid",W="invalid",H="pending",z="insert",G="cancel",K=function(e){return(0,c.isDefined)(e)&&e!==G},U=function(e,t){return void 0!==e||void 0===e&&t&&!t.isNewRow},j={defaultOptions:function(){return{editing:{texts:{validationCancelChanges:g.default.format("dxDataGrid-validationCancelChanges")}}}},controllers:{validating:I.default.Controller.inherit({init:function(){this._editingController=this.getController("editing"),this.createAction("onRowValidating"),this._validationState||this.initValidationState()},initValidationState:function(){this._validationState=[],this._validationStateCache={}},_rowIsValidated:function(e){var t=this._getValidationData(null==e?void 0:e.key);return!!t&&!!t.validated},_getValidationData:function(e,t){var n,i=(0,a.getKeyHash)(e),o=(0,c.isObject)(i);return(n=o?this._validationState.filter(function(t){return(0,a.equalByValue)(t.key,e)})[0]:this._validationStateCache[i])||!t||(n={key:e,isValid:!0},this._validationState.push(n),o||(this._validationStateCache[i]=n)),n},_getBrokenRules:function(e,t){return t?t.brokenRules||t.brokenRule&&[t.brokenRule]:e.brokenRules||[]},_rowValidating:function(e,t){var n=new r.Deferred,i=this._editingController.getChangeByKey(null==e?void 0:e.key),o=this._getBrokenRules(e,t),a={brokenRules:o,isValid:t?t.isValid:e.isValid,key:i.key,newData:i.data,oldData:this._editingController._getOldData(i.key),promise:null,errorText:this.getHiddenValidatorsErrorText(o)};return this.executeAction("onRowValidating",a),(0,r.when)((0,r.fromPromise)(a.promise)).always(function(){e.isValid=a.isValid,e.errorText=a.errorText,n.resolve(a)}),n.promise()},getHiddenValidatorsErrorText:function(e){var t=[];return(0,s.each)(e,function(e,n){var i=n.column,o=i&&void 0!==i.groupIndex&&!i.showWhenGrouped,a=i&&i.visible;n.validator.$element().parent().length||a&&!o||t.push(n.message)}),t.join(", ")},validate:function(e){var t=this,n=!0,i=this._editingController,o=new r.Deferred,a=[],l=i.getEditMode();if(e=e||"row"===l,this._isValidationInProgress)return o.resolve(!1).promise();if(this._isValidationInProgress=!0,e){i.addDeferred(o);var d=i.getChanges();(0,s.each)(d,function(e,i){var o=i.type,r=i.key;if("remove"!==o){var l=t._getValidationData(r,!0),s=t.validateGroup(l);a.push(s),s.done(function(e){l.validated=!0,n=n&&e.isValid})}})}else if(this._currentCellValidator){var u=this.validateGroup(this._currentCellValidator._findGroup());a.push(u),u.done(function(e){n=e.isValid})}return r.when.apply(void 0,a).done(function(){t._isValidationInProgress=!1,o.resolve(n)}),o.promise()},validateGroup:function(e){var t,n=this,i=new r.Deferred,o=e&&$.default.getGroupConfig(e);return(null==o?void 0:o.validators.length)&&(this.resetRowValidationResults(e),t=$.default.validateGroup(e)),(0,r.when)((null==t?void 0:t.complete)||t).done(function(t){(0,r.when)(n._rowValidating(e,t)).done(i.resolve)}),i.promise()},isRowDataModified:function(e){return!(0,c.isEmptyObject)(e.data)},updateValidationState:function(e){var t=this._editingController.getEditMode(),n=e.key,i=this._getValidationData(n,!0);if(L.includes(t))i.isValid=!0;else{if(e.type===z&&!this.isRowDataModified(e))return void(i.isValid=!0);if(this.setDisableApplyValidationResults(!0),$.default.getGroupConfig(i)){var o=$.default.validateGroup(i);(0,r.when)(o.complete||o).done(function(e){i.isValid=e.isValid,i.brokenRules=e.brokenRules})}else i.brokenRules&&i.brokenRules.length||(i.isValid=!0);this.setDisableApplyValidationResults(!1)}},setValidator:function(e){this._currentCellValidator=e},renderCellPendingIndicator:function(e){var t=e.find(".".concat(P));t.length||(t=(0,i.default)("<div>").appendTo(e).addClass(P),this._createComponent(t,v.default),e.addClass(V))},disposeCellPendingIndicator:function(e){var t=e.find(".".concat(P));if(t.length){var n=v.default.getInstance(t);n&&(n.dispose(),n.$element().remove()),e.removeClass(V)}},validationStatusChanged:function(e){var t=e.validator,n=t.option("validationGroup"),i=t.option("dataGetter")().column;this.updateCellValidationResult({rowKey:n.key,columnIndex:i.index,validationResult:e})},validatorInitialized:function(e){e.component.on("validating",this.validationStatusChanged.bind(this)),e.component.on("validated",this.validationStatusChanged.bind(this))},validatorDisposing:function(e){var t=e.component,n=t.option("validationGroup"),i=t.option("dataGetter")().column,o=this.getCellValidationResult({rowKey:null==n?void 0:n.key,columnIndex:i.index});K(o)&&o.status===H&&this.cancelCellValidationResult({change:n,columnIndex:i.index})},applyValidationResult:function(e,t){var n=t.validator,i=n.option("validationGroup"),o=n.option("dataGetter")().column;if(t.brokenRules&&t.brokenRules.forEach(function(e){e.columnIndex=o.index,e.column=o}),e){var a=this.getCellValidationResult({rowKey:i.key,columnIndex:o.index}),r=K(a)&&a.disabledPendingId===t.id;if(this._disableApplyValidationResults||r)return;if(t.status===W){var l=e.find(":focus");(0,y.focused)(l)||(f.default.trigger(l,"focus"),f.default.trigger(l,p.default.down))}var s=!o.editCellTemplate&&this.getController("editorFactory").getEditorInstance(e);t.status===H?s?s.option("validationStatus",H):this.renderCellPendingIndicator(e):s?s.option("validationStatus",N):this.disposeCellPendingIndicator(e),e.toggleClass(this.addWidgetPrefix(T),t.status===W)}},_syncInternalEditingData:function(e){var t,n=this._editingController,i=n.getChangeByKey(e.key),o=n._getOldData(e.key),a=null===(t=e.row)||void 0===t?void 0:t.oldData;i&&a&&!o&&n._addInternalData({key:e.key,oldData:a})},createValidator:function(e,t){var n,o,r=this,s=this._editingController,d=e.column,u=d.showEditorAlways;if(!(0,c.isDefined)(d.command)&&d.validationRules&&Array.isArray(d.validationRules)&&d.validationRules.length){var f=s.getIndexByKey(e.key,s.getChanges())>-1;if(!f){if(!u){var p=this.getController("columns");u=((null==p?void 0:p.getVisibleColumns())||[]).some(function(e){return e.showEditorAlways})}var g=(0,a.equalByValue)(this.option("editing.editRowKey"),e.key),m=s.isCellOrBatchEditMode()&&s.allowUpdating({row:e.row});f=g||m&&u,m&&u&&s._addInternalData({key:e.key,oldData:null!==(o=null===(n=e.row)||void 0===n?void 0:n.oldData)&&void 0!==o?o:e.data})}if(f){if(t&&!t.length)return void x.default.log("E1050");this._syncInternalEditingData(e);var v=this._getValidationData(e.key,!0),C=function(){var t=s.getChangeByKey(null==v?void 0:v.key),n=d.calculateCellValue((null==t?void 0:t.data)||{});return void 0!==n?n:e.value},$=t&&t.hasClass("dx-widget");t&&t.addClass(this.addWidgetPrefix(A));var y=new w.default(t||(0,i.default)("<div>"),{name:d.caption,validationRules:(0,l.extend)(!0,[],d.validationRules),validationGroup:v,adapter:$?null:{getValue:C,applyValidationResults:function(e){r.applyValidationResult(t,e)}},dataGetter:function(){var e=null==v?void 0:v.key,t=s.getChangeByKey(e),n=s._getOldData(e);return{data:(0,h.createObjectWithChanges)(n,null==t?void 0:t.data),column:d}},onInitialized:this.validatorInitialized.bind(this),onDisposing:this.validatorDisposing.bind(this)});if($){var I=y.option("adapter");if(I){var E=I.bypass;I.getValue=C,I.validationRequestsCallbacks=[],I.bypass=function(){return E.call(I)||e.row.isNewRow&&!r._isValidationInProgress&&!s.isCellModified(e)}}}return y}}},setDisableApplyValidationResults:function(e){this._disableApplyValidationResults=e},getDisableApplyValidationResults:function(){return this._disableApplyValidationResults},isCurrentValidatorProcessing:function(e){var t=e.rowKey,n=e.columnIndex;return this._currentCellValidator&&(0,a.equalByValue)(this._currentCellValidator.option("validationGroup").key,t)&&this._currentCellValidator.option("dataGetter")().column.index===n},validateCell:function(e){var t={rowKey:e.option("validationGroup").key,columnIndex:e.option("dataGetter")().column.index},n=this.getCellValidationResult(t),i=K(n),o=e.option("adapter");if(i){var l=o.getValue();(0,a.equalByValue)(l,n.value)||(n=e.validate())}else n=e.validate();var s=new r.Deferred;return i&&n.status===H&&(this.updateCellValidationResult(t),o.applyValidationResults(n)),(0,r.when)(n.complete||n).done(function(e){i&&o.applyValidationResults(e),s.resolve(e)}),s.promise()},updateCellValidationResult:function(e){var t,n=e.rowKey,i=e.columnIndex,o=e.validationResult,a=this._getValidationData(n);if(a){if(a.validationResults||(a.validationResults={}),o){if(t=(0,l.extend)({},o),a.validationResults[i]=t,o.status===H&&(this._editingController.getEditMode()===k&&(t.deferred=new r.Deferred,t.complete.always(function(){t.deferred.resolve()}),this._editingController.addDeferred(t.deferred)),this._disableApplyValidationResults))return void(t.disabledPendingId=o.id)}else t=a.validationResults[i];t&&t.disabledPendingId&&delete t.disabledPendingId}},getCellValidationResult:function(e){var t,n=e.rowKey,i=e.columnIndex,o=this._getValidationData(n,!0);return null===(t=null==o?void 0:o.validationResults)||void 0===t?void 0:t[i]},removeCellValidationResult:function(e){var t=e.change,n=e.columnIndex,i=this._getValidationData(null==t?void 0:t.key);i&&i.validationResults&&(this.cancelCellValidationResult({change:t,columnIndex:n}),delete i.validationResults[n])},cancelCellValidationResult:function(e){var t=e.change,n=e.columnIndex,i=this._getValidationData(t.key);if(t&&i.validationResults){var o=i.validationResults[n];o&&(o.deferred&&o.deferred.reject(G),i.validationResults[n]=G)}},resetRowValidationResults:function(e){e&&(e.validationResults&&delete e.validationResults,delete e.validated)},isInvalidCell:function(e){var t=e.rowKey,n=e.columnIndex,i=this.getCellValidationResult({rowKey:t,columnIndex:n});return K(i)&&i.status===W},getCellValidator:function(e){var t=e.rowKey,n=e.columnIndex,i=this._getValidationData(t),o=i&&$.default.getGroupConfig(i),a=o&&o.validators;return a&&a.filter(function(e){var t=e.option("dataGetter")().column;return!!t&&t.index===n})[0]},setCellValidationStatus:function(e){var t=this.getCellValidationResult({rowKey:e.key,columnIndex:e.column.index});(0,c.isDefined)(t)?e.validationStatus=t!==G?t.status:G:delete e.validationStatus}})},extenders:{controllers:{editing:{_addChange:function(e){var t=this.callBase.apply(this,arguments),n=this.getController("validating");return t&&"remove"!==e.type&&n.updateValidationState(t),t},_handleChangesChange:function(e){this.callBase.apply(this,arguments);var t=this.getController("validating");e.value.forEach(function(e){void 0===t._getValidationData(e.key)&&t.updateValidationState(e)})},_updateRowAndPageIndices:function(){var e=this,t=this,n=t.getView("rowsView").getTopVisibleItemIndex(),i=n;(0,s.each)(t.getChanges(),function(o,a){var r=a.key,l=a.type,s=e.getController("validating")._getValidationData(r);s&&!s.isValid&&s.pageIndex!==t._pageIndex&&(s.pageIndex=t._pageIndex,s.rowIndex=l===z?n:i,i++)})},_getValidationGroupsInForm:function(e){return{validationGroup:this.getController("validating")._getValidationData(e.key,!0)}},_validateEditFormAfterUpdate:function(e,t){t&&this._editForm&&this._editForm.validate(),this.callBase.apply(this,arguments)},_prepareEditCell:function(e){var t=this.callBase.apply(this,arguments),n=this.getController("validating");return t&&e.column.showEditorAlways&&n.updateValidationState({key:e.key}),t},processItems:function(e,t){var n=this,i=this.getChanges(),o=this.getController("data"),r=this.getController("validating"),l=(e=this.callBase(e,t)).length;return this.getEditMode()===M&&"prepend"!==t&&"append"!==t&&i.forEach(function(t){var i=t.key,d=r._getValidationData(i);d&&t.type&&d.pageIndex===n._pageIndex&&(null==t?void 0:t.pageIndex)!==n._pageIndex&&function(t,n){var i,r,d,u,c,h={key:t.key};if(i=t,r=e,d=-1,u=i.type===z,c=i.key,(0,s.each)(r,function(e,t){if((0,a.equalByValue)(c,u?t.key:o.keyOf(t)))return d=e,!1}),!(d>=0)){n.rowIndex=n.rowIndex>l?n.rowIndex%l:n.rowIndex;var f=n.rowIndex;h[B]=1,e.splice(f,0,h)}}(t,d)}),e},processDataItem:function(e){var t=e.data[B],n=t?e.data.key:e.key;if(this.getEditMode()===M&&t&&n){var i=this.getChanges(),o=E.default.getIndexByKey(n,i);if(o>=0){var a=i[o];if(a.type!==z){var r=this._getOldData(a.key);e.data=(0,l.extend)(!0,{},r,a.data),e.key=n}}}this.callBase.apply(this,arguments)},_createInvisibleColumnValidators:function(e){var t,n=this,i=this,o=this.getController("validating"),a=this.getController("columns"),r=a.getColumns(),l=a.getInvisibleColumns().filter(function(e){return!e.isBand}),d=a.getGroupColumns().filter(function(e){return!e.showWhenGrouped&&-1===l.indexOf(e)}),u=[];return l.push.apply(l,function(e){if(Array.isArray(e))return S(e)}(t=d)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),L.includes(this.getEditMode())||(0,s.each)(r,function(t,a){e.forEach(function(e){var t,r,s;if(r=a,s=e.key,!(n._dataController.getRowIndexByKey(s)>=0&&0>l.indexOf(r))){if(e.type===z)t=e.data;else if("update"===e.type){var d=i._getOldData(e.key);if(!(0,c.isDefined)(d))return;t=(0,h.createObjectWithChanges)(d,e.data)}if(t){var f=o.createValidator({column:a,key:e.key,value:a.calculateCellValue(t)});f&&u.push(f)}}})}),function(){u.forEach(function(e){e.dispose()})}},_beforeSaveEditData:function(e,t){var n=this,i=this.callBase.apply(this,arguments),o=this.getController("validating"),a=o._getValidationData(null==e?void 0:e.key);if(e){var l="remove"===e.type||a.isValid;i=i||!l}else{var s=this._createInvisibleColumnValidators(this.getChanges());i=new r.Deferred,this.executeOperation(i,function(){o.validate(!0).done(function(e){switch(s(),n._updateRowAndPageIndices(),n.getEditMode()){case k:e||n._focusEditingCell();break;case M:e||(n._resetEditRowKey(),n._resetEditColumnName(),n.getController("data").updateItems())}i.resolve(!e)})})}return i.promise?i.promise():i},_beforeEditCell:function(e,t,n){var i=this.callBase(e,t,n);if(this.getEditMode()===k){var o=this._rowsView._getCellElement(e,t),a=o&&o.data("dxValidator"),l=o&&o.closest(".dx-row").data("options"),s=a&&a.option("adapter").getValue();if(a&&U(s,l)){var d=this.getController("validating"),u=new r.Deferred;return(0,r.when)(d.validateCell(a),i).done(function(e,t){u.resolve(e.status===N&&t)}),u.promise()}if(!a)return i}},_afterSaveEditData:function(e){var t,n=this,i=this.getEditMode()===k;if((0,s.each)(this.getChanges(),function(e,i){var o=n._showErrorRow(i);t=t||o}),t){var o=this._rowsView.getScrollable();o&&(o.update(),o.scrollToElement(t))}if(e&&i&&this._needUpdateRow()){var a=this.getEditRowIndex();this._dataController.updateItems({changeType:"update",rowIndices:[a]}),this._focusEditingCell()}else if(!e){var r=!0;i&&(r=!(this.getController("columns").getColumns().filter(function(e){var t;return e.showEditorAlways&&(null===(t=e.validationRules)||void 0===t?void 0:t.length)>0}).length>0)),r&&this.getController("validating").initValidationState()}},_handleDataChanged:function(e){var t=this.getController("validating")._validationState;"standard"===this.option("scrolling.mode")&&this.resetRowAndPageIndices(),"prepend"===e.changeType&&(0,s.each)(t,function(t,n){n.rowIndex+=e.items.length}),this.callBase(e)},resetRowAndPageIndices:function(){var e=this,t=this.getController("validating")._validationState;(0,s.each)(t,function(t,n){n.pageIndex!==e._pageIndex&&(delete n.pageIndex,delete n.rowIndex)})},_beforeCancelEditData:function(){this.getController("validating").initValidationState(),this.callBase()},_showErrorRow:function(e){var t,n=this.getController("errorHandling"),i=this.getController("data").items(),o=this.getIndexByKey(e.key,i),a=this.getController("validating")._getValidationData(e.key);if(!(null==a?void 0:a.isValid)&&(null==a?void 0:a.errorText)&&o>=0)return t=this.getPopupContent(),n&&n.renderErrorRow(null==a?void 0:a.errorText,o,t)},updateFieldValue:function(e){var t=this,n=this.getController("validating"),i=new r.Deferred;return n.removeCellValidationResult({change:this.getChangeByKey(e.key),columnIndex:e.column.index}),this.callBase.apply(this,arguments).done(function(){var o=n.getCellValidator({rowKey:e.key,columnIndex:e.column.index});(0,r.when)(o&&n.validateCell(o)).done(function(e){t.getController("editorFactory").refocus(),i.resolve(e)})}),i.promise()},highlightDataCell:function(e,t){this.callBase.apply(this,arguments);var n=this.getController("validating");n.setCellValidationStatus(t);var i=!!t.setValue,o=this.isCellModified(t),a=(0,c.isDefined)(t.validationStatus);if(o&&t.column.setCellValue||i&&!o&&!(t.row.isNewRow||!a)){var l=e.data("dxValidator");l&&(0,r.when)(this.getController("validating").validateCell(l)).done(function(){n.setCellValidationStatus(t)})}},getChangeByKey:function(e){var t=this.getChanges();return t[E.default.getIndexByKey(e,t)]},isCellModified:function(e){var t=this.callBase(e),n=this.getChangeByKey(e.key),i=!!e.row&&this.getController("validating").isInvalidCell({rowKey:e.key,columnIndex:e.column.index});return t||this.getController("validating")._rowIsValidated(n)&&i}},editorFactory:{_showRevertButton:function(e){var t,n=this,o=null===(t=this._revertTooltip)||void 0===t?void 0:t.$element();if(!e||!e.length)return null==o||o.remove(),void(this._revertTooltip=void 0);if(!e.find(o).length){var a=e.closest(".".concat(this.addWidgetPrefix(_))),r=this.addWidgetPrefix(D);null==o||o.remove(),o=(0,i.default)("<div>").addClass(r).appendTo(e);var l={animation:null,visible:!0,width:"auto",height:"auto",shading:!1,container:a,propagateOutsideClick:!0,hideOnOutsideClick:!1,wrapperAttr:{class:r},contentTemplate:function(){var e=(0,i.default)("<div>").addClass("dx-revert-button"),t={icon:"revert",hint:n.option("editing.texts.validationCancelChanges"),onClick:function(){n._editingController.cancelEditData()}};return new m.default(e,t).$element()},position:{my:"left top",at:"right top",offset:"1 0",collision:"flip",boundaryOffset:"0 0",boundary:this._rowsView.element(),of:e},onPositioned:this._positionedHandler.bind(this)};this._revertTooltip=new C.default(o,l)}},_hideFixedGroupCell:function(e,t){var n,o,a=this._rowsView.isFixedColumns(),r=this._editingController.isFormOrPopupEditMode();if(a&&!r){var l=e.closest(".dx-row").next().data("options");l&&"group"===l.rowType&&(o=(n=(0,i.default)(this._rowsView.getRowElement(l.rowIndex)).last()).find(".".concat("dx-group-cell"))).length&&"hidden"!==o.get(0).style.visibility&&(o.css("visibility","hidden"),t.onDisposing=function(){o.css("visibility","")})}},_positionedHandler:function(e,t){if(!e.component.__skipPositionProcessing){var n=(0,i.default)(e.element).hasClass(this.addWidgetPrefix(D)),o=!n&&this._rowsView.updateFreeSpaceRowHeight(),a=this._normalizeValidationMessagePositionAndMaxWidth(e,n,t);e.component.__skipPositionProcessing=!(!o&&!a),a?e.component.option(a):o&&e.component.repaint()}},_showValidationMessage:function(e,t,n){var a,r=this,l=e.find(".dx-dropdowneditor-overlay").data("dxPopup"),s=l&&l.option("visible"),d=s?"top right":"top ".concat(n),c=s?"top left":"bottom ".concat(n),h=(null===(a=this._columnsController.getFixedColumns())||void 0===a?void 0:a.length)>0?this.getView("rowsView").element():e.closest(".".concat(this.addWidgetPrefix(_))),f="";t&&t.forEach(function(e){f+=(f.length?"<br/>":"")+(0,u.encodeHtml)(e)});var p=this.addWidgetPrefix(O);this._rowsView.element().find(".".concat(p)).remove();var g=(0,i.default)("<div>").addClass(R).addClass(F).addClass(p).html(f).appendTo(e),m={container:h,shading:!1,width:"auto",height:"auto",visible:!0,animation:!1,propagateOutsideClick:!0,hideOnOutsideClick:!1,wrapperAttr:{class:"".concat(R," ").concat(F," ").concat(p)},position:{collision:"flip",boundary:this._rowsView.element(),boundaryOffset:"0 0",offset:{x:0,y:!s&&o.default.mozilla?-1:0},my:d,at:c,of:e},onPositioned:function(t){r._positionedHandler(t,s),r._shiftValidationMessageIfNeed(t.component.$content(),e)}};this._hideFixedGroupCell(e,m),new C.default(g,m)},_hideValidationMessage:function(){var e,t=null===(e=this._rowsView.element())||void 0===e?void 0:e.find(this._getValidationMessagesSelector());null==t||t.remove()},_normalizeValidationMessagePositionAndMaxWidth:function(e,t,n){var o=this._columnsController.getFixedColumns();if(o&&o.length){var a,r,l,s,u,c,h,f=!t&&(u=e.element,c=(0,i.default)(u).closest("tr").index(),h=(0,i.default)(this._rowsView.getRowElement(c)).first().children().filter(":not(.dx-hidden-cell)"),this._rowsView._getWidths(h).reduce(function(e,t){return e+t},0)),p=e.component.$content(),g=(0,d.getOuterWidth)(p,!0),m=!t&&g>f,v=this._rowsView.getCellIndex((0,i.default)(e.element).closest("td")),C=((a=o).some(function(e,t){if("transparent"===e.command)return r=0===t?-1:t,l=t===a.length-1?-1:t+e.colspan-1,!0}),{startColumnIndex:r,endColumnIndex:l});return t||v!==C.startColumnIndex&&!m?v===C.endColumnIndex&&(s={collision:"none flip",my:"top right",at:t||n?"top left":"bottom right"},t&&(s.offset="-1 0")):s={collision:"none flip",my:"top left",at:n?"top right":"bottom left"},s&&{position:s,maxWidth:m?f-2:void 0}}},_shiftValidationMessageIfNeed:function(e,t){var n=this._revertTooltip&&this._revertTooltip.$content();if(n){var i=e.offset(),o=n.offset();if(i.top===o.top&&i.left+(0,d.getWidth)(e)>o.left){var a=(0,d.getWidth)(n)+2;e.css("left",o.left<t.offset().left?-a:a)}}},_getRevertTooltipsSelector:function(){var e=this.addWidgetPrefix(D);return".dx-editor-cell .".concat(e)},_getValidationMessagesSelector:function(){var e=this.addWidgetPrefix(O);return".dx-editor-cell .".concat(e,", .dx-cell-modified .").concat(e)},init:function(){this.callBase(),this._editingController=this.getController("editing"),this._columnsController=this.getController("columns"),this._rowsView=this.getView("rowsView")},loseFocus:function(e){e||this.getController("validating").setValidator(null),this.callBase()},updateCellState:function(e,t,n){var i,o=null==e?void 0:e.closest(this._getFocusCellSelector()),a=(null==o?void 0:o.is("td"))?o:null,r=null==o?void 0:o.closest(".dx-row").data("options"),l=r?this.getController("editing").getChangeByKey(r.key):null,s=a&&this.getController("columns").getVisibleColumns()[a.index()],d=void 0!==(null===(i=null==l?void 0:l.data)||void 0===i?void 0:i[null==s?void 0:s.name])&&!this._editingController.isSaving();if(this._editingController.getEditMode()===k&&((null==t?void 0:t.status)===W||d?this._showRevertButton(o):this._revertTooltip&&this._revertTooltip.$element().remove()),t&&t.status===W&&a&&s&&t&&t.brokenRules){var u=[];t.brokenRules.forEach(function(e){e.message&&u.push(e.message)}),u.length&&this._showValidationMessage(o,u,s.alignment||"left")}!n&&this._rowsView.element()&&this._rowsView.updateFreeSpaceRowHeight()},focus:function(e,t){var n=this;if(!arguments.length)return this.callBase();if(this._hideValidationMessage(),(null==e?void 0:e.hasClass("dx-row"))||(null==e?void 0:e.hasClass("dx-master-detail-cell")))return this.callBase(e,t);var i,o=null==e?void 0:e.closest(this._getFocusCellSelector()),a=this.callBase,l=o&&(o.data("dxValidator")||e.find(".".concat(this.addWidgetPrefix(A))).eq(0).data("dxValidator")),s=o&&o.closest(".dx-row").data("options"),d=this.getController("editing"),u=s?d.getChangeByKey(s.key):null,c=this.getController("validating");return l&&(c.setValidator(l),U(l.option("adapter").getValue(),s)||c._rowIsValidated(u))?(d.waitForDeferredOperations().done(function(){(0,r.when)(c.validateCell(l)).done(function(o){var r=(i=o).validator.option("dataGetter")().column;u&&r&&!c.isCurrentValidatorProcessing({rowKey:u.key,columnIndex:r.index})||(i.status===W&&(t=!0),n.updateCellState(e,i,t),a.call(n,e,t))})}),this.callBase(e,t)):(this.updateCellState(e,i,t),this.callBase(e,t))},getEditorInstance:function(e){var t=e.find(".dx-texteditor").eq(0);return E.default.getWidgetInstance(t)}},data:{_getValidationStatus:function(e){return(K(e)?e.status:e)||N},_isCellChanged:function(e,t,n,o,a){var r,l,s=null===(r=e.cells)||void 0===r?void 0:r[o],d=this._getValidationStatus({status:null==s?void 0:s.validationStatus}),u=this.getController("validating"),c=u.getCellValidationResult({rowKey:e.key,columnIndex:o}),h=u._getValidationData(e.key),f=this._getValidationStatus(c),p=JSON.stringify(t.modifiedValues)!==JSON.stringify(e.modifiedValues),g=(0,i.default)(null==s?void 0:s.cellElement).hasClass(this.addWidgetPrefix(T)),m=null===(l=null==s?void 0:s.column.validationRules)||void 0===l?void 0:l.length,v=e.isEditing!==t.isEditing&&m,C=d!==f&&p||h.isValid&&g;return!(!v&&!C)||this.callBase.apply(this,arguments)}}},views:{rowsView:{updateFreeSpaceRowHeight:function(e){var t,n,i,o=this.element(),a=o&&o.find(".".concat(this.addWidgetPrefix(O)," .dx-overlay-content"));if(this.callBase(e),a&&a.length&&(t=this._getRowElements(),(n=(i=this._getFreeSpaceRowElements(e)).first())&&1===t.length&&(!n.is(":visible")||(0,d.getOuterHeight)(a)>(0,d.getOuterHeight)(n))))return i.show(),(0,d.setHeight)(i,(0,d.getOuterHeight)(a)),!0},_formItemPrepared:function(e,t){var n=this;this.callBase.apply(this,arguments),(0,a.deferUpdate)(function(){var i=t.find(".dx-widget").first();i.length&&!i.children().length||n.getController("validating").createValidator(e,i)})},_cellPrepared:function(e,t){this.getController("editing").isFormOrPopupEditMode()||this.getController("validating").createValidator(t,e),this.callBase.apply(this,arguments)},_restoreErrorRow:function(e){var t=this.getController("editing");t&&t.hasChanges()&&this._getRowElements(e).each(function(e,n){var o=(0,i.default)(n).data("options");if(o){var a=t.getChangeByKey(o.key);a&&t._showErrorRow(a)}})}}}}};t.validatingModule=j},37259(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnsView=void 0;var o=D(n(71251)),a=n(77225),r=n(29997),l=D(n(68689)),s=D(n(47057)),d=n(36808),u=n(68759),c=n(68841),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=a?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(o,r,l):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(n(1685)),f=n(2005),p=n(65553),g=n(30762),m=n(52869),v=n(4964),C=n(65252),$=n(44479),w=D(n(21445)),y=n(32033),x=D(n(30593)),I=n(62852),E=D(n(59866)),b=D(n(88445)),S=D(n(31560));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function D(e){return e&&e.__esModule?e:{default:e}}function R(e,t){return(R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var O="scroll-container",F="dx-row",A="dx-group-row",P="dx-master-detail-row",V="0.0001px",_="dxCellHintVisible",B={render:function(e){e.container.append(e.content)}},M=function(e){return"auto"===e?"":(0,v.isNumeric)(e)?"".concat(e,"px"):e},k=function(e,t,n){e.style.width=e.style.maxWidth="auto"===t.width?"":n},L=function(e){e.resolve()},N=function(e){function t(){return e.apply(this,arguments)||this}i=e,(n=t).prototype=Object.create(i.prototype),n.prototype.constructor=n,R(n,i);var n,i,E=t.prototype;return E._createScrollableOptions=function(){var e=this.option("scrolling"),t=this.option("scrolling.useNative"),n=(0,c.extend)({},e,{direction:"both",bounceEnabled:!1,useKeyboard:!1});return void 0===t&&(t=!0),"auto"===t?(delete n.useNative,delete n.useSimulatedScrollbar):(n.useNative=!!t,n.useSimulatedScrollbar=!t),n},E._updateCell=function(e,t){t.rowType&&this._cellPrepared(e,t)},E._createCell=function(e){var t=e.column,n=t.alignment||(0,f.getDefaultAlignment)(this.option("rtlEnabled")),i=o.default.createElement("td");i.style.textAlign=n;var a=(0,l.default)(i);return"data"===e.rowType&&t.headerId&&!t.type&&this.component.option("showColumnHeaders")&&this.setAria("describedby",t.headerId,a),t.cssClass&&a.addClass(t.cssClass),"expand"===t.command&&(a.addClass(t.cssClass),a.addClass(this.addWidgetPrefix("group-space"))),t.colspan>1?a.attr("colSpan",t.colspan):!t.isBand&&"auto"!==t.visibleWidth&&this.option("columnAutoWidth")&&((t.width||t.minWidth)&&(i.style.minWidth=M(t.minWidth||t.width)),t.width&&k(i,t,M(t.width))),a},E._createRow=function(e,t){t=t||"tr";var n=(0,l.default)("<".concat(t,">")).addClass(F);return this.setAria("role","row",n),n},E._isAltRow=function(e){return e&&e.dataIndex%2==1},E._createTable=function(e,t){var n=this,i=(0,l.default)("<table>").addClass(n.addWidgetPrefix("table")).addClass(n.addWidgetPrefix("table-fixed"));if(e&&!t?(i.append(n._createColGroup(e)),s.default.safari&&i.append((0,l.default)("<thead>").append("<tr>"))):n.setAria("hidden",!0,i),this.setAria("role","presentation",(0,l.default)("<tbody>").appendTo(i)),t)return i;s.default.mozilla&&w.default.on(i,"mousedown","td",function(e){e.ctrlKey&&e.preventDefault()}),n.option("cellHintEnabled")&&w.default.on(i,"mousemove",".dx-row > td",this.createAction(function(e){var t=e.event,i=(0,l.default)(t.target),o=(0,l.default)(t.currentTarget),a=o.parent(),r=n._columnsController.getVisibleColumns(),s=a.data("options"),d=o.index(),u=s&&s.cells&&s.cells[d],c=u?u.column:r[d],h=a.hasClass("dx-header-row"),f=a.hasClass("dx-data-row"),p=a.hasClass(P),g=a.hasClass(A),m=a.hasClass(n.addWidgetPrefix("filter-row")),C=f&&(!c||c.cellTemplate),$=f&&u&&(s.isEditing||u.isEditing||(null==c?void 0:c.showEditorAlways)),w=h&&(!c||c.headerCellTemplate),y=g&&(!c||c.groupIndex&&c.groupCellTemplate);p||m||$||C||w||y||(i.data(_)&&(i.removeAttr("title"),i.data(_,!1)),i[0].scrollWidth-i[0].clientWidth>0&&!(0,v.isDefined)(i.attr("title"))&&(i.attr("title",i.text()),i.data(_,!0)))}));var o=function(e){var t=(0,l.default)(e.currentTarget),i=(0,l.default)(e.target).closest(".".concat("dx-field-item-content")),o=t.parent(),r=o.data("options"),s=r&&r.cells&&r.cells[t.index()];if(t.closest("table").is(e.delegateTarget)){var d=(0,c.extend)({},s,{cellElement:(0,a.getPublicElement)(t),event:e,eventType:e.type});if(d.rowIndex=n.getRowIndex(o),i.length){var u=i.data("dx-form-item");u.column&&(d.column=u.column,d.columnIndex=n._columnsController.getVisibleIndex(d.column.index))}return d}};return w.default.on(i,"mouseover",".dx-row > td",function(e){var t=o(e);t&&n.executeAction("onCellHoverChanged",t)}),w.default.on(i,"mouseout",".dx-row > td",function(e){var t=o(e);t&&n.executeAction("onCellHoverChanged",t)}),w.default.on(i,$.name,".dx-row > td",function(e){var t=o(e);t&&n.executeAction("onCellClick",t)}),w.default.on(i,y.name,".dx-row > td",function(e){var t=o(e);t&&n.executeAction("onCellDblClick",t)}),function(e,t){var n,i,o;function r(e){return setTimeout(function(){n=i=null},e)}w.default.on(t,"touchstart touchend",".dx-row",function(e){clearTimeout(o),"touchstart"===e.type?(n=e.target,i=e.currentTarget,o=r(1e3)):o=r()}),w.default.on(t,[$.name,y.name,x.default.down].join(" "),".dx-row",e.createAction(function(t){var o=t.event;n&&(o.target=n,o.currentTarget=i),(0,l.default)(o.target).closest("a").length||(t.rowIndex=e.getRowIndex(o.currentTarget),t.rowIndex>=0&&(t.rowElement=(0,a.getPublicElement)((0,l.default)(o.currentTarget)),t.columns=e.getColumns(),o.type===x.default.down?e._rowPointerDown(t):o.type===$.name?e._rowClick(t):e._rowDblClick(t)))}))}(n,i),i},E._rowPointerDown=function(){},E._rowClick=function(){},E._rowDblClick=function(){},E._createColGroup=function(e){for(var t=(0,l.default)("<colgroup>"),n=0;n<e.length;n++)for(var i=e[n].colspan||1,o=0;o<i;o++)t.append(this._createCol(e[n]));return t},E._createCol=function(e){var t=e.visibleWidth||e.width;"adaptiveHidden"===t&&(t=V);var n=(0,l.default)("<col>");return(0,g.setWidth)(n,t),n},E.renderDelayedTemplates=function(e){var t=this._delayedTemplates,n=t.filter(function(e){return!e.async}),i=t.filter(function(e){return e.async});this._delayedTemplates=[],this._renderDelayedTemplatesCore(n,!1,e),this._renderDelayedTemplatesCoreAsync(i)},E._renderDelayedTemplatesCoreAsync=function(e){var t=this;if(e.length){var n=(0,C.getWindow)().setTimeout(function(){t._templateTimeouts.delete(n),t._renderDelayedTemplatesCore(e,!0)});this._templateTimeouts.add(n)}},E._renderDelayedTemplatesCore=function(e,t,n){for(var i=new Date;e.length;){var a=e.shift(),r=a.options,s=o.default.getDocument(),d=this.needWaitAsyncTemplates();if((!t||(0,l.default)(r.container).closest(s).length||d)&&(n&&(r.change=n),a.template.render(r)),t&&new Date-i>30){this._renderDelayedTemplatesCoreAsync(e);break}}!e.length&&this._delayedTemplates.length&&this.renderDelayedTemplates()},E._processTemplate=function(e,t){var n;if(e&&e.render&&!(0,v.isRenderer)(e))n={allowRenderToDetachedContainer:e.allowRenderToDetachedContainer,render:function(t){e.render(t.container,t.model,t.change),t.deferred&&t.deferred.resolve()}};else if((0,v.isFunction)(e))n={render:function(t){var n=e((0,a.getPublicElement)(t.container),t.model,t.change);n&&(n.nodeType||(0,v.isRenderer)(n))&&t.container.append(n),t.deferred&&t.deferred.resolve()}};else{var i=(0,v.isString)(e)?e:(0,l.default)(e).attr("id");i?(this._templatesCache[i]||(this._templatesCache[i]=this.getTemplate(e)),n=this._templatesCache[i]):n=this.getTemplate(e)}return n},E.renderTemplate=function(e,t,n,i,o){var a,r=this,l=this._processTemplate(t,n),s=n.column,d="data"===n.rowType,c=new u.Deferred,h={container:e,model:n,deferred:c,onRendered:function(){r.isDisposed()?c.reject():c.resolve()}};if(l){n.component=this.component;var f=s&&(s.renderAsync&&d||this.option("renderAsync")&&(!1!==s.renderAsync&&(s.command||s.showEditorAlways)&&d||"filter"===n.rowType)),p=null!==(a=n.renderAsync)&&void 0!==a?a:f;(l.allowRenderToDetachedContainer||i)&&!p?l.render(h):this._delayedTemplates.push({template:l,options:h,async:p}),this._templateDeferreds.add(c),w.default.on(e,I.removeEvent,L.bind(null,c))}else c.reject();return c.promise().always(function(){r._templateDeferreds.delete(c)})},E._getBodies=function(e){return(0,l.default)(e).children("tbody").not(".dx-header").not(".dx-footer")},E._needWrapRow=function(e){var t;return!!this.option().rowTemplate&&!!(null===(t=this._getBodies(e))||void 0===t?void 0:t.filter(".".concat(F)).length)},E._wrapRowIfNeed=function(e,t,n){var i=n?e||this._tableElement:this._tableElement||e;if(this._needWrapRow(i)){var o=(0,l.default)("<tbody>").addClass(t.attr("class"));return this.setAria("role","presentation",o),o.append(t)}return t},E._appendRow=function(e,t,n){(n=n||B).render({content:t,container:e})},E._resizeCore=function(){var e=this._scrollLeft;e>=0&&(this._scrollLeft=0,this.scrollTo({left:e}))},E._renderCore=function(e){var t=this.element().parent();t&&!t.parent().length||this.renderDelayedTemplates(e)},E._renderTable=function(e){(e=e||{}).columns=this._columnsController.getVisibleColumns();var t=e.change&&e.change.changeType,n=this._createTable(e.columns,"append"===t||"prepend"===t||"update"===t);return this._renderRows(n,e),n},E._renderRows=function(e,t){for(var n=this._getRows(t.change),i=t.change&&t.change.columnIndices||[],o=t.change&&t.change.changeTypes||[],a=0;a<n.length;a++)this._renderRow(e,(0,c.extend)({row:n[a],columnIndices:i[a],changeType:o[a]},t))},E._renderRow=function(e,t){t.columnIndices||(t.row.cells=[]);var n=this._createRow(t.row),i=this._wrapRowIfNeed(e,n);"remove"!==t.changeType&&this._renderCells(n,t),this._appendRow(e,i);var o=(0,c.extend)({columns:t.columns},t.row);this._addWatchMethod(o,t.row),this._rowPrepared(i,o,t.row)},E._needRenderCell=function(e,t){return!t||t.indexOf(e)>=0},E._renderCells=function(e,t){for(var n=0,i=t.row,o=t.columns,a=0;a<o.length;a++)this._needRenderCell(a,t.columnIndices)&&this._renderCell(e,(0,c.extend)({column:o[a],columnIndex:n,value:i.values&&i.values[n],oldValue:i.oldValues&&i.oldValues[n]},t)),o[a].colspan>1?n+=o[a].colspan:n++},E._updateCells=function(e,t,n){var i=e.children(),o=t.children(),a=this.option("highlightChanges"),r=this.addWidgetPrefix("cell-updated-animation");n.forEach(function(e,t){var n=i.eq(e),l=o.eq(t);n.replaceWith(l),a&&!l.hasClass("dx-command-expand")&&l.addClass(r)}),function(e,t){if(e&&t){var n,i=e.attributes,o=t.attributes;for(n=0;n<i.length;n++){var a=i[n].nodeName;t.hasAttribute(a)||e.removeAttribute(a)}for(n=0;n<o.length;n++)e.setAttribute(o[n].nodeName,o[n].nodeValue)}}(e.get(0),t.get(0))},E._setCellAriaAttributes=function(e,t){if("freeSpace"!==t.rowType){this.setAria("role","gridcell",e);var n=this._columnsController.getColumnIndexOffset(),i=t.columnIndex+n+1;this.setAria("colindex",i,e)}},E._renderCell=function(e,t){var n=this._getCellOptions(t);if(t.columnIndices){if(t.row.cells){var i=t.row.cells.findIndex(function(e){return e.columnIndex===n.columnIndex});t.row.cells[i]=n}}else t.row.cells.push(n);var o=this._createCell(n);return this._setCellAriaAttributes(o,n),this._renderCellContent(o,n,t),e.get(0).appendChild(o.get(0)),o},E._renderCellContent=function(e,t,n){var i=this,o=this._getCellTemplate(t);(0,u.when)(!o||this.renderTemplate(e,o,t,void 0,n.change)).done(function(){i._updateCell(e,t)})},E._getCellTemplate=function(e){},E._getRows=function(e){return[]},E._getCellOptions=function(e){var t={column:e.column,columnIndex:e.columnIndex,rowType:e.row.rowType,isAltRow:this._isAltRow(e.row)};return this._addWatchMethod(t),t},E._addWatchMethod=function(e,t){if(this.option("repaintChangesOnly")){var n=[];return(t=t||e).watch=t.watch||function(e,i,o){var a=e(t.data),r=function(n){n&&o&&o(n);var r=e(t.data);JSON.stringify(a)!==JSON.stringify(r)&&(n&&i(r),a=r)};return n.push(r),function(){var e=n.indexOf(r);e>=0&&n.splice(e,1)}},t.update=t.update||function(t,i){t&&(this.data=e.data=t.data,this.rowIndex=e.rowIndex=t.rowIndex,this.dataIndex=e.dataIndex=t.dataIndex,this.isExpanded=e.isExpanded=t.isExpanded,e.row&&!i&&(e.row=t)),n.forEach(function(e){e(t)})},t!==e&&(e.watch=t.watch.bind(t)),e}},E._cellPrepared=function(e,t){t.cellElement=(0,a.getPublicElement)((0,l.default)(e)),this.executeAction("onCellPrepared",t)},E._rowPrepared=function(e,t,n){(0,r.data)(e.get(0),"options",t),t.rowElement=(0,a.getPublicElement)(e),this.executeAction("onRowPrepared",t)},E._columnOptionChanged=function(e){var t=e.optionNames;if(S.default.checkChanges(t,["width","visibleWidth"])){var n=this._columnsController.getVisibleColumns(),i=h.map(n,function(e){var t=e.visibleWidth||e.width;return(0,v.isDefined)(t)?t:"auto"});this.setColumnWidths({widths:i,optionNames:t})}else this._requireReady||this.render()},E.getCellIndex=function(e){return e.length?e[0].cellIndex:-1},E.getTableElements=function(){return this._tableElement||(0,l.default)()},E.getTableElement=function(e){return this._tableElement},E.setTableElement=function(e,t){this._tableElement=e},E.optionChanged=function(t){switch(e.prototype.optionChanged.call(this,t),t.name){case"cellHintEnabled":case"onCellPrepared":case"onRowPrepared":case"onCellHoverChanged":this._invalidate(!0,!0),t.handled=!0}},E.init=function(){var e=this;this._scrollLeft=-1,this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._delayedTemplates=[],this._templateDeferreds=new Set,this._templatesCache={},this._templateTimeouts=new Set,this.createAction("onCellClick"),this.createAction("onRowClick"),this.createAction("onCellDblClick"),this.createAction("onRowDblClick"),this.createAction("onCellHoverChanged",{excludeValidators:["disabled","readOnly"]}),this.createAction("onCellPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this.createAction("onRowPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering",afterExecute:function(t){e._afterRowPrepared(t)}}),this._columnsController.columnsChanged.add(this._columnOptionChanged.bind(this)),this._dataController&&this._dataController.changed.add(this._handleDataChanged.bind(this))},E._afterRowPrepared=function(e){},E._handleDataChanged=function(){},E.callbackNames=function(){return["scrollChanged"]},E._updateScrollLeftPosition=function(){var e=this._scrollLeft;e>=0&&(this._scrollLeft=0,this.scrollTo({left:e}))},E.scrollTo=function(e){var t=this.element(),n=t&&t.children(".".concat(this.addWidgetPrefix(O))).not(".".concat(this.addWidgetPrefix("content-fixed")));(0,v.isDefined)(e)&&(0,v.isDefined)(e.left)&&this._scrollLeft!==e.left&&(this._scrollLeft=e.left,n&&n.scrollLeft(e.left))},E._getContent=function(e){var t;return null===(t=this._tableElement)||void 0===t?void 0:t.parent()},E._removeContent=function(e){var t=this._getContent(e);(null==t?void 0:t.length)&&t.remove()},E._wrapTableInScrollContainer=function(e,t){var n=this,i=(0,l.default)("<div>"),o=this.option("scrolling.useNative");return!1!==o&&("auto"!==o||m.nativeScrolling)||i.addClass(this.addWidgetPrefix("scrollable-simulated")),w.default.on(i,"scroll",function(){var e=i.scrollLeft();e!==n._scrollLeft&&n.scrollChanged.fire({left:e},n.name)}),i.addClass(this.addWidgetPrefix("content")).addClass(this.addWidgetPrefix(O)).append(e).appendTo(this.element()),this.setAria("role","presentation",i),i},E.needWaitAsyncTemplates=function(){return this.option("templatesRenderAsynchronously")&&!1===this.option("renderAsync")},E.waitAsyncTemplates=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=new u.Deferred;return t||this.needWaitAsyncTemplates()?(function t(){return u.when.apply(e,Array.from(e._templateDeferreds)).done(function(){e.isDisposed()?n.reject():e._templateDeferreds.size>0?t():n.resolve()}).fail(n.reject)}(),n.promise()):n.resolve()},E._updateContent=function(e,t,n){var i=this;return this.waitAsyncTemplates().done(function(){i._removeContent(n),i.setTableElement(e,n),i._wrapTableInScrollContainer(e,n)})},E._findContentElement=function(){},E._getWidths=function(e){var t,n=[];return e&&h.each(e,function(e,i){if(t=i.offsetWidth,i.getBoundingClientRect){var o=(0,f.getBoundingRect)(i);o.width>t-1&&(t=o.width)}n.push(t)}),n},E.getColumnWidths=function(e){var t,n,i=[];if((this.option("forceApplyBindings")||d.noop)(),e=e||this.getTableElement()){t=e.children("tbody:not(.dx-header)").children();for(var o=0;o<t.length;o++){var a=t.eq(o),r="none"!==a.get(0).style.display&&!a.hasClass("dx-state-invisible");if(!a.is(".".concat(A))&&!a.is(".".concat(P))&&!a.is(".".concat("dx-error-row"))&&r){n=a.children("td");break}}i=this._getWidths(n)}return i},E.getVisibleColumnIndex=function(e,t){return e},E.setColumnWidths=function(e){var t,n,i,o,a=e.widths,r=e.$tableElement,l=e.columns,s=e.fixed,d=this.option("columnAutoWidth");if((r=r||this.getTableElement())&&r.length&&a){o=0,t=r.children("colgroup").children("col"),(0,g.setWidth)(t,"auto"),l=l||this.getColumns(null,r);for(var u=0;u<l.length;u++){if(d&&!s&&(n=l[u].width)&&!l[u].command){n=M(n=l[u].visibleWidth||n),i=M(l[u].minWidth||n);for(var c=c||r.children().children(".dx-row").not(".".concat(P)),h=0;h<c.length;h++){var f=c[h],p=void 0,m=this.getVisibleColumnIndex(u,h);(p=f.classList.contains(A)?f.querySelector("td[aria-colindex='".concat(m+1,"']:not(.").concat("dx-group-cell",")")):f.cells[m])&&(k(p,l[u],n),p.style.minWidth=i)}}l[u].colspan?o+=l[u].colspan:("adaptiveHidden"===(n=a[o])&&(n=V),"number"==typeof n&&(n="".concat(n.toFixed(3),"px")),(0,g.setWidth)(t.eq(o),(0,v.isDefined)(n)?n:"auto"),o++)}}},E.getCellElements=function(e){return this._getCellElementsCore(e)},E._getCellElementsCore=function(e){if(!(e<0))return this._getRowElements().eq(e).children()},E._getCellElement=function(e,t){var n=this.getCellElements(e),i=this._getVisibleColumnIndex(n,e,t);if((null==n?void 0:n.length)&&!(i<0)){var o=n.eq(i);return o.length>0?o:void 0}},E._getRowElement=function(e){var t=this,n=(0,l.default)(),i=t.getTableElements();if(h.each(i,function(i,o){n=n.add(t._getRowElements((0,l.default)(o)).eq(e))}),n.length)return n},E.getCellElement=function(e,t){var n=this._getCellElement(e,t);if(n)return(0,a.getPublicElement)(n)},E.getRowElement=function(e){var t=this._getRowElement(e),n=[];if(t&&!(0,a.getPublicElement)(t).get)for(var i=0;i<t.length;i++)n.push(t[i]);else n=t;return n},E._getVisibleColumnIndex=function(e,t,n){if((0,v.isString)(n)){var i=this._columnsController.columnOption(n,"index");return this._columnsController.getVisibleIndex(i)}return n},E.getColumnElements=function(){},E.getColumns=function(e,t){return this._columnsController.getVisibleColumns(e)},E.getCell=function(e,t,n){var i,o=t||this._getRowElements();if(o.length>0&&e.rowIndex>=0&&("virtual"!==this.option("scrolling.mode")&&"virtual"!==this.option("scrolling.rowRenderingMode")&&(e.rowIndex=e.rowIndex<o.length?e.rowIndex:o.length-1),(null==(i=n||this.getCellElements(e.rowIndex))?void 0:i.length)>0))return i.eq(i.length>e.columnIndex?e.columnIndex:i.length-1)},E.getRowsCount=function(){var e=this.getTableElement();return e&&1===e.length?e[0].rows.length:0},E._getRowElementsCore=function(e){if(e=e||this.getTableElement()){var t=(this.option().rowTemplate||this.option("dataRowTemplate"))&&e.find("> tbody.".concat(F));return t&&t.length?t:e.find("> tbody > "+".".concat(F,", > .").concat(F))}return(0,l.default)()},E._getRowElements=function(e){return this._getRowElementsCore(e)},E.getRowIndex=function(e){return this._getRowElements().index(e)},E.getBoundingRect=function(){},E.getName=function(){},E.setScrollerSpacing=function(e){var t=this.element(),n=this.option("rtlEnabled");t&&t.css({paddingLeft:n?e:"",paddingRight:n?"":e})},E.isScrollbarVisible=function(e){var t=this.element(),n=this._tableElement;return!(!t||!n)&&(e?(0,p.getOuterWidth)(n)-(0,p.getWidth)(t)>0:(0,p.getOuterHeight)(n)-(0,p.getHeight)(t)>0)},E.isDisposed=function(){var e;return null===(e=this.component)||void 0===e?void 0:e._disposed},E.dispose=function(){var e,t;if((0,C.hasWindow)()){var n=(0,C.getWindow)();null===(e=this._templateTimeouts)||void 0===e||e.forEach(function(e){return n.clearTimeout(e)}),null===(t=this._templateTimeouts)||void 0===t||t.clear()}},t}(b.default.View.inherit(E.default));t.ColumnsView=N},84139(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.gridViewModule=void 0;var o=$(n(71251)),a=$(n(68689)),r=$(n(47057)),l=n(36808),s=n(68759),d=n(1685),u=n(2005),c=n(65553),h=n(4964),f=n(65252),p=$(n(38306)),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=a?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(o,r,l):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(n(91918)),m=$(n(88445)),v=$(n(31560));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function $(e){return e&&e.__esModule?e:{default:e}}var w="borders",y="dx-gridbase-container",x="adaptiveHidden",I=["columnsSeparatorView","blockSeparatorView","trackerView","headerPanel","columnHeadersView","rowsView","footerView","columnChooserView","filterPanelView","pagerView","draggingHeaderView","contextMenuView","errorView","headerFilterView","filterBuilderView"],E=function(e){return(0,h.isString)(e)&&e.endsWith("%")},b=function(e,t){var n=e._rowsView.contentWidth();return n-e._getTotalWidth(t,n)},S={defaultOptions:function(){return{showBorders:!1,renderAsync:void 0}},controllers:{resizing:m.default.ViewController.inherit({_initPostRenderHandlers:function(){var e=this,t=this._dataController;this._refreshSizesHandler||(this._refreshSizesHandler=function(n){t.changed.remove(e._refreshSizesHandler),e._refreshSizes(n)},t.changed.add(function(){t.changed.add(e._refreshSizesHandler)}))},_refreshSizes:function(e){var t,n,i=this,o=e&&e.changeType,a=e&&e.isDelayed,r=i._dataController.items();if(e&&"refresh"!==o&&"prepend"!==o&&"append"!==o){if("update"===o){if(0===(null===(t=e.changeTypes)||void 0===t?void 0:t.length))return;!(r.length>1||"insert"!==e.changeTypes[0])||0===r.length&&"remove"===e.changeTypes[0]||e.needUpdateDimensions?n=i.resize():(n=new s.Deferred,this._waitAsyncTemplates().done(function(){(0,l.deferUpdate)(function(){return(0,l.deferRender)(function(){return(0,l.deferUpdate)(function(){i._setScrollerSpacing(),i._rowsView.resize(),n.resolve()})})})}).fail(n.reject))}}else a||(n=i.resize());o&&"updateSelection"!==o&&"updateFocusedRow"!==o&&"pageIndex"!==o&&!a&&(0,s.when)(n).done(function(){i._setAriaLabel(),i.fireContentReadyAction()})},fireContentReadyAction:function(){this.component._fireContentReadyAction()},_getWidgetAriaLabel:function(){return"dxDataGrid-ariaDataGrid"},_setAriaLabel:function(){this.component.setAria("label",p.default.format(this._getWidgetAriaLabel(),this._dataController.totalItemsCount(),this.component.columnCount()),this.component.$element().children(".".concat(y)))},_getBestFitWidths:function(){var e,t=this._rowsView,n=this._columnHeadersView,i=t.getColumnWidths();if(!(null==i?void 0:i.length)){var o=n.getTableElement();n.setTableElement(null===(e=t.getTableElement())||void 0===e?void 0:e.children(".dx-header")),i=n.getColumnWidths(),n.setTableElement(o)}return i},_setVisibleWidths:function(e,t){var n=this._columnsController;n.beginUpdate(),(0,d.each)(e,function(e,i){var o=n.getColumnId(i);n.columnOption(o,"visibleWidth",t[e])}),n.endUpdate()},_toggleBestFitModeForView:function(e,t,n){var i=this;if(e&&e.isVisible()){var o=this._rowsView.getTableElements(),r=e.getTableElements();(0,d.each)(o,function(e,o){var l,s=(0,a.default)(o),d=r.eq(e);d&&d.length&&((l=n?d.children("tbody").appendTo(s):s.children(".".concat(t)).appendTo(d)).toggleClass(t,n),l.toggleClass(i.addWidgetPrefix("best-fit"),n))})}},_toggleBestFitMode:function(e){var t=this._rowsView.getTableElement(),n=this._rowsView.getTableElements().eq(1);t&&(t.css("tableLayout",e?"auto":"fixed"),t.children("colgroup").css("display",e?"none":""),(0,d.each)(n.find("tr.dx-group-row"),function(t,n){(0,a.default)(n).css("display",e?"none":"")}),n.toggleClass(this.addWidgetPrefix("table-fixed"),!e),this._toggleBestFitModeForView(this._columnHeadersView,"dx-header",e),this._toggleBestFitModeForView(this._footerView,"dx-footer",e),this._needStretch()&&(t.get(0).style.width=e?"auto":""))},_toggleContentMinHeight:function(e){var t=this._rowsView.getScrollable(),n=this._rowsView._findContentElement();!1===(null==t?void 0:t.option("useNative"))&&n.css({minHeight:e?v.default.getContentHeightLimit(r.default):""})},_synchronizeColumns:function(){var e,t,n,i=this,a=this._columnsController,r=a.getVisibleColumns(),s=this.option("columnAutoWidth"),c=this.option("wordWrapEnabled"),f=this._needBestFit(),p=!1,m=!1,C=[];f||(0,d.each)(r,function(e,t){if("auto"===t.width)return f=!0,!1}),(0,d.each)(r,function(e,t){if(t.minWidth)return p=!0,!1}),this._setVisibleWidths(r,[]),f&&(t=o.default.getActiveElement(),n=v.default.getSelectionRange(t),this._toggleBestFitMode(!0),e=!0),this._toggleContentMinHeight(c);var $=this.component.$element();$&&$[0]&&this._maxWidth&&(delete this._maxWidth,$[0].style.maxWidth=""),(0,l.deferUpdate)(function(){var $,w,y;f?(C=i._getBestFitWidths(),(0,d.each)(r,function(e,t){var n=a.getColumnId(t);a.columnOption(n,"bestFitWidth",C[e],!0)})):p&&(C=i._getBestFitWidths()),(0,d.each)(r,function(e){var t,n=this.width;"auto"!==n&&((0,h.isDefined)(n)?C[e]=(0,h.isNumeric)(n)||(t=n,(0,h.isString)(t)&&t.endsWith("px"))?parseFloat(n):n:s||(C[e]=void 0))}),e&&(i._toggleBestFitMode(!1),e=!1,t&&t!==o.default.getActiveElement()&&((0,u.getBoundingRect)(t).bottom<0||(w=t,y=n,g.hiddenFocus(w),v.default.setSelectionRange(w,y)))),m=i._correctColumnWidths(C,r),s&&((0,d.each)(r,function(e,t){"groupExpand"===t.type&&($=C[e])}),(0,d.each)(r,function(e,t){"groupExpand"===t.type&&$&&(C[e]=$)}),i._needStretch()&&i._processStretch(C,r)),(0,l.deferRender)(function(){(f||m)&&i._setVisibleWidths(r,C),c&&i._toggleContentMinHeight(!1)})})},_needBestFit:function(){return this.option("columnAutoWidth")},_needStretch:function(){return this._columnsController.getVisibleColumns().some(function(e){return"auto"===e.width&&!e.command})},_getAverageColumnsWidth:function(e){return b(this,e)/e.filter(function(e){return void 0===e}).length},_correctColumnWidths:function(e,t){var n,i=this,o=!1,a=!1,r=!1,l=i.component.$element(),s=i._hasWidth,d=function(){var l,s,d,u,c=n,f=t[c],p=e[c]===x,g=e[c],m=f.minWidth;m&&(void 0===g?g=i._getAverageColumnsWidth(e):E(g)&&(l=i,s=c,d=m,u=e,0>b(l,u.map(function(e,t){return t===s?d:e}))&&(g=-1)));var v=i._getRealColumnWidth(c,e.map(function(e,t){return c===t?g:e}));m&&!p&&v<m&&(e[c]=m,r=!0,n=-1),(0,h.isDefined)(f.width)||(a=!0),E(f.width)&&(o=!0)};for(n=0;n<t.length;n++)d();if(!a&&e.length){var u=i._rowsView.element(),f=i._rowsView.contentWidth(),p=i._rowsView.getScrollbarWidth(),g=i._getTotalWidth(e,f);if(g<f){var m=v.default.getLastResizableColumnIndex(t,e);if(m>=0&&(e[m]="auto",r=!0,!1===s&&!o)){var C=i.option("showBorders")?Math.ceil((0,c.getOuterWidth)(u)-(0,c.getInnerWidth)(u)):0;i._maxWidth=g+p+C,l.css("maxWidth",i._maxWidth)}}}return r},_processStretch:function(e,t){var n=this._rowsView.contentWidth(),i=this._getTotalWidth(e,n),o={length:0};if(e.length){(0,d.each)(t,function(t){(this.width||e[t]===x)&&(o[t]=!0,o.length++)});var a=n-i,r=Math.floor(a/(e.length-o.length)),l=a-r*(e.length-o.length);if(a>=0)for(var s=0;s<e.length;s++)o[s]||(e[s]+=r,l>0&&(l<1?(e[s]+=l,l=0):(e[s]++,l--)))}},_getRealColumnWidth:function(e,t,n){var i=1,o=t[e];if(!E(o))return parseFloat(o);var a=t.reduce(function(e,t,n){return E(t)?e+parseFloat(t):e},0),r=t.reduce(function(e,t){return!t||t===x||E(t)?e:e+parseFloat(t)},0),l=(n=n||this._rowsView.contentWidth())-r,s=a*n/100;return r>0&&s+r>=n&&(i=s>l?l/s:1),parseFloat(o)*n*i/100},_getTotalWidth:function(e,t){for(var n=0,i=0;i<e.length;i++){var o=e[i];o&&o!==x&&(n+=this._getRealColumnWidth(i,e,t))}return Math.ceil(n)},_getGroupElement:function(){return this.component.$element().children().get(0)},updateSize:function(e){var t=(0,a.default)(e),n=this.addWidgetPrefix("important-margin");if(void 0===this._hasHeight&&t&&t.is(":visible")&&(0,c.getWidth)(t)){var i=t.children(".".concat(this.getWidgetContainerClass()));i.length&&i.detach(),this._hasHeight=!!(0,c.getHeight)(t);var o=(0,c.getWidth)(t);t.addClass(n),this._hasWidth=(0,c.getWidth)(t)===o,t.removeClass(n),i.length&&i.appendTo(t)}},publicMethods:function(){return["resize","updateDimensions"]},_waitAsyncTemplates:function(){var e,t,n;return(0,s.when)(null===(e=this._columnHeadersView)||void 0===e?void 0:e.waitAsyncTemplates(!0),null===(t=this._rowsView)||void 0===t?void 0:t.waitAsyncTemplates(!0),null===(n=this._footerView)||void 0===n?void 0:n.waitAsyncTemplates(!0))},resize:function(){var e=this;if(!this.component._requireResize){var t=new s.Deferred;return this._waitAsyncTemplates().done(function(){(0,s.when)(e.updateDimensions()).done(t.resolve).fail(t.reject)}).fail(t.reject),t.promise()}},updateDimensions:function(e){var t=this;if(t._initPostRenderHandlers(),t._checkSize(e)){var n=t._resizeDeferred,i=t._resizeDeferred=new s.Deferred;return(0,s.when)(n).always(function(){(0,l.deferRender)(function(){t._dataController.isLoaded()&&t._synchronizeColumns(),t._resetGroupElementHeight(),(0,l.deferUpdate)(function(){(0,l.deferRender)(function(){(0,l.deferUpdate)(function(){t._updateDimensionsCore()})})})}).done(i.resolve).fail(i.reject)}),i.promise()}},_resetGroupElementHeight:function(){var e=this._getGroupElement(),t=this._rowsView.getScrollable();!e||!e.style.height||t&&t.scrollTop()||(e.style.height="")},_checkSize:function(e){var t=this.component.$element();return!(e&&(this._lastWidth===(0,c.getWidth)(t)&&this._lastHeight===(0,c.getHeight)(t)&&this._devicePixelRatio===(0,f.getWindow)().devicePixelRatio||!t.is(":visible")))},_setScrollerSpacingCore:function(){var e=this,t=e._rowsView.getScrollbarWidth(),n=e._rowsView.getScrollbarWidth(!0);(0,l.deferRender)(function(){e._columnHeadersView&&e._columnHeadersView.setScrollerSpacing(t),e._footerView&&e._footerView.setScrollerSpacing(t),e._rowsView.setScrollerSpacing(t,n)})},_setScrollerSpacing:function(){var e=this,t=this._rowsView.getScrollable(),n=!0===this.option("scrolling.useNative");!t||n?(0,l.deferRender)(function(){(0,l.deferUpdate)(function(){e._setScrollerSpacingCore()})}):this._setScrollerSpacingCore()},_updateDimensionsCore:function(){var e=this,t=e._dataController,n=e.getController("editorFactory"),i=e._rowsView,o=e.component.$element(),r=this._getGroupElement(),s=(0,c.getHeight)(o),u=e.option("height")||o.get(0).style.height,h=!!u&&"auto"!==u,f=parseInt(o.css("maxHeight")),p=f&&s>=f,g=r&&r.scrollHeight===r.offsetHeight;e.updateSize(o),(0,l.deferRender)(function(){var s=e._hasHeight||!!f||h;i.hasHeight(s),p&&!g&&(0,a.default)(r).css("height",f),t.isLoaded()?(0,l.deferUpdate)(function(){e._updateLastSizes(o),e._setScrollerSpacing(),(0,d.each)(I,function(t,n){var i=e.getView(n);i&&i.resize()}),n&&n.resize()}):i.setLoading(t.isLoading())})},_updateLastSizes:function(e){this._lastWidth=(0,c.getWidth)(e),this._lastHeight=(0,c.getHeight)(e),this._devicePixelRatio=(0,f.getWindow)().devicePixelRatio},optionChanged:function(e){switch(e.name){case"width":case"height":this.component._renderDimensions(),this.resize();case"renderAsync":return void(e.handled=!0);default:this.callBase(e)}},init:function(){this._dataController=this.getController("data"),this._columnsController=this.getController("columns"),this._columnHeadersView=this.getView("columnHeadersView"),this._footerView=this.getView("footerView"),this._rowsView=this.getView("rowsView")}}),synchronizeScrolling:m.default.ViewController.inherit({_scrollChangedHandler:function(e,t,n){for(var i=0;i<e.length;i++)e[i]&&e[i].name!==n&&e[i].scrollTo({left:t.left,top:t.top})},init:function(){for(var e=[this.getView("columnHeadersView"),this.getView("footerView"),this.getView("rowsView")],t=0;t<e.length;t++){var n=e[t];n&&n.scrollChanged.add(this._scrollChangedHandler.bind(this,e))}}})},views:{gridView:m.default.View.inherit({_endUpdateCore:function(){this.component._requireResize&&(this.component._requireResize=!1,this._resizingController.resize())},init:function(){this._resizingController=this.getController("resizing"),this._dataController=this.getController("data")},getView:function(e){return this.component._views[e]},element:function(){return this._groupElement},optionChanged:function(e){(0,h.isDefined)(this._groupElement)&&"showBorders"===e.name?(this._groupElement.toggleClass(this.addWidgetPrefix(w),!!e.value),e.handled=!0):this.callBase(e)},_renderViews:function(e){var t=this;(0,d.each)(I,function(n,i){var o=t.getView(i);o&&o.render(e)})},_getTableRoleName:function(){return"group"},render:function(e){var t=!this._groupElement,n=this._groupElement||(0,a.default)("<div>").addClass(this.getWidgetContainerClass());n.addClass(y),n.toggleClass(this.addWidgetPrefix(w),!!this.option("showBorders")),this.setAria("role","presentation",e),this.component.setAria("role",this._getTableRoleName(),n),this._rootElement=e||this._rootElement,t&&(this._groupElement=n,(0,f.hasWindow)()&&this.getController("resizing").updateSize(e),n.appendTo(e)),this._renderViews(n)},update:function(){var e=this._rootElement,t=this._groupElement,n=this.getController("resizing");e&&t&&(n.resize(),this._dataController.isLoaded()&&this._resizingController.fireContentReadyAction())}})},VIEW_NAMES:I};t.gridViewModule=S},62955(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.rowsModule=void 0;var i=y(n(68689)),o=y(n(47057)),a=n(36808),r=n(97251),l=n(68841),s=n(1685),d=n(2005),u=n(65553),c=n(28675),h=n(30762),f=n(4964),p=n(65252),g=y(n(21445)),m=n(62852),v=y(n(38306)),C=y(n(31598)),$=y(n(31560)),w=n(37259);function y(e){return e&&e.__esModule?e:{default:e}}function x(){return(x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function I(e,t){return(I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var E="dx-group-row",b="dx-group-cell",S="dx-freespace-row",T="dx-column-lines",D="dx-row-alt",R="dx-last-row-border";function O(e){return e?Math.round(e.scrollWidth()-e.clientWidth()):0}var F=function(e,t){var n=(0,c.isEmpty)(t.text)&&"data"===t.rowType,i=t.text,o=e.get(0);n?$.default.setEmptyText(e):t.column.encodeHtml?o.textContent=i:o.innerHTML=i},A={defaultOptions:function(){return{hoverStateEnabled:!1,scrolling:{useNative:"auto"},loadPanel:{enabled:"auto",text:v.default.format("Loading"),width:200,height:90,showIndicator:!0,indicatorSrc:"",showPane:!0},dataRowTemplate:null,columnAutoWidth:!1,noDataText:v.default.format("dxDataGrid-noDataText"),wordWrapEnabled:!1,showColumnLines:!0,showRowLines:!1,rowAlternationEnabled:!1,activeStateEnabled:!1,twoWayBindingEnabled:!0}},views:{rowsView:function(e){function t(){return e.apply(this,arguments)||this}c=e,(n=t).prototype=Object.create(c.prototype),n.prototype.constructor=n,I(n,c);var n,c,v=t.prototype;return v._getDefaultTemplate=function(e){return"empty"===e.command?function(e){e.html("&nbsp;")}:F},v._getDefaultGroupTemplate=function(e){var t=this.option("summary.texts");return function(n,i){var o=i.data,a="".concat(i.column.caption,": ").concat(i.text),r=n.get(0);i.summaryItems&&i.summaryItems.length&&(a+=" ".concat($.default.getGroupRowSummaryText(i.summaryItems,t))),o&&(i.groupContinuedMessage&&i.groupContinuesMessage?a+=" (".concat(i.groupContinuedMessage,". ").concat(i.groupContinuesMessage,")"):i.groupContinuesMessage?a+=" (".concat(i.groupContinuesMessage,")"):i.groupContinuedMessage&&(a+=" (".concat(i.groupContinuedMessage,")"))),n.addClass(b),e.encodeHtml?r.textContent=a:r.innerHTML=a}},v._update=function(e){},v._getCellTemplate=function(e){var t=e.column;return"group"!==e.rowType||!(0,f.isDefined)(t.groupIndex)||t.showWhenGrouped||t.command?("data"===e.rowType||t.command)&&t.cellTemplate?t.cellTemplate:{allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(t)}:t.groupCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultGroupTemplate(t)}},v._createRow=function(t,n){var i=e.prototype._createRow.apply(this,arguments);if(t){var o="group"===t.rowType,a="data"===t.rowType;if(a&&i.addClass("dx-data-row"),a&&this.option("showRowLines")&&i.addClass("dx-row-lines"),this.option("showColumnLines")&&i.addClass(T),!1===t.visible&&i.hide(),o){i.addClass(E);var r=t.isExpanded;this.setAria("role","row",i),this.setAria("expanded",(0,f.isDefined)(r)&&r.toString(),i)}}return i},v._rowPrepared=function(t,n,i){var o=this;"data"===n.rowType&&(this.option("rowAlternationEnabled")&&(this._isAltRow(i)&&t.addClass(D),n.watch&&n.watch(function(){return o._isAltRow(i)},function(e){t.toggleClass(D,e)})),this._setAriaRowIndex(n,t),n.watch&&n.watch(function(){return n.rowIndex},function(){return o._setAriaRowIndex(n,t)})),e.prototype._rowPrepared.apply(this,arguments)},v._setAriaRowIndex=function(e,t){var n=this.component,i="standard"===n.option("scrolling.mode")&&!$.default.isVirtualRowRendering(n),o=e.rowIndex+1;i?o=n.pageIndex()*n.pageSize()+o:o+=this._dataController.getRowIndexOffset(),this.setAria("rowindex",o,t)},v._afterRowPrepared=function(e){var t=this,n=e.args[0],i=this._dataController,o=i.getVisibleRows()[n.rowIndex],a=this.option("integrationOptions.watchMethod");if(n.data&&"data"===n.rowType&&!n.isNewRow&&this.option("twoWayBindingEnabled")&&a&&o){var r=a(function(){return i.generateDataValues(n.data,n.columns)},function(){i.repaintRows([o.rowIndex],t.option("repaintChangesOnly"))},{deep:!0,skipImmediate:!0});g.default.on(n.rowElement,m.removeEvent,r)}},v._renderScrollable=function(e){var t=this.element();if(t.children().length||t.append("<div>"),!e&&this._loadPanel||this._renderLoadPanel(t,t.parent(),this._dataController.isLocalStore()),(e||!this.getScrollable())&&this._dataController.isLoaded()){for(var n=this.getColumns(),i=!0,o=0;o<n.length;o++)if(!n[o].width&&!n[o].minWidth){i=!1;break}(this.option("columnAutoWidth")||this._hasHeight||i||this._columnsController._isColumnFixing())&&this._renderScrollableCore(t)}},v._handleScroll=function(e){var t=this.option("rtlEnabled"),n=e.component.option("useNative");this._scrollTop=e.scrollOffset.top,this._scrollLeft=e.scrollOffset.left;var i=e.scrollOffset.left;t&&(this._scrollRight=O(e.component)-this._scrollLeft,n&&(i=-this._scrollRight),this.isScrollbarVisible(!0)||(this._scrollLeft=-1)),this.scrollChanged.fire(x(x({},e.scrollOffset),{left:i}),this.name)},v._renderScrollableCore=function(e){var t=this._createScrollableOptions(),n=this._handleScroll.bind(this);t.onScroll=n,this._scrollable=this._createComponent(e,C.default,t),this._scrollableContainer=this._scrollable&&(0,i.default)(this._scrollable.container())},v._renderLoadPanel=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return $.default.renderLoadPanel.apply(this,t)},v._renderContent=function(e,t,n){return e.empty().append(t),this._findContentElement()},v._updateContent=function(e,t,n){var i=this;return this._contentChanges.push({newTableElement:e,change:t,isFixedTableRendering:n}),this.waitAsyncTemplates().done(function(){var e=i._contentChanges;i._contentChanges=[],e.forEach(function(e){var t=e.newTableElement,n=e.change,o=e.isFixedTableRendering,a=i.getTableElement(o),r=i._findContentElement(o),l=null==n?void 0:n.changeType,d=[],u=i.option("highlightChanges"),c=i.addWidgetPrefix("row-inserted-animation");"update"===l?((0,s.each)(n.rowIndices,function(e,o){var r,l=i._getRowElements(t).eq(e),s=null===(r=n.changeTypes)||void 0===r?void 0:r[e],h=n.items&&n.items[e];d.push(function(){var t,r=i._getRowElements(a),d=r.eq(o);switch(s){case"update":if(h){var p=null===(t=n.columnIndices)||void 0===t?void 0:t[e];(0,f.isDefined)(h.visible)&&h.visible!==d.is(":visible")?d.toggle(h.visible):p?i._updateCells(d,l,p):d.replaceWith(l)}break;case"insert":if(r.length)d.length?l.insertBefore(d):l.insertAfter(r.last());else if(a){var g=l.is("tbody")?a:a.children("tbody");l.prependTo(g)}u&&n.isLiveUpdate&&l.addClass(c);break;case"remove":d.remove()}})}),(0,s.each)(d,function(){this()}),t.remove()):(i.setTableElement(t,o),r.addClass(i.addWidgetPrefix("content")),i._renderContent(r,t,o))})}).fail(function(){i._contentChanges=[]})},v._createEmptyRow=function(e,t,n){var i,o=this._createRow(),a=t?this.getFixedColumns():this.getColumns();o.addClass(e).toggleClass(T,this.option("showColumnLines"));for(var r=0;r<a.length;r++)i=this._createCell({column:a[r],rowType:"freeSpace",columnIndex:r,columns:a}),(0,f.isNumeric)(n)&&i.css("height",n),o.append(i);return this.setAria("role","presentation",o),o},v._appendEmptyRow=function(e,t,n){var i=this._getBodies(e),o=!i.length||t.is("tbody"),a=o?e:i;if("top"===n){if(a.first().prepend(t),o){var r=a.children("colgroup");a.prepend(r)}}else a.last().append(t)},v._renderFreeSpaceRow=function(e,t){var n=this._createEmptyRow(S);n=this._wrapRowIfNeed(e,n,"refresh"===(null==t?void 0:t.changeType)),this._appendEmptyRow(e,n)},v._checkRowKeys=function(e){var t=this,n=t._getRows(e),i=t._dataController.store()&&t._dataController.store().key();i&&n.some(function(e){if("data"===e.rowType&&void 0===e.key)return t._dataController.fireError("E1046",i),!0})},v._needUpdateRowHeight=function(e){return e>0&&!this._rowHeight},v._getRowsHeight=function(e){return(e=e||this._tableElement).children("tbody").children().not(".dx-virtual-row").not(".".concat(S)).toArray().reduce(function(e,t){return e+(0,d.getBoundingRect)(t).height},0)},v._updateRowHeight=function(){var e=this.getTableElement(),t=this._dataController.items().length;if(e&&this._needUpdateRowHeight(t)){var n=this._getRowsHeight(e);this._rowHeight=n/t}},v._findContentElement=function(e){var t=this.element(),n=this.getScrollable();if(t)return n&&(t=(0,i.default)(n.content())),t.children().first()},v._getRowElements=function(t){var n=e.prototype._getRowElements.call(this,t);return n&&n.not(".".concat(S))},v._getFreeSpaceRowElements=function(e){var t=e||this.getTableElements();return t&&t.children("tbody").children(".".concat(S))},v._getNoDataText=function(){return this.option("noDataText")},v._rowClick=function(e){var t=this._dataController.items()[e.rowIndex]||{};this.executeAction("onRowClick",(0,l.extend)({evaluate:function(e){return(0,r.compileGetter)(e)(t.data)}},e,t))},v._rowDblClick=function(e){var t=this._dataController.items()[e.rowIndex]||{};this.executeAction("onRowDblClick",(0,l.extend)({},e,t))},v._getColumnsCountBeforeGroups=function(e){for(var t=0;t<e.length;t++)if("groupExpand"===e[t].type)return t;return 0},v._getGroupCellOptions=function(e){var t=this._getColumnsCountBeforeGroups(e.columns),n=(e.row.groupIndex||0)+t;return{columnIndex:n,colspan:e.columns.length-n-1}},v._needWrapRow=function(){return e.prototype._needWrapRow.apply(this,arguments)||!!this.option("dataRowTemplate")},v._renderCells=function(t,n){"group"===n.row.rowType?this._renderGroupedCells(t,n):n.row.values&&e.prototype._renderCells.call(this,t,n)},v._renderGroupedCells=function(e,t){for(var n,i,o=t.row,a=t.columns,r=o.rowIndex,s=this._getGroupCellOptions(t),u=0;u<=s.columnIndex;u++)u===s.columnIndex&&a[u].allowCollapsing&&"infinite"!==t.scrollingMode?(i=!!o.isExpanded,n=a[u]):(i=null,n={command:"expand",cssClass:a[u].cssClass}),this._needRenderCell(u,t.columnIndices)&&this._renderCell(e,{value:i,row:o,rowIndex:r,column:n,columnIndex:u,columnIndices:t.columnIndices,change:t.change});var c=(0,d.getDefaultAlignment)(this.option("rtlEnabled")),h=(0,l.extend)({},a[s.columnIndex],{command:null,type:null,cssClass:null,width:null,showWhenGrouped:!1,alignment:c});s.colspan>1&&(h.colspan=s.colspan),this._needRenderCell(s.columnIndex+1,t.columnIndices)&&this._renderCell(e,{value:o.values[o.groupIndex],row:o,rowIndex:r,column:h,columnIndex:s.columnIndex+1,columnIndices:t.columnIndices,change:t.change})},v._renderRows=function(t,n){var i=this.option("scrolling.mode");e.prototype._renderRows.call(this,t,(0,l.extend)({scrollingMode:i},n)),this._checkRowKeys(n.change),this._renderFreeSpaceRow(t,n.change),this._hasHeight||this.updateFreeSpaceRowHeight(t)},v._renderDataRowByTemplate=function(e,t,n){var i=t.row,o=(0,l.extend)({columns:t.columns},i),a=this._createRow(i,"tbody");a.appendTo(e),this.renderTemplate(a,n,o,!0,t.change),this._rowPrepared(a,o,t.row)},v._renderRow=function(t,n){var i=n.row,o=this.option().rowTemplate,a=this.option("dataRowTemplate");"data"===i.rowType&&a?this._renderDataRowByTemplate(t,n,a):"data"!==i.rowType&&"group"!==i.rowType||(0,f.isDefined)(i.groupIndex)||!o?e.prototype._renderRow.call(this,t,n):this.renderTemplate(t,o,(0,l.extend)({columns:n.columns},i),!0)},v._renderTable=function(t){var n=this,i=e.prototype._renderTable.call(this,t);return(0,f.isDefined)(n.getTableElement())?n._renderScrollable():(n.setTableElement(i),n._renderScrollable(!0),n.resizeCompleted.add(function e(){var t=n.getScrollable();t&&n.element().closest((0,p.getWindow)().document).length&&(n.resizeCompleted.remove(e),t._visibilityChanged(!0))})),i},v._createTable=function(){var t=e.prototype._createTable.apply(this,arguments);return(this.option().rowTemplate||this.option().dataRowTemplate)&&t.appendTo(this.component.$element()),t},v._renderCore=function(t){var n=this.element();n.addClass(this.addWidgetPrefix("rowsview")).toggleClass(this.addWidgetPrefix("nowrap"),!this.option("wordWrapEnabled")),n.toggleClass("dx-empty",this._dataController.isEmpty()),this.setAria("role","presentation",n);var i=this._renderTable({change:t}),o=this._updateContent(i,t);return e.prototype._renderCore.call(this,t),this._lastColumnWidths=null,o},v._getRows=function(e){return e&&e.items||this._dataController.items()},v._getCellOptions=function(t){var n=t.column,i=t.row,o=i.data,a=i&&i.summaryCells,r=t.value,l=$.default.getDisplayValue(n,r,o,i.rowType),s=e.prototype._getCellOptions.call(this,t);if(s.value=r,s.oldValue=t.oldValue,s.displayValue=l,s.row=i,s.key=i.key,s.data=o,s.rowType=i.rowType,s.values=i.values,s.text=n.command?"":$.default.formatValue(l,n),s.rowIndex=i.rowIndex,s.summaryItems=a&&a[t.columnIndex],s.resized=n.resizedCallbacks,(0,f.isDefined)(n.groupIndex)&&!n.command){var d=this.option("grouping.texts"),u=this.option("scrolling.mode");"virtual"!==u&&"infinite"!==u&&(s.groupContinuesMessage=o&&o.isContinuationOnNextPage&&d&&d.groupContinuesMessage,s.groupContinuedMessage=o&&o.isContinuation&&d&&d.groupContinuedMessage)}return s},v._setRowsOpacityCore=function(e,t,n,o){var a=this._columnsController,r=a.getColumns(),l=r&&r[n],d=l&&l.isBand&&l.index;(0,s.each)(e,function(r,l){if(!(0,i.default)(l).hasClass(E))for(var s=0;s<t.length&&(!((0,f.isNumeric)(d)&&a.isParentBandColumn(t[s].index,d)||t[s].index===n)||(e.eq(r).children().eq(s).css({opacity:o}),(0,f.isNumeric)(d)));s++);})},v._getDevicePixelRatio=function(){return(0,p.getWindow)().devicePixelRatio},v.renderNoDataText=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return $.default.renderNoDataText.apply(this,t)},v.getCellOptions=function(e,t){var n,i,o=this._dataController.items()[e];return o&&(i=(0,f.isString)(t)?this._columnsController.columnOption(t):this._columnsController.getVisibleColumns()[t])&&(n=this._getCellOptions({value:i.calculateCellValue(o.data),rowIndex:o.rowIndex,row:o,column:i})),n},v.getRow=function(e){if(e>=0){var t=this._getRowElements();if(t.length>e)return(0,i.default)(t[e])}},v.updateFreeSpaceRowHeight=function(e){var t=this,n=this._dataController,i=n.items(!0).length,o=this._findContentElement(),r=this._getFreeSpaceRowElements(e);if(r&&o&&n.totalCount()>=0){var l=!1;if(i>0){if(this._hasHeight)r.hide(),(0,a.deferUpdate)(function(){var n,i=t.getScrollbarWidth(!0),s=(0,u.getHeight)(t.element())-i,d=s-(0,u.getOuterHeight)(o)>0,c=s-t._getRowsHeight(o.children().first())-Math.ceil(parseFloat((e||t.getTableElements()).css("borderTopWidth")))-t._getHeightCorrection();d&&(0,a.deferRender)(function(){r.css("height",c),l=!0,r.show()}),(0,a.deferRender)(function(){return t._updateLastRowBorder(l)})});else{var s=n.pageSize()-i,d=this.option("scrolling.mode");s>0&&n.pageCount()>1&&"virtual"!==d&&"infinite"!==d&&((0,h.setHeight)(r,s*this._rowHeight),l=!0),!l&&e?(0,h.setHeight)(r,0):r.toggle(l),this._updateLastRowBorder(l)}}else r.css("height",0),r.show(),this._updateLastRowBorder(!0)}},v._getHeightCorrection=function(){var e=o.default.webkit&&this._getDevicePixelRatio()>=2,t=o.default.chrome&&o.default.version>=91,n=o.default.mozilla&&o.default.version>=70&&!this.option("showRowLines");return e||n||t?1:0},v._columnOptionChanged=function(t){var n=t.optionNames;t.changeTypes.grouping||(n.width||n.visibleWidth)&&(e.prototype._columnOptionChanged.call(this,t),this._fireColumnResizedCallbacks())},v.getScrollable=function(){return this._scrollable},v.init=function(){var t=this,n=this,i=n.getController("data");e.prototype.init.call(this),n._editorFactoryController=n.getController("editorFactory"),n._rowHeight=0,n._scrollTop=0,n._scrollLeft=-1,n._scrollRight=0,n._hasHeight=!1,n._contentChanges=[],i.loadingChanged.add(function(e,t){n.setLoading(e,t)}),i.dataSourceChanged.add(function(){t._scrollLeft>=0&&!t._dataController.isLoading()&&t._handleScroll({component:t.getScrollable(),forceUpdateScrollPosition:!0,scrollOffset:{top:t._scrollTop,left:t._scrollLeft}})})},v._handleDataChanged=function(e){switch(e.changeType){case"refresh":case"prepend":case"append":case"update":this.render(null,e);break;default:this._update(e)}},v.publicMethods=function(){return["isScrollbarVisible","getTopVisibleRowData","getScrollbarWidth","getCellElement","getRowElement","getScrollable"]},v.contentWidth=function(){return(0,u.getWidth)(this.element())-this.getScrollbarWidth()},v.getScrollbarWidth=function(e){var t,n=this._scrollableContainer&&this._scrollableContainer.get(0),o=0;return n&&(e?(o=n.clientHeight?n.offsetHeight-n.clientHeight:0,o+=(t=this.getScrollable())?Math.ceil(parseFloat((0,i.default)(t.content()).css("paddingBottom"))):0):o=n.clientWidth?n.offsetWidth-n.clientWidth:0),o>0?o:0},v._fireColumnResizedCallbacks=function(){for(var e=this._lastColumnWidths||[],t=[],n=this.getColumns(),i=0;i<n.length;i++)t[i]=n[i].visibleWidth,n[i].resizedCallbacks&&!(0,f.isDefined)(n[i].groupIndex)&&e[i]!==t[i]&&n[i].resizedCallbacks.fire(t[i]);this._lastColumnWidths=t},v._updateLastRowBorder=function(e){this.option("showBorders")&&this.option("showRowLines")&&!e?this.element().addClass(R):this.element().removeClass(R)},v._updateScrollable=function(){var e=C.default.getInstance(this.element());e&&(e.update(),this._updateHorizontalScrollPosition())},v._updateHorizontalScrollPosition=function(){var e=this.getScrollable(),t=e&&e.scrollOffset().left;if(this.option("rtlEnabled")){var n=O(e);n-t!==this._scrollRight&&(this._scrollLeft=n-this._scrollRight)}this._scrollLeft>=0&&t!==this._scrollLeft&&e.scrollTo({x:this._scrollLeft})},v._resizeCore=function(){var e=this;e._fireColumnResizedCallbacks(),e._updateRowHeight(),(0,a.deferRender)(function(){e._renderScrollable(),e.renderNoDataText(),e.updateFreeSpaceRowHeight(),(0,a.deferUpdate)(function(){e._updateScrollable()})})},v.scrollTo=function(e){var t=this.element(),n=t&&C.default.getInstance(t);n&&n.scrollTo(e)},v.height=function(e){var t=this.element();if(0===arguments.length)return t?(0,u.getOuterHeight)(t,!0):0;(0,f.isDefined)(e)&&t&&(this.hasHeight("auto"!==e),(0,h.setHeight)(t,e))},v.hasHeight=function(e){if(0===arguments.length)return!!this._hasHeight;this._hasHeight=e},v.setLoading=function(e,t){var n=this._loadPanel,i=this._dataController,o=this.option("loadPanel")||{},a=i.isLoaded()?o.animation:null,r=this.element();if((0,p.hasWindow)()&&(!n&&void 0!==t&&i.isLocalStore()&&"auto"===o.enabled&&r&&(this._renderLoadPanel(r,r.parent()),n=this._loadPanel),n)){var l={message:t||o.text,animation:a,visible:e};e&&(l.position=$.default.calculateLoadPanelPosition(r)),clearTimeout(this._hideLoadingTimeoutID),n.option("visible")&&!e?this._hideLoadingTimeoutID=setTimeout(function(){n.option(l)},200):n.option(l)}},v.setRowsOpacity=function(e,t){var n=this._getRowElements().not(".".concat(E))||[];this._setRowsOpacityCore(n,this.getColumns(),e,t)},v._getCellElementsCore=function(t){var n=e.prototype._getCellElementsCore.apply(this,arguments);if(n){var i=n.filter(".".concat(b)).index();if(i>=0&&n.length>i+1)return n.slice(0,i+1)}return n},v._getBoundaryVisibleItemIndex=function(e,t){var n=0,o=0,a=0,r=this._scrollTop,l=this._findContentElement(),s=l&&l.offset().top,d=this.getController("data").items(),c=this.getTableElement();if(d.length&&c){var h=this._getRowElements(c).filter(":visible");for(e||(r+=(0,u.getOuterHeight)(this._hasHeight?this.element():(0,p.getWindow)())),n=0;n<d.length;n++){o=a;var f=(0,i.default)(h).eq(n);if(f.length&&(a=f.offset(),(a=(e?a.top:a.top+(0,u.getOuterHeight)(f))-s)>r)){n&&(t||2*r<Math.round(a+o))&&n--;break}}n&&n===d.length&&n--}return n},v.getTopVisibleItemIndex=function(e){return this._getBoundaryVisibleItemIndex(!0,e)},v.getBottomVisibleItemIndex=function(e){return this._getBoundaryVisibleItemIndex(!1,e)},v.getTopVisibleRowData=function(){var e=this.getTopVisibleItemIndex(),t=this._dataController.items();if(t[e])return t[e].data},v._scrollToElement=function(e,t){var n=this.getScrollable();n&&n.scrollToElement(e,t)},v.optionChanged=function(t){switch(e.prototype.optionChanged.call(this,t),t.name){case"wordWrapEnabled":case"showColumnLines":case"showRowLines":case"rowAlternationEnabled":case"rowTemplate":case"dataRowTemplate":case"twoWayBindingEnabled":this._invalidate(!0,!0),t.handled=!0;break;case"scrolling":this._rowHeight=null,this._tableElement=null,t.handled=!0;break;case"rtlEnabled":this._rowHeight=null,this._tableElement=null;break;case"loadPanel":this._tableElement=null,this._invalidate(!0,"loadPanel.enabled"!==t.fullName),t.handled=!0;break;case"noDataText":this.renderNoDataText(),t.handled=!0}},v.dispose=function(){e.prototype.dispose.call(this),clearTimeout(this._hideLoadingTimeoutID),this._scrollable&&this._scrollable.dispose()},v.setScrollerSpacing=function(){},v._restoreErrorRow=function(){},t}(w.ColumnsView)}};t.rowsModule=A},88101(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.virtualColumnsModule=void 0;var i,o=n(65553),a=n(4964),r=n(65252),l=n(74946),s={defaultOptions:function(){return{scrolling:{columnRenderingMode:"standard",columnPageSize:5,columnRenderingThreshold:300}}},extenders:{controllers:{columns:(i=function(e){return e.map(function(e){return e.visibleWidth||parseFloat(e.width)||50})},{init:function(){var e=this;e.callBase.apply(this,arguments),e._beginPageIndex=null,e._endPageIndex=null,e._position=0,e._virtualVisibleColumns={}},resetColumnsCache:function(){this.callBase(),this._virtualVisibleColumns={}},getBeginPageIndex:function(e){for(var t=this.getVisibleColumns(void 0,!0),n=i(t),o=0,a=0;a<n.length;a++){if(o>=e)return Math.floor(a/this.getColumnPageSize());o+=n[a]}return 0},getTotalWidth:function(){var e=this.option("width");return"number"==typeof e?e:this.getController("resizing")._lastWidth||(0,o.getOuterWidth)(this.component.$element())},getEndPageIndex:function(e){var t=i(this.getVisibleColumns(void 0,!0)),n=0;e+=this.getTotalWidth();for(var o=0;o<t.length;o++){if(n>=e)return Math.ceil(o/this.getColumnPageSize());n+=t[o]}return Math.ceil(t.length/this.getColumnPageSize())},getColumnPageSize:function(){return this.option("scrolling.columnPageSize")},_fireColumnsChanged:function(){var e=new Date;this.columnsChanged.fire({optionNames:{all:!0,length:1},changeTypes:{columns:!0,virtualColumnsScrolling:!0,length:2}}),this._renderTime=new Date-e},getScrollingTimeout:function(){var e=this.option("scrolling.columnRenderingThreshold"),t=this.option("scrolling.renderAsync"),n=0;return(!(0,a.isDefined)(t)&&this._renderTime>e||t)&&(n=this.option("scrolling.timeout")),n},setScrollPosition:function(e){var t=this,n=this.getScrollingTimeout();n>0?(clearTimeout(this._changedTimeout),this._changedTimeout=setTimeout(function(){t._setScrollPositionCore(e)},n)):this._setScrollPositionCore(e)},isVirtualMode:function(){return(0,r.hasWindow)()&&"virtual"===this.option("scrolling.columnRenderingMode")},resize:function(){this._setScrollPositionCore(this._position)},_setScrollPositionCore:function(e){if(this.isVirtualMode()){var t=this.getBeginPageIndex(e),n=this.getEndPageIndex(e),i=e<this._position?this._beginPageIndex>t:this._endPageIndex<n;this._position=e,i&&(this._beginPageIndex=t,this._endPageIndex=n,this._fireColumnsChanged())}},getFixedColumns:function(e,t){var n=this.callBase(e);return this.isVirtualMode()&&!t&&n.length?(n[n.map(function(e){return e.command}).indexOf("transparent")].colspan=this.getVisibleColumns().length-this.callBase().length+1,n):n},_compileVisibleColumns:function(e,t){if(t||!this.isVirtualMode()||!this._shouldReturnVisibleColumns())return this.callBase(e);!(null===(n=this._columns)||void 0===n?void 0:n.length)||(0,a.isDefined)(this._beginPageIndex)||(0,a.isDefined)(this._endPageIndex)||(this._beginPageIndex=this.getBeginPageIndex(this._position),this._endPageIndex=this.getEndPageIndex(this._position));var n,o=this._beginPageIndex,r=this._endPageIndex,s="".concat(e,"-").concat(o,"-").concat(r);if(this._virtualVisibleColumns[s])return this._virtualVisibleColumns[s];var d=this.callBase(),u=this.getRowCount(),c=this.getColumnPageSize(),h=o*c,f=r*c,p=this.getFixedColumns(void 0,!0),g=p.map(function(e){return e.command}).indexOf("transparent"),m=p.length?g:0,v=d.slice(0,m),C=d.slice(m,h),$=i(C).reduce(function(e,t){return e+t},0);$||(h=0);var w=p.length?p.length-g-1:0,y=d.slice(d.length-w),x=d.slice(f,d.length-w),I=i(x).reduce(function(e,t){return e+t},0);if(I||(f=d.length),u>1&&"number"==typeof e){for(var E=[],b=0;b<=u;b++)E.push(this.callBase(b));v=(0,l.createColumnsInfo)(E,0,v.length)[e]||[],y=(0,l.createColumnsInfo)(E,d.length-y.length,d.length)[e]||[],d=(0,l.createColumnsInfo)(E,h,f)[e]||[]}else d=d.slice(h,f);return $&&(d.unshift({command:"virtual",width:$}),d=v.concat(d)),I&&(d.push({command:"virtual",width:I}),d=d.concat(y)),this._virtualVisibleColumns[s]=d,d},getColumnIndexOffset:function(){var e=0;if(this._beginPageIndex>0){var t=this.getFixedColumns().map(function(e){return e.command}).indexOf("transparent");e=this._beginPageIndex*this.getColumnPageSize()-(t>=0?t:0)-1}return e>0?e:0},dispose:function(){clearTimeout(this._changedTimeout),this.callBase.apply(this,arguments)}})},views:{columnHeadersView:{_renderCore:function(){var e=this.callBase.apply(this,arguments);return this._columnsController.isVirtualMode()&&this._updateScrollLeftPosition(),e}},rowsView:{_resizeCore:function(){this.callBase.apply(this,arguments),this._columnsController.resize()},_handleScroll:function(e){var t=this.getScrollable(),n=e.scrollOffset.left;this.callBase.apply(this,arguments),this.option("rtlEnabled")&&t&&(n=(0,o.getWidth)(t.$content())-(0,o.getWidth)(t.$element())-n),this._columnsController.setScrollPosition(n)}}}}};t.virtualColumnsModule=s},74946(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createColumnsInfo=function(e,t,n){var a=[];o(e,function(e,o,r){var l,s=e,d=s.colspan||1,u=o+d-1>=t&&o<n;if(a[r]=a[r]||[],u)o<t?(l=d-(t-o),o=t):l=d,o+l>n&&(l=n-o),l!==d&&(s=(0,i.extend)({},s,{colspan:l})),a[r].push(s);else if(o>n)return!1});for(var r=0;r<a.length;r++)a[r]=a[r]||[];return a},t.foreachColumnInfo=o;var i=n(68841);function o(e,t,n,i,a,r){r=r||[],(i=i||[])[n=n||0]=i[n]||0;var l,s=e[n],d=r[n]+1||0,u=0;if(s){for(l=d;l<s.length;l++){var c=s[l],h=l+i[n],f=c.colspan||1;if(o(e,t,n+(c.rowspan||1),i,f,r),i[n]+=f-1,u+=f,c.rowspan)for(var p=n+1;p<n+c.rowspan;p++)i[p]=i[p]||0,i[p]+=c.colspan||1;if(!1===t(c,h,n,l)||void 0!==a&&u>=a)break}r[n]=l}}},59959(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualDataLoader=void 0;var i=n(68759),o=n(4964),a="scrolling.legacyMode",r=function(e){return e.option("scrolling.loadTwoPagesOnStart")||e._controller.isVirtual()||e._controller.getViewportItemIndex()>0},l=function(e){return e._cache.length?e._cache[0].pageIndex:-1},s=function(e){return e._cache.length?e._cache[e._cache.length-1].pageIndex:-1},d=function(e,t,n){e._isChangedFiring=!0,t(n),e._isChangedFiring=!1},u=function(e,t,n){if(e._isDelayChanged)return e._isDelayChanged=!1,d(e,t,n),!0},c=function(e,t){var n=e.option("scrolling.preloadEnabled"),i=function(e){var t=e._dataOptions.pageSize();if(e.option("scrolling.preventPreload"))return 0;var n=e._controller.viewportSize();if(e._controller.isVirtualMode()&&e.option("scrolling.removeInvisiblePages")){n=0;for(var i=e._controller.viewportSize()*e._controller.viewportItemSize(),o=e._controller.getContentOffset(),a=e._controller.getViewportPosition(),r=e._controller.virtualItemsCount(),l=e._dataOptions.totalItemsCount(),s=r.begin;s<l&&!(o>=a+i);s++)(o+=e._controller.getItemSizes()[s]||e._controller.viewportItemSize())>=a&&n++}return t&&n>0?Math.ceil(n/t):1}(e),o=e._controller.isAppendMode();return i&&(t?i=n?1:0:(n&&i++,!o&&r(e)||i--)),i},h=function(e,t,n,i,a){var r=e._dataOptions,l=r.items().slice(),s=(0,o.isObject)(n)?n:void 0,u="prepend"===n,c=r.viewportItems();n&&(0,o.isString)(n)&&!e._isDelayChanged&&(s={changeType:n,items:l},a&&(s.removeCount=a.itemsCount,s.removeCount&&r.correctCount&&(s.removeCount=r.correctCount(c,s.removeCount,u))));var h=a?a.itemsLength:0;h&&r.correctCount&&(h=r.correctCount(c,h,u)),"append"===n?(c.push.apply(c,l),a&&c.splice(0,h)):u?(c.unshift.apply(c,l),a&&c.splice(-h)):e._dataOptions.viewportItems(l),r.updateLoading(),e._lastPageIndex=e.pageIndex(),e._isDelayChanged=i,i||d(e,t,s)},f=function(){function e(e,t){this._controller=e,this._dataOptions=t,this._pageIndex=this._lastPageIndex=t.pageIndex(),this._cache=[],this._loadingPageIndexes={}}var t=e.prototype;return t.option=function(){return this._controller.option.apply(this._controller,arguments)},t.viewportItemIndexChanged=function(e){var t,n=this._dataOptions.pageSize(),i=this._dataOptions.pageCount(),o=this._controller.isVirtualMode(),a=this._controller.isAppendMode(),r=this._dataOptions.totalItemsCount();if(n&&(o||a)&&r>=0){var l=this._controller.viewportSize();if(l&&e+l>=r&&!this._controller.isVirtual()){if(this._dataOptions.hasKnownLastPage()){var s=r%n;(t=i-1)>0&&s>0&&s<l&&t--}else t=i}else t=Math.min(t=Math.max(t=Math.floor(e/n),0),i-1);return this.pageIndex(t),this.load()}},t.pageIndex=function(e){var t=this._controller.isVirtualMode(),n=this._controller.isAppendMode();return!1!==this.option(a)&&(t||n)?(void 0!==e&&(this._pageIndex=e),this._pageIndex):this._dataOptions.pageIndex(e)},t.beginPageIndex=function(e){var t=l(this);return t<0&&(t=void 0!==e?e:this.pageIndex()),t},t.endPageIndex=function(){var e=s(this);return e>0?e:this._lastPageIndex},t.pageSize=function(){return this._dataOptions.pageSize()},t.load=function(){var e,t=this,n=this._dataOptions,o=this._controller.isVirtualMode(),r=this._controller.isAppendMode();if(!1!==this.option(a)&&(o||r)){var d,u,h,f,p=(d=this,u=-1,h=l(d),f=d._dataOptions,h<0?u=d._pageIndex:d._cache[d._pageIndex-h]?h>=0&&d._controller.viewportSize()>=0&&(h>0&&(s(d)+1===f.pageCount()&&d._cache.length<c(d)+1||d._pageIndex===h&&c(d,!0))&&(u=h-1),u<0&&h+d._cache.length<=d._pageIndex+c(d)&&(u=h+d._cache.length)):u=d._pageIndex,d._loadingPageIndexes[u]&&(u=-1),u);if(p>=0){var g=function(e,t){var n=e._dataOptions;if(t===e.pageIndex()||!n.isLoading()&&t<n.pageCount()||!n.hasKnownLastPage()&&t===n.pageCount())return n.pageIndex(t),e._loadingPageIndexes[t]=!0,(0,i.when)(n.load()).always(function(){e._loadingPageIndexes[t]=!1})}(this,p);g&&(e=new i.Deferred,g.done(function(){var n=t._delayDeferred;n?n.done(e.resolve).fail(e.reject):e.resolve()}).fail(e.reject),n.updateLoading())}}else e=n.load();return e||this._lastPageIndex===this.pageIndex()||this._dataOptions.onChanged({changeType:"pageIndex"}),e||(new i.Deferred).resolve()},t.loadIfNeed=function(){var e=this._controller.isVirtualMode(),t=this._controller.isAppendMode();if((e||t)&&!this._dataOptions.isLoading()&&(!this._isChangedFiring||this._controller.isVirtual())){var n=this._controller.getViewportPosition();n>0?this._controller._setViewportPositionCore(n):this.load()}},t.handleDataChanged=function(e,t){var n,i,o=this,f=this._dataOptions,p=this._cache.length,g=this._controller.isVirtualMode(),m=this._controller.isAppendMode();if(t&&t.changes)d(this,e,t);else if(!1!==this.option(a)&&(g||m)){var v=l(this);if(v>=0&&(g&&v+this._cache.length!==f.pageIndex()&&v-1!==f.pageIndex()&&(p=0,this._cache=[]),m)){if(0===f.pageIndex())this._cache=[];else if(f.pageIndex()<s(this))return void d(this,e,{changeType:"append",items:[]})}var C,$={pageIndex:f.pageIndex(),itemsLength:f.items(!0).length,itemsCount:this.itemsCount(!0)};this.option("scrolling.removeInvisiblePages")&&g?i=this._cache.length>Math.max(c(this)+(this.option("scrolling.preloadEnabled")?1:0),2):u(this,e,{isDelayed:!0}),v===f.pageIndex()+1?(i&&(C=this._cache.pop()),n="prepend",this._cache.unshift($)):(i&&(C=this._cache.shift()),n="append",this._cache.push($));var w=g&&0===p&&r(this);h(this,e,this._cache.length>1?n:void 0,w,C),this._delayDeferred=this.load().done(function(){u(o,e)&&o.load()})}else h(this,e,t)},t.getDelayDeferred=function(){return this._delayDeferred},t.itemsCount=function(e){var t=0,n=this._controller.isVirtualMode();return!e&&n?this._cache.forEach(function(e){t+=e.itemsCount}):t=this._dataOptions.itemsCount(),t},t.virtualItemsCount=function(){var e=l(this);e<0&&(e=this._dataOptions.pageIndex());var t=e*this._dataOptions.pageSize(),n=this._cache.length*this._dataOptions.pageSize();return{begin:t,end:Math.max(0,this._dataOptions.totalItemsCount()-n-t)}},t.reset=function(){this._loadingPageIndexes={},this._cache=[]},e}();t.VirtualDataLoader=f},56319(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.virtualScrollingModule=void 0;var i=p(n(68689)),o=p(n(47057)),a=n(68759),r=n(1685),l=n(2005),s=n(65553),d=n(4964),u=n(65252),c=p(n(42508)),h=p(n(31560)),f=n(7060);function p(e){return e&&e.__esModule?e:{default:e}}var g,m,v,C,$="bottom-load-panel",w="dx-freespace-row",y="dx-virtual-row",x="scrolling.legacyMode",I="paging.pageIndex",E=function(e){return"virtual"===e.option("scrolling.mode")},b=function(e){return"infinite"===e.option("scrolling.mode")},S=function(e){return E(e)||b(e)},T=function(e,t,n,i){for(var o=0;o<t+1;o++){var a=e[n?e.length-1-o:o];a&&!i(a,o===t,n)&&t++}return t},D=function(e,t){return"data"===e.rowType&&!e.isNewRow||"group"===e.rowType&&t.isGroupItemCountable(e.data)},R=(g=function(e){var t=e._virtualScrollController.beginPageIndex(-1);E(e)&&(t<0||e.viewportSize()>=0&&e.getViewportItemIndex()>=0&&(t*e.pageSize()>e.getViewportItemIndex()||t*e.pageSize()+e.itemsCount()<e.getViewportItemIndex()+e.viewportSize())&&e._dataSource.isLoading()?e._isLoading||(e._isLoading=!0,e.loadingChanged.fire(!0)):e._isLoading&&(e._isLoading=!1,e.loadingChanged.fire(!1)))},m={init:function(){this.callBase.apply(this,arguments),this._items=[],this._totalCount=-1,this._isLoaded=!0,this._loadPageCount=1,this._virtualScrollController=new f.VirtualScrollController(this.component,this._getVirtualScrollDataOptions())},_getVirtualScrollDataOptions:function(){var e=this;return{pageSize:function(){return e.pageSize()},totalItemsCount:function(){return e.totalItemsCount()},hasKnownLastPage:function(){return e.hasKnownLastPage()},pageIndex:function(t){return e._dataSource.pageIndex(t)},isLoading:function(){return e._dataSource.isLoading()&&!e.isCustomLoading()},pageCount:function(){return e.pageCount()},load:function(){return e._dataSource.load()},updateLoading:function(){g(e)},itemsCount:function(){return e.itemsCount(!0)},items:function(){return e._dataSource.items()},viewportItems:function(t){return t&&(e._items=t),e._items},onChanged:function(t){e.changed.fire(t)},changingDuration:function(){return e.isLoading()?300:e._renderTime||0}}},_handleLoadingChanged:function(e){!1!==this.option(x)?(E(this)&&!this._isLoadingAll||(this._isLoading=e,this.callBase.apply(this,arguments)),this._startLoadTime=e?new Date:void 0):this.callBase.apply(this,arguments)},_handleLoadError:function(){!1!==this.option(x)&&(this._isLoading=!1,this.loadingChanged.fire(!1)),this.callBase.apply(this,arguments)},_handleDataChanged:function(e){if(!1===this.option(x))return this._items=this._dataSource.items().slice(),this._totalCount=this._dataSourceTotalCount(!0),void this.callBase.apply(this,arguments);var t=this.callBase.bind(this);this._virtualScrollController.handleDataChanged(t,e)},_customizeRemoteOperations:function(e,t){var n=!1===this.option(x),i=this.option("scrolling.renderAsync");(0,d.isDefined)(i)||(i=this._renderTime>=this.option("scrolling.renderingThreshold")),(E(this)||b(this)&&n)&&!t.reload&&(t.skip||n)&&!i&&(e.delay=void 0),this.callBase.apply(this,arguments)},items:function(){return this._items},_dataSourceTotalCount:function(e){return!1===this.option(x)&&E(this)&&!e?this._totalCount:this.callBase()},itemsCount:function(e){return e||!1===this.option(x)?this.callBase():this._virtualScrollController.itemsCount()},load:function(e){return!1===this.option(x)||e?this.callBase(e):this._virtualScrollController.load()},isLoading:function(){return!1===this.option(x)?this._dataSource.isLoading():this._isLoading},isLoaded:function(){return this._dataSource.isLoaded()&&this._isLoaded},resetPagesCache:function(e){e||this._virtualScrollController.reset(!0),this.callBase.apply(this,arguments)},_changeRowExpandCore:function(){var e=this.callBase.apply(this,arguments);return!1===this.option(x)||(this.resetPagesCache(),g(this)),e},reload:function(){this._dataSource.pageIndex(this.pageIndex());var e=this._virtualScrollController;if(!1!==this.option(x)&&e){var t=new a.Deferred;return this.callBase.apply(this,arguments).done(function(n){var i=e.getDelayDeferred();i?i.done(t.resolve).fail(t.reject):t.resolve(n)}).fail(t.reject),t}return this.callBase.apply(this,arguments)},refresh:function(e,t){if(!1!==this.option(x)){var n=e.storeLoadOptions,i=this._dataSource;t.reload?(this._virtualScrollController.reset(),i.items().length=0,this._isLoaded=!1,g(this),this._isLoaded=!0,b(this)?(this.pageIndex(0),i.pageIndex(0),n.pageIndex=0,e.pageIndex=0,n.skip=0):(i.pageIndex(this.pageIndex()),i.paginate()&&(e.pageIndex=this.pageIndex(),n.skip=this.pageIndex()*this.pageSize()))):b(this)&&n.skip&&this._totalCountCorrection<0&&(n.skip+=this._totalCountCorrection)}return this.callBase.apply(this,arguments)},dispose:function(){this._virtualScrollController.dispose(),this.callBase.apply(this,arguments)},loadPageCount:function(e){if(!(0,d.isDefined)(e))return this._loadPageCount;this._loadPageCount=e},_handleDataLoading:function(e){var t=this.loadPageCount(),n=this.pageSize(),i=!1===this.option(x),o=e.storeLoadOptions,a=(0,d.isDefined)(o.take);e.loadPageCount=t,!e.isCustomLoading&&i&&a&&t>1&&n>0&&(o.take=t*n),this.callBase.apply(this,arguments)},_loadPageSize:function(){return this.callBase.apply(this,arguments)*this.loadPageCount()}},["beginPageIndex","endPageIndex","pageIndex"].forEach(function(e){m[e]=function(){if(!1===this.option(x)){var t=this._dataSource;return t.pageIndex.apply(t,arguments)}var n=this._virtualScrollController;return n[e].apply(n,arguments)}}),["virtualItemsCount","getContentOffset","getVirtualContentSize","setContentItemSizes","setViewportPosition","getViewportItemIndex","setViewportItemIndex","getItemIndexByPosition","viewportSize","viewportItemSize","getItemSize","getItemSizes","loadIfNeed"].forEach(function(e){m[e]=function(){var t=this._virtualScrollController;return t[e].apply(t,arguments)}}),m),O=(v=function(e,t){var n=e.toArray().map(function(e){return(0,i.default)(e).parent(".".concat(t)).get(0)}).filter(function(e){return e});n.length&&(e=(0,i.default)(n));for(var o=t===w?e.length-1:e.length,a=0;a<o;a++)e.eq(a).remove()},{init:function(){var e,t=this,n=this.getController("data");this.callBase(),n.pageChanged.add(function(e){var i=t._scrollTop;t.scrollToPage(null!=e?e:n.pageIndex()),!1===t.option(x)&&t._scrollTop===i&&n.updateViewport()}),n.dataSourceChanged.add(function(){t._scrollTop||t._scrollToCurrentPageOnResize()}),null===(e=n.stateLoaded)||void 0===e||e.add(function(){t._scrollToCurrentPageOnResize()}),this._scrollToCurrentPageOnResize()},_scrollToCurrentPageOnResize:function(){var e=this,t=this.getController("data");t.pageIndex()>0&&this.resizeCompleted.add(function n(){e.resizeCompleted.remove(n),e.scrollToPage(t.pageIndex())})},scrollToPage:function(e){var t,n=this._dataController,i=n?n.pageSize():0;if(E(this)||b(this)){var o=n.getItemSize(),a=n.getItemSizes(),r=e*i;for(var l in t=r*o,a)parseInt(l)<r&&(t+=a[l]-o)}else t=0;this.scrollTo({y:t,x:this._scrollLeft})},renderDelayedTemplates:function(){var e=this;this.waitAsyncTemplates().done(function(){e._updateContentPosition(!0)}),this.callBase.apply(this,arguments)},_renderCore:function(e){var t=new Date,n=this.callBase.apply(this,arguments),i=this._dataController._dataSource;if(i&&e){var o=e.items?e.items.length:20,a=this._dataController.viewportSize()||20;h.default.isVirtualRowRendering(this)&&o>0&&!1!==this.option(x)?i._renderTime=(new Date-t)*a/o:i._renderTime=new Date-t}return n},_getRowElements:function(e){var t=this.callBase(e);return t&&t.not(".".concat(y))},_removeRowsElements:function(e,t,n){var o=this._getRowElements(e).toArray();o="append"===n?o.slice(0,t):o.slice(-t);var a=this.getController("errorHandling");o.map(function(e){var t=(0,i.default)(e);a&&a.removeErrorRow(t.next()),t.remove()})},_updateContent:function(e,t){var n,i=this,o=this._findContentElement(),r=t&&t.changeType,l=(0,a.Deferred)(),s=o.children().first();return"append"===r||"prepend"===r?this.waitAsyncTemplates().done(function(){var o=i._getBodies(e);1===o.length?i._getBodies(s)["append"===r?"append":"prepend"](o.children()):o["append"===r?"appendTo":"prependTo"](s),e.remove(),v(n=i._getFreeSpaceRowElements(s),w),t.removeCount&&i._removeRowsElements(s,t.removeCount,r),i._restoreErrorRow(s),l.resolve()}).fail(l.reject):this.callBase.apply(this,arguments).done(function(){"update"===r&&i._restoreErrorRow(s),l.resolve()}).fail(l.reject),l.promise().done(function(){i._updateBottomLoading()})},_addVirtualRow:function(e,t,n,i){if(i){var o=this._createEmptyRow(y,t,i);o=this._wrapRowIfNeed(e,o),this._appendEmptyRow(e,o,n)}},_updateContentItemSizes:function(){var e=this._getRowHeights(),t=this._correctRowHeights(e);this._dataController.setContentItemSizes(t)},_updateViewportSize:function(e,t){(0,d.isDefined)(e)||(e=this._hasHeight?(0,s.getOuterHeight)(this.element()):(0,s.getOuterHeight)((0,u.getWindow)())),this._dataController.viewportHeight(e,t)},_getRowHeights:function(){var e,t,n=null===(t=null===(e=this.getController("editing"))||void 0===e?void 0:e.isPopupEditMode)||void 0===t?void 0:t.call(e),o=this._getRowElements(this._tableElement).toArray();return n&&(o=o.filter(function(e){return!(0,i.default)(e).hasClass("dx-row-inserted")})),o.map(function(e){return(0,l.getBoundingRect)(e).height})},_correctRowHeights:function(e){for(var t=this._dataController,n=t._dataSource,i=[],o=t.getVisibleRows(),a=0,r=!0,l=-1,s=0;s<e.length;s++){var u=o[s];(0,d.isDefined)(u)&&(!1===this.option(x)?(l>=0&&l!==u.loadIndex&&(i.push(a),a=0),l=u.loadIndex):D(u,n)&&(r?r=!1:(i.push(a),a=0)),a+=e[s])}return a>0&&i.push(a),i},_updateContentPosition:function(e){var t=this,n=this._dataController,o=this._rowHeight||20;if(n.viewportItemSize(o),E(this)||h.default.isVirtualRowRendering(this)){e||this._updateContentItemSizes();var a=n.getContentOffset("begin"),r=n.getContentOffset("end"),l=this.getTableElements(),s=l.children("tbody").children(".".concat(y));v(s,y),l.each(function(e,n){var o=e>0,l=t._isFixedTableRendering;t._isFixedTableRendering=o,t._addVirtualRow((0,i.default)(n),o,"top",a),t._addVirtualRow((0,i.default)(n),o,"bottom",r),t._isFixedTableRendering=l})}},_isTableLinesDisplaysCorrect:function(e){return e.find(".".concat("dx-column-lines")).length>0===this.option("showColumnLines")},_isColumnElementsEqual:function(e,t){var n=e.length===t.length;return n&&(0,r.each)(e,function(e,i){if(i.style.width!==t[e].style.width)return n=!1}),n},_getCellClasses:function(e){var t=[],n=e.cssClass,i="expand"===e.command;return n&&t.push(n),i&&t.push(this.addWidgetPrefix("group-space")),t},_findBottomLoadPanel:function(e){var t=e||this.element(),n=t&&t.find(".".concat(this.addWidgetPrefix($)));if(n&&n.length)return n},_updateBottomLoading:function(){var e=E(this),t=b(this),n=!this._dataController.hasKnownLastPage()&&this._dataController.isLoaded()&&(e||t),o=this._findContentElement(),a=this._findBottomLoadPanel(o);n?a||(0,i.default)("<div>").addClass(this.addWidgetPrefix($)).append(this._createComponent((0,i.default)("<div>"),c.default).$element()).appendTo(o):a&&a.remove()},_handleScroll:function(e){var t=!0===this.option(x),n=0===e.scrollOffset.top,i=this._scrollTop!==e.scrollOffset.top||e.forceUpdateScrollPosition,o=this._hasHeight||!t&&n;i&&o&&this._rowHeight&&(this._scrollTop=e.scrollOffset.top,(E(this)||"standard"!==this.option("scrolling.rowRenderingMode"))&&!1===this.option(x)&&(this._updateContentItemSizes(),this._updateViewportSize(null,this._scrollTop)),this._dataController.setViewportPosition(e.scrollOffset.top)),this.callBase.apply(this,arguments)},_needUpdateRowHeight:function(e){return this.callBase.apply(this,arguments)||e>0&&b(this)&&!h.default.isVirtualRowRendering(this)},_updateRowHeight:function(){if(this.callBase.apply(this,arguments),this._rowHeight){this._updateContentPosition();var e=this._hasHeight?(0,s.getOuterHeight)(this.element()):(0,s.getOuterHeight)((0,u.getWindow)()),t=this._dataController;!1===this.option(x)?(this._updateViewportSize(e),t.updateViewport()):t.viewportSize(Math.ceil(e/this._rowHeight))}},updateFreeSpaceRowHeight:function(){var e=this.callBase.apply(this,arguments);return e&&this._updateContentPosition(),e},setLoading:function(e,t){var n=this._dataController,i=n.pageIndex()>0&&n.isLoaded()&&!!this._findBottomLoadPanel();!1===this.option(x)&&e&&n.isViewportChanging()||(i&&(e=!1),this.callBase.call(this,e,t))},_resizeCore:function(){var e=this,t=e.element();e.callBase(),e.component.$element()&&!e._windowScroll&&t.closest((0,u.getWindow)().document).length&&(e._windowScroll=(0,f.subscribeToExternalScrollers)(t,function(t){!e._hasHeight&&e._rowHeight&&e._dataController.setViewportPosition(t)},e.component.$element()),e.on("disposing",function(){e._windowScroll.dispose()})),!1!==this.option(x)&&e.loadIfNeed()},loadIfNeed:function(){var e,t=this._dataController;null===(e=null==t?void 0:t.loadIfNeed)||void 0===e||e.call(t)},setColumnWidths:function(e){var t,n=this.getScrollable();this.callBase.apply(this,arguments),"virtual"===this.option("scrolling.mode")&&(t=n?(0,i.default)(n.content()):this.element(),this.callBase(e,t.children(".".concat(this.addWidgetPrefix("content"))).children(":not(.".concat(this.addWidgetPrefix("table-content"),")"))))},_restoreErrorRow:function(){if(!1===this.option(x)){var e=this.getController("errorHandling");null==e||e.removeErrorRow()}this.callBase.apply(this,arguments)},dispose:function(){clearTimeout(this._scrollTimeoutID),this.callBase()}}),F={defaultOptions:function(){return{scrolling:{timeout:300,updateTimeout:300,minTimeout:0,renderingThreshold:100,removeInvisiblePages:!0,rowPageSize:5,prerenderedRowChunkSize:1,mode:"standard",preloadEnabled:!1,rowRenderingMode:"standard",loadTwoPagesOnStart:!1,legacyMode:!1,prerenderedRowCount:1}}},extenders:{dataSourceAdapter:R,controllers:{data:(C={_refreshDataSource:function(){var e=this.callBase.apply(this,arguments)||(new a.Deferred).resolve().promise();return e.done(this.initVirtualRows.bind(this)),e},_loadDataSource:function(){var e;if(this._rowsScrollController&&S(this)){var t=((0,d.isDefined)(this._loadViewportParams)?this.getLoadPageParams():{loadPageCount:void 0}).loadPageCount;t>=1&&(null===(e=this._dataSource)||void 0===e||e.loadPageCount(t))}return this.callBase.apply(this,arguments)},getRowPageSize:function(){var e=this.option("scrolling.rowPageSize"),t=this.pageSize();return t&&t<e?t:e},reload:function(){var e=this,t=this._rowsScrollController||this._dataSource,n=t&&t.getItemIndexByPosition(),a=this.callBase.apply(this,arguments);return a&&a.done(function(){var t;if(E(e)||h.default.isVirtualRowRendering(e)){var a=Math.floor(n)-e.getRowIndexOffset(),r=e.component,l=r.getScrollable&&r.getScrollable(),d=e.dataSource().operationTypes().sorting;if(l&&!d&&a>=0){var u=r.getRowElement(a),c=u&&u[0]&&(0,i.default)(u[0]),f=c&&c.position().top,p=o.default.chrome&&Number(null!==(t=o.default.version)&&void 0!==t?t:0)>=91;f>(o.default.mozilla||p?1:0)&&(f=Math.round(f+(0,s.getOuterHeight)(c)*(n%1)),l.scrollTo({y:f}))}}})},initVirtualRows:function(){var e=this,t=h.default.isVirtualRowRendering(this);if(this._allItems=null,this._loadViewportParams=null,"virtual"!==this.option("scrolling.mode")&&!t||!t||!1!==this.option(x)&&!this.option("scrolling.rowPageSize"))return this._visibleItems=null,void(this._rowsScrollController=null);var n=!E(this)&&this.pageIndex()>=this.pageCount()?this.pageCount()-1:this.pageIndex();this._rowPageIndex=Math.ceil(n*this.pageSize()/this.getRowPageSize()),this._visibleItems=!1===this.option(x)?null:[],this._viewportChanging=!1,this._needUpdateViewportAfterLoading=!1,this._rowsScrollController||(this._rowsScrollController=new f.VirtualScrollController(this.component,this._getRowsScrollDataOptions(),!0),this._rowsScrollController.positionChanged.add(function(){var t;if(!1===e.option(x))return e._viewportChanging=!0,e.loadViewport(),void(e._viewportChanging=!1);null===(t=e._dataSource)||void 0===t||t.setViewportItemIndex(e._rowsScrollController.getViewportItemIndex())})),!1===this.option(x)&&this._updateLoadViewportParams(),this.isLoaded()&&!1!==this.option(x)&&this._rowsScrollController.load()},isViewportChanging:function(){return this._viewportChanging},_getRowsScrollDataOptions:function(){var e=this,t=function(t){return D(t,e._dataSource)};return{pageSize:function(){return e.getRowPageSize()},loadedOffset:function(){var t;return E(e)&&(null===(t=e._dataSource)||void 0===t?void 0:t.lastLoadOptions().skip)||0},loadedItemCount:function(){return e._itemCount},totalItemsCount:function(){return S(e)?e.totalItemsCount():!1===e.option(x)?e._itemCount:e._items.filter(t).length},hasKnownLastPage:function(){return!1!==e.option(x)||e.hasKnownLastPage()},pageIndex:function(t){return void 0!==t&&(e._rowPageIndex=t),e._rowPageIndex},isLoading:function(){return e.isLoading()},pageCount:function(){return Math.ceil(this.totalItemsCount()/this.pageSize())||1},load:function(){e._rowsScrollController.pageIndex()>=this.pageCount()&&(e._rowPageIndex=this.pageCount()-1,e._rowsScrollController.pageIndex(e._rowPageIndex)),!this.items().length&&this.totalItemsCount()||e._rowsScrollController.handleDataChanged(function(t){(t=t||{}).changeType=t.changeType||"refresh",t.items=t.items||e._visibleItems,e._visibleItems.forEach(function(e,t){e.rowIndex=t}),e._fireChanged(t)})},updateLoading:function(){},itemsCount:function(){return this.items(!0).length},correctCount:function(e,n,i){return T(e,n,i,function(e,n,i){return e.isNewRow?n&&!i:n&&i?!e.isNewRow:t(e)})},items:function(n){var i=e._items;if(e.option(x)){var o=e.dataSource(),a=null==o?void 0:o.virtualItemsCount(),r=a?a.begin:0,l=e.getRowPageSize(),s=e._rowPageIndex*l-r,d=l;if(s<0)return[];s&&(s=this.correctCount(i,s),i=i.slice(s)),d&&(d=this.correctCount(i,d),i=i.slice(0,d))}return n?i.filter(t):i},viewportItems:function(t){return t&&!1!==e.option(x)&&(e._visibleItems=t),e._visibleItems},onChanged:function(){},changingDuration:function(){var t=e.dataSource();return(null==t?void 0:t.isLoading())&&!1!==e.option(x)?300:(null==t?void 0:t._renderTime)||0}}},_updateItemsCore:function(e){var t=this,n=this.getRowIndexDelta();if(this.callBase.apply(this,arguments),!1===this.option(x)&&h.default.isVirtualRowRendering(this))"update"===e.changeType&&0===e.rowIndices.length&&e.cancelEmptyChanges&&(e.cancel=!0);else{var i=this._rowsScrollController;if(i){var o=this._visibleItems,a="refresh"===e.changeType||e.isLiveUpdate;if("append"===e.changeType&&e.items&&!e.items.length)return;a||"append"===e.changeType||"prepend"===e.changeType?(e.cancel=!0,a&&i.reset(!0),i.load()):("update"===e.changeType?e.rowIndices.forEach(function(t,n){var i=e.changeTypes[n],a=e.items[n];"update"===i?o[t]=a:"insert"===i?o.splice(t,0,a):"remove"===i&&o.splice(t,1)}):(o.forEach(function(e,i){o[i]=t._items[i+n]||o[i]}),e.items=o),o.forEach(function(e,t){e.rowIndex=t}))}}},_updateLoadViewportParams:function(){var e=this._rowsScrollController.getViewportParams(),t=this.pageSize();if(e&&!S(this)&&t>0){var n=this.pageIndex()*t;e.skip+=n}this._loadViewportParams=e},_processItems:function(){var e,t=this.callBase.apply(this,arguments);if(!1===this.option(x)){var n,i,o,a=this._dataSource,r=null!==(e=null==a?void 0:a.lastLoadOptions().skip)&&void 0!==e?e:0,l=!1;t.forEach(function(e){var t=e.rowType,s=D(e,a),u="group"===t&&(n||s||"group"!==i&&r>0),c="data"===t&&s&&(n||"group"!==i);!e.isNewRow&&(0,d.isDefined)(n)&&(!u&&!c||o&&!l||r++),(u||c)&&(l=!0),e.loadIndex=r,n=s,i=t,o=e.isNewRow})}return t},_afterProcessItems:function(e){var t=this;if(this._itemCount=e.filter(function(e){return D(e,t._dataSource)}).length,(0,d.isDefined)(this._loadViewportParams)){this._updateLoadViewportParams();var n=e;if(this._allItems=e,e.length){var i=this.getLoadPageParams(!0).skipForCurrentPage,o=e[0].loadIndex+i,a=this._loadViewportParams.take;n=e.filter(function(e){var t=e.isNewRow&&e.loadIndex>=o-1,n=e.isNewRow&&e.loadIndex===o&&0===a,i=e.loadIndex>=o||t,r=e.loadIndex<o+a||n;return i&&r})}return n}return this.callBase.apply(this,arguments)},_applyChange:function(e){var t=this,n=e.items,i=e.changeType,o=e.removeCount;switch(o&&(o=T(t._items,o,"prepend"===i,function(e,n){return"data"===e.rowType&&!e.isNewRow||"group"===e.rowType&&(t._dataSource.isGroupItemCountable(e.data)||n)}),e.removeCount=o),i){case"prepend":t._items.unshift.apply(t._items,n),o&&t._items.splice(-o);break;case"append":t._items.push.apply(t._items,n),o&&t._items.splice(0,o);break;default:t.callBase(e)}},items:function(e){return e?this._allItems||this._items:this._visibleItems||this._items},getRowIndexDelta:function(){var e=0;if(this.option(x)){var t=this._visibleItems;t&&t[0]&&(e=this._items.indexOf(t[0]))}return e<0?0:e},getRowIndexOffset:function(e){var t,n=0,i=this.dataSource(),o=this._rowsScrollController,a=!1===this.option(x),r=S(this);if(o&&!e){if(a&&(0,d.isDefined)(this._loadViewportParams)){var l=this.getLoadPageParams(!0),s=l.skipForCurrentPage,u=l.pageIndex,c=this.items(!0);if(n=r?u*this.pageSize():0,c.length){var h=c[0].loadIndex;n+=c.filter(function(e){return e.loadIndex<h+s}).length}}else n=o.beginPageIndex()*o.pageSize()}else r&&a&&i?n=null!==(t=i.lastLoadOptions().skip)&&void 0!==t?t:0:E(this)&&i&&(n=i.beginPageIndex()*i.pageSize());return n},getDataIndex:function(){return!1===this.option(x)?this.getRowIndexOffset(!0):this.callBase.apply(this,arguments)},viewportSize:function(){var e=this._rowsScrollController,t=this._dataSource,n=null==e?void 0:e.viewportSize.apply(e,arguments);return!1===this.option(x)?n:null==t?void 0:t.viewportSize.apply(t,arguments)},viewportHeight:function(e,t){var n;null===(n=this._rowsScrollController)||void 0===n||n.viewportHeight(e,t)},viewportItemSize:function(){var e=this._rowsScrollController,t=this._dataSource,n=null==e?void 0:e.viewportItemSize.apply(e,arguments);return!1===this.option(x)?n:null==t?void 0:t.viewportItemSize.apply(t,arguments)},setViewportPosition:function(){var e=this._rowsScrollController,t=this._dataSource;this._isPaging=!1,e?e.setViewportPosition.apply(e,arguments):null==t||t.setViewportPosition.apply(t,arguments)},setContentItemSizes:function(e){var t=this._rowsScrollController,n=this._dataSource,i=null==t?void 0:t.setContentItemSizes(e);return!1===this.option(x)?i:null==n?void 0:n.setContentItemSizes(e)},getPreloadedRowCount:function(){var e=this.option("scrolling.preloadedRowCount"),t=this.option("scrolling.preloadEnabled");if((0,d.isDefined)(e))return e;var n=this.viewportSize();return t?2*n:n},getLoadPageParams:function(e){var t,n,i=this.pageSize(),o=this._loadViewportParams,a=null===(t=this._dataSource)||void 0===t?void 0:t.lastLoadOptions(),r=(null==a?void 0:a.pageIndex)||0,l=(null==a?void 0:a.take)||0,s=this._rowsScrollController.isScrollingBack(),d=s?this.getPreloadedRowCount():0,u=s?0:this.getPreloadedRowCount(),c=(null===(n=this._dataSource)||void 0===n?void 0:n.totalCountCorrection())||0,h=Math.max(0,o.skip-d),f=e?r:Math.floor(i?h/i:0),p=o.skip-f*i,g=o.take+p+u-c;return{pageIndex:f,loadPageCount:Math.max(1,Math.ceil(i?(e?l:g)/i:0)),skipForCurrentPage:Math.max(0,p)}},_updateVisiblePageIndex:function(e){if(this._rowsScrollController){if((0,d.isDefined)(e))return this._silentOption(I,e),void this.pageChanged.fire();var t=Math.floor(this._rowsScrollController.getViewportItemIndex()/this.pageSize());this.pageIndex()!==t&&(this._silentOption(I,t),this.updateItems({changeType:"pageIndex"}))}},_getChangedLoadParams:function(){var e=this.getLoadPageParams(!0),t=this.getLoadPageParams(),n=t.pageIndex,i=t.loadPageCount,o=this._pageIndexIsValid(n),a=null;return this._isLoading||!o||n===e.pageIndex&&i===e.loadPageCount||(a={pageIndex:n,loadPageCount:i}),a},_pageIndexIsValid:function(e){var t=!0;return(b(this)&&this.hasKnownLastPage()||E(this))&&(t=e*this.pageSize()<this.totalItemsCount()),t},_loadItems:function(e,t){var n,i,o=this,a=S(this),r=this._dataSource,l=this._getChangedLoadParams(),s=null!==(n=null==r?void 0:r.loadPageCount())&&void 0!==n?n:0,d=this.pageSize()*s,u=null!==(i=null==r?void 0:r.pageIndex())&&void 0!==i?i:0,c=(null==l?void 0:l.pageIndex)===u,h=b(this)&&this.totalItemsCount()<d,f="repaint"===this.option("editing.refreshMode"),p=(null==l?void 0:l.pageIndex)>u,g=!1;if(!r||a&&e&&(f&&t||p||c&&h))return g;if(a&&this._isLoading&&(this._needUpdateViewportAfterLoading=!0),a&&l){g=!0,r.pageIndex(l.pageIndex),r.loadPageCount(l.loadPageCount),this._repaintChangesOnly=!0,this._needUpdateDimensions=!0;var m=this._viewportChanging;this.load().always(function(){o._repaintChangesOnly=void 0,o._needUpdateDimensions=void 0}).done(function(){var e=o.pageCount()>0&&o.pageIndex()===o.pageCount()-1;(m||e)&&o._updateVisiblePageIndex(),o._needUpdateViewportAfterLoading&&(o._needUpdateViewportAfterLoading=!1,o.loadViewport({checkLoadedParamsOnly:!0}))})}return g},loadViewport:function(e){var t,n,i=null!=e?e:{},o=i.checkLoadedParamsOnly,a=i.checkLoading,r=i.viewportIsNotFilled;if((S(this)||h.default.isVirtualRowRendering(this))&&(this._updateLoadViewportParams(),!(this._loadItems(a,!r)||this._isLoading&&a||o))){var l=!(null===(n=null===(t=this.getController("editing"))||void 0===t?void 0:t.getChanges())||void 0===n?void 0:n.length);this.updateItems({repaintChangesOnly:!0,needUpdateDimensions:!0,useProcessedItemsCache:l,cancelEmptyChanges:!0})}},updateViewport:function(){var e,t,n=this.viewportSize(),i=this.items().length,o=n>i,a=null!==(t=null===(e=this._loadViewportParams)||void 0===e?void 0:e.take)&&void 0!==t?t:0,r=this._rowsScrollController,l=null==r?void 0:r.getViewportParams().take;(o||a<l)&&!this._isPaging&&i&&this.loadViewport({checkLoading:!0,viewportIsNotFilled:o})},loadIfNeed:function(){if(!1!==this.option(x)){var e=this._rowsScrollController;e&&e.loadIfNeed();var t=this._dataSource;return t&&t.loadIfNeed()}},getItemSize:function(){var e=this._rowsScrollController;if(e)return e.getItemSize.apply(e,arguments);var t=this._dataSource;return t&&t.getItemSize.apply(t,arguments)},getItemSizes:function(){var e=this._rowsScrollController;if(e)return e.getItemSizes.apply(e,arguments);var t=this._dataSource;return t&&t.getItemSizes.apply(t,arguments)},getContentOffset:function(){var e=this._rowsScrollController;if(e)return e.getContentOffset.apply(e,arguments);var t=this._dataSource;return t&&t.getContentOffset.apply(t,arguments)},refresh:function(e){var t=this._dataSource;return t&&e&&e.load&&b(this)&&t.resetCurrentTotalCount(),this.callBase.apply(this,arguments)},dispose:function(){var e=this._rowsScrollController;e&&e.dispose(),this.callBase.apply(this,arguments)},topItemIndex:function(){var e;return null===(e=this._loadViewportParams)||void 0===e?void 0:e.skip},bottomItemIndex:function(){var e=this._loadViewportParams;return e&&e.skip+e.take},virtualItemsCount:function(){var e=this._rowsScrollController;if(e)return e.virtualItemsCount.apply(e,arguments);var t=this._dataSource;return null==t?void 0:t.virtualItemsCount.apply(t,arguments)},pageIndex:function(e){var t,n=S(this),i=this._rowsScrollController;return!1===this.option(x)&&n&&i&&void 0===e?null!==(t=this.option(I))&&void 0!==t?t:0:this.callBase.apply(this,arguments)},_fireChanged:function(e){this.callBase.apply(this,arguments);var t=e.operationTypes;if(!1===this.option(x)&&S(this)&&t){var n=t.fullReload,i=t.pageIndex;e.isDataChanged&&!n&&i&&this._updateVisiblePageIndex(this._dataSource.pageIndex())}},_getPagingOptionValue:function(e){var t=this.callBase.apply(this,arguments);return!1===this.option(x)&&S(this)&&(t=this[e]()),t},isEmpty:function(){return!1===this.option(x)?!this.items(!0).length:this.callBase(this,arguments)},isLastPageLoaded:function(){var e=!1;if(!1===this.option(x)&&S(this)){var t=this.getLoadPageParams(!0);e=t.pageIndex+t.loadPageCount>=this.pageCount()}else e=this.callBase.apply(this,arguments);return e},reset:function(){this._itemCount=0,this._allItems=null,this.callBase.apply(this,arguments)},_applyFilter:function(){var e;null===(e=this._dataSource)||void 0===e||e.loadPageCount(1),this.callBase.apply(this,arguments)}},h.default.proxyMethod(C,"getVirtualContentSize"),h.default.proxyMethod(C,"setViewportItemIndex"),C),resizing:{_updateMasterDataGridCore:function(e){return(0,a.when)(this.callBase.apply(this,arguments)).done(function(t){var n=E(e)&&!1===e.option(x);!t&&n&&e.getScrollable()&&e.updateDimensions()})},hasResizeTimeout:function(){return!!this._resizeTimeout},resize:function(){var e,t=this,n=this.callBase;if(E(this)||h.default.isVirtualRowRendering(this)){clearTimeout(this._resizeTimeout),this._resizeTimeout=null;var i=new Date-this._lastTime,o=this.option("scrolling.updateTimeout");this._lastTime&&i<o?(e=new a.Deferred,this._resizeTimeout=setTimeout(function(){t._resizeTimeout=null,n.apply(t).done(e.resolve).fail(e.reject),t._lastTime=new Date},o),this._lastTime=new Date):(e=n.apply(this),this._dataController.isLoaded()&&(this._lastTime=new Date))}else e=n.apply(this);return e},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._resizeTimeout)}}},views:{rowsView:O}}};t.virtualScrollingModule=F},7060(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.VirtualScrollController=void 0,t.subscribeToExternalScrollers=$;var i=g(n(6788)),o=g(n(69828)),a=g(n(68689)),r=g(n(47057)),l=g(n(46169)),s=n(68759),d=n(1685),u=n(4964),c=n(65252),h=g(n(21445)),f=g(n(31560)),p=n(59959);function g(e){return e&&e.__esModule?e:{default:e}}var m="virtual",v="scrolling.legacyMode",C=function(e){return e.option("scrolling.mode")===m||e._isVirtual};function $(e,t,n){var o,r=[],l=[],s=[];function u(t){var n=t.element?t.$element():t,o=i.default.offset(n);return o?t.scrollTop()-(o.top-e.offset().top):e.offset().top}var f={on:function(e,t,n){e.on("scroll",n)},off:function(e,t,n){e.off("scroll",n)}};function p(e){var n="#document"===e.get(0).nodeName,i=e.data("dxScrollable"),o=f;if(i||(i=n&&(0,a.default)((0,c.getWindow)())||"auto"===e.css("overflowY")&&e,o=h.default,i)){var d,p=(d=i,function(){var e=d.scrollTop()-u(d);t(e=e>0?e:0)});o.on(i,"scroll",p),l.push(function(e){var t=u(i),n=i.scrollTo?"scrollTo":"scrollTop";e-t>=0&&i[n](e+t)}),r.push(i),s.push(function(){o.off(i,"scroll",p)})}}for(o=(n=n||e).parent();o.length;o=o.parent())p(o);return{scrollTo:function(e){(0,d.each)(l,function(t,n){n(e)})},dispose:function(){(0,d.each)(s,function(e,t){t()})}}}var w,y=o.default.inherit((w={ctor:function(e,t,n){this._dataOptions=t,this.component=e,this._viewportSize=!1===e.option(v)?15:0,this._viewportItemSize=20,this._viewportItemIndex=0,this._position=0,this._isScrollingBack=!1,this._contentSize=0,this._itemSizes={},this._sizeRatio=1,this._isVirtual=n,this.positionChanged=(0,l.default)(),this._dataLoader=new p.VirtualDataLoader(this,this._dataOptions)},getItemSizes:function(){return this._itemSizes},option:function(){return this.component.option.apply(this.component,arguments)},isVirtual:function(){return this._isVirtual},virtualItemsCount:function(){if(C(this)){var e=this._dataOptions,t=e.totalItemsCount();if(!1===this.option(v)&&-1!==t){var n=this.getViewportParams(),i=e.loadedOffset(),o=e.loadedItemCount(),a=Math.max(n.skip,i);return{begin:a,end:Math.max(t-(a+Math.min(n.take,o)),0)}}return this._dataLoader.virtualItemsCount.apply(this._dataLoader,arguments)}},getScrollingTimeout:function(){var e,t=this.option("scrolling.renderAsync"),n=0;return(0,u.isDefined)(t)?t&&(n=null!==(e=this.option("scrolling.timeout"))&&void 0!==e?e:0):(n=Math.min(this.option("scrolling.timeout")||0,this._dataOptions.changingDuration()))<this.option("scrolling.renderingThreshold")&&(n=this.option("scrolling.minTimeout")||0),n},setViewportPosition:function(e){var t=this,n=new s.Deferred,i=this.getScrollingTimeout();return clearTimeout(this._scrollTimeoutID),i>0?this._scrollTimeoutID=setTimeout(function(){t._setViewportPositionCore(e),n.resolve()},i):(this._setViewportPositionCore(e),n.resolve()),n.promise()},getViewportPosition:function(){return this._position},getItemIndexByPosition:function(e,t,n){e=null!=e?e:this._position;for(var i=this.getItemSize(),o=0,a=0,r=Object.keys(this._itemSizes).concat(-1),l=0;l<r.length&&o<e;l++){var s=parseInt(r[l]),d=(e-o)/i;if(s<0||a+d<s){a+=d,this._sizeRatio<1&&(0,u.isDefined)(t)&&(a=t+n/this._viewportItemSize);break}o+=(d=s-a)*i,a+=d;var c=this._itemSizes[s];a+=(o+=c)<e?1:(e-o+c)/c}return Math.round(50*a)/50},isScrollingBack:function(){return this._isScrollingBack},_setViewportPositionCore:function(e){var t=this._position||0;this._position=e,t!==this._position&&(this._isScrollingBack=this._position<t);var n=this.getItemIndexByPosition(),i=this.setViewportItemIndex(n);return this.positionChanged.fire(),i},setContentItemSizes:function(e){var t=this,n=this.virtualItemsCount();if(this._contentSize=e.reduce(function(e,t){return e+t},0),n){e.forEach(function(e,i){t._itemSizes[n.begin+i]=e});var i=(n.begin+n.end+this.itemsCount())*this._viewportItemSize,o=f.default.getContentHeightLimit(r.default);this._sizeRatio=i>o?o/i:1}},getItemSize:function(){return this._viewportItemSize*this._sizeRatio},getItemOffset:function(e,t){var n=this,i=this.virtualItemsCount(),o=e;if(!i)return 0;var a=0,r=this._dataOptions.totalItemsCount();return Object.keys(this._itemSizes).forEach(function(i){o&&(t?i>=r-e:i<e)&&(a+=n._itemSizes[i],o--)}),Math.floor(a+o*this._viewportItemSize*this._sizeRatio)},getContentOffset:function(e){var t="end"===e,n=this.virtualItemsCount();return n?this.getItemOffset(t?n.end:n.begin,t):0},getVirtualContentSize:function(){return this.virtualItemsCount()?this.getContentOffset("begin")+this.getContentOffset("end")+this._contentSize:0},getViewportItemIndex:function(){return this._viewportItemIndex},setViewportItemIndex:function(e){if(this._viewportItemIndex=e,!1!==this.option(v))return this._dataLoader.viewportItemIndexChanged.apply(this._dataLoader,arguments)},viewportItemSize:function(e){return void 0!==e&&(this._viewportItemSize=e),this._viewportItemSize},viewportSize:function(e){return void 0!==e&&(this._viewportSize=e),this._viewportSize},viewportHeight:function(e,t){var n=null!=t?t:this._position,i=this.getItemIndexByPosition(n),o=this.getItemIndexByPosition(n+e,i,e);this.viewportSize(Math.ceil(o-i)),(0,u.isDefined)(t)||this._viewportItemIndex===i||this._setViewportPositionCore(n)},reset:function(e){this._dataLoader.reset(),e||(this._itemSizes={})},subscribeToWindowScrollEvents:function(e){var t=this;this._windowScroll=this._windowScroll||$(e,function(e){t.viewportItemSize()&&t.setViewportPosition(e)})},dispose:function(){clearTimeout(this._scrollTimeoutID),this._windowScroll&&this._windowScroll.dispose(),this._windowScroll=null},scrollTo:function(e){this._windowScroll&&this._windowScroll.scrollTo(e)},isVirtualMode:function(){return C(this)},isAppendMode:function(){var e;return"infinite"===(e=this).option("scrolling.mode")&&!e._isVirtual},getViewportParams:function(){var e,t=this.option("scrolling.mode")===m,n=this._dataOptions.totalItemsCount(),i=this._dataOptions.hasKnownLastPage()&&this._viewportItemIndex>n?n:this._viewportItemIndex,o=this._viewportSize+i,a=this.option("scrolling.prerenderedRowChunkSize")||1,r=this.isScrollingBack(),l=null!==(e=this.option("scrolling.prerenderedRowCount"))&&void 0!==e?e:1,s=Math.floor(Math.max(0,i-(r?l:0))/a)*a,d=Math.ceil((o+(r?0:l)-s)/a)*a;return t&&(d=Math.min(d,Math.max(0,n-s))),{skip:s,take:d}},itemsCount:function(){return this.option(v)?this._dataLoader.itemsCount.apply(this._dataLoader,arguments):this._dataOptions.itemsCount()}},["pageIndex","beginPageIndex","endPageIndex","pageSize","load","loadIfNeed","handleDataChanged","getDelayDeferred"].forEach(function(e){w[e]=function(){return this._dataLoader[e].apply(this._dataLoader,arguments)}}),w));t.VirtualScrollController=y,t.default={VirtualScrollController:y}},74448(e,t,n){Object.defineProperty(t,"exportDataGrid",{enumerable:!0,get:function(){return i.exportDataGrid}}),Object.defineProperty(t,"exportPivotGrid",{enumerable:!0,get:function(){return o.exportPivotGrid}});var i=n(84345),o=n(12424)},47371(e,t,n){t.excel=void 0,t.export=function(e,t,n){if(!e)return(new d.Deferred).resolve();var i=t.exportingAction,a=t.exportedAction,r=t.fileSavingAction,l={fileName:t.fileName,format:t.format,cancel:!1};return((0,s.isBoolean)(t.selectedRowsOnly)&&(l.selectedRowsOnly=t.selectedRowsOnly),(0,s.isFunction)(i)&&i(l),l.cancel)?(new d.Deferred).resolve():n(e,t).then(function(e){if((0,s.isFunction)(a)&&a(),(0,s.isFunction)(r)&&(l.data=e,r(l)),!l.cancel){var n="xlsx"===t.format?"EXCEL":t.format;o.fileSaver.saveAs(l.fileName,n,e,t.proxyUrl,t.forceProxy)}})},Object.defineProperty(t,"fileSaver",{enumerable:!0,get:function(){return o.fileSaver}}),t.svg=t.pdf=t.image=void 0;var i,o=n(5516),a=n(34518),r=n(97652),l=n(8328),s=n(4964),d=n(68759),u=(i=n(47498))&&i.__esModule?i:{default:i},c=n(70454),h={creator:a.ExcelCreator,getData:a.getData,formatConverter:u.default};t.excel=h;var f={creator:r.imageCreator,getData:r.getData,testFormats:r.testFormats};t.image=f;var p={getData:c.getData};t.pdf=p;var g={creator:l.svgCreator,getData:l.getData};t.svg=g},73126(e,t,n){t.ExportLoadPanel=void 0;var i=d(n(68689)),o=n(68841),a=d(n(38306)),r=n(4964),l=d(n(16936)),s=d(n(63165));function d(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t,n,o){this._$targetElement=t,this._$container=n,this._loadPanel=e._createComponent((0,i.default)("<div>").addClass("dx-export-loadpanel").appendTo(this._$container),l.default,this.getOptions(o))}var t=e.prototype;return t.getDefaultOptions=function(){return{animation:null,shading:!1,height:90,width:200,container:this._$container}},t.getOptions=function(e){return(0,r.isDefined)(e.text)?e.message=e.text:e.message=a.default.format("dxDataGrid-exporting"),(0,o.extend)(this.getDefaultOptions(),e)},t.show=function(){this._loadPanel.option("position",s.default.calculateLoadPanelPosition(this._$targetElement)),this._loadPanel.show()},t.dispose=function(){(0,i.default)(this._loadPanel.element()).remove(),delete this._loadPanel},e}();t.ExportLoadPanel=u},9286(e,t,n){t.default=void 0;var i,o=n(4964),a=(i=n(90914))&&i.__esModule?i:{default:i},r={tryCreateTag:function(e){var t=null;return(0,o.isDefined)(e)&&(t={vertical:e.vertical,wrapText:e.wrapText,horizontal:e.horizontal},r.isEmpty(t)&&(t=null)),t},copy:function(e){var t=null;return(0,o.isDefined)(e)&&(t={},void 0!==e.horizontal&&(t.horizontal=e.horizontal),void 0!==e.vertical&&(t.vertical=e.vertical),void 0!==e.wrapText&&(t.wrapText=e.wrapText)),t},areEqual:function(e,t){return r.isEmpty(e)&&r.isEmpty(t)||(0,o.isDefined)(e)&&(0,o.isDefined)(t)&&e.vertical===t.vertical&&e.wrapText===t.wrapText&&e.horizontal===t.horizontal},isEmpty:function(e){return!(0,o.isDefined)(e)||!(0,o.isDefined)(e.vertical)&&!(0,o.isDefined)(e.wrapText)&&!(0,o.isDefined)(e.horizontal)},toXml:function(e){return a.default.toXml("alignment",{vertical:e.vertical,wrapText:(0,o.isDefined)(e.wrapText)?Number(e.wrapText):void 0,horizontal:e.horizontal})}};t.default=r,e.exports=t.default,e.exports.default=t.default},33612(e,t,n){t.default=void 0;var i=n(4964),o=s(n(90914)),a=s(n(9286)),r=s(n(67478)),l=s(n(65322));function s(e){return e&&e.__esModule?e:{default:e}}var d={tryCreateTag:function(e,t){var n=null;if((0,i.isDefined)(e)){o="number"==typeof e.numberFormat?e.numberFormat:t.registerNumberFormat(e.numberFormat);var o,l=e.fill;(0,i.isDefined)(l)||(l=r.default.tryCreateFillFromSimpleFormat(e)),n={numberFormatId:o,alignment:a.default.tryCreateTag(e.alignment),fontId:t.registerFont(e.font),fillId:t.registerFill(l)},d.isEmpty(n)&&(n=null)}return n},copy:function(e){var t;return null===e?t=null:(0,i.isDefined)(e)&&(t={},void 0!==e.numberFormat&&(t.numberFormat=e.numberFormat),void 0!==e.fill?t.fill=r.default.copy(e.fill):r.default.copySimpleFormat(e,t),void 0!==e.alignment&&(t.alignment=a.default.copy(e.alignment)),void 0!==e.font&&(t.font=l.default.copy(e.font))),t},areEqual:function(e,t){return d.isEmpty(e)&&d.isEmpty(t)||(0,i.isDefined)(e)&&(0,i.isDefined)(t)&&e.fontId===t.fontId&&e.numberFormatId===t.numberFormatId&&e.fillId===t.fillId&&a.default.areEqual(e.alignment,t.alignment)},isEmpty:function(e){return!(0,i.isDefined)(e)||!(0,i.isDefined)(e.fontId)&&!(0,i.isDefined)(e.numberFormatId)&&!(0,i.isDefined)(e.fillId)&&a.default.isEmpty(e.alignment)},toXml:function(e){var t,n=a.default.isEmpty(e.alignment);return(0,i.isDefined)(e.numberFormatId)&&(t=e.numberFormatId>0?1:0),o.default.toXml("xf",{xfId:0,applyAlignment:n?null:1,fontId:e.fontId,applyNumberFormat:t,fillId:e.fillId,numFmtId:e.numberFormatId},n?null:a.default.toXml(e.alignment))}};t.default=d,e.exports=t.default,e.exports.default=t.default},91019(e,t,n){t.default=void 0;var i,o=n(4964),a=(i=n(90914))&&i.__esModule?i:{default:i},r={_tryConvertColor:function(e){if("string"!=typeof e)return e;if(e.length>0&&"#"===e[0]){var t,n=e.substr(1,e.length);t=6===n.length?"FF"+n:8===n.length?n[6]+n[7]+n.substr(0,6):n}else t=e;return t},tryCreateTag:function(e){var t=null;return(0,o.isDefined)(e)&&(t="string"==typeof e?{rgb:this._tryConvertColor(e)}:{rgb:this._tryConvertColor(e.rgb),theme:e.theme},r.isEmpty(t)&&(t=null)),t},copy:function(e){var t=null;return(0,o.isDefined)(e)&&("string"==typeof e?t=e:(t={},void 0!==e.rgb&&(t.rgb=e.rgb),void 0!==e.theme&&(t.theme=e.theme))),t},isEmpty:function(e){return!(0,o.isDefined)(e)||!(0,o.isDefined)(e.rgb)&&!(0,o.isDefined)(e.theme)},areEqual:function(e,t){return r.isEmpty(e)&&r.isEmpty(t)||(0,o.isDefined)(e)&&(0,o.isDefined)(t)&&e.rgb===t.rgb&&e.theme===t.theme},toXml:function(e,t){return a.default.toXml(e,{rgb:t.rgb,theme:t.theme})}};t.default=r,e.exports=t.default,e.exports.default=t.default},76828(e,t,n){t.default=void 0;var i=n(4964),o=d(n(90914)),a=d(n(33612)),r=d(n(67478)),l=d(n(65322)),s=d(n(68147));function d(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){this._cellFormatTags=[],this._fillTags=[],this._fontTags=[],this._numberFormatTags=[],this._fillTags.push(r.default.tryCreateTag({patternFill:{patternType:"none"}}))}var t=e.prototype;return t.registerCellFormat=function(e){var t,n=a.default.tryCreateTag(e,{registerFill:this.registerFill.bind(this),registerFont:this.registerFont.bind(this),registerNumberFormat:this.registerNumberFormat.bind(this)});if((0,i.isDefined)(n)){for(var o=0;o<this._cellFormatTags.length;o++)if(a.default.areEqual(this._cellFormatTags[o],n)){t=o;break}void 0===t&&(t=this._cellFormatTags.push(n)-1)}return t},e.copyCellFormat=function(e){return a.default.copy(e)},t.generateCellFormatsXml=function(){var e=this._cellFormatTags.map(function(e){return a.default.toXml(e)});return o.default.toXml("cellXfs",{count:e.length},e.join(""))},t.registerFill=function(e){var t,n=r.default.tryCreateTag(e);if((0,i.isDefined)(n)){for(var o=0;o<this._fillTags.length;o++)if(r.default.areEqual(this._fillTags[o],n)){t=o;break}void 0===t&&(this._fillTags.length<2&&this._fillTags.push(r.default.tryCreateTag({patternFill:{patternType:"Gray125"}})),t=this._fillTags.push(n)-1)}return t},t.generateFillsXml=function(){var e=this._fillTags.map(function(e){return r.default.toXml(e)});return o.default.toXml("fills",{count:e.length},e.join(""))},t.registerFont=function(e){var t,n=l.default.tryCreateTag(e);if((0,i.isDefined)(n)){for(var o=0;o<this._fontTags.length;o++)if(l.default.areEqual(this._fontTags[o],n)){t=o;break}void 0===t&&(t=this._fontTags.push(n)-1)}return t},t.generateFontsXml=function(){var e=this._fontTags.map(function(e){return l.default.toXml(e)});return o.default.toXml("fonts",{count:e.length},e.join(""))},t._convertNumberFormatIndexToId=function(e){return 165+e},t.registerNumberFormat=function(e){var t,n=s.default.tryCreateTag(e);if((0,i.isDefined)(n)){for(var o=0;o<this._numberFormatTags.length;o++)if(s.default.areEqual(this._numberFormatTags[o],n)){t=this._numberFormatTags[o][s.default.ID_PROPERTY_NAME];break}void 0===t&&(n[s.default.ID_PROPERTY_NAME]=this._convertNumberFormatIndexToId(this._numberFormatTags.length),t=n[s.default.ID_PROPERTY_NAME],this._numberFormatTags.push(n))}return t},t.generateNumberFormatsXml=function(){if(this._numberFormatTags.length>0){var e=this._numberFormatTags.map(function(e){return s.default.toXml(e)});return o.default.toXml("numFmts",{count:e.length},e.join(""))}return""},e}();t.default=u,e.exports=t.default,e.exports.default=t.default},67478(e,t,n){t.default=void 0;var i=n(4964),o=r(n(90914)),a=r(n(11835));function r(e){return e&&e.__esModule?e:{default:e}}var l={tryCreateTag:function(e){var t=null;return(0,i.isDefined)(e)&&(t={patternFill:a.default.tryCreateTag(e.patternFill)},l.isEmpty(t)&&(t=null)),t},tryCreateFillFromSimpleFormat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.backgroundColor,n=e.fillPatternType,o=e.fillPatternColor;return!(0,i.isDefined)(t)||(0,i.isDefined)(n)&&(0,i.isDefined)(o)?(0,i.isDefined)(n)&&(0,i.isDefined)(o)?{patternFill:{patternType:n,foregroundColor:{rgb:o},backgroundColor:{rgb:t}}}:void 0:{patternFill:{patternType:"solid",foregroundColor:{rgb:t}}}},copySimpleFormat:function(e,t){void 0!==e.backgroundColor&&(t.backgroundColor=e.backgroundColor),void 0!==e.fillPatternType&&(t.fillPatternType=e.fillPatternType),void 0!==e.fillPatternColor&&(t.fillPatternColor=e.fillPatternColor)},copy:function(e){var t=null;return(0,i.isDefined)(e)&&(t={},void 0!==e.patternFill&&(t.patternFill=a.default.copy(e.patternFill))),t},areEqual:function(e,t){return l.isEmpty(e)&&l.isEmpty(t)||(0,i.isDefined)(e)&&(0,i.isDefined)(t)&&a.default.areEqual(e.patternFill,t.patternFill)},isEmpty:function(e){return!(0,i.isDefined)(e)||a.default.isEmpty(e.patternFill)},toXml:function(e){return o.default.toXml("fill",{},a.default.toXml(e.patternFill))}};t.default=l,e.exports=t.default,e.exports.default=t.default},65322(e,t,n){t.default=void 0;var i=n(4964),o=r(n(90914)),a=r(n(91019));function r(e){return e&&e.__esModule?e:{default:e}}var l={tryCreateTag:function(e){var t=null;return(0,i.isDefined)(e)&&(t={size:e.size,name:e.name,family:e.family,scheme:e.scheme,bold:e.bold,italic:e.italic,underline:e.underline,color:a.default.tryCreateTag(e.color)},l.isEmpty(t)&&(t=null)),t},copy:function(e){var t=null;return(0,i.isDefined)(e)&&(t={},void 0!==e.size&&(t.size=e.size),void 0!==e.name&&(t.name=e.name),void 0!==e.family&&(t.family=e.family),void 0!==e.scheme&&(t.scheme=e.scheme),void 0!==e.bold&&(t.bold=e.bold),void 0!==e.italic&&(t.italic=e.italic),void 0!==e.underline&&(t.underline=e.underline),void 0!==e.color&&(t.color=a.default.copy(e.color))),t},areEqual:function(e,t){return l.isEmpty(e)&&l.isEmpty(t)||(0,i.isDefined)(e)&&(0,i.isDefined)(t)&&e.size===t.size&&e.name===t.name&&e.family===t.family&&e.scheme===t.scheme&&(e.bold===t.bold||!e.bold==!t.bold)&&(e.italic===t.italic||!e.italic==!t.italic)&&e.underline===t.underline&&a.default.areEqual(e.color,t.color)},isEmpty:function(e){return!(0,i.isDefined)(e)||!(0,i.isDefined)(e.size)&&!(0,i.isDefined)(e.name)&&!(0,i.isDefined)(e.family)&&!(0,i.isDefined)(e.scheme)&&(!(0,i.isDefined)(e.bold)||!e.bold)&&(!(0,i.isDefined)(e.italic)||!e.italic)&&!(0,i.isDefined)(e.underline)&&a.default.isEmpty(e.color)},toXml:function(e){var t=[(0,i.isDefined)(e.bold)&&e.bold?o.default.toXml("b",{}):"",(0,i.isDefined)(e.size)?o.default.toXml("sz",{val:e.size}):"",(0,i.isDefined)(e.color)?a.default.toXml("color",e.color):"",(0,i.isDefined)(e.name)?o.default.toXml("name",{val:e.name}):"",(0,i.isDefined)(e.family)?o.default.toXml("family",{val:e.family}):"",(0,i.isDefined)(e.scheme)?o.default.toXml("scheme",{val:e.scheme}):"",(0,i.isDefined)(e.italic)&&e.italic?o.default.toXml("i",{}):"",(0,i.isDefined)(e.underline)?o.default.toXml("u",{val:e.underline}):""].join("");return o.default.toXml("font",{},t)}};t.default=l,e.exports=t.default,e.exports.default=t.default},68147(e,t,n){t.default=void 0;var i,o=n(4964),a=(i=n(90914))&&i.__esModule?i:{default:i},r={ID_PROPERTY_NAME:"id",tryCreateTag:function(e){var t=null;return"string"==typeof e&&(t={formatCode:e},r.isEmpty(t)&&(t=null)),t},areEqual:function(e,t){return r.isEmpty(e)&&r.isEmpty(t)||(0,o.isDefined)(e)&&(0,o.isDefined)(t)&&e.formatCode===t.formatCode},isEmpty:function(e){return!(0,o.isDefined)(e)||!(0,o.isDefined)(e.formatCode)||""===e.formatCode},toXml:function(e){return a.default.toXml("numFmt",{numFmtId:e[r.ID_PROPERTY_NAME],formatCode:e.formatCode})}};t.default=r,e.exports=t.default,e.exports.default=t.default},11835(e,t,n){t.default=void 0;var i=n(4964),o=r(n(90914)),a=r(n(91019));function r(e){return e&&e.__esModule?e:{default:e}}var l={tryCreateTag:function(e){var t=null;return(0,i.isDefined)(e)&&(t={patternType:e.patternType,backgroundColor:a.default.tryCreateTag(e.backgroundColor),foregroundColor:a.default.tryCreateTag(e.foregroundColor)},l.isEmpty(t)&&(t=null)),t},copy:function(e){var t=null;return(0,i.isDefined)(e)&&(t={},void 0!==e.patternType&&(t.patternType=e.patternType),void 0!==e.backgroundColor&&(t.backgroundColor=a.default.copy(e.backgroundColor)),void 0!==e.foregroundColor&&(t.foregroundColor=a.default.copy(e.foregroundColor))),t},areEqual:function(e,t){return l.isEmpty(e)&&l.isEmpty(t)||(0,i.isDefined)(e)&&(0,i.isDefined)(t)&&e.patternType===t.patternType&&a.default.areEqual(e.backgroundColor,t.backgroundColor)&&a.default.areEqual(e.foregroundColor,t.foregroundColor)},isEmpty:function(e){return!(0,i.isDefined)(e)||!(0,i.isDefined)(e.patternType)},toXml:function(e){var t=[(0,i.isDefined)(e.foregroundColor)?a.default.toXml("fgColor",e.foregroundColor):"",(0,i.isDefined)(e.backgroundColor)?a.default.toXml("bgColor",e.backgroundColor):""].join("");return o.default.toXml("patternFill",{patternType:e.patternType},t)}};t.default=l,e.exports=t.default,e.exports.default=t.default},90914(e,t,n){t.default=void 0;var i=n(4964);t.default={toXml:function(e,t,n){var o=["<",e];for(var a in t){var r=t[a];(0,i.isDefined)(r)&&o.push(" ",a,'="',r,'"')}return(0,i.isDefined)(n)&&""!==n?o.push(">",n,"</",e,">"):o.push(" />"),o.join("")}},e.exports=t.default,e.exports.default=t.default},34518(e,t,n){t.ExcelCreator=void 0,t.getData=function(e,t){var n=new S(e,t);return n._checkZipState(),n.ready().then(function(){return n.getData((0,a.isFunction)((0,o.getWindow)().Blob))})};var i=p(n(69828)),o=n(65252),a=n(4964),r=n(68841),l=p(n(37499)),s=n(28675),d=p(n(97405)),u=n(5516),c=p(n(47498)),h=p(n(76828)),f=n(68759);function p(e){return e&&e.__esModule?e:{default:e}}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m='<?xml version="1.0" encoding="utf-8"?>',v="http://schemas.openxmlformats.org",C="rels",$="workbook.xml",w="sharedStrings.xml",y="styles.xml",x="sheet1.xml",I={boolean:"b",date:"d",number:"n",string:"s"},E=Date.UTC(1899,11,30),b={quarter:"shortDate",quarterAndYear:"shortDate",minute:"longTime",millisecond:"longTime"},S=i.default.inherit({_getXMLTag:function(e,t,n){var i,o,r="<"+e,l=t.length;for(i=0;i<l;i++)void 0!==(o=t[i]).value&&(r=r+" "+o.name+'="'+o.value+'"');return(0,a.isDefined)(n)?r+">"+n+"</"+e+">":r+" />"},_convertToExcelCellRef:function(e,t){for(var n,i,o="";!i;)o=String.fromCharCode(n=65+(t>=26?t%26:Math.ceil(t)))+o,t>=26?t=Math.floor(t/26)-1:i=!0;return o+(e+1)},_convertToExcelCellRefAndTrackMaxIndex:function(e,t){return this._maxRowIndex<Number(e)&&(this._maxRowIndex=Number(e)),this._maxColumnIndex<Number(t)&&(this._maxColumnIndex=Number(t)),this._convertToExcelCellRef(e,t)},_getDataType:function(e){return I[e]||I.string},_tryGetExcelCellDataType:function(e){if((0,a.isDefined)(e)){if("number"==typeof e)return isFinite(e)?I.number:I.string;if((0,a.isString)(e))return I.string;if((0,a.isDate)(e))return I.number;if((0,a.isBoolean)(e))return I.boolean}},_formatObjectConverter:function(e,t){var n={format:e,precision:e&&e.precision,dataType:t};return(0,a.isObject)(e)?(0,r.extend)(n,e,{format:e.formatter||e.type,currency:e.currency}):n},_tryConvertToExcelNumberFormat:function(e,t){var n=this._formatObjectConverter(e,t);e=n.format;var i=n.currency;return t=n.dataType,(0,a.isDefined)(e)&&"date"===t&&(e=b[e&&e.type||e]||e),c.default.convertFormat(e,n.precision,t,i)},_appendString:function(e){if((0,a.isDefined)(e)&&(e=String(e)).length)return e=(0,s.encodeHtml)(e),void 0===this._stringHash[e]&&(this._stringHash[e]=this._stringArray.length,this._stringArray.push(e)),this._stringHash[e]},_tryGetExcelDateValue:function(e){var t;if((0,a.isDate)(e))return(t=Math.floor((Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())-E)/864e5))<60&&t--,t+(3600*e.getHours()+60*e.getMinutes()+e.getSeconds())/86400},_prepareValue:function(e,t){var n,i=this._dataProvider,o=(i.getCellData(e,t)||{}).cellSourceData,r=(i.getCellData(e,t)||{}).value,l=this._getDataType(i.getCellType(e,t));switch(l!==I.date||(0,a.isDate)(r)||(l=I.string),l){case I.string:n=r,r=this._appendString(r);break;case I.date:n=r,r=this._tryGetExcelDateValue(r),l=I.number}return{value:r,type:l,sourceValue:n,cellSourceData:o}},_callCustomizeExcelCell:function(e){var t=e.dataProvider,n=e.value,i=e.style,o=e.sourceData,r=h.default.copyCellFormat(i),l={value:n,numberFormat:r.numberFormat,clearStyle:function(){this.horizontalAlignment=null,this.verticalAlignment=null,this.wrapTextEnabled=null,this.font=null,this.numberFormat=null}};(0,a.isDefined)(r)&&((0,a.isDefined)(r.alignment)&&(l.horizontalAlignment=r.alignment.horizontal,l.verticalAlignment=r.alignment.vertical,l.wrapTextEnabled=r.alignment.wrapText),l.backgroundColor=r.backgroundColor,l.fillPatternType=r.fillPatternType,l.fillPatternColor=r.fillPatternColor,l.font=r.font),t.customizeExcelCell(l,o);var s=r||{};return s.font=l.font,s.alignment=s.alignment||{},s.alignment.horizontal=l.horizontalAlignment,s.alignment.vertical=l.verticalAlignment,s.alignment.wrapText=l.wrapTextEnabled,s.backgroundColor=l.backgroundColor,s.fillPatternType=l.fillPatternType,s.fillPatternColor=l.fillPatternColor,s.numberFormat=l.numberFormat,{value:l.value,style:s}},_getDataArray:function(){var e,t,n,i,o,r=[],l=this._dataProvider,s=l.getRowsCount(),d=l.getColumns();for(e=0;e<s;e++){for(n=[],o=d.length,t=0;t!==o;t++){i=this._prepareValue(e,t);var u=l.getStyleId(e,t),c=this._styleArrayIndexToCellStyleIdMap[u];if(l.hasCustomizeExcelCell&&l.hasCustomizeExcelCell()){var h=i.sourceValue||i.value,f=this._callCustomizeExcelCell({dataProvider:l,value:h,style:this._styleArray[u],sourceData:i.cellSourceData});if(f.value!==h){if(g(f.value)!==g(h)||"number"==typeof f.value&&!isFinite(f.value)){var p=this._tryGetExcelCellDataType(f.value);(0,a.isDefined)(p)&&(i.type=p)}switch(i.type){case I.string:i.value=this._appendString(f.value);break;case I.date:i.value=f.value;break;case I.number:var m=f.value,v=this._tryGetExcelDateValue(m);(0,a.isDefined)(v)&&(m=v),i.value=m;break;default:i.value=f.value}}c=this._excelFile.registerCellFormat(f.style)}n.push({style:c,value:i.value,type:i.type})}!this._needSheetPr&&l.getGroupLevel(e)>0&&(this._needSheetPr=!0),r.push(n)}return r},_calculateWidth:function(e){return(e=parseInt(e,10))&&!(e<5)||(e=100),Math.min(255,Math.floor((e-5)/7*100+.5)/100)},_prepareStyleData:function(){var e=this,t=this,n=t._dataProvider.getStyles();t._dataProvider.getColumns().forEach(function(e){t._colsArray.push(t._calculateWidth(e.width))});var i=[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor",bold:!1},{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor",bold:!0}];this._excelFile.registerFont(i[0]),this._excelFile.registerFont(i[1]),n.forEach(function(e){var n=t._tryConvertToExcelNumberFormat(e.format,e.dataType);(0,a.isDefined)(n)||(n=0),t._styleArray.push({font:i[Number(!!e.bold)],numberFormat:n,alignment:{vertical:"top",wrapText:!!e.wrapText,horizontal:e.alignment||"left"}})}),t._styleArrayIndexToCellStyleIdMap=t._styleArray.map(function(t){return e._excelFile.registerCellFormat(t)})},_prepareCellData:function(){this._cellsArray=this._getDataArray()},_createXMLRelationships:function(e){return this._getXMLTag("Relationships",[{name:"xmlns",value:v+"/package/2006/relationships"}],e)},_createXMLRelationship:function(e,t,n){return this._getXMLTag("Relationship",[{name:"Id",value:"rId"+e},{name:"Type",value:v+"/officeDocument/2006/relationships/"+t},{name:"Target",value:n}])},_getWorkbookContent:function(){return m+this._getXMLTag("workbook",[{name:"xmlns:r",value:v+"/officeDocument/2006/relationships"},{name:"xmlns",value:v+"/spreadsheetml/2006/main"}],'<bookViews><workbookView xWindow="0" yWindow="0" windowWidth="0" windowHeight="0"/></bookViews><sheets><sheet name="Sheet" sheetId="1" r:id="rId1" /></sheets><definedNames><definedName name="_xlnm.Print_Titles" localSheetId="0">Sheet!$1:$1</definedName><definedName name="_xlnm._FilterDatabase" hidden="0" localSheetId="0">Sheet!$A$1:$F$6332</definedName></definedNames>')},_getContentTypesContent:function(){return m+'<Types xmlns="'+v+'/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="xml" ContentType="application/xml" /><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /></Types>'},_generateStylesXML:function(){var e=this._zip.folder("xl"),t="";t+=this._excelFile.generateNumberFormatsXml(),t+=this._excelFile.generateFontsXml(),t+=this._excelFile.generateFillsXml(),t+='<borders count="1"><border><left style="thin"><color rgb="FFD3D3D3"/></left><right style="thin"><color rgb="FFD3D3D3"/></right><top style="thin"><color rgb="FFD3D3D3"/></top><bottom style="thin"><color rgb="FFD3D3D3"/></bottom></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',t+=this._excelFile.generateCellFormatsXml(),t+=this._getXMLTag("cellStyles",[{name:"count",value:1}],this._getXMLTag("cellStyle",[{name:"name",value:"Normal"},{name:"xfId",value:0},{name:"builtinId",value:0}])),t=m+this._getXMLTag("styleSheet",[{name:"xmlns",value:v+"/spreadsheetml/2006/main"}],t),e.file(y,t),this._styleArray=[]},_generateStringsXML:function(){var e,t=this._zip.folder("xl"),n=this._stringArray.length,i=m;for(e=0;e<n;e++)this._stringArray[e]=this._getXMLTag("si",[],this._getXMLTag("t",[],this._stringArray[e]));i+=this._getXMLTag("sst",[{name:"xmlns",value:v+"/spreadsheetml/2006/main"},{name:"count",value:this._stringArray.length},{name:"uniqueCount",value:this._stringArray.length}],this._stringArray.join("")),t.file(w,i),this._stringArray=[]},_getPaneXML:function(){var e=[{name:"activePane",value:"bottomLeft"},{name:"state",value:"frozen"}],t=this._dataProvider.getFrozenArea();return t.x||t.y?(t.x&&e.push({name:"xSplit",value:t.x}),t.y&&e.push({name:"ySplit",value:t.y}),e.push({name:"topLeftCell",value:this._convertToExcelCellRefAndTrackMaxIndex(t.y,t.x)}),this._getXMLTag("pane",e)):""},_getAutoFilterXML:function(e){return this._options.autoFilterEnabled?'<autoFilter ref="A'+this._dataProvider.getHeaderRowCount()+":"+e+'" />':""},_getIgnoredErrorsXML:function(e){return this._options.ignoreErrors?'<ignoredErrors><ignoredError sqref="A1:'+e+'" numberStoredAsText="1" /></ignoredErrors>':""},_generateWorksheetXML:function(){var e,t,n,i,o,r=[],l=this._cellsArray.length,s=this._colsArray.length,d="1:"+s,u=this._dataProvider.getHeaderRowCount?this._dataProvider.getHeaderRowCount():1,c=['<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">'];for(c.push(this._needSheetPr?'<sheetPr><outlinePr summaryBelow="0"/></sheetPr>':"<sheetPr/>"),c.push('<dimension ref="A1:C1"/>'),c.push("<sheetViews><sheetView "),c.push(this._rtlEnabled?'rightToLeft="1" ':""),c.push('tabSelected="1" workbookViewId="0">'),c.push(this._getPaneXML()),c.push("</sheetView></sheetViews>"),c.push('<sheetFormatPr defaultRowHeight="15"'),c.push(' outlineLevelRow="'+(this._dataProvider.getRowsCount()>0?this._dataProvider.getGroupLevel(0):0)+'"'),c.push(' x14ac:dyDescent="0.25"/>'),e=0;e<s;e++)this._colsArray[e]=this._getXMLTag("col",[{name:"width",value:this._colsArray[e]},{name:"min",value:Number(e)+1},{name:"max",value:Number(e)+1},{name:"customWidth",value:1}]);for(c.push(this._getXMLTag("cols",[],this._colsArray.join(""))+"<sheetData>"),t=0;t<l;t++){for(i=[],o=this._cellsArray[t].length,e=0;e<o;e++)t=Number(t),n=this._cellsArray[t][e],i.push(this._getXMLTag("c",[{name:"r",value:this._convertToExcelCellRefAndTrackMaxIndex(t,e)},{name:"s",value:n.style},{name:"t",value:n.type}],(0,a.isDefined)(n.value)?this._getXMLTag("v",[],n.value):null));r.push(this._getXMLTag("row",[{name:"r",value:Number(t)+1},{name:"spans",value:d},{name:"outlineLevel",value:t>=u?this._dataProvider.getGroupLevel(t):0},{name:"x14ac:dyDescent",value:"0.25"}],i.join(""))),this._cellsArray[t]=null,r.length>1e4&&(c.push(r.join("")),r=[])}c.push(r.join("")),r=[];var h=this._convertToExcelCellRef(this._maxRowIndex,this._maxColumnIndex);c.push("</sheetData>"+this._getAutoFilterXML(h)+this._generateMergingXML()+this._getIgnoredErrorsXML(h)+"</worksheet>"),this._zip.folder("xl").folder("worksheets").file(x,c.join("")),this._colsArray=[],this._cellsArray=[],c=[]},_generateMergingXML:function(){var e,t,n,i,o,r=(0,a.isDefined)(this._dataProvider.getHeaderRowCount)?this._dataProvider.getHeaderRowCount():this._dataProvider.getRowsCount(),l=this._dataProvider.getColumns().length,s=[],d=[],u="";for(i=0;i<r;i++)for(n=0;n!==l;n++)if(!(0,a.isDefined)(s[i])||!(0,a.isDefined)(s[i][n])){var c=this._dataProvider.getCellMerging(i,n);if(c.colspan||c.rowspan)for(d.push({start:this._convertToExcelCellRefAndTrackMaxIndex(i,n),end:this._convertToExcelCellRefAndTrackMaxIndex(i+(c.rowspan||0),n+(c.colspan||0))}),e=i;e<=i+c.rowspan;e++)for(t=n;t<=n+c.colspan;t++)(0,a.isDefined)(s[e])||(s[e]=[]),s[e][t]=!0}var h=d.length;for(o=0;o<h;o++)u+=this._getXMLTag("mergeCell",[{name:"ref",value:d[o].start+":"+d[o].end}]);return u.length?this._getXMLTag("mergeCells",[{name:"count",value:h}],u):""},_generateCommonXML:function(){var e=m+this._createXMLRelationships(this._createXMLRelationship(1,"officeDocument","xl/"+$)),t=this._zip.folder("xl"),n=m;this._zip.folder("_"+C).file("."+C,e);var i=this._createXMLRelationship(1,"worksheet","worksheets/"+x)+this._createXMLRelationship(2,"styles",y)+this._createXMLRelationship(3,"sharedStrings",w);n+=this._createXMLRelationships(i),t.folder("_"+C).file($+".rels",n),t.file($,this._getWorkbookContent()),this._zip.file("[Content_Types].xml",this._getContentTypesContent())},_generateContent:function(){this._prepareStyleData(),this._prepareCellData(),this._generateWorkXML(),this._generateCommonXML()},_generateWorkXML:function(){this._generateStylesXML(),this._generateStringsXML(),this._generateWorksheetXML()},ctor:function(e,t){this._rtlEnabled=t&&!!t.rtlEnabled,this._options=t,this._maxRowIndex=0,this._maxColumnIndex=0,this._stringArray=[],this._stringHash={},this._styleArray=[],this._colsArray=[],this._cellsArray=[],this._needSheetPr=!1,this._dataProvider=e,this._excelFile=new h.default,(0,a.isDefined)(S.JSZip)?this._zip=new S.JSZip:this._zip=null},_checkZipState:function(){if(!this._zip)throw l.default.Error("E1041","JSZip")},ready:function(){return this._dataProvider.ready()},getData:function(e){var t={type:e?"blob":"base64",compression:"DEFLATE",mimeType:u.MIME_TYPES.EXCEL},n=new f.Deferred;return this._checkZipState(),this._generateContent(),this._zip.generateAsync?this._zip.generateAsync(t).then(n.resolve):n.resolve(this._zip.generate(t)),n}});t.ExcelCreator=S,S.JSZip=d.default},47498(e,t,n){t.default=void 0;var i=n(28675),o=d(n(84396)),a=d(n(89019)),r=n(4964),l=n(6676),s=n(67454);function d(e){return e&&e.__esModule?e:{default:e}}n(40244);var u={thousands:"#,##0{0},&quot;K&quot;",millions:"#,##0{0},,&quot;M&quot;",billions:"#,##0{0},,,&quot;B&quot;",trillions:"#,##0{0},,,,&quot;T&quot;",percent:"0{0}%",decimal:"#{0}",fixedpoint:"#,##0{0}",exponential:"0{0}E+00",currency:" "},c=/a+/g,h=/E/g,f=/dE+/g,p=/L/g,g=/h/g,m=/./g,v={_applyPrecision:function(e,t){var n,i;if(t>0){for(n="decimal"!==e?".":"",i=0;i<t;i++)n+="0";return n}return""},_hasArabicDigits:function(e){for(var t,n=0;n<e.length;n++)if((t=e.charCodeAt(n))>=1632&&t<1642)return!0;return!1},_convertDateFormatToOpenXml:function(e){return e.split("/").join("\\/").split("'").map(function(e,t){return t%2==0?e.replace(c,"AM/PM").replace(f,"d").replace(h,"d").replace(p,"M").replace(g,"H").split("[").join("\\[").split("]").join("\\]"):e?e.replace(m,"\\$&"):"'"}).join("")},_convertDateFormat:function(e){var t=(a.default.format(new Date(2009,8,8,6,5,4),e)||"").toString(),n=(0,l.getFormat)(function(t){return a.default.format(t,e)});return n&&(n=this._convertDateFormatToOpenXml(n),n=this._getLanguageInfo(t)+n),n},_getLanguageInfo:function(e){var t=(0,s.getLanguageId)(),n=t?t.toString(16):"",i="";if(this._hasArabicDigits(e)){for(;n.length<3;)n="0"+n;i="[$-2010"+n+"]"}else n&&(i="[$-"+n+"]");return i},_convertNumberFormat:function(e,t,n){var a,r;return(r="currency"===e?o.default.getOpenXmlCurrencyFormat(n):u[e.toLowerCase()])&&(a=(0,i.format)(r,this._applyPrecision(e,t))),a},convertFormat:function(e,t,n,i){if((0,r.isDefined)(e)){if("date"===n)return v._convertDateFormat(e);if((0,r.isString)(e)&&u[e.toLowerCase()])return v._convertNumberFormat(e,t,i)}}};t.default=v,e.exports=t.default,e.exports.default=t.default},26164(e,t,n){t.Export=void 0;var i=n(4964),o=n(71636),a=n(99978),r=n(68841),l=n(73126),s=n(65252);t.Export={getFullOptions:function(e){var t=(0,r.extend)({},e);if(!(0,i.isDefined)(t.worksheet)||!(0,i.isObject)(t.worksheet))throw Error('The "worksheet" field must contain an object.');if((0,i.isDefined)(t.topLeftCell)){if((0,i.isString)(t.topLeftCell)){var n=t.worksheet.getCell(t.topLeftCell),o=n.row,a=n.col;t.topLeftCell={row:o,column:a}}}else t.topLeftCell={row:1,column:1};return(0,i.isDefined)(t.keepColumnWidths)||(t.keepColumnWidths=!0),(0,i.isDefined)(t.loadPanel)||(t.loadPanel={}),(0,i.isDefined)(t.loadPanel.enabled)||(t.loadPanel.enabled=!0),(0,i.isDefined)(t.encodeExecutableContent)||(t.encodeExecutableContent=!1),t},convertDateForExcelJS:function(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))},setNumberFormat:function(e,t){e.numFmt=t},getCellStyles:function(e){var t=this,n=e.getStyles();return n.forEach(function(e){var n=t.tryConvertToExcelNumberFormat(e.format,e.dataType);(0,i.isDefined)(n)&&(n=n.replace(/&quot;/g,'"')),e.numberFormat=n}),n},tryConvertToExcelNumberFormat:function(e,t){var n=o.ExportFormat.formatObjectConverter(e,t),i=n.currency;return e=n.format,t=n.dataType,o.ExportFormat.convertFormat(e,n.precision,t,i)},setAlignment:function(e,t,n){e.alignment=e.alignment||{},(0,i.isDefined)(t)&&(e.alignment.wrapText=t),(0,i.isDefined)(n)&&(e.alignment.horizontal=n),e.alignment.vertical="top"},setColumnsWidth:function(e,t,n){if((0,i.isDefined)(t))for(var o=0;o<t.length;o++){var a=t[o];"number"==typeof a&&isFinite(a)&&(e.getColumn(n+o).width=Math.min(255,Math.floor(a/7*100)/100))}},export:function(e,t){var n,i,o=this,d=e.customizeCell,u=e.component,c=e.worksheet,h=e.topLeftCell,f=e.autoFilterEnabled,p=e.keepColumnWidths,g=e.selectedRowsOnly,m=e.loadPanel,v=e.mergeRowFieldValues,C=e.mergeColumnFieldValues,$=e.encodeExecutableContent,w=(null===(n=u._getInternalInstance)||void 0===n?void 0:n.call(u))||u,y=w.option("loadPanel")&&w.option("loadPanel").enabled;if(y&&u.option("loadPanel.enabled",!1),m.enabled&&(0,s.hasWindow)()){var x=t._getLoadPanelTargetElement(u),I=t._getLoadPanelContainer(u);(i=new l.ExportLoadPanel(u,x,I,m)).show()}var E=!!u.option("wordWrapEnabled");c.properties.outlineProperties={summaryBelow:!1,summaryRight:!1};var b={from:{row:h.row,column:h.column},to:{row:h.row,column:h.column}},S=u.getDataProvider(g);return new Promise(function(e){S.ready().done(function(){var n=S.getColumns(),i=S.getRowsCount();p&&o.setColumnsWidth(c,S.getColumnsWidths(),b.from.column);for(var l=new a.MergedRangesManager(S,t,v,C),s=o.getCellStyles(S),h=0;h<i;h++){var g=c.getRow(b.from.row+h);t._trySetOutlineLevel(S,g,h),o.exportRow(S,t,l,h,n.length,g,b.from.column,d,E,s,$),h>=1&&b.to.row++}l.applyMergedRages(c),b.to.column+=n.length>0?n.length-1:0;var m=c.views[0]||{};u.option("rtlEnabled")&&(m.rightToLeft=!0),t._isFrozenZone(S)&&(-1===Object.keys(m).indexOf("state")&&(0,r.extend)(m,t._getWorksheetFrozenState(S,b)),t._trySetAutoFilter(S,c,b,f)),Object.keys(m).length>0&&(c.views=[m]),e(b)}).always(function(){y&&u.option("loadPanel.enabled",y),m.enabled&&(0,s.hasWindow)()&&i.dispose()})})},exportRow:function(e,t,n,a,r,l,s,d,u,c,h){for(var f=0;f<r;f++){var p=e.getCellData(a,f,!0),g=l.getCell(s+f);n.updateMergedRanges(g,a,f);var m=n.findMergedCellInfo(a,f);if((0,i.isDefined)(m)&&g!==m.masterCell)g.style=m.masterCell.style,g.value=m.masterCell.value;else if((0,i.isDate)(p.value)?g.value=this.convertDateForExcelJS(p.value):g.value=p.value,(0,i.isDefined)(g.value)){var v=c[e.getStyleId(a,f)],C=v.bold,$=v.alignment,w=v.numberFormat;(0,i.isDefined)(w)?this.setNumberFormat(g,w):(0,i.isString)(g.value)&&/^[@=+-]/.test(g.value)&&this.setNumberFormat(g,"@"),t._trySetFont(g,C),this.setAlignment(g,u,$)}(0,i.isFunction)(d)&&d(t._getCustomizeCellOptions(g,p.cellSourceData)),h&&(g.value=o.ExportFormat.encode(g.value))}}}},84345(e,t,n){t.exportDataGrid=function(e){return a.Export.export(function(e){if(!(0,o.isDefined)(e)||!(0,o.isObject)(e))throw Error('The "exportDataGrid" method requires a configuration object.');if(!(0,o.isDefined)(e.component)||!(0,o.isObject)(e.component)||"dxDataGrid"!==e.component.NAME)throw Error('The "component" field must contain a DataGrid instance.');return(0,o.isDefined)(e.selectedRowsOnly)||(e.selectedRowsOnly=!1),(0,o.isDefined)(e.autoFilterEnabled)||(e.autoFilterEnabled=!1),a.Export.getFullOptions(e)}(e),l)};var i,o=n(4964),a=n(26164),r=(i=n(70096))&&i.__esModule?i:{default:i},l={_trySetAutoFilter:function(e,t,n,i){if(i&&!(0,o.isDefined)(t.autoFilter)&&e.getRowsCount()>0){var a={from:{row:n.from.row+e.getHeaderRowCount()-1,column:n.from.column},to:n.to};t.autoFilter=a}},_trySetFont:function(e,t){(0,o.isDefined)(t)&&(e.font=e.font||{},e.font.bold=t)},_getWorksheetFrozenState:function(e,t){return{state:"frozen",ySplit:t.from.row+e.getFrozenArea().y-1}},_trySetOutlineLevel:function(e,t,n){n>=e.getHeaderRowCount()&&(t.outlineLevel=e.getGroupLevel(n))},_getCustomizeCellOptions:function(e,t){var n={excelCell:e,gridCell:t};return Object.defineProperty(n,"cell",{get:function(){return r.default.log("W0003","CustomizeCell handler argument","cell","20.1","Use the 'excelCell' field instead"),e}}),n},_isFrozenZone:function(e){return e.getHeaderRowCount()>0},_isHeaderCell:function(e,t){return t<e.getHeaderRowCount()},_allowToMergeRange:function(){return!0},_getLoadPanelTargetElement:function(e){return e.getView("rowsView").element()},_getLoadPanelContainer:function(e){return e.getView("rowsView").element().parent()}}},71636(e,t,n){t.ExportFormat=void 0;var i=n(28675),o=u(n(84396)),a=u(n(89019)),r=n(4964),l=n(6676),s=n(67454),d=n(68841);function u(e){return e&&e.__esModule?e:{default:e}}n(40244);var c={thousands:"#,##0{0},&quot;K&quot;",millions:"#,##0{0},,&quot;M&quot;",billions:"#,##0{0},,,&quot;B&quot;",trillions:"#,##0{0},,,,&quot;T&quot;",percent:"0{0}%",decimal:"#{0}",fixedpoint:"#,##0{0}",exponential:"0{0}E+00",currency:" "},h=/a+/g,f=/E/g,p=/dE+/g,g=/L/g,m=/h/g,v=/./g;function C(e){return!!e&&(!!/^[@=\t\r]/.test(e)||!!/^[+-]/.test(e)&&!(0,r.isNumeric)(e))}t.ExportFormat={formatObjectConverter:function(e,t){var n={format:e,precision:e&&e.precision,dataType:t};return(0,r.isObject)(e)?(0,d.extend)(n,e,{format:e.formatter||e.type,currency:e.currency}):n},convertFormat:function(e,t,n,d){if((0,r.isDefined)(e)){var u,C,$,w,y,x,I,E,b;if("date"===n)return u=e,C=(a.default.format(new Date(2009,8,8,6,5,4),u)||"").toString(),($=(0,l.getFormat)(function(e){return a.default.format(e,u)}))&&($=(w=$).split("/").join("\\/").split("'").map(function(e,t){return t%2==0?e.replace(h,"AM/PM").replace(p,"d").replace(f,"d").replace(g,"M").replace(m,"H").split("[").join("\\[").split("]").join("\\]"):e?e.replace(v,"\\$&"):"'"}).join(""),$=function(e){var t=(0,s.getLanguageId)(),n=t?t.toString(16):"",i="";if(function(e){for(var t,n=0;n<e.length;n++)if((t=e.charCodeAt(n))>=1632&&t<1642)return!0;return!1}(e)){for(;n.length<3;)n="0"+n;i="[$-2010"+n+"]"}else n&&(i="[$-"+n+"]");return i}(C)+$),$;if((0,r.isString)(e)&&c[e.toLowerCase()])return y=e,x=t,I=d,(b="currency"===y?o.default.getOpenXmlCurrencyFormat(I):c[y.toLowerCase()])&&(E=(0,i.format)(b,function(e,t){var n,i;if(t>0){for(n="decimal"!==e?".":"",i=0;i<t;i++)n+="0";return n}return""}(y,x))),E}},encode:function(e){var t,n,i=!1;if(!(!(t=e)||t.length<2)&&C(t)?i=!0:!(!(n=e)||n.length<4||'"'!==n[0])&&C(n.substring(1,n.length-1))&&(e=e.substring(1,e.length-1),i=!0),i){var o="".concat('"').concat('"');return"\"'"+e.replaceAll('"',o)+'"'}return e}}},99978(e,t){function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}t.MergedRangesManager=void 0;var i=function(){function e(e,t,n,i){this.mergedCells=[],this.mergedRanges=[],this.dataProvider=e,this.helpers=t,this.mergeRowFieldValues=n,this.mergeColumnFieldValues=i}var t=e.prototype;return t.updateMergedRanges=function(e,t,i){if(this.helpers._isHeaderCell(this.dataProvider,t,i)&&!this.isCellInMergedRanges(t,i)){var o=this.dataProvider.getCellMerging(t,i),a=o.rowspan,r=o.colspan;if(r||a){var l=this.helpers._allowToMergeRange(this.dataProvider,t,i,a,r,this.mergeRowFieldValues,this.mergeColumnFieldValues);this.updateMergedCells(e,t,i,a,r,l),l&&this.mergedRanges.push(n({masterCell:e},{rowspan:a,colspan:r}))}}},t.isCellInMergedRanges=function(e,t){return this.mergedCells[e]&&this.mergedCells[e][t]},t.findMergedCellInfo=function(e,t){if(this.helpers._isHeaderCell(this.dataProvider,e,t)&&this.isCellInMergedRanges(e,t))return this.mergedCells[e][t]},t.updateMergedCells=function(e,t,n,i,o,a){for(var r=t;r<=t+i;r++)for(var l=n;l<=n+o;l++)this.mergedCells[r]||(this.mergedCells[r]=[]),this.mergedCells[r][l]={masterCell:e,unmerged:!a}},t.applyMergedRages=function(e){this.mergedRanges.forEach(function(t){var n=t.masterCell.fullAddress.row,i=t.masterCell.fullAddress.col,o=n+t.rowspan,a=i+t.colspan;e.mergeCells(n,i,o,a)})},e}();t.MergedRangesManager=i},12424(e,t,n){t.exportPivotGrid=function(e){return o.Export.export(function(e){if(!(0,i.isDefined)(e)||!(0,i.isObject)(e))throw Error('The "exportPivotGrid" method requires a configuration object.');if(!(0,i.isDefined)(e.component)||!(0,i.isObject)(e.component)||"dxPivotGrid"!==e.component.NAME)throw Error('The "component" field must contain a PivotGrid instance.');return(0,i.isDefined)(e.mergeRowFieldValues)||(e.mergeRowFieldValues=!0),(0,i.isDefined)(e.mergeColumnFieldValues)||(e.mergeColumnFieldValues=!0),o.Export.getFullOptions(e)}(e),r)};var i=n(4964),o=n(26164),a=n(36808),r={_getWorksheetFrozenState:function(e,t){return{state:"frozen",xSplit:t.from.column+e.getFrozenArea().x-1,ySplit:t.from.row+e.getFrozenArea().y-1}},_getCustomizeCellOptions:function(e,t){return{excelCell:e,pivotCell:t}},_isFrozenZone:function(){return!0},_isHeaderCell:function(e,t,n){return t<e.getColumnAreaRowCount()||n<e.getRowAreaColCount()},_allowToMergeRange:function(e,t,n,i,o,a,r){return!(e.isColumnAreaCell(t,n)&&!r&&o||e.isRowAreaCell(t,n)&&!a&&i)},_getLoadPanelTargetElement:function(e){return e._dataArea.groupElement()},_getLoadPanelContainer:function(e){return e.$element()},_trySetAutoFilter:a.noop,_trySetFont:a.noop,_trySetOutlineLevel:a.noop}},5516(e,t,n){t.fileSaver=t.MIME_TYPES=void 0;var i=u(n(68689)),o=u(n(71251)),a=n(65252),r=u(n(21445)),l=u(n(37499)),s=n(4964),d=n(24927);function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,a.getWindow)(),h=(0,a.getNavigator)(),f={EXCEL:"xlsx",CSS:"css",PNG:"png",JPEG:"jpeg",GIF:"gif",SVG:"svg",PDF:"pdf"},p={CSS:"text/css",EXCEL:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",PNG:"image/png",JPEG:"image/jpeg",GIF:"image/gif",SVG:"image/svg+xml",PDF:"application/pdf"};t.MIME_TYPES=p,t.fileSaver={_revokeObjectURLTimeout:3e4,_getDataUri:function(e,t){var n=this._getMimeType(e);return"data:".concat(n,";base64,").concat(t)},_getMimeType:function(e){return p[e]||"application/octet-stream"},_linkDownloader:function(e,t){var n=o.default.createElement("a");return n.download=e,n.href=t,n.target="_blank",n},_formDownloader:function(e,t,n,a){var l=(0,i.default)("<form>").css({display:"none"}).attr({method:"post",action:e,enctype:"multipart/form-data"});function s(e,t){for(var n in t)e.setAttribute(n,t[n]);return e}l.append(s(o.default.createElement("input"),{type:"hidden",name:"fileName",value:t})),l.append(s(o.default.createElement("input"),{type:"hidden",name:"contentType",value:n})),l.append(s(o.default.createElement("input"),{type:"hidden",name:"data",value:a})),l.appendTo("body"),r.default.trigger(l,"submit"),r.default.trigger(l,"submit")&&l.remove()},_saveByProxy:function(e,t,n,i){var o=this._getMimeType(n);return this._formDownloader(e,t,o,i)},_winJSBlobSave:function(e,t,n){var i=new Windows.Storage.Pickers.FileSavePicker;i.suggestedStartLocation=Windows.Storage.Pickers.PickerLocationId.documentsLibrary;var o=f[n];if(o){var a=this._getMimeType(n);i.fileTypeChoices.insert(a,["."+o])}i.suggestedFileName=t,i.pickSaveFileAsync().then(function(t){t&&t.openAsync(Windows.Storage.FileAccessMode.readWrite).then(function(t){var n=e.msDetachStream();Windows.Storage.Streams.RandomAccessStream.copyAsync(n,t).then(function(){t.flushAsync().done(function(){n.close(),t.close()})})})})},_click:function(e){try{e.dispatchEvent(new MouseEvent("click",{cancelable:!0}))}catch(t){var n=o.default.getDocument().createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,c,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}},_saveBlobAs:function(e,t,n){var i=this;if(this._blobSaved=!1,(0,s.isDefined)(h.msSaveOrOpenBlob))h.msSaveOrOpenBlob(n,e),this._blobSaved=!0;else if((0,s.isDefined)(c.WinJS))this._winJSBlobSave(n,e,t),this._blobSaved=!0;else{var o=c.URL||c.webkitURL||c.mozURL||c.msURL||c.oURL;if((0,s.isDefined)(o)){var a=o.createObjectURL(n),r=this._linkDownloader(e,a);setTimeout(function(){o.revokeObjectURL(a),i._objectUrlRevoked=!0},this._revokeObjectURLTimeout),this._click(r)}else d.logger.warn("window.URL || window.webkitURL || window.mozURL || window.msURL || window.oURL is not defined")}},saveAs:function(e,t,n,i,o){var a=f[t];if(a&&(e+="."+a),(0,s.isDefined)(i)&&l.default.log("W0001","Export","proxyURL","19.2","This option is no longer required"),o)this._saveByProxy(i,e,t,n);else if((0,s.isFunction)(c.Blob))this._saveBlobAs(e,t,n);else if((0,s.isDefined)(i)&&!(0,s.isDefined)(h.userAgent.match(/iPad/i)))this._saveByProxy(i,e,t,n);else{(0,s.isDefined)(h.userAgent.match(/iPad/i))||l.default.log("E1034");var r=this._linkDownloader(e,this._getDataUri(t,n));this._click(r)}}}},97652(e,t,n){t.calcScaledInfo=W,t.getData=function(e,t){return N.getData(e,t)},t.imageCreator=void 0,t.testFormats=function(e){var t=N._createCanvas(100,100,0);return e.reduce(function(e,n){var i=("image/"+n).toLowerCase();return -1!==t.toDataURL(i).indexOf(i)?e.supported.push(n):e.unsupported.push(n),e},{supported:[],unsupported:[]})};var i=p(n(68689)),o=p(n(30284)),a=n(4964),r=n(44309),l=n(1685),s=n(68841),d=p(n(71251)),u=n(34284),c=n(65252),h=n(92960),f=n(68759);function p(e){return e&&e.__esModule?e:{default:e}}var g,m=(0,c.getWindow)(),v=Math,C=v.PI,$=v.min,w=v.abs,y=v.sqrt,x=v.pow,I=v.atan2,E=v.cos,b=v.sin,S=Number;function T(e,t,n,i,o,a,r,l){var s=I(t-i,e-n),d=a?1:-1;s+=C/180*90*(r?1:-1);var u=y(x(n-e,2)+x(i-t,2))/2,c=y(w(x(o,2)-x(u,2))),h=(e+n)/2+d*(c*E(s)),f=(t+i)/2+d*(c*b(s)),p=I(t-f,e-h),g=I(i-f,n-h);l.arc(h,f,o,p,g,!r)}function D(e,t){var n,i=g(e.attributes||{}),o=(0,s.extend)({},i,{text:e.textContent.replace(/\s+/g," "),textAlign:"middle"===i["text-anchor"]?"center":i["text-anchor"]}),r=i.transform;return r&&((n=r.match(/translate\(-*\d+([.]\d+)*(,*\s*-*\d+([.]\d+)*)*/))&&(n=n[0].match(/-*\d+([.]\d+)*/g),o.translateX=S(n[0]),o.translateY=n[1]?S(n[1]):0),(n=r.match(/rotate\(-*\d+([.]\d+)*(,*\s*-*\d+([.]\d+)*,*\s*-*\d+([.]\d+)*)*/))&&(n=n[0].match(/-*\d+([.]\d+)*/g),o.rotationAngle=S(n[0]),o.rotationX=n[1]&&S(n[1]),o.rotationY=n[2]&&S(n[2])),(n=r.match(/scale\(-*\d+([.]\d+)*(,*\s*-*\d+([.]\d+)*)*/))&&(n=n[0].match(/-*\d+([.]\d+)*/g),o.scaleX=S(n[0]),n.length>1?o.scaleY=S(n[1]):o.scaleY=o.scaleX)),function(e,t,n){var i,o=e.style||{};for(i in o)""!==o[i]&&(t[(0,h.camelize)(i)]=o[i]);n&&d.default.isElementNode(e)&&(o=m.getComputedStyle(e),["fill","stroke","stroke-width","font-family","font-size","font-style","font-weight"].forEach(function(e){e in o&&""!==o[e]&&(t[(0,h.camelize)(e)]=o[e])}),["opacity","fill-opacity","stroke-opacity"].forEach(function(e){e in o&&""!==o[e]&&"1"!==o[e]&&(t[e]=S(o[e]))})),t.textDecoration=t.textDecoration||t.textDecorationLine,t.globalAlpha=(0,a.isDefined)(t.opacity)?t.opacity:t.globalAlpha}(e,o,t),o}function R(e){var t=e&&e.match(/url\(.*#(.*?)["']?\)/i);return t&&t[1]}function O(e,t){var n=[];t.fontSize=t.fontSize||"10px",t.fontFamily=t.fontFamily||"sans-serif",t.fill=t.fill||"#000",t.fontStyle&&n.push(t.fontStyle),t.fontWeight&&n.push(t.fontWeight),n.push(t.fontSize),n.push(t.fontFamily),e.font=n.join(" "),e.textAlign=t.textAlign,e.fillStyle=t.fill,e.globalAlpha=t.globalAlpha}function F(e){for(var t=e.childNodes,n=0;n<t.length;n++)if("tspan"===t[n].tagName)return!0;return!1}function A(e,t,n,i){var o,a,l,d,u,c,h,p,g,v,w,y,x,I,E,b,B,L=e.tagName,N=(0,s.extend)({},n,D(e,i.rootAppended));if("hidden"!==N.visibility&&!N[r.HIDDEN_FOR_EXPORT]){switch(t.save(),"image"===L||V(t,N),_(t,N,i),(o=N).strokeOpacity=void 0!==o["stroke-opacity"]?o["stroke-opacity"]:1,o.fillOpacity=void 0!==o["fill-opacity"]?o["fill-opacity"]:1,void 0!==o.opacity&&(o.strokeOpacity*=o.opacity,o.fillOpacity*=o.opacity),t.beginPath(),e.tagName){case void 0:a=t,l=N,d=i,O(a,l),P(a,l,d),l.text&&a.fillText(l.text,l.x||0,l.y||0),M(a,l,!0),function(e,t,n){if(t.textDecoration&&"none"!==t.textDecoration){var i=t.x,o=e.measureText(t.text).width,a=parseInt(t.fontSize,10),r=.05*a<1?1:.05*a,l=t.y;switch(t.textDecoration){case"line-through":l-=a/3+r/2;break;case"overline":l-=a-r;break;case"underline":l+=r}e.rect(i,l,o,r),k(e,t,n),M(e,t)}}(a,l,d);break;case"text":case"tspan":!function e(t,n,i,o){for(var a,r=[],l=0,d=0;d<t.length;d++){var u=t[d];if(void 0===u.tagName)A(u,n,i,o);else if("tspan"===u.tagName||"text"===u.tagName){var c=D(u,o.rootAppended),h=(0,s.extend)({},i,c);if("tspan"===u.tagName&&F(u)){e(u.childNodes,n,h,o);continue}h.textAlign="start",a&&void 0===c.x||(a={elements:[],options:[],widths:[],offsets:[]},r.push(a)),void 0!==c.y&&(l=0),void 0!==c.dy&&(l+=parseFloat(c.dy)),a.elements.push(u),a.options.push(h),a.offsets.push(l),O(n,h),a.widths.push(n.measureText(h.text).width)}}r.forEach(function(t){var a=t.widths.reduce(function(e,t){return e+t},0),r=0,l=0;"center"===i.textAlign&&(r=a/2),"end"===i.textAlign&&(r=a),t.options.forEach(function(e,n){var i=t.widths[n];e.x=e.x-r+l,e.y+=t.offsets[n],l+=i}),t.elements.forEach(function(i,a){e(i.childNodes,n,t.options[a],o)})})}(e.childNodes,t,N,i);break;case"image":B=(u=t,c=N,h=i,p=new f.Deferred,(g=new m.Image).onload=function(){u.save(),u.globalAlpha=c.globalAlpha,V(u,c),_(u,c,h),u.drawImage(g,c.x||0,c.y||0,c.width,c.height),u.restore(),p.resolve()},g.onerror=function(){p.resolve()},g.setAttribute("crossOrigin","anonymous"),g.src=c.href||c["xlink:href"],p);break;case"path":!function(e,t){var n,i,o,a=t.replace(/,/g," ").split(/([A-Z])/i).filter(function(e){return""!==e.trim()}),r=0;do switch(n=(a[r+1]||"").trim().split(" "),a[r]){case"M":e.moveTo(S(n[0]),S(n[1])),r+=2;break;case"L":for(var l=0;l<n.length/2;l++)e.lineTo(S(n[2*l]),S(n[2*l+1]));r+=2;break;case"C":e.bezierCurveTo(S(n[0]),S(n[1]),S(n[2]),S(n[3]),S(n[4]),S(n[5])),r+=2;break;case"a":T(S(i[(o=(i=a[r-1].trim().split(" ")).length-1)-1]),S(i[o]),S(i[o-1])+S(n[5]),S(i[o])+S(n[6]),S(n[0]),S(n[3]),S(n[4]),e),r+=2;break;case"A":T(S(i[(o=(i=a[r-1].trim().split(" ")).length-1)-1]),S(i[o]),S(n[5]),S(n[6]),S(n[0]),S(n[3]),S(n[4]),e),r+=2;break;case"Z":e.closePath(),r+=1;break;default:r++}while(r<a.length)}(t,N.d);break;case"rect":v=t,y=(w=N).x,x=w.y,I=w.width,E=w.height,(b=w.rx)?(b=$(b,I/2,E/2),v.save(),v.translate(y,x),v.moveTo(I/2,0),v.arcTo(I,0,I,E,b),v.arcTo(I,E,0,E,b),v.arcTo(0,E,0,0,b),v.arcTo(0,0,b,0,b),v.lineTo(I/2,0),v.restore()):v.rect(y,x,I,E),t.closePath();break;case"circle":t.arc(N.cx,N.cy,N.r,0,2*C,1)}return"text"===L||"tspan"===L||void 0===L||(P(t,N,i),k(t,N,i),M(t,N)),function(e,t,n,i){var o=n.gradients;if(0!==o.length){var a=R(t.fill);if(a&&o[a]){var r=i.getBBox(),l=e.createLinearGradient(r.x,0,r.x+r.width,0);o[a].forEach(function(e){var t=parseInt(e.offset.replace(/%/,""));l.addColorStop(t/100,e.stopColor)}),e.globalAlpha=t.opacity,e.fillStyle=l,e.fill()}}}(t,N,i,e),t.restore(),B}}function P(e,t,n){var i,o=R(t.filter);o&&((i=n.filters[o])||(i={offsetX:0,offsetY:0,blur:0,color:"#000"}),e.shadowOffsetX=i.offsetX,e.shadowOffsetY=i.offsetY,e.shadowColor=i.color,e.shadowBlur=i.blur)}function V(e,t){e.translate(t.translateX||0,t.translateY||0),t.translateX=void 0,t.translateY=void 0,t.rotationAngle&&(e.translate(t.rotationX||0,t.rotationY||0),e.rotate(t.rotationAngle*C/180),e.translate(-(t.rotationX||0),-(t.rotationY||0)),t.rotationAngle=void 0,t.rotationX=void 0,t.rotationY=void 0),isFinite(t.scaleX)&&(e.scale(t.scaleX,t.scaleY),t.scaleX=void 0,t.scaleY=void 0)}function _(e,t,n){t["clip-path"]&&(A(n.clipPaths[R(t["clip-path"])],e,{},n),e.clip(),t["clip-path"]=void 0)}function B(e,t,n,i){return function e(t,n){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new f.Deferred,o=0;o<t.length;o++){var r=n(t[o]);if((0,a.isPromise)(r)){r.then(function(){e(Array.prototype.slice.call(t,o+1),n,i)});break}}return o===t.length&&i.resolve(),i}(e,function(e){switch(e.tagName&&e.tagName.toLowerCase()){case"g":case"svg":var r,d,u,c,h,f,p=(0,s.extend)({},n,D(e,i.rootAppended));t.save(),V(t,p),_(t,p,i);var g=function(){t.restore()},m=B(e.childNodes,t,p,i);return(0,a.isPromise)(m)?m.then(g):g(),m;case"defs":return B(e.childNodes,t,{},i);case"clippath":i.clipPaths[e.attributes.id.textContent]=e.childNodes[0];break;case"pattern":i.patterns[e.attributes.id.textContent]=e;break;case"filter":i.filters[e.id]=(r=e,c={},(0,l.each)(r.childNodes,function(e,t){var n,i,a,r=t.attributes;if(r.result)switch(r.result.value){case"gaussianBlurResult":c.blur=S(r.stdDeviation.value);break;case"offsetResult":c.offsetX=S(r.dx.value),c.offsetY=S(r.dy.value);break;case"floodResult":d=r["flood-color"]?r["flood-color"].value:"#000",u=r["flood-opacity"]?r["flood-opacity"].value:1,c.color=(n=d,i=u,"rgba("+(a=new o.default(n)).r+","+a.g+","+a.b+","+i+")")}}),c);break;case"lineargradient":i.gradients[e.attributes.id.textContent]=(h=e,f=[],(0,l.each)(h.childNodes,function(e,t){var n=t.attributes;f.push({offset:n.offset.value,stopColor:n["stop-color"].value})}),f);break;default:return A(e,t,n,i)}})}function M(e,t,n){var i,o,a,r=t.stroke;r&&"none"!==r&&0!==t["stroke-width"]&&(i=e,(a=(o=t)["stroke-dasharray"]&&o["stroke-dasharray"].match(/(\d+)/g))&&a.length&&(a=(0,l.map)(a,function(e){return S(e)}),i.setLineDash(a)),e.lineJoin=t["stroke-linejoin"],e.lineWidth=t["stroke-width"],e.globalAlpha=t.strokeOpacity,e.strokeStyle=r,n?e.strokeText(t.text,t.x,t.y):e.stroke(),e.globalAlpha=1)}function k(e,t,n){var i=t.fill;if(i&&"none"!==i){if(-1===i.search(/url/))e.fillStyle=i;else{var o,a,r,l,s,d,u=n.patterns[R(i)];if(!u)return;e.fillStyle=(o=e,a=u,l=D(a,(r=n).rootAppended),d=(s=N._createCanvas(l.width,l.height,0)).getContext("2d"),B(a.childNodes,d,l,r),o.createPattern(s,"repeat"))}e.globalAlpha=t.fillOpacity,e.fill(),e.globalAlpha=1}}function L(e,t,n){return B(e.childNodes,t.getContext("2d"),{},{clipPaths:{},patterns:{},filters:{},gradients:{},rootAppended:n})}g=function(e){var t,n={};return(0,l.each)(e,function(e,i){isFinite(t=i.textContent)&&(t=S(t)),n[i.name.toLowerCase()]=t}),n};var N={getImageData:function(e,t){var n,i,o,l,s,c,h,p,v,C,$,w,y,x,I,E,b,S,T,D="image/"+t.format;return(0,a.isFunction)(t.__parseAttributesFn)&&(g=t.__parseAttributesFn),(n=e,o=(i=t).width,l=i.height,s=i.backgroundColor,c=i.margin,h=i.svgToCanvas,p=W(o,l),(C=(v=N._createCanvas(p.width,p.height,c)).getContext("2d")).setTransform(p.pixelRatio,0,0,p.pixelRatio,0,0),w=(0,r.getSvgElement)(n),y=d.default.isElementNode(n),C.translate(c,c),d.default.getBody().appendChild(v),y||(($=((x=d.default.createElement("div")).style.left="-9999px",x.style.position="absolute",x)).appendChild(w),d.default.getBody().appendChild($)),w.attributes.direction&&(v.dir=w.attributes.direction.textContent),I=C,E=o,b=l,S=s,T=c,I.fillStyle=S||"#ffffff",I.fillRect(-T,-T,E+2*T,b+2*T),(0,f.fromPromise)((void 0===h?L:h)(w,v,y&&(0,u.contains)(d.default.getBody(),n))).then(function(){return v}).always(function(){$&&d.default.getBody().removeChild($),d.default.getBody().removeChild(v)})).then(function(e){var t,n,i;return t=e,n=D,i=t.toDataURL(n,1),m.atob(i.substring(("data:"+n+";base64,").length))})},getData:function(e,t){var n=this;return N.getImageData(e,t).then(function(e){var i="image/"+t.format;return(0,a.isFunction)(m.Blob)&&!t.forceProxy?n._getBlob(e,i):n._getBase64(e)})},_getBlob:function(e,t){var n,i=new Uint8Array(e.length);for(n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return new m.Blob([i.buffer],{type:t})},_getBase64:function(e){return m.btoa(e)},_createCanvas:function(e,t,n){var o=(0,i.default)("<canvas>")[0];return o.width=e+2*n,o.height=t+2*n,o.hidden=!0,o}};function W(e,t){var n=m.devicePixelRatio||1;return{pixelRatio:n,width:e*n,height:t*n}}t.imageCreator=N},54253(e,t,n){t.Export=void 0;var i=n(4964),o=n(68841),a=u(n(89019)),r=u(n(84396)),l=u(n(38306)),s=n(73126),d=n(65252);function u(e){return e&&e.__esModule?e:{default:e}}t.Export={getFullOptions:function(e){var t=(0,o.extend)({},e);if(!(0,i.isDefined)(t.jsPDFDocument)||!(0,i.isObject)(t.jsPDFDocument))throw Error('The "jsPDFDocument" field must contain a jsPDF instance.');if(!(0,i.isDefined)(t.jsPDFDocument.autoTable)||!(0,i.isFunction)(t.jsPDFDocument.autoTable))throw Error('The "exportDataGrid" method requires a autoTable plugin for jsPDF object.');if((0,i.isDefined)(t.keepColumnWidths)||(t.keepColumnWidths=!0),(0,i.isDefined)(t.autoTableOptions)){if(!(0,i.isObject)(t.autoTableOptions))throw Error('The "autoTableOptions" option must be of object type.');t.autoTableOptions=(0,o.extend)(!0,{},this._getDefaultAutoTableOptions(),t.autoTableOptions)}else t.autoTableOptions=this._getDefaultAutoTableOptions();return(0,i.isDefined)(t.loadPanel)||(t.loadPanel={}),(0,i.isDefined)(t.loadPanel.enabled)||(t.loadPanel.enabled=!0),(0,i.isDefined)(t.loadPanel.text)||(t.loadPanel.text=l.default.format("dxDataGrid-exporting")),t},_getDefaultAutoTableOptions:function(){return{theme:"plain",tableLineColor:149,tableLineWidth:.1,styles:{textColor:51,lineColor:149,lineWidth:0},columnStyles:{},headStyles:{fontStyle:"normal",textColor:149,lineWidth:.1},bodyStyles:{lineWidth:.1},head:[],body:[]}},export:function(e){var t,n,o=this,a=e.jsPDFDocument,r=e.autoTableOptions,l=e.component,u=e.customizeCell,c=e.keepColumnWidths,h=e.selectedRowsOnly,f=e.loadPanel,p=(null===(t=l._getInternalInstance)||void 0===t?void 0:t.call(l))||l,g=p.option("loadPanel")&&p.option("loadPanel").enabled;if(g&&l.option("loadPanel.enabled",!1),f.enabled&&(0,d.hasWindow)()){var m=l.getView("rowsView");(n=new s.ExportLoadPanel(l,m.element(),m.element().parent(),f)).show()}var v=l.getDataProvider(h),C=!!l.option("wordWrapEnabled");return new Promise(function(e){v.ready().done(function(){var t=v.getColumns(),n=v.getStyles(),l=v.getRowsCount(),s=v.getHeaderRowCount(),d=[];if(c){var h=o._tryGetPdfColumnWidths(r.tableWidth,v.getColumnsWidths());(0,i.isDefined)(h)&&(0,i.isDefined)(r.columnStyles)&&o._setColumnWidths(r.columnStyles,h)}for(var f=0;f<l;f++){for(var p=[],g=0;g<t.length;g++){var m,$,w=v.getCellData(f,g,!0),y=w.value,x=w.cellSourceData,I=n[v.getStyleId(f,g)],E={content:o._getFormattedValue(y,I.format),styles:o._getPDFCellStyles(x.rowType,t[g].alignment,I,C)};if("header"===x.rowType){var b=o._tryGetMergeRange(f,g,d,v);b&&b.rowSpan>0&&(E.rowSpan=b.rowSpan+1),b&&b.colSpan>0&&(E.colSpan=b.colSpan+1),(!(d[f]&&d[f][g])||E.rowSpan>1||E.colSpan>1)&&((0,i.isFunction)(u)&&u({gridCell:x,pdfCell:E}),p.push(E))}else"group"!==x.rowType||(0,i.isDefined)(E.content)||1!==p.length?(E.content=null!==(m=E.content)&&void 0!==m?m:"",(0,i.isFunction)(u)&&u({gridCell:x,pdfCell:E}),p.push(E)):(p[0].colSpan=null!==($=p[0].colSpan)&&void 0!==$?$:1,p[0].colSpan++)}f<s?r.head.push(p):r.body.push(p)}a.autoTable(r),e()}).always(function(){g&&l.option("loadPanel.enabled",g),f.enabled&&(0,d.hasWindow)()&&n.dispose()})})},_getFormattedValue:function(e,t){if((0,i.isDefined)(t)){if((0,i.isDate)(e))return a.default.format(e,t);if((0,i.isNumeric)(e))return r.default.format(e,t)}return e},_getPDFCellStyles:function(e,t,n,i){var o=n.alignment,a=n.bold,r="header"===e?t:o,l={};return r&&(l.halign=r),a&&"header"!==e&&(l.fontStyle="bold"),i&&(l.cellWidth="wrap"),l},_tryGetMergeRange:function(e,t,n,i){if(!n[e]||!n[e][t]){var o=i.getCellMerging(e,t),a=o.colspan,r=o.rowspan;if(a||r){for(var l=e;l<=e+r;l++)for(var s=t;s<=t+a;s++)n[l]||(n[l]=[]),n[l][s]=!0;return{rowSpan:r,colSpan:a}}}},_tryGetPdfColumnWidths:function(e,t){if((0,i.isNumeric)(e)&&(0,i.isDefined)(t)){var n=t.reduce(function(e,t){return e+t},0);return t.map(function(t){return e*t/n})}},_setColumnWidths:function(e,t){t.forEach(function(t,n){e[n]=e[n]||{},e[n].cellWidth=t})}}},68183(e,t,n){t.exportDataGrid=function(e){return o.Export.export(function(e){if(!(0,i.isDefined)(e)||!(0,i.isObject)(e))throw Error('The "exportDataGrid" method requires a configuration object.');if(!(0,i.isDefined)(e.component)||!(0,i.isObject)(e.component)||"dxDataGrid"!==e.component.NAME)throw Error('The "component" field must contain a DataGrid instance.');return(0,i.isDefined)(e.selectedRowsOnly)||(e.selectedRowsOnly=!1),o.Export.getFullOptions(e)}(e))};var i=n(4964),o=n(54253)},33925(e,t,n){t.addNewPage=function(e){var t;e.addPage(),t=e,(0,i.isDefined)(t.getLineWidth)||(t.__borderWidth=null)},t.drawCellsContent=function(e,t,n,a){n.forEach(function(n){var l,d,h,f=n._rect,g=n.gridCell,m=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(n,r),v=f.x,C=f.y,$={doc:e,rect:{x:v,y:C,w:f.w,h:f.h},pdfCell:m,gridCell:g,cancel:!1};null==t||t($),$.cancel||(l=e,d=n,(0,i.isDefined)(d.backgroundColor)&&(p(l,"fill",d.backgroundColor),u(l,d._rect.x,d._rect.y,d._rect.w,d._rect.h,"F")),function(e,t,n){if((0,i.isDefined)(t.text)&&""!==t.text){var a,r,l,d,u,h,f,g,m,v,C,$,w=t.textColor,y=t.font,x=t._rect,I=t.padding;h=e,f={textColor:w,font:y},g=n,m=f.textColor,v=f.font,p(h,"text",(0,i.isDefined)(m)?m:g.textColor),C=(0,i.isDefined)(v)?(0,o.extend)({},g.font,v):g.font,$=h.getFont(),(C.name!==$.fontName||C.style!==$.fontStyle||(0,i.isDefined)(C.weight))&&h.setFont(C.name,C.style,C.weight),C.size!==h.getFontSize()&&h.setFontSize(C.size);var E,b,S={x:x.x+I.left,y:x.y+I.top,w:x.w-(I.left+I.right),h:x.h-(I.top+I.bottom)};((0,i.isDefined)(t._textLeftOffset)||(0,i.isDefined)(t._textTopOffset))&&(S.x=S.x+(null!==(E=t._textLeftOffset)&&void 0!==E?E:0),S.y=S.y+(null!==(b=t._textTopOffset)&&void 0!==b?b:0),e.saveGraphicsState(),a=e,r=t._rect.x,l=t._rect.y,d=t._rect.w,u=t._rect.h,a.moveTo(s(r),s(l)),a.lineTo(s(r+d),s(l)),a.lineTo(s(r+d),s(l+u)),a.lineTo(s(r),s(l+u)),a.clip(),a.discardPath()),c(e,t.text,S,t.verticalAlign,t.horizontalAlign,t._internalTextOptions),((0,i.isDefined)(t._textLeftOffset)||(0,i.isDefined)(t._textTopOffset))&&e.restoreGraphicsState()}}(e,n,a))})},t.drawCellsLines=function(e,t,n){t.filter(function(e){return!(0,i.isDefined)(e.borderColor)}).forEach(function(t){h(e,t._rect,t,n)}),t.filter(function(e){return(0,i.isDefined)(e.borderColor)}).forEach(function(t){h(e,t._rect,t,n)})},t.drawGridLines=function(e,t,n,i){h(e,t,n,i)},t.drawLine=d,t.drawRect=u,t.drawTextInRect=c,t.getDocumentStyles=function(e){var t=e.getFont();return{borderWidth:g(e),borderColor:e.getDrawColor(),font:{name:t.fontName,style:t.fontStyle,size:e.getFontSize()},textColor:e.getTextColor()}},t.roundToThreeDecimals=s,t.setDocumentStyles=function(e,t){var n=t.borderWidth,i=t.borderColor,o=t.font,a=t.textColor,r=e.getFont();r.fontName===o.name&&r.fontStyle===o.style||e.setFont(o.name,o.style,void 0),e.getFontSize()!==o.size&&e.setFontSize(o.size),g(e)!==n&&m(e,n),e.getDrawColor()!==i&&e.setDrawColor(i),e.getTextColor()!==a&&e.setTextColor(a)};var i=n(4964),o=n(68841),a=n(34791),r=["_rect","gridCell"];function l(e){return e.charAt(0).toUpperCase()+e.slice(1)}function s(e){return Math.round(1e3*e)/1e3}function d(e,t,n,i,o){e.line(s(t),s(n),s(i),s(o))}function u(e,t,n,o,a,r){(0,i.isDefined)(r)?e.rect(s(t),s(n),s(o),s(a),r):e.rect(s(t),s(n),s(o),s(a))}function c(e,t,n,i,r,l){var d,u=t.split("\n"),c=u.length,h=(0,a.calculateTextHeight)(e,u[0],e.getFont(),{wordWrapEnabled:!1,targetRectWidth:1e9}),f=null!=i?i:"middle",p=null!=r?r:"left",g={top:0,middle:.5,bottom:1},m=n.y+n.h*g[f]-h*(c-1)*g[f]+((d=e).getLineHeightFactor()-1.15)*d.getFontSize(),v=n.x+n.w*({left:0,center:.5,right:1})[p],C=(0,o.extend)({baseline:f,align:p},l);e.text(u.join("\n"),s(v),s(m),C)}function h(e,t,n,o){var a=n.borderWidth,r=n.borderColor,l=n.drawLeftBorder,s=void 0===l||l,c=n.drawRightBorder,h=void 0===c||c,p=n.drawTopBorder,g=void 0===p||p,m=n.drawBottomBorder,v=void 0===m||m;if(!(0,i.isDefined)(t))throw"rect is required";(s||h||g||v)&&(s&&h&&g&&v?(f(e,{borderWidth:a,borderColor:r},o),u(e,t.x,t.y,t.w,t.h)):(f(e,{borderWidth:a,borderColor:r},o),g&&d(e,t.x,t.y,t.x+t.w,t.y),s&&d(e,t.x,t.y,t.x,t.y+t.h),h&&d(e,t.x+t.w,t.y,t.x+t.w,t.y+t.h),v&&d(e,t.x,t.y+t.h,t.x+t.w,t.y+t.h)))}function f(e,t,n){var o=t.borderWidth,r=t.borderColor,l=(0,i.isDefined)(o)?o:n.borderWidth;l!==g(e)&&m(e,(0,a.toPdfUnit)(e,l)),p(e,"draw",(0,i.isDefined)(r)?r:n.borderColor)}function p(e,t,n){var i="get".concat(l(t),"Color"),o="set".concat(l(t),"Color"),a=n.ch1,r=void 0===a?n:a,s=n.ch2,d=n.ch3,u=n.ch4;e.__private__.decodeColorString(e.__private__.encodeColorString({ch1:r,ch2:s,ch3:d,ch4:u,precision:"text"===t?3:2}))===e[i]()&&"fill"!==t||e[o].apply(e,[r,s,d,u].filter(function(e){return void 0!==e}))}function g(e){var t;return(0,i.isDefined)(e.getLineWidth)?e.getLineWidth():null!==(t=e.__borderWidth)&&void 0!==t?t:.200025}function m(e,t){e.setLineWidth(t),(0,i.isDefined)(e.getLineWidth)||(e.__borderWidth=t)}},55977(e,t,n){t.Export=void 0;var i,o=n(4964),a=n(68841),r=n(27502),l=n(18265),s=n(25122),d=n(45535),u=n(71725),c=n(33925),h=n(34791),f=(i=n(38306))&&i.__esModule?i:{default:i},p=n(73126),g=n(65252);function m(){return(m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}t.Export={getFullOptions:function(e){var t=e.jsPDFDocument,n=(0,a.extend)({},e);return(0,o.isDefined)(n.topLeft)||(n.topLeft={x:0,y:0}),(0,o.isDefined)(n.indent)||(n.indent=0),(0,o.isDefined)(n.repeatHeaders)||(n.repeatHeaders=!0),(0,o.isDefined)(n.margin)||(n.margin=(0,h.toPdfUnit)(t,40)),n.margin=(0,r.normalizeBoundaryValue)(n.margin),Array.isArray(n.columnWidths)||(n.columnWidths=[]),(0,o.isDefined)(n.loadPanel)||(n.loadPanel={}),(0,o.isDefined)(n.loadPanel.enabled)||(n.loadPanel.enabled=!0),(0,o.isDefined)(n.loadPanel.text)||(n.loadPanel.text=f.default.format("dxDataGrid-exporting")),n},export:function(e){var t,n,i=e.jsPDFDocument,a=e.component,f=e.selectedRowsOnly,v=e.loadPanel,C=(null===(t=a._getInternalInstance)||void 0===t?void 0:t.call(a))||a,$=C.option("loadPanel")&&C.option("loadPanel").enabled;if($&&a.option("loadPanel.enabled",!1),v.enabled&&(0,g.hasWindow)()){var w=a.getView("rowsView");(n=new p.ExportLoadPanel(a,w.element(),w.element().parent(),v)).show()}var y=a.getDataProvider(f);return new Promise(function(t){y.ready().done(function(){var n,f,p=(0,d.generateRowsInfo)(i,y,a,null===(n=e.rowOptions)||void 0===n||null===(f=n.headerStyles)||void 0===f?void 0:f.backgroundColor);e.customizeCell&&p.forEach(function(t){return t.cells.forEach(function(t){return e.customizeCell(t)})}),(0,r.normalizeRowsInfo)(p),(0,l.initializeCellsWidth)(i,y,p,e),(0,l.resizeFirstColumnByIndentLevel)(p,e),(0,l.applyColSpans)(p),(0,l.calculateHeights)(i,p,e),(0,l.applyRowSpans)(p),(0,s.updateRowsAndCellsHeights)(i,p),(0,l.calculateCoordinates)(i,p,e),(0,l.applyBordersConfig)(p),(0,h.applyWordWrap)(i,p);var g=(0,c.getDocumentStyles)(i),v=!!a.option("rtlEnabled"),C=(0,u.splitByPages)(i,p,e,function(e){var t,n=e.sourceRect,a=e.leftRect,r=e.rightRect,l={},s={};if((null===(t=n.sourceCellInfo.text)||void 0===t?void 0:t.length)>0){if(v){var d,u,c,h,f,p,g=i.getTextWidth(n.sourceCellInfo.text)>a.w,C=!(0,o.isDefined)(n.sourceCellInfo.horizontalAlign)||"right"===n.sourceCellInfo.horizontalAlign;g||!C?("right"===(null===(d=n.sourceCellInfo)||void 0===d?void 0:d.horizontalAlign)?f=(h=null!==(p=n.sourceCellInfo._textLeftOffset)&&void 0!==p?p:0)+a.w:"center"===(null===(u=n.sourceCellInfo)||void 0===u?void 0:u.horizontalAlign)?h=(f=n.x+n.w-(r.x+r.w)+n.sourceCellInfo._rect.w/2-a.w/2)-r.w:"left"===(null===(c=n.sourceCellInfo)||void 0===c?void 0:c.horizontalAlign)&&(h=(f=n.x+n.w-(r.x+r.w))-r.w),l=m({},{_textLeftOffset:h}),s=m({},{_textLeftOffset:f})):s=m({},{text:""})}else{var $=i.getTextWidth(n.sourceCellInfo.text)>a.w,w=!(0,o.isDefined)(n.sourceCellInfo.horizontalAlign)||"left"===n.sourceCellInfo.horizontalAlign;if($||!w){if("left"===(null===(y=n.sourceCellInfo)||void 0===y?void 0:y.horizontalAlign))b=(E=null!==(S=n.sourceCellInfo._textLeftOffset)&&void 0!==S?S:0)-a.w;else if("center"===(null===(x=n.sourceCellInfo)||void 0===x?void 0:x.horizontalAlign)){var y,x,I,E,b,S,T,D=null!==(T=n.sourceCellInfo._textLeftOffset)&&void 0!==T?T:0;E=D+(n.x+n.w/2)-(a.x+a.w/2),b=D+(n.x+n.w/2)-(r.x+r.w/2)}else"right"===(null===(I=n.sourceCellInfo)||void 0===I?void 0:I.horizontalAlign)&&(E=n.x+n.w-(a.x+a.w),b=n.x+n.w-(r.x+r.w));l=m({},{_textLeftOffset:E}),s=m({},{_textLeftOffset:b})}else s=m({},{text:""})}}a.sourceCellInfo=m({},n.sourceCellInfo,{debugSourceCellInfo:n.sourceCellInfo},l),r.sourceCellInfo=m({},n.sourceCellInfo,{debugSourceCellInfo:n.sourceCellInfo},s)},function(e){var t,n=e.sourceRect,o=e.topRect,a=e.bottomRect,r={},l={};if((null===(t=n.sourceCellInfo.text)||void 0===t?void 0:t.length)>0){var s,d=i.getTextDimensions(n.sourceCellInfo.text).h>o.h,u="top"===(null===(s=n.sourceCellInfo)||void 0===s?void 0:s.verticalAlign);if(d||!u){if("top"===(null===(c=n.sourceCellInfo)||void 0===c?void 0:c.verticalAlign))g=(p=null!==(v=n.sourceCellInfo._textTopOffset)&&void 0!==v?v:0)-o.h;else if("middle"===(null===(h=n.sourceCellInfo)||void 0===h?void 0:h.verticalAlign)){var c,h,f,p,g,v,C,$=null!==(C=n.sourceCellInfo._textTopOffset)&&void 0!==C?C:0;p=$+(n.y+n.h/2)-(o.y+o.h/2),g=$+(n.y+n.h/2)-(a.y+a.h/2)}else"bottom"===(null===(f=n.sourceCellInfo)||void 0===f?void 0:f.verticalAlign)&&(p=n.y+n.h-(o.y+o.h),g=n.y+n.h-(a.y+a.h));r=m({},{_textTopOffset:p}),l=m({},{_textTopOffset:g})}else l=m({},{text:""})}o.sourceCellInfo=m({},n.sourceCellInfo,{debugSourceCellInfo:n.sourceCellInfo},r),a.sourceCellInfo=m({},n.sourceCellInfo,{debugSourceCellInfo:n.sourceCellInfo},l)});v&&(0,h.applyRtl)(i,C,e),C.forEach(function(t,n){if(n>0&&(0,c.addNewPage)(i),(0,c.drawCellsContent)(i,e.customDrawCell,t,g),(0,c.drawCellsLines)(i,t,g),(0,o.isDefined)(t)&&0===t.length){var a=(0,l.calculateTableSize)(i,t,e),r=(0,d.getBaseTableStyle)();(0,c.drawGridLines)(i,a,r,g)}}),(0,c.setDocumentStyles)(i,g),t()}).always(function(){$&&a.option("loadPanel.enabled",$),v.enabled&&(0,g.hasWindow)()&&n.dispose()})})}}},25122(e,t,n){t.updateRowsAndCellsHeights=function(e,t){var n,r,l,s,d,u=(n=e,d=Array.from({length:(r=t).length},function(){return 0}),(l=r,s=function(e){var t=e.cells.map(function(e){var t;return null!==(t=e.rowSpan)&&void 0!==t?t:0});return Math.max.apply(Math,a(t))},a(l).sort(function(e,t){var n=s(e),i=s(t);return n>i?1:i>n?-1:0})).forEach(function(e){e.cells.filter(function(e){return(0,i.isDefined)(e.rowSpan)}).forEach(function(t){var i=(0,o.calculateTargetRectWidth)(t.pdfCell._rect.w,t.pdfCell.padding),a=(0,o.calculateTextHeight)(n,t.pdfCell.text,t.pdfCell.font,{wordWrapEnabled:t.pdfCell.wordWrapEnabled,targetRectWidth:i})+t.pdfCell.padding.top+t.pdfCell.padding.bottom,l=t.rowSpan+1,s=r.slice(e.rowIndex,e.rowIndex+l).reduce(function(e,t){return e+t.height+d[t.rowIndex]},0);if(a>s)for(var u=(a-s)/l,c=e.rowIndex;c<e.rowIndex+l;c++)d[c]+=u})}),d);t.forEach(function(e){e.height+=u[e.rowIndex]}),t.forEach(function(e){e.cells.forEach(function(n){var i,o=(null!==(i=n.rowSpan)&&void 0!==i?i:0)+1;n.pdfCell._rect.h=t.slice(e.rowIndex,e.rowIndex+o).reduce(function(e,t){return e+t.height},0)})})};var i=n(4964),o=n(34791);function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}},27502(e,t,n){t.normalizeBoundaryValue=o,t.normalizeRowsInfo=function(e){e.forEach(function(e){e.cells.forEach(function(e){var t=e.pdfCell;t.padding=o(t.padding)})})};var i=n(4964);function o(e){var t,n,o,a;return(0,i.isNumeric)(e)?{top:e,right:e,bottom:e,left:e}:{top:null!==(t=null==e?void 0:e.top)&&void 0!==t?t:0,right:null!==(n=null==e?void 0:e.right)&&void 0!==n?n:0,bottom:null!==(o=null==e?void 0:e.bottom)&&void 0!==o?o:0,left:null!==(a=null==e?void 0:e.left)&&void 0!==a?a:0}}},34791(e,t,n){t.applyRtl=function(e,t,n){t.forEach(function(t){t.forEach(function(t){var i=o(e)-(t._rect.x+t._rect.w),a=n.margin.left-n.margin.right;t._rect.x=i+a})})},t.applyWordWrap=function(e,t){t.forEach(function(t){t.cells.forEach(function(t){var n=t.pdfCell;if((0,i.isDefined)(n.text)){var o=a(e,n.text,n.font,{wordWrapEnabled:n.wordWrapEnabled,targetRectWidth:r(n._rect.w,n.padding)});n.text=o.join("\n")}})})},t.calculateRowHeight=function(e,t,n){if(t.length!==n.length)throw"the cells count must be equal to the count of the columns";for(var o=0,a=0;a<t.length;a++)if(!(0,i.isDefined)(t[a].rowSpan)){var l=t[a].pdfCell.text,d=t[a].pdfCell.padding,u=t[a].pdfCell.font,c=t[a].pdfCell.wordWrapEnabled,h=r(n[a],d);if((0,i.isDefined)(l)){var f=(""!==l?s(e,l,u,{wordWrapEnabled:c,targetRectWidth:h}):0)+d.top+d.bottom;o<f&&(o=f)}}return o},t.calculateTargetRectWidth=r,t.calculateTextHeight=s,t.getPageHeight=function(e){return e.internal.pageSize.getHeight()},t.getPageWidth=o,t.getTextDimensions=l,t.getTextLines=a,t.toPdfUnit=function(e,t){return t*(1/e.internal.scaleFactor)};var i=n(4964);function o(e){return e.internal.pageSize.getWidth()}function a(e,t,n,i){var o=i.wordWrapEnabled,a=i.targetRectWidth;if(o){var r=e.getFont(null==n?void 0:n.name,null==n?void 0:n.style);return e.splitTextToSize(t,a,{fontSize:(null==n?void 0:n.size)||e.getFontSize(),fontName:r.fontName,fontStyle:r.fontStyle})}var s=t.split("\n").filter(function(e){return""!==e}).join(" ");if(l(e,s,n).w<=a)return[s];for(var d=l(e,s+"...",n).w;s.length>0&&d>a;){var u=0;d>=2*a&&(u=s.length/2),u<1&&(u=1),d=l(e,(s=s.substring(0,s.length-u))+"...",n).w}return[s+"..."]}function r(e,t){var n=e-(t.left+t.right);return n>=0?n:0}function l(e,t,n){return e.getTextDimensions(t,{font:e.getFont(null==n?void 0:n.name,null==n?void 0:n.style),fontSize:(null==n?void 0:n.size)||e.getFontSize()})}function s(e,t,n,i){var o=i.wordWrapEnabled,r=i.targetRectWidth;return l(e,t,n).h*a(e,t,n,{wordWrapEnabled:o,targetRectWidth:r}).length*e.getLineHeightFactor()}},18265(e,t,n){t.applyBordersConfig=function(e){for(var t=0;t<e.length;t++)for(var n=e[t].cells,o=0;o<n.length;o++){var a=n[o].pdfCell,r=o>=1?n[o-1].pdfCell:null,l=t>=1?e[t-1].cells[o].pdfCell:null;!1!==a.drawLeftBorder||(0,i.isDefined)(n[o].colSpan)?(0,i.isDefined)(a.drawLeftBorder)||(0,i.isDefined)(r)&&!1===r.drawRightBorder&&(a.drawLeftBorder=!1):(0,i.isDefined)(r)&&(r.drawRightBorder=!1),!1===a.drawTopBorder?(0,i.isDefined)(l)&&(l.drawBottomBorder=!1):(0,i.isDefined)(a.drawTopBorder)||(0,i.isDefined)(l)&&!1===l.drawBottomBorder&&(a.drawTopBorder=!1)}},t.applyColSpans=function(e){for(var t=0;t<e.length;t++)for(var n=e[t],o=0;o<n.cells.length;o++){var a=n.cells[o];if((0,i.isDefined)(a.colSpan)&&!(0,i.isDefined)(a.pdfCell.isMerged))for(var r=1;r<=a.colSpan;r++){var l=e[t].cells[o+r];a.pdfCell._rect.w+=l.pdfCell._rect.w,l.pdfCell._rect.w=0,l.pdfCell.isMerged=!0}}},t.applyRowSpans=function(e){for(var t=0;t<e.length;t++)for(var n=e[t],o=0;o<n.cells.length;o++){var a=n.cells[o];if((0,i.isDefined)(a.rowSpan)&&!(0,i.isDefined)(a.pdfCell.isMerged))for(var r=1;r<=a.rowSpan;r++){var l=e[t+r].cells[o];a.pdfCell._rect.h+=l.pdfCell._rect.h,l.pdfCell._rect.h=0,l.pdfCell.isMerged=!0}}},t.calculateCoordinates=function(e,t,n){var i,o=null==n?void 0:n.topLeft,a=null==n?void 0:n.margin,r=(null!==(i=null==o?void 0:o.y)&&void 0!==i?i:0)+a.top;t.forEach(function(e){var t,i=(null!==(t=null==o?void 0:o.x)&&void 0!==t?t:0)+a.left,l=e.indentLevel*n.indent;e.cells.forEach(function(e){e.pdfCell._rect.x=i+l,e.pdfCell._rect.y=r,i+=e.pdfCell._rect.w}),r+=e.height})},t.calculateHeights=function(e,t,n){t.forEach(function(t){var a,r=t.cells.map(function(e){return e.pdfCell});if(n.onRowExporting){var l={rowCells:r};n.onRowExporting(l),(0,i.isDefined)(l.rowHeight)&&(a=l.rowHeight)}t.height=(0,i.isDefined)(a)?a:(0,o.calculateRowHeight)(e,t.cells,r.map(function(e){return e._rect.w})),r.forEach(function(e){e._rect.h=t.height})})},t.calculateTableSize=function(e,t,n){t.forEach(function(e){(!(0,i.isDefined)(u)||u>e._rect.x)&&(u=e._rect.x),(!(0,i.isDefined)(c)||c>e._rect.y)&&(c=e._rect.y),(!(0,i.isDefined)(h)||h<e._rect.x+e._rect.w)&&(h=e._rect.x+e._rect.w),(!(0,i.isDefined)(f)||f<e._rect.y+e._rect.h)&&(f=e._rect.y+e._rect.h)});var o,a,r,l,s,d,u,c,h,f,p=null!==(o=null!==(a=u)&&void 0!==a?a:null==n||null===(r=n.topLeft)||void 0===r?void 0:r.x)&&void 0!==o?o:0,g=null!==(l=null!==(s=c)&&void 0!==s?s:null==n||null===(d=n.topLeft)||void 0===d?void 0:d.y)&&void 0!==l?l:0,m=(0,i.isDefined)(h)?h-p:0,v=(0,i.isDefined)(f)?f-g:0;return{x:p,y:g,w:m,h:v}},t.initializeCellsWidth=function(e,t,n,r){var l,s,d,u,c,h,f,p,g,m,v,C,$,w=(l=e,s=t,d=r.topLeft.x,u=r.margin,c=r.columnWidths,m=(g=s.getColumnsWidths().map(function(e){return(0,o.toPdfUnit)(l,null!=e?e:150)})).filter(function(e,t){return!(0,i.isDefined)(c[t])}).reduce(a,0),v=c.filter(function(e){return(0,i.isNumeric)(e)}).reduce(a,0),C=(h=l,f=d,p=u,(0,o.getPageWidth)(h)-f-p.left-p.right),$=v<C?(C-v)/m:1,g.map(function(e,t){var n;return null!==(n=c[t])&&void 0!==n?n:e*$}));n.forEach(function(e){e.cells.forEach(function(e,t){e.gridCell,e.pdfCell._rect.w=w[t]})})},t.resizeFirstColumnByIndentLevel=function(e,t){e.forEach(function(e){e.cells[0].pdfCell._rect.w-=e.indentLevel*t.indent})};var i=n(4964),o=n(34791),a=function(e,t){return e+t}},45535(e,t,n){t.generateRowsInfo=function(e,t,n,i){for(var o=[],a=t.getRowsCount(),r=!!n.option("wordWrapEnabled"),l=!!n.option("rtlEnabled"),s=t.getColumns(),d=t.getStyles(),c=0;c<a;c++){var h=t.getCellData(c,0,!0).cellSourceData.rowType,f="header"!==h?t.getGroupLevel(c):0,p=o[c-1];"groupFooter"===h&&"groupFooter"===(null==p?void 0:p.rowType)&&(f=p.indentLevel-1),o.push({rowType:h,indentLevel:f,cells:u({doc:e,dataProvider:t,rowIndex:c,wordWrapEnabled:r,columns:s,styles:d,rowType:h,backgroundColor:"header"===h?i:void 0,rtlEnabled:l}),rowIndex:c})}return o},t.getBaseTableStyle=function(){return d.base};var i=n(4964),o=l(n(89019)),a=l(n(84396)),r=n(34791);function l(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var d={base:{font:{size:10},borderWidth:.5,borderColor:"#979797"},header:{textColor:"#979797"},group:{},data:{},groupFooter:{},totalFooter:{}};function u(e){for(var t=e.doc,n=e.dataProvider,o=e.rowIndex,a=e.wordWrapEnabled,l=e.columns,d=e.styles,u=e.rowType,f=e.backgroundColor,p=e.rtlEnabled,g=[],m=0;m<l.length;m++){var v,C=n.getCellData(o,m,!0),$=d[n.getStyleId(o,m)],w=c(l[m],u,$),y=p?"right":"left",x=(0,r.toPdfUnit)(t,5),I={text:h(C.value,$.format),verticalAlign:"middle",horizontalAlign:null!==(v=w.alignment)&&void 0!==v?v:y,wordWrapEnabled:a,backgroundColor:f,padding:{top:x,right:x,bottom:x,left:x},_rect:{},_internalTextOptions:{}};p&&(I._internalTextOptions.isInputVisual=!1,I._internalTextOptions.isOutputVisual=!0,I._internalTextOptions.isInputRtl=!0,I._internalTextOptions.isOutputRtl=!1);var E={gridCell:C.cellSourceData,pdfCell:s({},I,w)};if("header"===u){var b=n.getCellMerging(o,m);b&&b.rowspan>0&&(E.rowSpan=b.rowspan),b&&b.colspan>0&&(E.colSpan=b.colspan)}else if("group"===u){var S=p?"drawRightBorder":"drawLeftBorder",T=p?"drawLeftBorder":"drawRightBorder";if(E.pdfCell[S]=0===m,E.pdfCell[T]=m===l.length-1,m>0){var D=g.slice(1).reduce(function(e,t){return e&&!(0,i.isDefined)(t.pdfCell.text)},!0);if(!(0,i.isDefined)(E.pdfCell.text)&&D){g[0].pdfCell[T]=!0;for(var R=0;R<g.length;R++)g[R].colSpan=g.length;E.colSpan=g.length}}}g.push(E)}return g}function c(e,t,n){var i=s({},d.base,d[t]),o="header"===t?e.alignment:n.alignment;return o&&(i.alignment=o),n.bold&&"header"!==t&&(i.font=s({},i.font,{style:"bold"})),i}function h(e,t){if((0,i.isDefined)(t)){if((0,i.isDate)(e))return o.default.format(e,t);if((0,i.isNumeric)(e))return a.default.format(e,t)}return null==e?void 0:e.toString()}},49557(e,t,n){t.createOnSplitMultiPageRow=void 0;var i=n(34791);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function a(e,t,n){return o({},e,{sourceCellInfo:o({},e.sourceCellInfo,{text:t}),y:n})}t.createOnSplitMultiPageRow=function(e,t,n,o){return function(r,l){var s=[],d=[],u=0,c=0;return l.forEach(function(l){var h=l.w,f=l.sourceCellInfo,p=!r&&t.repeatHeaders?n:n+t.topLeft.y,g=(0,i.getTextDimensions)(e,f.text,f.font).h,m=f.padding.top+f.padding.bottom,v=Math.floor((o.y-p-m-t.margin.top)/(g*e.getLineHeightFactor())),C=(0,i.getTextLines)(e,f.text,f.font,{wordWrapEnabled:f.wordWrapEnabled,targetRectWidth:h});if(v<C.length){var $=C.slice(0,v).join("\n"),w=(0,i.calculateTextHeight)(e,$,f.font,{wordWrapEnabled:f.wordWrapEnabled,targetRectWidth:h});u=Math.max(u,w+m),c=l.h-w,s.push(a(l,$,t.margin.top)),d.push(a(l,C.slice(v).join("\n"),t.margin.top))}else{var y=(0,i.calculateTextHeight)(e,f.text,f.font,{wordWrapEnabled:f.wordWrapEnabled,targetRectWidth:h});u=Math.max(u,y+m),c=Math.max(c,y+m),s.push(a(l,f.text,t.margin.top)),d.push(a(l,"",t.margin.top))}}),s.forEach(function(e){return e.h=u}),d.forEach(function(e){return e.h=c}),[s,d]}}},40234(e,t){function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,l=[],s=!0,d=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(u){d=!0,o=u}finally{try{if(!s&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(d)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}t.getMultiPageRowPages=t.checkPageContainsOnlyHeader=void 0;var a=function(e){return"header"===(null==e?void 0:e.sourceCellInfo.gridCell.rowType)};t.checkPageContainsOnlyHeader=function(e,t){return t&&a(e[e.length-1])},t.getMultiPageRowPages=function(e,t,o,r,l){if(!r)return[];var s=e[e.length-1],d=t[e.length];if(!d||a(d)||l(o,d.h)&&!o)return[];var u=t.filter(function(e){return e.y===d.y}),c=function(e,t,o,a,r){for(var l=i(a(t,e),2),s=l[0],d=l[1],u=[t?s.map(function(e){return n({},e,{y:o})}):s];!r(!1,d[0].h);){var c=i(a(!1,d),2);s=c[0],d=c[1],u.push(s)}return[u,d]}(u,o,s.y+s.h,r,l),h=i(c,2),f=h[0];return function(e,t,n){t.forEach(function(e,t){e.sourceCellInfo.text=n[t].sourceCellInfo.text,e.h=n[t].h});var i=e.indexOf(t[t.length-1])+1;if(!(i>=e.length))for(var o=e[i].y-(t[0].y+n[0].h),a=i;a<e.length;a++)e[a].y=e[a].y-o}(t,u,h[1]),f}},71725(e,t,n){t.splitByPages=function(e,t,n,i,r){if(0===t.length)return[[]];var d={x:(0,o.getPageWidth)(e)-n.margin.right,y:(0,o.getPageHeight)(e)-n.margin.bottom},u=t.filter(function(e){return"header"===e.rowType}),c=u.reduce(function(e,t){return e+t.height},0),g=p(f(t),n.margin.top,"y","h",function(e,t){var i=!e&&n.repeatHeaders?c:0;return(0,a.roundToThreeDecimals)(t+i)<=(0,a.roundToThreeDecimals)(d.y)},function(e,t,n,i){var o={sourceRect:e,topRect:{x:e.x,y:e.y,w:e.w,h:t-e.y},bottomRect:{x:e.x,y:t,w:e.w,h:e.h-(t-e.y)}};r(o),n.push(o.topRect),i.push(o.bottomRect)},(0,l.createOnSplitMultiPageRow)(e,n,c,d));if(n.repeatHeaders)for(var m=1;m<g.length;m++){g[m].forEach(function(e){return e.y+=c});var v=f(u);v.forEach(function(e){e.y-=n.topLeft.y}),g[m]=[].concat(s(v),s(g[m]))}for(var C=0;C<g.length;){var $=p(g[C],n.margin.left,"x","w",function(e,t){return(0,a.roundToThreeDecimals)(t)<=(0,a.roundToThreeDecimals)(d.x)},function(e,t,n,o){var a={sourceRect:e,leftRect:{x:e.x,y:e.y,w:t-e.x,h:e.h},rightRect:{x:t,y:e.y,w:e.w-(t-e.x),h:e.h}};i(a),n.push(a.leftRect),o.push(a.rightRect)});$.length>1?(g.splice.apply(g,[C,1].concat(s($))),C+=$.length):C+=1}return g.map(function(e){return e.map(function(e){return h({},e.sourceCellInfo,{_rect:e})})})};var i=n(4964),o=n(34791),a=n(33925),r=n(40234),l=n(49557);function s(e){return function(e){if(Array.isArray(e))return c(e)}(e)||u(e)||d(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function u(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function f(e){return[].concat.apply([],e.map(function(e){return e.cells.filter(function(e){return!(0,i.isDefined)(e.pdfCell.isMerged)}).map(function(e){return h({},e.pdfCell._rect,{sourceCellInfo:h({},e.pdfCell,{gridCell:e.gridCell})})})}))}function p(e,t,n,o,a,l,c){for(var h=[],f=s(e),p=function(e,n){return a(e,n+t)};f.length>0&&"break"!==function(){var e=0,g=f.filter(function(t){var i=t[n]+t[o];return!!a(0===h.length,i)&&(e<=i&&(e=i),!0)}),m=(0,r.checkPageContainsOnlyHeader)(g,0===h.length),v=(0,r.getMultiPageRowPages)(g,f,m,c,p);if(f.filter(function(t){var i=t[n],a=t[n]+t[o];return e-i>.001&&a-e>.001}).forEach(function(t){l(t,e,g,f);var n=f.indexOf(t);-1!==n&&f.splice(n,1)}),g.forEach(function(e){var t=f.indexOf(e);-1!==t&&f.splice(t,1)}),f.forEach(function(o){o[n]=(0,i.isDefined)(e)?o[n]-e+t:o[n]}),m&&v.length>0){var C,$=function(e){if(Array.isArray(e))return e}(C=v)||u(C)||d(C)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),w=$[0],y=$.slice(1);h.push([].concat(s(g),s(w))),h.push.apply(h,s(y))}else if(g.length>0)h.push(g),h.push.apply(h,s(v));else{if(!(v.length>0))return h.push(f),"break";h.push.apply(h,s(v)),h.push(f)}}(););return h}},94395(e,t,n){t.exportDataGrid=function(e){return r.Export.export(function(e){if(!(0,o.isDefined)(e)||!(0,o.isObject)(e))throw Error('The "exportDataGrid" method requires a configuration object.');if(!(0,o.isDefined)(e.component)||!(0,o.isObject)(e.component)||"dxDataGrid"!==e.component.NAME)throw Error('The "component" field must contain a DataGrid instance.');if(!(0,o.isDefined)(e.jsPDFDocument)||!(0,o.isObject)(e.jsPDFDocument))throw Error('The "jsPDFDocument" field must contain a jsPDF instance.');return(0,o.isDefined)(e.autoTableOptions)&&a.default.log("W0001","Export","autoTableOptions","22.1","You can migrate from exporting to PDF with the AutoTable plugin to a new export system. See the following topic for more information: ".concat(l)),r.Export.getFullOptions(e)}(e))};var i,o=n(4964),a=(i=n(70096))&&i.__esModule?i:{default:i},r=n(55977),l="https://supportcenter.devexpress.com/ticket/details/t1077554"},33031(e,t){t.exportGantt=function(e){var t=e.component;return null==t?void 0:t.exportToPdf(e)}},70454(e,t,n){t.getData=function(e,t){return a.imageCreator.getImageData(e,(0,l.extend)({},t,{format:"JPEG"})).then(function(e){var n=u(e,t,c());return(0,r.isFunction)(s.Blob)?h(n):f(n)})};var i=n(98161),o=n(65252),a=n(97652),r=n(4964),l=n(68841),s=(0,o.getWindow)(),d=function e(t,n){return t.length<n?e("0"+t,n):t},u=function(e,t,n){var o=2*(t.margin||0),r=(0,a.calcScaledInfo)(t.width,t.height),l=r.width,s=r.height;s+=o;var u,c,h,f=(.75*(l+=o)).toFixed(2),p=(.75*s).toFixed(2),g="%PDF-1.3\r\n2 0 obj\r\n<</ProcSet[/PDF/ImageB/ImageC/ImageI]/XObject<</I0 5 0 R>>>>\r\nendobj\r\n4 0 obj\r\n<</Type/Pages/Kids[1 0 R]/Count 1>>\r\nendobj\r\n7 0 obj\r\n<</OpenAction[1 0 R /FitH null]/Type/Catalog/Pages 4 0 R/PageLayout/OneColumn>>\r\nendobj\r\n1 0 obj\r\n<</Type/Page/Resources 2 0 R/MediaBox[0 0 _width_ _height_]/Contents 3 0 R/Parent 4 0 R>>\r\nendobj\r\n".replace("_width_",f).replace("_height_",p),m="3 0 obj\r\n<</Length 52>>stream\r\n0.20 w\n0 G\nq _width_ 0 0 _height_ 0.00 0.00 cm /I0 Do Q\r\nendstream\r\nendobj\r\n".replace("_width_",f).replace("_height_",p),v="6 0 obj\r\n<</CreationDate _date_/Producer(DevExtreme _version_)>>\r\nendobj\r\n".replace("_date_",n).replace("_version_",i.version),C=g+m+v+("5 0 obj\r\n<</Type/XObject/Subtype/Image/Width _width_/Height _height_/ColorSpace/DeviceRGB/BitsPerComponent 8/Filter/DCTDecode/Length _length_>>stream\r\n".replace("_width_",l).replace("_height_",s).replace("_length_",e.length)+e+"\r\nendstream\r\nendobj\r\n");return C+(u=g.length,c=m.length,h=v.length,"xref\r\n0 8\r\n0000000000 65535 f\r\n0000000241 00000 n\r\n0000000010 00000 n\r\n_main_ 00000 n\r\n0000000089 00000 n\r\n_image_ 00000 n\r\n_info_ 00000 n\r\n0000000143 00000 n\r\n".replace("_main_",d(u+"",10)).replace("_info_",d(u+c+"",10)).replace("_image_",d(u+c+h+"",10)))+"trailer\r\n<<\r\n/Size 8\r\n/Root 7 0 R\r\n/Info 6 0 R\r\n>>\r\nstartxref\r\n_length_\r\n%%EOF".replace("_length_",C.length)},c=function(){return new Date},h=function(e){for(var t=0,n=new Uint8Array(e.length);t<e.length;t++)n[t]=e.charCodeAt(t);return new s.Blob([n.buffer],{type:"application/pdf"})},f=function(e){return s.btoa(e)}},8328(e,t,n){t.getData=function(e,t){return h.getData(e,t)},t.svgCreator=void 0;var i=u(n(68689)),o=u(n(32448)),a=n(65252),r=n(4964),l=n(1685),s=n(44309),d=n(68759);function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,a.getWindow)(),h={_markup:"",_imageArray:{},_imageDeferreds:[],_getBinaryFile:function(e,t){o.default.sendRequest({url:e,method:"GET",responseType:"arraybuffer"}).done(t).fail(function(){t(!1)})},_loadImages:function(){var e=this;(0,l.each)(e._imageArray,function(t){var n=new d.Deferred;e._imageDeferreds.push(n),e._getBinaryFile(t,function(i){if(!i)return delete e._imageArray[t],void n.resolve();var o,a="",r=new Uint8Array(i),l=r.byteLength;for(o=0;o<l;o++)a+=String.fromCharCode(r[o]);e._imageArray[t]="data:image/png;base64,"+c.btoa(a),n.resolve()})})},_parseImages:function(e){var t,n=this;"image"===e.tagName&&(t=(0,i.default)(e).attr("href")||(0,i.default)(e).attr("xlink:href"),n._imageArray[t]||(n._imageArray[t]="")),(0,l.each)(e.childNodes,function(e,t){n._parseImages(t)})},_prepareImages:function(e){return this._parseImages(e),this._loadImages(),d.when.apply(i.default,this._imageDeferreds)},getData:function(e,t){var n,o=this,a=(0,s.getSvgElement)(e),d=(0,i.default)(a);return d.find("[".concat(s.HIDDEN_FOR_EXPORT,"]")).remove(),n='<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>'+(0,s.getSvgMarkup)(d.get(0),t.backgroundColor),o._prepareImages(a).then(function(){return(0,l.each)(o._imageArray,function(e,t){var i="href=['|\"]".concat(e,"['|\"]");n=n.replace(RegExp(i,"gi"),'href="'.concat(t,'"'))}),(0,r.isFunction)(c.Blob)?o._getBlob(n):o._getBase64(n)})},_getBlob:function(e){return new c.Blob([e],{type:"image/svg+xml"})},_getBase64:function(e){return c.btoa(e)}};t.svgCreator=h},11974(e,t,n){Object.defineProperty(t,"exportDataGrid",{enumerable:!0,get:function(){return i.exportDataGrid}}),Object.defineProperty(t,"exportDataGridWithAutoTable",{enumerable:!0,get:function(){return o.exportDataGrid}}),Object.defineProperty(t,"exportGantt",{enumerable:!0,get:function(){return a.exportGantt}});var i=n(94395),o=n(68183),a=n(33031)},66628(e,t,n){t.default=void 0;var i,o=((i=n(57521))&&i.__esModule?i:{default:i}).default;t.default=o,e.exports=t.default,e.exports.default=t.default},57521(e,t,n){t.default=void 0;var i=E(n(68689)),o=E(n(71251)),a=E(n(21445)),r=E(n(63559)),l=E(n(80688)),s=n(36808),d=n(4964),u=n(34284),c=n(77225),h=n(1685),f=n(68841),p=n(65252),g=E(n(87602)),m=E(n(6788)),v=E(n(73675)),C=n(48634),$=E(n(9645)),w=E(n(88877)),y=n(68759),x=n(16585),I=E(n(45585));function E(e){return e&&e.__esModule?e:{default:e}}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var S="dx-menu",T=S+"-item",D=T+"-expanded",R=S+"-items-container",O=T+"-wrapper",F="dx-submenu",A="dx-state-hover",P="down",V="first",_="last",B=["onShowing","onShown","onSubmenuCreated","onHiding","onHidden","onPositioning","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu"],M=["up",P,V,_],k="dxcontextmenu",L=(0,p.getWindow)(),N=function(e){function t(){return e.apply(this,arguments)||this}l=e,(n=t).prototype=Object.create(l.prototype),n.prototype.constructor=n,b(n,l);var n,l,w=t.prototype;return w.getShowEvent=function(e){var t=null;return(0,d.isObject)(e)?null!==e.name&&(t=e.name||k):t=e,t},w.getShowDelay=function(e){return(0,d.isObject)(e)&&e.delay},w._getDefaultOptions=function(){return(0,f.extend)(e.prototype._getDefaultOptions.call(this),{showEvent:k,hideOnOutsideClick:!0,position:{at:"top left",my:"top left"},onShowing:null,onShown:null,onSubmenuCreated:null,onHiding:null,onHidden:null,onPositioning:null,submenuDirection:"auto",visible:!1,target:void 0,onLeftFirstItem:null,onLeftLastItem:null,onCloseRootSubmenu:null,onExpandLastSubmenu:null})},w._defaultOptionsRules=function(){return e.prototype._defaultOptionsRules.call(this).concat([{device:function(){return!(0,p.hasWindow)()},options:{animation:null}}])},w._setDeprecatedOptions=function(){e.prototype._setDeprecatedOptions.call(this),(0,f.extend)(this._deprecatedOptions,{closeOnOutsideClick:{since:"22.2",alias:"hideOnOutsideClick"}})},w._initActions=function(){var e=this;this._actions={},(0,h.each)(B,function(t,n){e._actions[n]=e._createActionByOption(n)||s.noop})},w._setOptionsByReference=function(){e.prototype._setOptionsByReference.call(this),(0,f.extend)(this._optionsByReference,{animation:!0,selectedItem:!0})},w._focusInHandler=function(){},w._itemContainer=function(){return this._overlay?this._overlay.$content():(0,i.default)()},w._eventBindingTarget=function(){return this._itemContainer()},w.itemsContainer=function(){return this._overlay?this._overlay.$content():void 0},w._supportedKeys=function(){var t=this;return(0,f.extend)(e.prototype._supportedKeys.call(this),{space:function(){var e=(0,i.default)(t.option("focusedElement"));t.hide(),e.length&&t._isSelectionEnabled()&&t.selectItem(e[0])},escape:this.hide})},w._getActiveItem=function(){var t=this._getAvailableItems(),n=t.filter(".".concat("dx-state-focused")),i=t.filter(".".concat(A));return i.closest(".".concat(R)).find(".".concat(T)).index(n)>=0?n:i.length?i:e.prototype._getActiveItem.call(this)},w._moveFocus=function(t){var n,o=this._getItemsByLocation(t),a=this._getActiveItem(!0),r=this.itemsContainer().find(".".concat(A)),l=!(!(0,i.default)(this.option("focusedElement")).length&&!r.length);switch(t){case"up":n=l?this._prevItem(o):a,this._setFocusedElement(n),a.is(o.first())&&this._actions.onLeftFirstItem(a);break;case P:n=l?this._nextItem(o):a,this._setFocusedElement(n),a.is(o.last())&&this._actions.onLeftLastItem(a);break;case"right":n=this.option("rtlEnabled")?this._hideSubmenuHandler():this._expandSubmenuHandler(o,t),this._setFocusedElement(n);break;case"left":n=this.option("rtlEnabled")?this._expandSubmenuHandler(o,t):this._hideSubmenuHandler(),this._setFocusedElement(n);break;case V:n=o.first(),this._setFocusedElement(n);break;case _:n=o.last(),this._setFocusedElement(n);break;default:return e.prototype._moveFocus.call(this,t)}},w._setFocusedElement=function(e){e&&0!==e.length&&this.option("focusedElement",(0,c.getPublicElement)(e))},w._getItemsByLocation=function(e){var t,n=this._getActiveItem(!0);return M.includes(e)&&(t=n.closest(".".concat(R)).children().children()),t=this._getAvailableItems(t)},w._getAriaTarget=function(){return this.$element()},w._refreshActiveDescendant=function(){if((0,d.isDefined)(this._overlay)){var t=this._overlay.$content();e.prototype._refreshActiveDescendant.call(this,t)}},w._hideSubmenuHandler=function(){var e=this._getActiveItem(!0),t=e.parents(".".concat(D)).first();return t.length?(this._hideSubmenusOnSameLevel(t),this._hideSubmenu(e.closest(".".concat(F))),t):(this._actions.onCloseRootSubmenu(e),e)},w._expandSubmenuHandler=function(e,t){var n=this._getActiveItem(!0),i=this._getItemData(n),o=this._dataAdapter.getNodeByItem(i),a=this._hasSubmenu(o),r=n.children(".".concat(F));if(a&&!n.hasClass("dx-state-disabled"))return r.length&&"hidden"!==r.css("visibility")||this._showSubmenu(n),this._nextItem(this._getItemsByLocation(t));this._actions.onExpandLastSubmenu(n)},w._clean=function(){this._overlay&&(this._overlay.$element().remove(),this._overlay=null),this._detachShowContextMenuEvents(this._getTarget()),e.prototype._clean.call(this)},w._initMarkup=function(){this.$element().addClass("dx-has-context-menu"),e.prototype._initMarkup.call(this)},w._render=function(){e.prototype._render.call(this),this._renderVisibility(this.option("visible")),this._addWidgetClass()},w._renderContentImpl=function(){this._detachShowContextMenuEvents(this._getTarget()),this._attachShowContextMenuEvents()},w._attachKeyboardEvents=function(){!this._keyboardListenerId&&this._focusTarget().length&&e.prototype._attachKeyboardEvents.call(this)},w._renderContextMenuOverlay=function(){if(!this._overlay){var e=this._getOverlayOptions();this._overlay=this._createComponent((0,i.default)("<div>").appendTo(this._$element),$.default,e);var t=this._overlay.$content();t.addClass("dx-context-menu"),this._addCustomCssClass(t),this._addPlatformDependentClass(t),this._attachContextMenuEvent()}},w.preventShowingDefaultContextMenuAboveOverlay=function(){var e=this._itemContainer(),t=(0,C.addNamespace)(x.name,this.NAME);a.default.off(e,t,".".concat(F)),a.default.on(e,t,".".concat(F),(function(n){n.stopPropagation(),n.preventDefault(),a.default.off(e,t,".".concat(F))}).bind(this))},w._itemContextMenuHandler=function(t){e.prototype._itemContextMenuHandler.call(this,t),t.stopPropagation()},w._addPlatformDependentClass=function(e){v.default.current().phone&&e.addClass("dx-menu-phone-overlay")},w._detachShowContextMenuEvents=function(e){var t=this.getShowEvent(this.option("showEvent"));if(t){var n=(0,C.addNamespace)(t,this.NAME);this._showContextMenuEventHandler?a.default.off(o.default.getDocument(),n,e,this._showContextMenuEventHandler):a.default.off((0,i.default)(e),n)}},w._attachShowContextMenuEvents=function(){var e=this,t=this._getTarget(),n=this.getShowEvent(this.option("showEvent"));if(n){var r=(0,C.addNamespace)(n,this.NAME),l=this._createAction(function(t){var n=e.getShowDelay(e.option("showEvent"));n?setTimeout(function(){return e._show(t.event)},n):e._show(t.event)},{validatingTargetName:"target"}),s=function(e){return l({event:e,target:(0,i.default)(e.currentTarget)})};l=this._createAction(l),(0,d.isRenderer)(t)||t.nodeType||(0,d.isWindow)(t)?(this._showContextMenuEventHandler=void 0,a.default.on(t,r,s)):(this._showContextMenuEventHandler=s,a.default.on(o.default.getDocument(),r,t,this._showContextMenuEventHandler))}},w._hoverEndHandler=function(t){e.prototype._hoverEndHandler.call(this,t),t.stopPropagation()},w._renderDimensions=function(){},w._renderContainer=function(t,n){var o=n||this._itemContainer();(t=(0,i.default)("<div>")).appendTo(o).addClass(F).css("visibility",n?"hidden":"visible"),t.parent().hasClass("dx-overlay-content")||this._addCustomCssClass(t);var a=e.prototype._renderContainer.call(this,t);return n?a:this.option("width")?a.css("minWidth",this.option("width")):this.option("height")?a.css("minHeight",this.option("height")):a},w._renderSubmenuItems=function(e,t){this._renderItems(this._getChildNodes(e),t),this._actions.onSubmenuCreated({itemElement:(0,c.getPublicElement)(t),itemData:e.internalFields.item,submenuElement:(0,c.getPublicElement)(t.children(".".concat(F)))})},w._getOverlayOptions=function(){var e=this,t=this.option("position");return{focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),innerOverlay:!0,hideOnOutsideClick:function(t){return e._hideOnOutsideClickHandler(t)},propagateOutsideClick:!0,hideOnParentScroll:!0,deferRendering:!1,position:{at:t.at,my:t.my,of:this._getTarget(),collision:"flipfit"},shading:!1,showTitle:!1,height:"auto",width:"auto",onShown:this._overlayShownActionHandler.bind(this),onHiding:this._overlayHidingActionHandler.bind(this),onHidden:this._overlayHiddenActionHandler.bind(this),visualContainer:L}},w._overlayShownActionHandler=function(e){this._actions.onShown(e)},w._overlayHidingActionHandler=function(e){this._actions.onHiding(e),e.cancel||(this._hideAllShownSubmenus(),this._setOptionWithoutOptionChange("visible",!1))},w._overlayHiddenActionHandler=function(e){this._actions.onHidden(e)},w._shouldHideOnOutsideClick=function(e){var t=this.option(),n=t.closeOnOutsideClick,i=t.hideOnOutsideClick;return(0,d.isFunction)(i)?i(e):(0,d.isFunction)(n)?n(e):i||n},w._hideOnOutsideClickHandler=function(e){if(!this._shouldHideOnOutsideClick(e))return!1;if(o.default.isDocument(e.target))return!0;var t=this._getActiveItemsContainer(e.target),n=this._getItemsContainers(),i=this._searchActiveItem(e.target),a=this.$element().parents(".".concat(T)),r=i[0]===a[0]&&i.length&&a.length;return!(this._isIncludeOverlay(t,n)&&i.length)&&!r||("onClick"===this._getShowSubmenuMode()&&this._hideAllShownChildSubmenus(i),!1)},w._getActiveItemsContainer=function(e){return(0,i.default)(e).closest(".".concat(R))},w._getItemsContainers=function(){return this._overlay.$content().find(".".concat(R))},w._searchActiveItem=function(e){return(0,i.default)(e).closest(".".concat(T)).eq(0)},w._isIncludeOverlay=function(e,t){var n=!1;return(0,h.each)(t,function(t,i){e.is(i)&&!n&&(n=!0)}),n},w._hideAllShownChildSubmenus=function(e){var t=this,n=e.find(".".concat(F)),i=(0,f.extend)([],this._shownSubmenus);n.length>0&&(0,h.each)(i,function(n,i){var o=t._searchActiveItem(i.context).parent();o.parent().is(e.parent().parent())&&!o.is(e.parent())&&t._hideSubmenu(i)})},w._showSubmenu=function(t){var n=this._dataAdapter.getNodeByItem(this._getItemData(t));if(this._hideSubmenusOnSameLevel(t),this._hasSubmenu(n)){var i=t.children(".".concat(F)),o=i.length;e.prototype._showSubmenu.call(this,t),o||this._renderSubmenuItems(n,t),this._isSubmenuVisible(i)||this._drawSubmenu(t)}},w._hideSubmenusOnSameLevel=function(e){var t=e.parent(".".concat(O)).siblings().find(".".concat(D));t.length&&(t.removeClass(D),this._hideSubmenu(t.find(".".concat(F))))},w._hideSubmenuGroup=function(e){this._isSubmenuVisible(e)&&this._hideSubmenuCore(e)},w._isSubmenuVisible=function(e){return"visible"===e.css("visibility")},w._drawSubmenu=function(e){var t=this.option("animation")?this.option("animation").show:{},n=e.children(".".concat(F)),i=this._getSubmenuPosition(e);this._overlay&&this._overlay.option("visible")&&((0,d.isDefined)(this._shownSubmenus)||(this._shownSubmenus=[]),this._shownSubmenus.includes(n)||this._shownSubmenus.push(n),t&&g.default.stop(n),m.default.setup(n,i),t&&((0,d.isPlainObject)(t.to)&&(t.to.position=i),this._animate(n,t)),n.css("visibility","visible"))},w._animate=function(e,t){g.default.animate(e,t)},w._getSubmenuPosition=function(e){var t=this.option("submenuDirection").toLowerCase(),n={collision:"flip",of:e.parent(".".concat(O)),offset:{h:0,v:-1}};switch(t){case"left":n.at="left top",n.my="right top";break;case"right":n.at="right top",n.my="left top";break;default:this.option("rtlEnabled")?(n.at="left top",n.my="right top"):(n.at="right top",n.my="left top")}return n},w._updateSubmenuVisibilityOnClick=function(e){if(e.args.length){var t=e.args[0].itemData,n=this._dataAdapter.getNodeByItem(t);if(n){var o=(0,i.default)(e.args[0].itemElement),a=o.find(".".concat(F));if(this._hasSubmenu(n)&&!a.length&&(this._renderSubmenuItems(n,o),a=o.find(".".concat(F))),o.context!==a.context||"visible"!==a.css("visibility")){this._updateSelectedItemOnClick(e);var r=t&&!1===t.closeMenuOnClick;if(t&&!t.disabled&&!r){if(0===a.length){var l=(0,i.default)(o.parents(".".concat(F))[0]);this._hideSubmenu(l),!e.canceled&&this._overlay&&this._overlay.option("visible")&&this.option("visible",!1)}else this._shownSubmenus&&this._shownSubmenus.length>0&&this._shownSubmenus[0].is(a)&&this._hideSubmenu(a),this._showSubmenu(o)}}}}},w._hideSubmenu=function(e){var t=this,n=(0,f.extend)([],this._shownSubmenus);(0,h.each)(n,function(n,i){(e.is(i)||(0,u.contains)(e[0],i[0]))&&(i.parent().removeClass(D),t._hideSubmenuCore(i))})},w._hideSubmenuCore=function(e){var t=this._shownSubmenus.indexOf(e),n=this.option("animation")?this.option("animation").hide:null;t>=0&&this._shownSubmenus.splice(t,1),this._stopAnimate(e),n&&this._animate(e,n),e.css("visibility","hidden")},w._stopAnimate=function(e){g.default.stop(e,!0)},w._hideAllShownSubmenus=function(){var e=this,t=(0,f.extend)([],this._shownSubmenus);this._overlay.$content().find(".".concat(D)).removeClass(D),(0,h.each)(t,function(t,n){e._hideSubmenu(n)})},w._visibilityChanged=function(e){e&&this._renderContentImpl()},w._optionChanged=function(t){if(B.includes(t.name))this._initActions();else switch(t.name){case"visible":this._renderVisibility(t.value);break;case"showEvent":case"position":case"submenuDirection":this._invalidate();break;case"target":t.previousValue&&this._detachShowContextMenuEvents(t.previousValue),this._invalidate();break;case"closeOnOutsideClick":case"hideOnOutsideClick":break;default:e.prototype._optionChanged.call(this,t)}},w._renderVisibility=function(e){return e?this._show():this._hide()},w._toggleVisibility=function(){},w._show=function(e){var t={jQEvent:e},n=(new y.Deferred).reject().promise();if(this._actions.onShowing(t),t.cancel)return n;var i,o=this._positionContextMenu(e);return o&&(this._overlay||(this._renderContextMenuOverlay(),this._overlay.$content().addClass(this._widgetClass()),this._renderFocusState(),this._attachHoverEvents(),this._attachClickEvent(),this._renderItems(this._dataAdapter.getRootNodes())),this._setOptionWithoutOptionChange("visible",!0),this._overlay.option("position",o),n=this._overlay.show(),e&&e.stopPropagation(),this._setAriaAttributes(),(null==e||null===(i=e.originalEvent)||void 0===i?void 0:i.type)===I.default.name&&this.preventShowingDefaultContextMenuAboveOverlay()),n},w._setAriaAttributes=function(){this._overlayContentId="dx-".concat(new r.default),this.setAria("owns",this._overlayContentId),this.setAria({id:this._overlayContentId,role:"menu"},this._overlay.$content())},w._cleanAriaAttributes=function(){this._overlay&&this.setAria("id",null,this._overlay.$content()),this.setAria("owns",void 0)},w._getTarget=function(){return this.option("target")||this.option("position").of||(0,i.default)(o.default.getDocument())},w._getContextMenuPosition=function(){return(0,f.extend)({},this.option("position"),{of:this._getTarget()})},w._positionContextMenu=function(e){var t=this._getContextMenuPosition(),n=this._isInitialOptionValue("position"),i=this._createActionByOption("onPositioning",o);e&&e.preventDefault&&n&&(t.of=e);var o={position:t,event:e};return i(o),o.cancel?t=null:o.event&&(o.event.cancel=!0,e.preventDefault()),t},w._refresh=function(){if((0,p.hasWindow)()){if(this._overlay){var t=this._overlay.option("position");e.prototype._refresh.call(this),this._overlay&&this._overlay.option("position",t)}else e.prototype._refresh.call(this)}else e.prototype._refresh.call(this)},w._hide=function(){var e;return this._overlay&&(e=this._overlay.hide(),this._setOptionWithoutOptionChange("visible",!1)),this._cleanAriaAttributes(),this.option("focusedElement",null),e||(new y.Deferred).reject().promise()},w.toggle=function(e){var t=this.option("visible");return e=void 0===e?!t:e,this._renderVisibility(e)},w.show=function(){return this.toggle(!0)},w.hide=function(){return this.toggle(!1)},t}(w.default);(0,l.default)("dxContextMenu",N),t.default=N,e.exports=t.default,e.exports.default=t.default},34717(e,t,n){t.default=void 0;var i=a(n(68689)),o=n(1685);function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(){return e.apply(this,arguments)||this}a=e,(n=t).prototype=Object.create(a.prototype),n.prototype.constructor=n,l(n,a);var n,a,s=t.prototype;return s._getPlainItems=function(){return(0,o.map)(this._collectionWidget.option("items"),function e(t){return t.items?[t].concat((0,o.map)(t.items,e)):t})},s._stringifyItem=function(e){var t=this;return JSON.stringify(e,function(e,n){return"template"===e?t._getTemplateString(n):n})},s._getTemplateString=function(e){return"object"===r(e)?(0,i.default)(e).text():e.toString()},t}(a(n(78425)).default);t.default=s,e.exports=t.default,e.exports.default=t.default},88877(e,t,n){t.default=void 0;var i=f(n(68689)),o=n(36808),a=n(4964),r=n(1685),l=n(68841),s=n(60619),d=f(n(37706)),u=f(n(34717)),c=f(n(73675)),h=f(n(64153));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var g="dx-menu",m=g+"-no-icons",v=g+"-item",C=v+"-content",$=v+"-selected",w=v+"-wrapper",y=g+"-items-container",x=v+"-expanded",I=g+"-separator",E=g+"-last-group-item",b=v+"-has-text",S=v+"-has-icon",T=v+"-has-submenu",D=v+"-popout",R=D+"-container",O=v+"-text",F={show:50,hide:300},A=function(e){function t(){return e.apply(this,arguments)||this}d=e,(n=t).prototype=Object.create(d.prototype),n.prototype.constructor=n,p(n,d);var n,d,h=t.prototype;return h._getDefaultOptions=function(){return(0,l.extend)(e.prototype._getDefaultOptions.call(this),{items:[],cssClass:"",activeStateEnabled:!0,showSubmenuMode:{name:"onHover",delay:{show:50,hide:300}},animation:{show:{type:"fade",from:0,to:1,duration:100},hide:{type:"fade",from:1,to:0,duration:100}},selectByClick:!1,focusOnSelectedItem:!1,keyExpr:null,_itemAttributes:{role:"menuitem"},useInkRipple:!1})},h._itemDataKey=function(){return"dxMenuItemDataKey"},h._itemClass=function(){return v},h._setAriaSelected=function(){},h._selectedItemClass=function(){return $},h._widgetClass=function(){return"dx-menu-base"},h._focusTarget=function(){return this._itemContainer()},h._clean=function(){this.option("focusedElement",null),e.prototype._clean.call(this)},h._supportedKeys=function(){var t=this;return(0,l.extend)(e.prototype._supportedKeys.call(this),{space:function(){var e=(0,i.default)(t.option("focusedElement"));e.length&&t._isSelectionEnabled()&&t.selectItem(e[0])},pageUp:o.noop,pageDown:o.noop})},h._isSelectionEnabled=function(){return"single"===this.option("selectionMode")},h._init=function(){this._activeStateUnit=".".concat(v),e.prototype._init.call(this),this._renderSelectedItem(),this._initActions()},h._getTextContainer=function(e){var t=e.text,n=(0,i.default)("<span>").addClass(O),o=(0,a.isPlainObject)(e)?t:String(e);return t&&n.text(o)},h._getPopoutContainer=function(e){var t,n=e.items;if(n&&n.length){var o=(0,i.default)("<div>").addClass(D);t=(0,i.default)("<span>").addClass(R).append(o)}return t},h._getDataAdapterOptions=function(){return{rootValue:0,multipleSelection:!1,recursiveSelection:!1,recursiveExpansion:!1,searchValue:""}},h._selectByItem=function(e){if(e){var t=this._dataAdapter.getNodeByItem(e);this._dataAdapter.toggleSelection(t.internalFields.key,!0)}},h._renderSelectedItem=function(){var e=this._dataAdapter.getSelectedNodesKeys(),t=e.length&&e[0],n=this.option("selectedItem");if(t){var i=this._dataAdapter.getNodeByKey(t);!1!==i.selectable&&(n?n!==i.internalFields.item&&(this._dataAdapter.toggleSelection(t,!1),this._selectByItem(n)):this.option("selectedItem",i.internalFields.item))}else this._selectByItem(n)},h._initActions=function(){},h._initMarkup=function(){e.prototype._initMarkup.call(this),this.option("useInkRipple")&&this._renderInkRipple()},h._renderInkRipple=function(){this._inkRipple=(0,s.render)()},h._toggleActiveState=function(t,n,i){if(e.prototype._toggleActiveState.apply(this,arguments),this._inkRipple){var o={element:t,event:i};n?this._inkRipple.showWave(o):this._inkRipple.hideWave(o)}},h._getShowSubmenuMode=function(){var e=this.option("showSubmenuMode");return e=(0,a.isObject)(e)?e.name:e,this._isDesktopDevice()?e:"onClick"},h._initSelectedItems=function(){},h._isDesktopDevice=function(){return"desktop"===c.default.real().deviceType},h._initEditStrategy=function(){var e=u.default;this._editStrategy=new e(this)},h._addCustomCssClass=function(e){e.addClass(this.option("cssClass"))},h._itemWrapperSelector=function(){return".".concat(w)},h._hoverStartHandler=function(e){var t=this._getItemElementByEventArgs(e);t&&!this._isItemDisabled(t)&&(e.stopPropagation(),"onHover"===this._getShowSubmenuMode()&&(clearTimeout(this._showSubmenusTimeout),this._showSubmenusTimeout=setTimeout(this._showSubmenu.bind(this,t),this._getSubmenuDelay("show"))))},h._getAvailableItems=function(t){return e.prototype._getAvailableItems.call(this,t).filter(function(){return"hidden"!==(0,i.default)(this).css("visibility")})},h._isItemDisabled=function(e){return this._disabledGetter(e.data(this._itemDataKey()))},h._showSubmenu=function(e){this._addExpandedClass(e)},h._addExpandedClass=function(e){(0,i.default)(e).addClass(x)},h._getSubmenuDelay=function(e){var t=this.option("showSubmenuMode").delay;return(0,a.isDefined)(t)?(0,a.isObject)(t)?t[e]:t:F[e]},h._getItemElementByEventArgs=function(e){var t=(0,i.default)(e.target);if(t.hasClass(this._itemClass())||t.get(0)===e.currentTarget)return t;for(;!t.hasClass(this._itemClass());)if((t=t.parent()).hasClass("dx-submenu"))return null;return t},h._hoverEndHandler=function(){clearTimeout(this._showSubmenusTimeout)},h._hasSubmenu=function(e){return e&&e.internalFields.childrenKeys.length},h._renderContentImpl=function(){this._renderItems(this._dataAdapter.getRootNodes())},h._renderItems=function(e,t){var n=this;if(e.length){this.hasIcons=!1;var i=this._renderContainer(this.$element(),t),o=-1,a=-1;(0,r.each)(e,function(e,t){var r=!1!==t.visible;r&&o<0&&(o=e),o<e&&(t.beginGroup||e===a)&&(a=r?e:e+1),e===a&&o<e&&n._renderSeparator(i),n._renderItem(e,t,i)}),this.hasIcons||i.addClass(m)}},h._renderContainer=function(e){var t=(0,i.default)("<ul>");return this.setAria("role","none",t),t.appendTo(e).addClass(y)},h._createDOMElement=function(e){var t=(0,i.default)("<li>");return this.setAria("role","none",t),t.appendTo(e).addClass(w)},h._renderItem=function(t,n,i,o){var a=this.option("items"),r=o||this._createDOMElement(i);a[t+1]&&a[t+1].beginGroup&&r.addClass(E);var l=e.prototype._renderItem.call(this,t,n.internalFields.item,r);n.internalFields.item===this.option("selectedItem")&&l.addClass($),l.attr("tabIndex",-1),this._hasSubmenu(n)&&this.setAria("haspopup","true",l)},h._renderItemFrame=function(t,n,i){var o=i.children(".".concat(v));return o.length?o:e.prototype._renderItemFrame.apply(this,arguments)},h._refreshItem=function(e,t){var n=this._dataAdapter.getNodeByItem(t),i=e.data(this._itemIndexKey()),o=e.closest("ul"),a=e.closest("li");this._renderItem(i,n,o,a)},h._addContentClasses=function(e,t){var n=!!e.text&&!!e.text.length,i=!!e.icon,o=!!e.items&&!!e.items.length;t.toggleClass(b,n),t.toggleClass(S,i),this.hasIcons||(this.hasIcons=i),t.toggleClass(T,o)},h._getItemContent=function(t){var n=e.prototype._getItemContent.call(this,t);return n.length||(n=t.children(".".concat(C))),n},h._postprocessRenderItem=function(e){var t=(0,i.default)(e.itemElement),n=this._dataAdapter.getSelectedNodesKeys();n.length&&this._selectedGetter(e.itemData)&&this._isItemSelectable(e.itemData)&&this._dataAdapter.getNodeByItem(e.itemData).internalFields.key===n[0]?(t.addClass(this._selectedItemClass()),this._setAriaSelected(t,"true")):this._setAriaSelected(t,"false")},h._isItemSelectable=function(e){return!1!==e.selectable},h._renderSeparator=function(e){(0,i.default)("<li>").appendTo(e).addClass(I)},h._itemClickHandler=function(e){if(!e._skipHandling){var t=this._createAction(this._updateSubmenuVisibilityOnClick.bind(this));this._itemDXEventHandler(e,"onItemClick",{},{afterExecute:t.bind(this)}),e._skipHandling=!0}},h._updateSubmenuVisibilityOnClick=function(e){this._updateSelectedItemOnClick(e),"onClick"===this._getShowSubmenuMode()&&this._addExpandedClass(e.args[0].itemElement)},h._updateSelectedItemOnClick=function(e){var t=e.args?e.args[0]:e;if(this._isItemSelectionAllowed(t.itemData)){var n=this._dataAdapter.getSelectedNodesKeys(),i=n.length&&this._dataAdapter.getNodeByKey(n[0]);i&&this._toggleItemSelection(i,!1),i&&i.internalFields.item===t.itemData?(this._fireSelectionChangeEvent(null,this.option("selectedItem")),this._setOptionWithoutOptionChange("selectedItem",null)):this.selectItem(t.itemData)}},h._isItemSelectionAllowed=function(e){var t=this._isSelectionEnabled()&&this.option("selectByClick");return!this._isContainerEmpty()&&t&&this._isItemSelectable(e)&&!this._itemsGetter(e)},h._isContainerEmpty=function(){return this._itemContainer().is(":empty")},h._syncSelectionOptions=function(){return(0,o.asyncNoop)()},h._optionChanged=function(t){switch(t.name){case"showSubmenuMode":break;case"selectedItem":var n=this._dataAdapter.getNodeByItem(t.value),i=this._dataAdapter.getSelectedNodesKeys()[0];if(n&&n.internalFields.key!==i){if(!1===n.selectable)break;i&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(i),!1),this._toggleItemSelection(n,!0),this._updateSelectedItems()}break;case"cssClass":case"position":case"selectByClick":case"animation":case"useInkRipple":this._invalidate();break;default:e.prototype._optionChanged.call(this,t)}},h._toggleItemSelection=function(e,t){var n=this._getElementByItem(e.internalFields.item);n&&(0,i.default)(n).toggleClass($),this._dataAdapter.toggleSelection(e.internalFields.key,t)},h._getElementByItem=function(e){var t,n=this;return(0,r.each)(this._itemElements(),function(o,a){return(0,i.default)(a).data(n._itemDataKey())!==e||(t=a,!1)}),t},h._updateSelectedItems=function(e,t){(e||t)&&this._fireSelectionChangeEvent(t,e)},h._fireSelectionChangeEvent=function(e,t){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:[e],removedItems:[t]})},h.selectItem=function(e){var t=e.nodeType?this._getItemData(e):e,n=this._dataAdapter.getSelectedNodesKeys()[0],i=this.option("selectedItem"),o=this._dataAdapter.getNodeByItem(t);o.internalFields.key!==n&&(n&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(n),!1),this._toggleItemSelection(o,!0),this._updateSelectedItems(i,t),this._setOptionWithoutOptionChange("selectedItem",t))},h.unselectItem=function(e){var t=e.nodeType?this._getItemData(e):e,n=this._dataAdapter.getNodeByItem(t),i=this.option("selectedItem");n.internalFields.selected&&(this._toggleItemSelection(n,!1),this._updateSelectedItems(i,null),this._setOptionWithoutOptionChange("selectedItem",null))},t}(d.default);A.ItemClass=h.default,t.default=A,e.exports=t.default,e.exports.default=t.default},79125(e,t,n){t.default=void 0;var i,o=((i=n(74357))&&i.__esModule?i:{default:i}).default;t.default=o,e.exports=t.default,e.exports.default=t.default},63165(e,t,n){t.default=void 0;var i,o=((i=n(31560))&&i.__esModule?i:{default:i}).default;t.default=o,e.exports=t.default,e.exports.default=t.default},68927(e,t,n){t.default=void 0;var i,o=((i=n(26163))&&i.__esModule?i:{default:i}).default;t.default=o,e.exports=t.default,e.exports.default=t.default},79146(e,t,n){t.default=void 0;var i=n(65553),o=D(n(68689)),a=D(n(71251)),r=D(n(21445)),l=D(n(38306)),s=n(44479),d=n(36808),u=n(65252),c=n(4964),h=n(68841),f=n(1685),p=n(77225),g=D(n(21769)),m=D(n(37706)),v=n(48634),C=D(n(30593)),$=n(32033),w=D(n(87602)),y=D(n(31598)),x=D(n(42508)),I=n(68759),E=D(n(37499)),b=n(52869),S=n(79389),T=n(83582);function D(e){return e&&e.__esModule?e:{default:e}}var R="dx-treeview",O="".concat(R,"-node"),F="".concat(O,"-container"),A="".concat(O,"-loadindicator"),P="".concat(O,"-container-opened"),V="".concat(O,"-is-leaf"),_="".concat(R,"-item"),B="".concat(_,"-with-checkbox"),M="".concat(_,"-without-checkbox"),k="".concat(_,"-data"),L="".concat(R,"-toggle-item-visibility"),N="".concat(R,"-loadindicator"),W="".concat(R,"-loadindicator-wrapper"),H="".concat(R,"-toggle-item-visibility-opened"),z="".concat(R,"-select-all-item"),G="dx-state-invisible",K="dx-state-disabled",U="dxTreeView_expand",j="data-item-id",q=m.default.inherit({_supportedKeys:function(e){var t=this,n=function(e){var n=(0,o.default)(t.option("focusedElement"));n.length&&(e.target=n,e.currentTarget=n,t._itemClickHandler(e,n.children("."+_)),t._getEventNameByOption(t.option("expandEvent"))===(0,v.addNamespace)(s.name,U)&&t._expandEventHandler(e))},i=function(e){e.preventDefault();var n=(0,o.default)(t.option("focusedElement")),i=t._getCheckBoxInstance(n);if(!i.option("disabled")){var a=i.option("value");t._updateItemSelection(!a,n.find("."+_).get(0),!0)}},a=function(e,t){if(this.option("expandAllEnabled")){t.preventDefault();var n=(0,o.default)(this.option("focusedElement"));if(n.length){var i=this._getItemData(n.find(".".concat(_)));this._toggleExpandedNestedItems([i],e)}}};return(0,h.extend)(this.callBase(),{enter:this._showCheckboxes()?i:n,space:this._showCheckboxes()?i:n,asterisk:a.bind(this,!0),minus:a.bind(this,!1)})},_toggleExpandedNestedItems:function(e,t){if(e)for(var n=0,i=e.length;n<i;n++){var o=e[n],a=this._dataAdapter.getNodeByItem(o);this._toggleExpandedState(a,t),this._toggleExpandedNestedItems(o.items,t)}},_getNodeElement:function(e,t){var n=this._encodeString(e.internalFields.key);if(t)return t.$nodeByKey||(t.$nodeByKey={},this.$element().find(".".concat(O)).each(function(){var e=(0,o.default)(this),n=e.attr(j);t.$nodeByKey[n]=e})),t.$nodeByKey[n]||(0,o.default)();var i=this.$element().get(0).querySelector("[".concat(j,'="').concat(n,'"]'));return(0,o.default)(i)},_activeStateUnit:"."+_,_widgetClass:function(){return R},_getDefaultOptions:function(){var e=(0,h.extend)(this.callBase(),{animationEnabled:!0,dataStructure:"tree",deferRendering:!0,expandAllEnabled:!1,hasItemsExpr:"hasItems",selectNodesRecursive:!0,expandNodesRecursive:!0,showCheckBoxesMode:"none",selectAllText:l.default.format("dxList-selectAll"),onItemSelectionChanged:null,onItemExpanded:null,onItemCollapsed:null,scrollDirection:"vertical",useNativeScrolling:!0,virtualModeEnabled:!1,rootValue:0,focusStateEnabled:!1,selectionMode:"multiple",expandEvent:"dblclick",selectByClick:!1,createChildren:null,onSelectAllValueChanged:null});return(0,h.extend)(!0,e,{integrationOptions:{useDeferUpdateForTemplates:!1}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return!b.nativeScrolling},options:{useNativeScrolling:!1}}])},_initSelectedItems:d.noop,_syncSelectionOptions:d.asyncNoop,_fireSelectionChanged:function(){var e=this._selectionChangePromise;(0,I.when)(e).done((function(){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})()}).bind(this))},_createSelectAllValueChangedAction:function(){this._selectAllValueChangedAction=this._createActionByOption("onSelectAllValueChanged",{excludeValidators:["disabled","readOnly"]})},_fireSelectAllValueChanged:function(e){this._selectAllValueChangedAction({value:e})},_checkBoxModeChange:function(e,t){if("none"!==t&&"none"!==e){var n=this._$selectAllItem&&this._$selectAllItem.length;switch(e){case"selectAll":n||(this._createSelectAllValueChangedAction(),this._renderSelectAllItem());break;case"normal":n&&(this._$selectAllItem.remove(),delete this._$selectAllItem)}}},_removeSelection:function(){var e=this;(0,f.each)(this._dataAdapter.getFullData(),function(t,n){e._hasChildren(n)&&e._dataAdapter.toggleSelection(n.internalFields.key,!1,!0)})},_optionChanged:function(e){var t=e.name,n=e.value,i=e.previousValue;switch(t){case"selectAllText":this._$selectAllItem&&this._$selectAllItem.dxCheckBox("instance").option("text",n);break;case"showCheckBoxesMode":this._checkBoxModeChange(n,i),this._invalidate();break;case"scrollDirection":this.getScrollable().option("direction",n);break;case"useNativeScrolling":this.getScrollable().option("useNative",n);break;case"items":delete this._$selectAllItem,this.callBase(e);break;case"dataSource":this.callBase(e),this._initDataAdapter(),this._filter={};break;case"hasItemsExpr":this._initAccessors(),this.repaint();break;case"expandEvent":this._initExpandEvent();break;case"deferRendering":case"dataStructure":case"rootValue":case"createChildren":case"expandNodesRecursive":case"onItemSelectionChanged":case"onItemExpanded":case"onItemCollapsed":case"expandAllEnabled":case"animationEnabled":case"virtualModeEnabled":case"selectByClick":break;case"selectionMode":this._initDataAdapter(),this.callBase(e);break;case"onSelectAllValueChanged":this._createSelectAllValueChangedAction();break;case"selectNodesRecursive":this._dataAdapter.setOption("recursiveSelection",e.value),this.repaint();break;default:this.callBase(e)}},_initDataSource:function(){this._useCustomChildrenLoader()?this._loadChildrenByCustomLoader(null).done((function(e){e&&e.length&&this.option("items",e)}).bind(this)):(this.callBase(),this._isVirtualMode()&&this._initVirtualMode())},_initVirtualMode:function(){var e=this._filter;e.custom||(e.custom=this._dataSource.filter()),e.internal||(e.internal=[this.option("parentIdExpr"),this.option("rootValue")])},_useCustomChildrenLoader:function(){return(0,c.isFunction)(this.option("createChildren"))&&this._isDataStructurePlain()},_loadChildrenByCustomLoader:function(e){var t=this.option("createChildren").call(this,e);return Array.isArray(t)?(new I.Deferred).resolve(t).promise():t&&(0,c.isFunction)(t.then)?(0,I.fromPromise)(t):(new I.Deferred).resolve([]).promise()},_combineFilter:function(){return this._filter.custom&&this._filter.custom.length?[this._filter.custom,this._filter.internal]:this._filter.internal},_dataSourceLoadErrorHandler:function(){this._renderEmptyMessage()},_init:function(){this._filter={},this.callBase(),this._initStoreChangeHandlers()},_dataSourceChangedHandler:function(e){var t=this.option("items");this._initialized&&this._isVirtualMode()&&t.length||this.option("items",e)},_removeTreeViewLoadIndicator:function(){this._treeViewLoadIndicator&&(this._treeViewLoadIndicator.remove(),this._treeViewLoadIndicator=null)},_createTreeViewLoadIndicator:function(){return this._treeViewLoadIndicator=(0,o.default)("<div>").addClass(N),this._createComponent(this._treeViewLoadIndicator,x.default,{}),this._treeViewLoadIndicator},_dataSourceLoadingChangedHandler:function(e){var t;if(this._isVirtualMode()&&(t=this._combineFilter(),this._dataSource.filter(t)),e&&!this._dataSource.isLoaded()){this.option("items",[]);var n=(0,o.default)("<div>").addClass(W);this._createTreeViewLoadIndicator().appendTo(n),this.itemsContainer().append(n),this._isVirtualMode()&&this._dataSource.filter()!==t&&this._dataSource.filter([])}else this._removeTreeViewLoadIndicator()},_initStoreChangeHandlers:function(){var e=this;"plain"===this.option("dataStructure")&&this._dataSource&&this._dataSource.store().on("inserted",function(t){e.option().items=e.option("items").concat(t),e._dataAdapter.addItem(t),e._dataAdapter.isFiltered(t)&&e._updateLevel(e._parentIdGetter(t))}).on("removed",function(t){var n=e._dataAdapter.getNodeByKey(t);(0,c.isDefined)(n)&&(e.option("items")[e._dataAdapter.getIndexByKey(n.internalFields.key)]=0,e._markChildrenItemsToRemove(n),e._removeItems(),e._dataAdapter.removeItem(t),e._updateLevel(e._parentIdGetter(n)))})},_markChildrenItemsToRemove:function(e){var t=this,n=e.internalFields.childrenKeys;(0,f.each)(n,function(e,n){t.option("items")[t._dataAdapter.getIndexByKey(n)]=0,t._markChildrenItemsToRemove(t._dataAdapter.getNodeByKey(n))})},_removeItems:function(){var e=this,t=(0,h.extend)(!0,[],this.option("items")),n=0;(0,f.each)(t,function(t,i){i||(e.option("items").splice(t-n,1),n++)})},_updateLevel:function(e){var t=this._getContainerByParentKey(e);this._renderItems(t,this._dataAdapter.getChildrenNodes(e))},_getOldContainer:function(e){if(e.length)return e.children(".".concat(F));var t=this.getScrollable();return t?(0,o.default)(t.content()).children():(0,o.default)()},_getContainerByParentKey:function(e){var t=this._dataAdapter.getNodeByKey(e),n=t?this._getNodeElement(t):[];this._getOldContainer(n).remove();var i=this._renderNodeContainer(n);if(this._isRootLevel(e)){var a=this.getScrollable();a||this._renderScrollableContainer(),(0,o.default)(a.content()).append(i)}return i},_isRootLevel:function(e){return e===this.option("rootValue")},_getAccessors:function(){var e=this.callBase();return e.push("hasItems"),e},_getDataAdapterOptions:function(){return{rootValue:this.option("rootValue"),multipleSelection:!this._isSingleSelection(),recursiveSelection:this._isRecursiveSelection(),recursiveExpansion:this.option("expandNodesRecursive"),selectionRequired:this.option("selectionRequired"),dataType:this.option("dataStructure"),sort:this._dataSource&&this._dataSource.sort()}},_initMarkup:function(){this._renderScrollableContainer(),this._renderEmptyMessage(this._dataAdapter.getRootNodes()),this.callBase(),this.setAria("role","tree")},_renderContentImpl:function(){var e=this._renderNodeContainer();(0,o.default)(this.getScrollable().content()).append(e),this.option("items")&&this.option("items").length&&(this._renderItems(e,this._dataAdapter.getRootNodes()),this._initExpandEvent(),this._selectAllEnabled()&&(this._createSelectAllValueChangedAction(),this._renderSelectAllItem(e)))},_isVirtualMode:function(){return this.option("virtualModeEnabled")&&this._isDataStructurePlain()&&!!this.option("dataSource")},_isDataStructurePlain:function(){return"plain"===this.option("dataStructure")},_fireContentReadyAction:function(){var e=this.getDataSource(),t=e&&!e.isLoaded()||this._skipContentReadyAndItemExpanded,n=this.getScrollable();n&&(0,u.hasWindow)()&&n.update(),t||this.callBase(),n&&(0,u.hasWindow)()&&n.update()},_renderScrollableContainer:function(){this._scrollable=this._createComponent((0,o.default)("<div>").appendTo(this.$element()),y.default,{useNative:this.option("useNativeScrolling"),direction:this.option("scrollDirection"),useKeyboard:!1})},_renderNodeContainer:function(e){var t=(0,o.default)("<ul>").addClass(F);if(this.setAria("role","group",t),e&&e.length){var n=this._getItemData(e.children("."+_));this._expandedGetter(n)&&t.addClass(P),t.appendTo(e)}return t},_createDOMElement:function(e,t){var n=(0,o.default)("<li>").addClass(O).attr(j,this._encodeString(t.internalFields.key)).prependTo(e);return this.setAria({role:"treeitem",label:this._displayGetter(t.internalFields.item)||"",expanded:t.internalFields.expanded||!1,level:this._getLevel(e)},n),n},_getLevel:function(e){var t=e.parent();return t.hasClass("dx-scrollable-content")?1:parseInt(t.attr("aria-level"))+1},_showCheckboxes:function(){return"none"!==this.option("showCheckBoxesMode")},_selectAllEnabled:function(){return"selectAll"===this.option("showCheckBoxesMode")&&!this._isSingleSelection()},_renderItems:function(e,t){for(var n=t.length-1;n>=0;n--)this._renderItem(n,t[n],e);this._renderedItemsCount+=t.length},_renderItem:function(e,t,n){var i=this._createDOMElement(n,t),o=t.internalFields,a=this._showCheckboxes();i.addClass(a?B:M),i.toggleClass(G,!1===o.item.visible),a&&this._renderCheckBox(i,t),this.setAria("selected",o.selected,i),this._toggleSelectedClass(i,o.selected),this.callBase(this._renderedItemsCount+e,o.item,i),!1!==o.item.visible&&this._renderChildren(i,t)},_setAriaSelected:function(){},_renderChildren:function(e,t){var n=this;this._hasChildren(t)?(this._renderToggleItemVisibilityIcon(e,t),this.option("deferRendering")&&!t.internalFields.expanded||this._loadSublevel(t).done(function(i){n._renderSublevel(e,n._getActualNode(t),i)})):this._addLeafClass(e)},_getActualNode:function(e){return this._dataAdapter.getNodeByKey(e.internalFields.key)},_hasChildren:function(e){return this._isVirtualMode()||this._useCustomChildrenLoader()?!1!==this._hasItemsGetter(e.internalFields.item):this.callBase(e)},_loadSublevel:function(e){var t=this,n=new I.Deferred,i=this._getChildNodes(e);return i.length?n.resolve(i):this._loadNestedItems(e).done(function(e){n.resolve(t._dataAdapter.getNodesByItems(e))}),n.promise()},_renderSublevel:function(e,t,n){var i=this._renderNodeContainer(e,t),o=n.filter(function(e){return -1!==t.internalFields.childrenKeys.indexOf(e.internalFields.key)});if(this._renderItems(i,o),o.length&&!t.internalFields.selected){var a=o[0];this._updateParentsState(a,this._getNodeElement(a))}this._normalizeIconState(e,o.length),t.internalFields.expanded&&i.addClass(P)},_executeItemRenderAction:function(e,t,n){var i=this._getNode(n);this._getItemRenderAction()({itemElement:n,itemIndex:e,itemData:t,node:this._dataAdapter.getPublicNode(i)})},_addLeafClass:function(e){e.addClass(V)},_expandEventHandler:function(e){(0,o.default)(e.currentTarget.parentNode).hasClass(V)||this._toggleExpandedState(e.currentTarget,void 0,e)},_initExpandEvent:function(){var e=this._getEventNameByOption(this.option("expandEvent")),t=this._itemContainer(),n=this._itemSelector();r.default.off(t,"."+U,n),r.default.on(t,e,n,this._expandEventHandler.bind(this))},_getEventNameByOption:function(e){var t="click"===e?s.name:$.name;return(0,v.addNamespace)(t,U)},_getNode:function(e){if(!(0,c.isDefined)(e))return null;if(e.internalFields)return e;if((0,c.isPrimitive)(e))return this._dataAdapter.getNodeByKey(e);var t=(0,o.default)(e).get(0);return t?a.default.isElementNode(t)?this._getNodeByElement(t):this._dataAdapter.getNodeByItem(t):null},_getNodeByElement:function(e){var t=(0,o.default)(e).closest("."+O),n=this._decodeString(t.attr(j));return this._dataAdapter.getNodeByKey(n)},_toggleExpandedState:function(e,t,n){var i=this._getNode(e);if(!i||i.internalFields.disabled)return(new I.Deferred).reject().promise();var o=i.internalFields.expanded;if(o===t)return(new I.Deferred).resolve().promise();if(this._hasChildren(i)){var a=this._getNodeElement(i);if(a.find(".".concat(A,":not(.").concat(G,")")).length)return(new I.Deferred).reject().promise();this._createLoadIndicator(a)}return(0,c.isDefined)(t)||(t=!o),this._dataAdapter.toggleExpansion(i.internalFields.key,t),this._updateExpandedItemsUI(i,t,n)},_createLoadIndicator:function(e){var t=e.children("."+L),n=e.children(".".concat(F));t.hasClass(H)||n.not(":empty").length||(this._createComponent((0,o.default)("<div>").addClass(A),x.default,{}).$element().appendTo(e),t.hide())},_renderToggleItemVisibilityIcon:function(e,t){var n=(0,o.default)("<div>").addClass(L).appendTo(e);t.internalFields.expanded&&(n.addClass(H),e.parent().addClass(P)),t.internalFields.disabled&&n.addClass(K),this._renderToggleItemVisibilityIconClick(n,t)},_renderToggleItemVisibilityIconClick:function(e,t){var n=this,i=(0,v.addNamespace)(s.name,this.NAME);r.default.off(e,i),r.default.on(e,i,function(e){n._toggleExpandedState(t.internalFields.key,void 0,e)})},_updateExpandedItemsUI:function(e,t,n){var i=this._getNodeElement(e),o=!i.length||t&&i.is(":hidden");if(this.option("expandNodesRecursive")&&o){var a=this._getNode(e.internalFields.parentKey);a&&this._updateExpandedItemsUI(a,t,n)}var r=i.children("."+L),l=i.children(".".concat(F));r.toggleClass(H,t);var s=l.length>0,d=new I.Deferred;return t&&(!s||l.is(":empty"))?0===e.internalFields.childrenKeys.length&&(this._isVirtualMode()||this._useCustomChildrenLoader())?(this._loadNestedItemsWithUpdate(e,t,n,d),d.promise()):(this._renderSublevel(i,e,this._getChildNodes(e)),this._fireContentReadyAction(),this._animateNodeContainer(e,t,n,d),d.promise()):(this._animateNodeContainer(e,t,n,d),d.promise())},_loadNestedItemsWithUpdate:function(e,t,n,i){var o=this,a=this._getNodeElement(e);this._loadNestedItems(e).done(function(r){var l=o._getActualNode(e);o._renderSublevel(a,l,o._dataAdapter.getNodesByItems(r)),r&&r.length?(o._fireContentReadyAction(),o._animateNodeContainer(l,t,n,i)):i.resolve()})},_loadNestedItems:function(e){var t=this;if(this._useCustomChildrenLoader()){var n=this._dataAdapter.getPublicNode(e);return this._loadChildrenByCustomLoader(n).done(function(e){t._areNodesExists(e)||t._appendItems(e)})}return this._isVirtualMode()?(this._filter.internal=[this.option("parentIdExpr"),e.internalFields.key],this._dataSource.filter(this._combineFilter()),this._dataSource.load().done(function(e){t._areNodesExists(e)||t._appendItems(e)})):(new I.Deferred).resolve([]).promise()},_areNodesExists:function(e,t){var n=this.keyOf(e[0]),i=this._dataAdapter.getFullData();return!!this._dataAdapter.getNodeByKey(n,i)},_appendItems:function(e){this.option().items=this.option("items").concat(e),this._initDataAdapter()},_animateNodeContainer:function(e,t,n,o){var a=this._getNodeElement(e),r=a.children(".".concat(F));e&&o&&0===r.length&&o.resolve(),r.addClass(P);var l=(0,i.getHeight)(r);w.default.stop(r,!0),w.default.animate(r,{type:"custom",duration:this.option("animationEnabled")?400:0,from:{maxHeight:t?0:l},to:{maxHeight:t?l:0},complete:(function(){r.css("maxHeight","none"),r.toggleClass(P,t),this.setAria("expanded",t,a),this.getScrollable().update(),this._fireExpandedStateUpdatedEvent(t,e,n),o&&o.resolve()}).bind(this)})},_fireExpandedStateUpdatedEvent:function(e,t,n){if(this._hasChildren(t)&&!this._skipContentReadyAndItemExpanded){var i=e?"onItemExpanded":"onItemCollapsed";if((0,c.isDefined)(n))this._itemDXEventHandler(n,i,{node:this._dataAdapter.getPublicNode(t)});else{var o=this._getNodeElement(t);this._itemEventHandler(o,i,{event:n,node:this._dataAdapter.getPublicNode(t)})}}},_normalizeIconState:function(e,t){var n,i=e.find(".".concat(A));i.length&&(null===(n=x.default.getInstance(i))||void 0===n||n.option("visible",!1));var o=e.find(".".concat(L));t?o.show():(o.removeClass(L),e.addClass(V))},_emptyMessageContainer:function(){var e=this.getScrollable();return e?(0,o.default)(e.content()):this.callBase()},_renderContent:function(){var e=this.option("items");e&&e.length&&(this._contentAlreadyRendered=!0),this.callBase()},_renderSelectAllItem:function(e){e=e||this.$element().find(".".concat(F)).first(),this._$selectAllItem=(0,o.default)("<div>").addClass(z);var t=this._dataAdapter.isAllSelected();this._createComponent(this._$selectAllItem,g.default,{value:t,text:this.option("selectAllText"),onValueChanged:this._onSelectAllCheckboxValueChanged.bind(this)}),this._toggleSelectedClass(this._$selectAllItem,t),e.before(this._$selectAllItem)},_onSelectAllCheckboxValueChanged:function(e){this._toggleSelectAll(e),this._fireSelectAllValueChanged(e.value)},_toggleSelectAll:function(e){this._dataAdapter.toggleSelectAll(e.value),this._updateItemsUI(),this._fireSelectionChanged()},_renderCheckBox:function(e,t){var n=(0,o.default)("<div>").appendTo(e);this._createComponent(n,g.default,{value:t.internalFields.selected,onValueChanged:this._changeCheckboxValue.bind(this),focusStateEnabled:!1,disabled:this._disabledGetter(t)})},_toggleSelectedClass:function(e,t){e.toggleClass("dx-state-selected",!!t)},_toggleNodeDisabledState:function(e,t){var n=this._getNodeElement(e),i=n.find("."+_).eq(0);this._dataAdapter.toggleNodeDisabledState(e.internalFields.key,t),i.toggleClass(K,!!t),this._showCheckboxes()&&this._getCheckBoxInstance(n).option("disabled",!!t)},_itemOptionChanged:function(e,t,n){var i=this._dataAdapter.getNodeByItem(e);t===this.option("disabledExpr")&&this._toggleNodeDisabledState(i,n)},_changeCheckboxValue:function(e){var t=(0,o.default)(e.element).parent("."+O).children("."+_),n=this._getItemData(t),i=this._getNodeByElement(t),a=e.value;i&&i.internalFields.selected===a||this._updateItemSelection(a,n,e.event)},_isSingleSelection:function(){return"single"===this.option("selectionMode")},_isRecursiveSelection:function(){return this.option("selectNodesRecursive")&&"single"!==this.option("selectionMode")},_isLastSelectedBranch:function(e,t,n){var i=t.indexOf(e.key);return i>=0&&t.splice(i,1),n&&(0,f.each)(e.children,(function(e,n){this._isLastSelectedBranch(n,t,!0)}).bind(this)),e.parent&&this._isLastSelectedBranch(e.parent,t),0===t.length},_isLastRequired:function(e){var t=this.option("selectionRequired"),n=this._isSingleSelection(),i=this.getSelectedNodeKeys();if(t)return n?1===i.length:this._isLastSelectedBranch(e.internalFields.publicNode,i.slice(),!0)},_updateItemSelection:function(e,t,n){var i=this,o=this._getNode(t);if(!o||!1===o.visible)return!1;if(o.internalFields.selected===e)return!0;if(!e&&this._isLastRequired(o)){if(this._showCheckboxes()){var a=this._getNodeElement(o);this._getCheckBoxInstance(a).option("value",!0)}return!1}if(e&&this._isSingleSelection()){var r=this.getSelectedNodeKeys();(0,f.each)(r,function(e,t){i._dataAdapter.toggleSelection(t,!1),i._updateItemsUI(),i._fireItemSelectionChanged(i._getNode(t))})}this._dataAdapter.toggleSelection(o.internalFields.key,e);var l=this._dataAdapter.isAllSelected(),s=this._selectAllEnabled()&&this._$selectAllItem.dxCheckBox("instance").option("value")!==l;return this._updateItemsUI(),this._fireItemSelectionChanged(o,n),this._fireSelectionChanged(),s&&this._fireSelectAllValueChanged(l),!0},_fireItemSelectionChanged:function(e,t){var n=t||this._findItemElementByItem(e.internalFields.item);(t?this._itemDXEventHandler:this._itemEventHandler).call(this,n,"onItemSelectionChanged",{node:this._dataAdapter.getPublicNode(e),itemData:e.internalFields.item})},_getCheckBoxInstance:function(e){return e.children(".dx-checkbox").dxCheckBox("instance")},_updateItemsUI:function(){var e=this,t={};if((0,f.each)(this._dataAdapter.getData(),function(n,i){var o=e._getNodeElement(i,t),a=i.internalFields.selected;o.length&&(e._toggleSelectedClass(o,a),e.setAria("selected",a,o),e._showCheckboxes()&&e._getCheckBoxInstance(o).option("value",a))}),this._selectAllEnabled()){var n=this._$selectAllItem.dxCheckBox("instance");n.option("onValueChanged",void 0),n.option("value",this._dataAdapter.isAllSelected()),n.option("onValueChanged",this._onSelectAllCheckboxValueChanged.bind(this))}},_updateParentsState:function(e,t){if(t){var n=this._dataAdapter.getNodeByKey(e.internalFields.parentKey),i=(0,o.default)(t.parents("."+O)[0]);if(this._showCheckboxes()){var a=n.internalFields.selected;this._getCheckBoxInstance(i).option("value",a),this._toggleSelectedClass(i,a)}n.internalFields.parentKey!==this.option("rootValue")&&this._updateParentsState(n,i)}},_itemEventHandlerImpl:function(e,t,n){var i=(0,o.default)(e).closest("."+O).children("."+_);return t((0,h.extend)(this._extendActionArgs(i),n))},_itemContextMenuHandler:function(e){this._createEventHandler("onItemContextMenu",e)},_itemHoldHandler:function(e){this._createEventHandler("onItemHold",e)},_createEventHandler:function(e,t){var n=this._getNodeByElement(t.currentTarget);this._itemDXEventHandler(t,e,{node:this._dataAdapter.getPublicNode(n)})},_itemClass:function(){return _},_itemDataKey:function(){return k},_attachClickEvent:function(){var e="."+this._itemClass(),t="."+O+", ."+z,n=(0,v.addNamespace)(s.name,this.NAME),i=(0,v.addNamespace)(C.default.down,this.NAME),a=this._itemContainer(),l=this;r.default.off(a,n,e),r.default.off(a,i,t),r.default.on(a,n,e,function(e){l._itemClickHandler(e,(0,o.default)(this))}),r.default.on(a,i,t,function(e){l._itemPointerDownHandler(e)})},_itemClickHandler:function(e,t){var n=this._getItemData(t),i=this._getNodeByElement(t);this._itemDXEventHandler(e,"onItemClick",{node:this._dataAdapter.getPublicNode(i)}),this.option("selectByClick")&&!e.isDefaultPrevented()&&this._updateItemSelection(!i.internalFields.selected,n,e)},_updateSelectionToFirstItem:function(e,t){for(var n=t;n>=0;){var i=(0,o.default)(e[n]);this._updateItemSelection(!0,i.find("."+_).get(0)),n--}},_updateSelectionToLastItem:function(e,t){for(var n=e.length,i=t;i<n;){var a=(0,o.default)(e[i]);this._updateItemSelection(!0,a.find("."+_).get(0)),i++}},focus:function(){this._selectAllEnabled()?r.default.trigger(this._$selectAllItem,"focus"):this.callBase()},_focusInHandler:function(e){var t=this;this._updateFocusState(e,!0);var n=(0,o.default)(e.target).hasClass(z);if(n||this.option("focusedElement")){clearTimeout(this._setFocusedItemTimeout);var i=n?(0,p.getPublicElement)(this._$selectAllItem):(0,o.default)(this.option("focusedElement"));this._setFocusedItemTimeout=setTimeout(function(){t._setFocusedItem(i)})}else{var a=this._getActiveItem();this.option("focusedElement",(0,p.getPublicElement)(a.closest("."+O)))}},_setFocusedItem:function(e){e&&e.length&&(e.children().hasClass(K)||this.callBase(e))},_itemPointerDownHandler:function(e){if(this.option("focusStateEnabled")){var t=(0,o.default)(e.target).closest("."+O+", ."+z);if(t.length){var n=t.hasClass(K)?null:t;this.option("focusedElement",(0,p.getPublicElement)(n))}}},_findNonDisabledNodes:function(e){return e.not(function(){return(0,o.default)(this).children("."+_).hasClass(K)})},_moveFocus:function(e,t){var n=this.option("rtlEnabled")?"right":"left",i=this.option("rtlEnabled")?"left":"right";this.$element().find(".".concat(F)).each(function(){w.default.stop(this,!0)});var o=this._findNonDisabledNodes(this._nodeElements());if(o&&o.length)switch(e){case"up":var a=this._prevItem(o);this.option("focusedElement",(0,p.getPublicElement)(a));var r=this._getNodeItemElement(a);this.getScrollable().scrollToElement(r),t.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,r);break;case"down":var l=this._nextItem(o);this.option("focusedElement",(0,p.getPublicElement)(l));var s=this._getNodeItemElement(l);this.getScrollable().scrollToElement(s),t.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,s);break;case"first":var d=o.first();t.shiftKey&&this._showCheckboxes()&&this._updateSelectionToFirstItem(o,o.index(this._prevItem(o))),this.option("focusedElement",(0,p.getPublicElement)(d)),this.getScrollable().scrollToElement(this._getNodeItemElement(d));break;case"last":var u=o.last();t.shiftKey&&this._showCheckboxes()&&this._updateSelectionToLastItem(o,o.index(this._nextItem(o))),this.option("focusedElement",(0,p.getPublicElement)(u)),this.getScrollable().scrollToElement(this._getNodeItemElement(u));break;case i:this._expandFocusedContainer();break;case n:this._collapseFocusedContainer();break;default:return void this.callBase.apply(this,arguments)}},_getNodeItemElement:function(e){return e.find("."+_).get(0)},_nodeElements:function(){return this.$element().find("."+O).not(":hidden")},_expandFocusedContainer:function(){var e=(0,o.default)(this.option("focusedElement"));if(e.length&&!e.hasClass(V)){if(e.find(".".concat(F)).eq(0).hasClass(P)){var t=this._nextItem(this._findNonDisabledNodes(this._nodeElements()));return this.option("focusedElement",(0,p.getPublicElement)(t)),void this.getScrollable().scrollToElement(this._getNodeItemElement(t))}var n=this._getNodeByElement(e.children("."+_));this._toggleExpandedState(n,!0)}},_getClosestNonDisabledNode:function(e){do e=e.parent().closest("."+O);while(e.children(".dx-treeview-item.dx-state-disabled").length);return e},_collapseFocusedContainer:function(){var e=(0,o.default)(this.option("focusedElement"));if(e.length){var t=e.find(".".concat(F)).eq(0);if(!e.hasClass(V)&&t.hasClass(P)){var n=this._getNodeByElement(e.children("."+_));this._toggleExpandedState(n,!1)}else{var i=this._getClosestNonDisabledNode(e);i.length&&this.option("focusedElement",(0,p.getPublicElement)(i)),this.getScrollable().scrollToElement(this._getNodeItemElement(i))}}},_encodeString:function(e){return(0,c.isString)(e)?encodeURI(e):e},_decodeString:function(e){return(0,c.isString)(e)?decodeURI(e):e},getScrollable:function(){return this._scrollable},updateDimensions:function(){var e=this,t=new I.Deferred,n=this.getScrollable();return n?n.update().done(function(){t.resolveWith(e)}):t.resolveWith(this),t.promise()},selectItem:function(e){return this._updateItemSelection(!0,e)},unselectItem:function(e){return this._updateItemSelection(!1,e)},expandItem:function(e){return this._toggleExpandedState(e,!0)},collapseItem:function(e){return this._toggleExpandedState(e,!1)},getNodes:function(){return this._dataAdapter.getTreeNodes()},getSelectedNodes:function(){var e=this;return this.getSelectedNodeKeys().map(function(t){var n=e._dataAdapter.getNodeByKey(t);return e._dataAdapter.getPublicNode(n)})},getSelectedNodesKeys:function(){return E.default.log("W0002","dxTreeView","getSelectedNodesKeys","20.1","Use the 'getSelectedNodeKeys' method instead"),this.getSelectedNodeKeys()},getSelectedNodeKeys:function(){return this._dataAdapter.getSelectedNodesKeys()},selectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!0):this._toggleSelectAll({value:!0})},unselectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!1):this._toggleSelectAll({value:!1})},_allItemsExpandedHandler:function(){this._skipContentReadyAndItemExpanded=!1,this._fireContentReadyAction()},expandAll:function(){var e=this,t=this._dataAdapter.getData(),n=[];this._skipContentReadyAndItemExpanded=!0,t.forEach(function(t){return n.push(e._toggleExpandedState(t.internalFields.key,!0))}),Promise.allSettled(n).then(function(){var t;return null===(t=e._allItemsExpanded)||void 0===t?void 0:t.call(e)})},collapseAll:function(){(0,f.each)(this._dataAdapter.getExpandedNodesKeys(),(function(e,t){this._toggleExpandedState(t,!1)}).bind(this))},scrollToItem:function(e){var t=this,n=this._getNode(e);if(!n)return(new I.Deferred).reject().promise();for(var i=[],o=n.internalFields.publicNode.parent;null!=o;)o.expanded||i.push(o.key),o=o.parent;var a=new I.Deferred;return this._expandNodes(i.reverse()).always(function(){var e=t._getNodeElement(n);e&&e.length?(t.scrollToElementTopLeft(e.get(0)),a.resolve()):a.reject()}),a.promise()},scrollToElementTopLeft:function(e){var t=this.getScrollable(),n=this.option(),i=n.scrollDirection,a=n.rtlEnabled,r={top:0,left:0},l=(0,S.getRelativeOffset)(T.SCROLLABLE_CONTENT_CLASS,e);if(i!==T.DIRECTION_VERTICAL){var s=(0,o.default)(t.container()).get(0);r.left=a?l.left+e.offsetWidth-s.clientWidth:l.left}i!==T.DIRECTION_HORIZONTAL&&(r.top=l.top),t.scrollTo(r)},_expandNodes:function(e){var t=this;if(!e||0===e.length)return(new I.Deferred).resolve().promise();var n=new I.Deferred,i=e.map(function(e){return t.expandItem(e)});return I.when.apply(o.default,i).done(function(){return n.resolve()}).fail(function(){return n.reject()}),n.promise()},_dispose:function(){this.callBase(),clearTimeout(this._setFocusedItemTimeout),this._allItemsExpandedHandler=null}});t.default=q,e.exports=t.default,e.exports.default=t.default},26163(e,t,n){t.default=void 0;var i=d(n(68689)),o=d(n(80688)),a=d(n(15127)),r=d(n(13943)),l=n(68841),s=d(n(79146));function d(e){return e&&e.__esModule?e:{default:e}}a.default.setEditorClass(r.default);var u="dx-treeview",c="".concat(u,"-node-container"),h=s.default.inherit(a.default).inherit({_addWidgetPrefix:function(e){return"".concat(u,"-").concat(e)},_optionChanged:function(e){switch(e.name){case"searchValue":this._showCheckboxes()&&this._isRecursiveSelection()&&this._removeSelection(),this._initDataAdapter(),this._updateSearch(),this._repaintContainer(),this.option("focusedElement",null);break;case"searchExpr":this._initDataAdapter(),this.repaint();break;case"searchMode":this.option("expandNodesRecursive")?this._updateDataAdapter():this._initDataAdapter(),this.repaint();break;default:this.callBase(e)}},_updateDataAdapter:function(){this._setOptionWithoutOptionChange("expandNodesRecursive",!1),this._initDataAdapter(),this._setOptionWithoutOptionChange("expandNodesRecursive",!0)},_getDataAdapterOptions:function(){return(0,l.extend)(this.callBase(),{searchValue:this.option("searchValue"),searchMode:this.option("searchMode")||"contains",searchExpr:this.option("searchExpr")})},_getNodeContainer:function(){return this.$element().find(".".concat(c)).first()},_updateSearch:function(){if(this._searchEditor){var e=this._getSearchEditorOptions();this._searchEditor.option(e)}},_repaintContainer:function(){var e,t=this._getNodeContainer();t.length&&(t.empty(),e=this._dataAdapter.getRootNodes(),this._renderEmptyMessage(e),this._renderItems(t,e),this._fireContentReadyAction())},_focusTarget:function(){return this._itemContainer(this.option("searchEnabled"))},_cleanItemContainer:function(){this.$element().empty()},_itemContainer:function(e){return this._selectAllEnabled()?this._getNodeContainer():this._scrollable&&e?(0,i.default)(this._scrollable.content()):this.callBase()},_addWidgetClass:function(){this.$element().addClass(this._widgetClass())},_clean:function(){this.callBase(),this._removeSearchBox()}});(0,o.default)("dxTreeView",h),t.default=h,e.exports=t.default,e.exports.default=t.default}}]);