"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[229],{2374:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExportController=t.DataProvider=void 0,n(17154),n(54623);var i=p(n(94965)),o=n(74460),r=n(65102),a=n(37954),l=n(31662),s=n(49859),d=p(n(63585)),u=p(n(63423)),c=p(n(47625)),h=n(20768),f=p(n(48501));function p(e){return e&&e.__esModule?e:{default:e}}function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},g.apply(this,arguments)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function _(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var C="dx-datagrid-export-button",w="export",y=function(){function e(e,t,n){this._exportController=e,this._initialColumnWidthsByColumnIndex=t,this._selectedRowsOnly=n}var t=e.prototype;return t._getGroupValue=function(e){var t=e.key,n=e.data,i=e.rowType,o=e.groupIndex,r=e.summaryCells,a=this._options.groupColumns[o],l=f.default.getDisplayValue(a,a.deserializeValue?a.deserializeValue(t[o]):t[o],n,i),s="".concat(a.caption,": ").concat(f.default.formatValue(l,a));return r&&r[0]&&r[0].length&&(s+=" ".concat(f.default.getGroupRowSummaryText(r[0],this._options.summaryTexts))),s},t._correctCellIndex=function(e){return e},t._initOptions=function(){var e=this._exportController,t=e._columnsController.getGroupColumns();this._options={columns:e._getColumns(this._initialColumnWidthsByColumnIndex),groupColumns:t,items:this._selectedRowsOnly||e._selectionOnly?e._getSelectedItems():e._getAllItems(),isHeadersVisible:e.option("showColumnHeaders"),summaryTexts:e.option("summary.texts"),rtlEnabled:e.option("rtlEnabled")}},t.getHeaderStyles=function(){return[{bold:!0,alignment:"center"},{bold:!0,alignment:"left"},{bold:!0,alignment:"right"}]},t.getGroupRowStyle=function(){return{bold:!0,alignment:(0,a.getDefaultAlignment)(this._options.rtlEnabled)}},t.getColumnStyles=function(){var e=[];return this.getColumns().forEach((function(t){e.push({alignment:t.alignment||"left",format:t.format,dataType:t.dataType})})),e},t.getStyles=function(){return[].concat(_(this.getHeaderStyles()),_(this.getColumnStyles()),[this.getGroupRowStyle()])},t._getTotalCellStyleId=function(e){var t,n=(null===(t=this.getColumns()[e])||void 0===t?void 0:t.alignment)||"right";return this.getHeaderStyles().map((function(e){return e.alignment})).indexOf(n)},t.getStyleId=function(e,t){return e<this.getHeaderRowCount()?0:this.isTotalCell(e-this.getHeaderRowCount(),t)?this._getTotalCellStyleId(t):this.isGroupRow(e-this.getHeaderRowCount())?this.getHeaderStyles().length+this.getColumns().length:t+this.getHeaderStyles().length},t.getColumns=function(e){var t=this._options.columns;return e?t:t[t.length-1]},t.getColumnsWidths=function(){var e=this.getColumns();return(0,s.isDefined)(e)?e.map((function(e){return e.width})):void 0},t.getRowsCount=function(){return this._options.items.length+this.getHeaderRowCount()},t.getHeaderRowCount=function(){return this.isHeadersVisible()?this._options.columns.length-1:0},t.isGroupRow=function(e){return e<this._options.items.length&&"group"===this._options.items[e].rowType},t.getGroupLevel=function(e){var t=this._options.items[e-this.getHeaderRowCount()],n=t&&t.groupIndex;return t&&"totalFooter"===t.rowType?0:(0,s.isDefined)(n)?n:this._options.groupColumns.length},t.getCellType=function(e,t){var n=this.getColumns();if(e<this.getHeaderRowCount())return"string";if(e-=this.getHeaderRowCount(),t<n.length){var i=this._options.items.length&&this._options.items[e],o=n[t];return i&&"data"===i.rowType&&isFinite(i.values[this._correctCellIndex(t)])&&!(0,s.isDefined)(o.customizeText)?(0,s.isDefined)(o.lookup)?o.lookup.dataType:o.dataType:"string"}},t.ready=function(){this._initOptions();var e=this._options;return(0,o.when)(e.items).done((function(t){e.items=t})).fail((function(){e.items=[]}))},t._convertFromGridGroupSummaryItems=function(e){if((0,s.isDefined)(e)&&e.length>0)return e.map((function(e){return{value:e.value,name:e.name}}))},t.getCellData=function(e,t,n){var i,o,r={cellSourceData:{},value:i},a=this.getColumns(),l=this._correctCellIndex(t);if(e<this.getHeaderRowCount()){o=this.getColumns(!0)[e][t],r.cellSourceData.rowType="header",r.cellSourceData.column=o&&o.gridColumn,r.value=o&&o.caption}else{e-=this.getHeaderRowCount();var d=this._options.items.length&&this._options.items[e];if(d){var u=d.values;switch(r.cellSourceData.rowType=d.rowType,r.cellSourceData.column=a[t]&&a[t].gridColumn,d.rowType){case"groupFooter":case"totalFooter":l<u.length&&(i=u[l],(0,s.isDefined)(i)?(r.cellSourceData.value=i.value,r.cellSourceData.totalSummaryItemName=i.name,r.value=f.default.getSummaryText(i,this._options.summaryTexts)):r.cellSourceData.value=void 0);break;case"group":if(r.cellSourceData.groupIndex=d.groupIndex,t<1)r.cellSourceData.column=this._options.groupColumns[d.groupIndex],r.cellSourceData.value=d.key[d.groupIndex],r.cellSourceData.groupSummaryItems=this._convertFromGridGroupSummaryItems(d.summaryCells[0]),r.value=this._getGroupValue(d);else{var c=d.values[l];if(Array.isArray(c)){r.cellSourceData.groupSummaryItems=this._convertFromGridGroupSummaryItems(c),i="";for(var h=0;h<c.length;h++)i+=(h>0?n?"\n":" \n ":"")+f.default.getSummaryText(c[h],this._options.summaryTexts);r.value=i}else r.cellSourceData.value=void 0}break;default:if(o=a[t]){var p=u[l],g=f.default.getDisplayValue(o,p,d.data,d.rowType);!isFinite(g)||(0,s.isDefined)(o.customizeText)?n&&(0,s.isDefined)(o.customizeText)&&o.customizeText===this._exportController._columnsController.getCustomizeTextByDataType("boolean")?r.value=g:r.value=f.default.formatValue(g,o):r.value=g,r.cellSourceData.value=p}r.cellSourceData.data=d.data}}}return r},t.isHeadersVisible=function(){return this._options.isHeadersVisible},t.isTotalCell=function(e,t){var n=this._options.items[e],i=this._correctCellIndex(t),o=n.summaryCells&&n.summaryCells[i]&&n.summaryCells[i].length>0&&n.summaryCells[i][0].alignByColumn;return n&&"groupFooter"===n.rowType||"totalFooter"===n.rowType||o},t.getCellMerging=function(e,t){var n=this._options.columns,i=n[e]&&n[e][t];return i?{colspan:(i.exportColspan||1)-1,rowspan:(i.rowspan||1)-1}:{colspan:0,rowspan:0}},t.getFrozenArea=function(){return{x:0,y:this.getHeaderRowCount()}},e}();t.DataProvider=y;var x=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,m(t,n);var a=i.prototype;return a._getEmptyCell=function(){return{caption:"",colspan:1,rowspan:1}},a._updateColumnWidth=function(e,t){e.width=t},a._getColumns=function(e){var t,n,i=[],o=this._columnsController,a=o.getRowCount();for(t=0;t<=a;t++){var l=[];n=o.getVisibleColumns(t,!0);var d=void 0;if(t===a)if(this._updateLockCount)d=e;else{var u=this._getColumnWidths(this._headersView,this._rowsView);if(u&&u.length){d={};for(var c=0;c<n.length;c++)d[n[c].index]=u[c]}}for(var f=0;f<n.length;f++){var p=(0,r.extend)({},n[f],{dataType:"datetime"===n[f].dataType?"date":n[f].dataType,gridColumn:n[f]});if(this._needColumnExporting(p)){var g=this._calculateExportColspan(p);(0,s.isDefined)(g)&&(p.exportColspan=g),d&&this._updateColumnWidth(p,d[p.index]),l.push(p)}}i.push(l)}return n=i[a],(i=(0,h.prepareItems)(i.slice(0,-1),this._getEmptyCell())).push(n),i},a._calculateExportColspan=function(e){var t=this;if(e.isBand){var n=this._columnsController.getChildrenByBandColumn(e.index,!0);if((0,s.isDefined)(n))return n.reduce((function(e,n){return t._needColumnExporting(n)?e+(t._calculateExportColspan(n)||1):e}),0)}},a._needColumnExporting=function(e){return!e.command&&(e.allowExporting||void 0===e.allowExporting)},a._getFooterSummaryItems=function(e,t){var n=[],i=1,o=0;do{for(var r=[],a=0;a<e.length;a++){var l=e[a],s=l.length;i<s&&(i=s),r.push(l[o])}n.push({values:r,rowType:t?"totalFooter":"groupFooter"})}while(o++<i-1);return n},a._hasSummaryGroupFooters=function(){var e=this.option("summary.groupItems");if((0,s.isDefined)(e))for(var t=0;t<e.length;t++)if(e[t].showInGroupFooter)return!0;return!1},a._getItemsWithSummaryGroupFooters=function(e){for(var t=[],n=[],i=[],o=0;o<e.length;o++){var r=e[o];"groupFooter"===r.rowType?(i=this._getFooterSummaryItems(r.summaryCells),t=t.concat(n,i),n=[]):n.push(r)}return t.length?t:n},a._updateGroupValuesWithSummaryByColumn=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],o=i.summaryCells;if("group"===i.rowType&&o&&o.length>1){for(var r,a=i.values.length,l=1;l<o.length;l++)for(var s=0;s<o[l].length;s++){var d=o[l][s];d&&d.alignByColumn&&(Array.isArray(t[l-a])||(t[l-a]=[]),t[l-a].push(d))}if(t.length>0)(r=i.values).push.apply(r,_(t)),t=[]}}},a._processUnExportedItems=function(e){for(var t,n,i=this._columnsController.getVisibleColumns(null,!0),o=this._columnsController.getGroupColumns(),r=0;r<e.length;r++){var a=e[r],l=!1;t=[],n=[];for(var s=0;s<i.length;s++){var d=i[s];if(l||(l=["detailExpand","buttons"].includes(d.type)),this._needColumnExporting(d)&&(a.values&&("group"!==a.rowType||t.length?t.push(a.values[s]):t.push(a.key[a.groupIndex])),a.summaryCells))if("group"!==a.rowType||n.length)n.push(a.summaryCells[s]);else{var u=s-o.length+a.groupIndex;n.push(a.summaryCells[l?u:u+1])}}t.length&&(a.values=t),n.length&&(a.summaryCells=n)}},a._getAllItems=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this,r=new o.Deferred,a=this.getController("data"),l=a.footerItems(),d=l.length&&l[0],u=i.option("summary.totalItems");return(0,o.when)(e).done((function(e){a.loadAll(e,n).done((function(e,n){i._updateGroupValuesWithSummaryByColumn(e),i._hasSummaryGroupFooters()&&(e=i._getItemsWithSummaryGroupFooters(e)),t=d&&d.summaryCells,(0,s.isDefined)(n)&&u&&(t=i._getSummaryCells(u,n));var o=d&&i._getFooterSummaryItems(t,!0);o&&(e=e.concat(o)),i._processUnExportedItems(e),r.resolve(e)})).fail(r.reject)})).fail(r.reject),r},a._getSummaryCells=function(e,t){var n=this.getController("data"),i=n._columnsController;return n._calculateSummaryCells(e,t,i.getVisibleColumns(null,!0),(function(e,t){return n._isDataColumn(t)?t.index:-1}))},a._getSelectedItems=function(){var e=this.getController("selection");return this.needLoadItemsOnExportingSelectedItems()?this._getAllItems(e.loadSelectedItemsWithFilter(),!0):this._getAllItems(e.getSelectedRowsData())},a._getColumnWidths=function(e,t){return e&&e.isVisible()?e.getColumnWidths():t.getColumnWidths()},a.throwWarningIfNoOnExportingEvent=function(){var e,t,n=null===(t=(e=this.component).hasActionSubscription)||void 0===t?void 0:t.call(e,"onExporting");this.option("export.enabled")&&!n&&c.default.log("W1024")},a.init=function(){this.throwWarningIfNoOnExportingEvent(),this._columnsController=this.getController("columns"),this._rowsView=this.getView("rowsView"),this._headersView=this.getView("columnHeadersView"),this.createAction("onExporting",{excludeValidators:["disabled","readOnly"]})},a.callbackNames=function(){return["selectionOnlyChanged"]},a.getDataProvider=function(e){var t,n=this._getColumnWidths(this._headersView,this._rowsView);if(n&&n.length){t={};for(var i=this._columnsController.getVisibleColumns(this._columnsController.getRowCount(),!0),o=0;o<i.length;o++)t[i[o].index]=n[o]}return new y(this,t,e)},a.exportTo=function(e,t){this._selectionOnly=e;var n=this.getAction("onExporting"),i={rtlEnabled:this.option("rtlEnabled"),selectedRowsOnly:!!e,format:t,fileName:"DataGrid",cancel:!1};(0,s.isFunction)(n)&&n(i)},a.publicMethods=function(){return["getDataProvider"]},a.selectionOnly=function(e){if(!(0,s.isDefined)(e))return this._isSelectedRows;this._isSelectedRows=e,this.selectionOnlyChanged.fire()},a.optionChanged=function(t){e.prototype.optionChanged.call(this,t),"export"===t.name&&this.throwWarningIfNoOnExportingEvent()},a.needLoadItemsOnExportingSelectedItems=function(){var e;return null!==(e=this.option("loadItemsOnExportingSelectedItems"))&&void 0!==e?e:this.getController("data")._dataSource.remoteOperations().filtering},i}(f.default.ViewController);t.ExportController=x,f.default.registerModule("export",{defaultOptions:function(){return{export:{enabled:!1,fileName:"DataGrid",formats:["xlsx"],allowExportSelectedData:!1,texts:{exportTo:d.default.format("dxDataGrid-exportTo"),exportAll:d.default.format("dxDataGrid-exportAll"),exportSelectedRows:d.default.format("dxDataGrid-exportSelectedRows")}}}},controllers:{export:x},extenders:{controllers:{editing:{callbackNames:function(){var e=this.callBase();return(0,s.isDefined)(e)?e.push("editingButtonsUpdated"):["editingButtonsUpdated"]},_updateEditButtons:function(){this.callBase(),this.editingButtonsUpdated.fire()}}},views:{headerPanel:{_getToolbarItems:function(){var e=this.callBase(),t=this._getExportToolbarButton();return t&&(e.push(t),this._correctItemsPosition(e)),e},_getExportToolbarButton:function(){var e=this,t=this._getExportToolbarItems();if(0===t.length)return null;var n=this._needDisableExportButton(),o={name:"exportButton",location:"after",locateInMenu:"auto",sortIndex:30,options:{items:t},disabled:n};if(1===t.length){var r=g(g({},t[0]),{hint:t[0].text,elementAttr:{class:C}});o.widget="dxButton",o.showText="inMenu",o.options=r}else{var a={icon:w,displayExpr:"text",items:t,hint:this.option("export.texts.exportTo"),elementAttr:{class:C},dropDownOptions:{width:"auto",_wrapperClassExternal:"dx-datagrid-export-menu"}};o.options=a,o.widget="dxDropDownButton",o.menuItemTemplate=function(n,o,r){e._createComponent((0,i.default)(r),u.default,{items:t})}}return o},_getExportToolbarItems:function(){var e,t=this,n=this.option("export"),i=this.option("export.texts"),o=null!==(e=this.option("export.formats"))&&void 0!==e?e:[];if(!n.enabled)return[];var r=[];return o.forEach((function(e){var o=e.toUpperCase(),a=w;"xlsx"===e&&(o="Excel",a="xlsxfile"),"pdf"===e&&(a="pdffile"),r.push({text:(0,l.format)(i.exportAll,o),icon:a,onClick:function(){t._exportController.exportTo(!1,e)}}),n.allowExportSelectedData&&r.push({text:(0,l.format)(i.exportSelectedRows,o),icon:"exportselected",onClick:function(){t._exportController.exportTo(!0,e)}})})),r},_correctItemsPosition:function(e){e.sort((function(e,t){return e.sortIndex-t.sortIndex}))},_isExportButtonVisible:function(){return this.option("export.enabled")},optionChanged:function(e){this.callBase(e),"export"===e.name&&(e.handled=!0,this._invalidate())},_needDisableExportButton:function(){var e=!this._columnsController.hasVisibleDataColumns(),t=this._editingController.hasChanges();return e||t},_columnOptionChanged:function(e){if(this.callBase(e),f.default.checkChanges(e.optionNames,["groupIndex","visible","all"])){var t=this._needDisableExportButton();this.setToolbarItemDisabled("exportButton",t)}},init:function(){var e=this;this.callBase(),this._exportController=this.getController("export"),this._editingController=this.getController("editing"),this._editingController.editingButtonsUpdated.add((function(){var t=e._needDisableExportButton();e.setToolbarItemDisabled("exportButton",t)}))},isVisible:function(){return this.callBase()||this._isExportButtonVisible()}}}}})},13916:(e,t,n)=>{var i,o=n(48152),r=n(14928),a=n(74460),l=n(65102),s=n(49859),d=n(97104),u=(i=n(48501))&&i.__esModule?i:{default:i},c=n(45836);function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var f=Number.MAX_SAFE_INTEGER||9007199254740991;u.default.registerModule("focus",(0,l.extend)(!0,{},d.focusModule,{extenders:{controllers:{data:function(e){return function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,h(t,n);var l=i.prototype;return l.changeRowExpand=function(t,n){if(this.option("focusedRowEnabled")&&Array.isArray(t)&&this.isRowExpanded(t)){var i=this.getController("keyboardNavigation");n&&i.isKeyboardEnabled()||!this._isFocusedRowInsideGroup(t)||this.option("focusedRowKey",t)}return e.prototype.changeRowExpand.call(this,t,n)},l._isFocusedRowInsideGroup=function(e){var t=this.getController("columns"),n=this.option("focusedRowKey"),i=this.getRowIndexByKey(n),o=i>=0&&this.getVisibleRows()[i],a=t.getGroupDataSourceParameters(!0);if(o)for(var l=0;l<e.length;++l){if((0,r.compileGetter)(a[l]&&a[l].selector)(o.data)!==e[l])return!1}return!0},l._getGroupPath=function(e,t){for(var n=[],i=[e];i&&i[0]&&t;){var o=i[0];void 0!==o.key&&n.push(o.key),i=o.items,t--}return n},l._expandGroupByPath=function(e,t,n){var i=new a.Deferred;return n++,e.expandRow(t.slice(0,n)).done((function(){n===t.length?i.resolve():e._expandGroupByPath(e,t,n).done(i.resolve).fail(i.reject)})).fail(i.reject),i.promise()},l._calculateGlobalRowIndexByGroupedData=function(e){var t=this,n=t._dataSource,i=t._generateFilterByKey(e),o=new a.Deferred,r=Array.isArray(e),l=n.group();return r?o.resolve(-1).promise():n._grouping._updatePagingOptions?(n.load({filter:t._concatWithCombinedFilter(i),group:l}).done((function(n){if(!n||0===n.length||!(0,s.isDefined)(n[0].key)||-1===n[0].key)return o.resolve(-1).promise();var i=t._getGroupPath(n[0],l.length);t._expandGroupByPath(t,i,0).done((function(){t._calculateExpandedRowGlobalIndex(o,e,i,l)})).fail(o.reject)})).fail(o.reject),o.promise()):(t._calculateGlobalRowIndexByFlatData(e,null,!0).done(o.resolve).fail(o.reject),o)},l._calculateExpandedRowGlobalIndex=function(e,t,n,i){var r,a=(0,c.createGroupFilter)(n,{group:i}),l=this._dataSource,s=this.option("scrolling.mode"),d="virtual"===s||"infinite"===s,u=l.pageSize();l._grouping._updatePagingOptions({skip:0,take:f},(function(e,t){(0,o.equalByValue)(e.path,n)&&(r=t)})),this._calculateGlobalRowIndexByFlatData(t,a).done((function(t){var i,o;t<0?e.resolve(-1):(i=(r%u||u)+t-n.length,o=d?0:Math.floor(i/(u-n.length))*n.length,i=r+t+o,e.resolve(i))})).fail(e.reject)},i}(e.inherit(d.focusModule.extenders.controllers.data))}}}}))},96265:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GroupingHeaderPanelExtender=void 0;var i=m(n(70974)),o=m(n(94965)),r=n(74460),a=n(96993),l=n(21620),s=n(49859),d=m(n(63585)),u=n(54839),c=n(88297),h=m(n(48501)),f=m(n(86291)),p=n(95193),g=n(30332);function m(e){return e&&e.__esModule?e:{default:e}}var _="dx-datagrid-group-panel",v="dx-group-panel-item",C="dx-toolbar-label",w={init:function(){this.callBase.apply(this,arguments),this._initGroupingHelper()},_initGroupingHelper:function(e){var t=this._grouping,n=this.option("grouping.autoExpandAll"),i=this.option("focusedRowEnabled"),o=e?e.remoteOperations:this.remoteOperations();!(o.filtering&&o.sorting&&o.paging)||o.grouping||!n&&i?(!t||t instanceof g.GroupingHelper)&&(this._grouping=new p.GroupingHelper(this)):(!t||t instanceof p.GroupingHelper)&&(this._grouping=new g.GroupingHelper(this))},totalItemsCount:function(){var e=this.callBase();return e>0&&this._dataSource.group()&&this._dataSource.requireTotalCount()?e+this._grouping.totalCountCorrection():e},itemsCount:function(){return this._dataSource.group()?this._grouping.itemsCount()||0:this.callBase.apply(this,arguments)},allowCollapseAll:function(){return this._grouping.allowCollapseAll()},isGroupItemCountable:function(e){return this._grouping.isGroupItemCountable(e)},isRowExpanded:function(e){var t=this._grouping.findGroupInfo(e);return t?t.isExpanded:!this._grouping.allowCollapseAll()},collapseAll:function(e){return this._collapseExpandAll(e,!1)},expandAll:function(e){return this._collapseExpandAll(e,!0)},_collapseExpandAll:function(e,t){var n=this._dataSource,i=n.group(),o=h.default.normalizeSortingInfo(i||[]);if(o.length){for(var r=0;r<o.length;r++)void 0===e||e===r?o[r].isExpanded=t:i&&i[r]&&(o[r].isExpanded=i[r].isExpanded);n.group(o),this._grouping.foreachGroups((function(n,i){void 0!==e&&e!==i.length-1||(n.isExpanded=t)}),!1,!0),this.resetPagesCache()}return!0},refresh:function(){return this.callBase.apply(this,arguments),this._grouping.refresh.apply(this._grouping,arguments)},changeRowExpand:function(e){var t=this._dataSource;if(t.group())return t.beginLoading(),this._lastLoadOptions&&(this._lastLoadOptions.groupExpand=!0),this._changeRowExpandCore(e).always((function(){t.endLoading()}))},_changeRowExpandCore:function(e){return this._grouping.changeRowExpand(e)},_hasGroupLevelsExpandState:function(e,t){if(e&&Array.isArray(e))for(var n=0;n<e.length;n++)if(e[n].isExpanded===t)return!0},_customizeRemoteOperations:function(e,t){var n=e.remoteOperations;e.storeLoadOptions.group?(n.grouping&&!e.isCustomLoading&&(n.groupPaging&&!this._hasGroupLevelsExpandState(e.storeLoadOptions.group,!0)||(n.paging=!1)),n.grouping||n.sorting&&n.filtering&&!e.isCustomLoading&&!this._hasGroupLevelsExpandState(e.storeLoadOptions.group,!1)||(n.paging=!1)):!e.isCustomLoading&&n.paging&&t.grouping&&this.resetCache(),this.callBase.apply(this,arguments)},_handleDataLoading:function(e){return this.callBase(e),this._initGroupingHelper(e),this._grouping.handleDataLoading(e)},_handleDataLoaded:function(e){return this._grouping.handleDataLoaded(e,this.callBase.bind(this))},_handleDataLoadedCore:function(e){return this._grouping.handleDataLoadedCore(e,this.callBase.bind(this))}};f.default.extend(w);var y={init:function(){this.callBase(),this.createAction("onRowExpanding"),this.createAction("onRowExpanded"),this.createAction("onRowCollapsing"),this.createAction("onRowCollapsed")},_beforeProcessItems:function(e){var t=this._columnsController.getGroupColumns();return(e=this.callBase(e)).length&&t.length&&(e=this._processGroupItems(e,t.length)),e},_processItem:function(e,t){return(0,s.isDefined)(e.groupIndex)&&(0,s.isString)(e.rowType)&&0===e.rowType.indexOf("group")?(e=this._processGroupItem(e,t),t.dataIndex=0):e=this.callBase.apply(this,arguments),e},_processGroupItem:function(e){return e},_processGroupItems:function(e,t,n){var i=this._columnsController.getGroupColumns(),o=i[i.length-t];if(!n){var r=this.option("scrolling.mode");n={collectContinuationItems:"virtual"!==r&&"infinite"!==r,resultItems:[],path:[],values:[]}}var a=n.resultItems;if(n.data&&(!n.collectContinuationItems&&n.data.isContinuation||a.push({rowType:"group",data:n.data,groupIndex:n.path.length-1,isExpanded:!!n.data.items,key:n.path.slice(0),values:n.values.slice(0)})),e)if(0===t)a.push.apply(a,e);else for(var l=0;l<e.length;l++){var s=e[l];s&&"items"in s?(n.data=s,n.path.push(s.key),n.values.push(o&&o.deserializeValue&&!o.calculateDisplayValue?o.deserializeValue(s.key):s.key),this._processGroupItems(s.items,t-1,n),n.data=void 0,n.path.pop(),n.values.pop()):a.push(s)}return a},publicMethods:function(){return this.callBase().concat(["collapseAll","expandAll","isRowExpanded","expandRow","collapseRow"])},collapseAll:function(e){var t=this._dataSource;t&&t.collapseAll(e)&&(t.pageIndex(0),t.reload())},expandAll:function(e){var t=this._dataSource;t&&t.expandAll(e)&&(t.pageIndex(0),t.reload())},changeRowExpand:function(e){var t=this,n=t.isRowExpanded(e),i={key:e,expanded:n};return t.executeAction(n?"onRowCollapsing":"onRowExpanding",i),i.cancel?(new r.Deferred).resolve():(0,r.when)(t._changeRowExpandCore(e)).done((function(){i.expanded=!n,t.executeAction(n?"onRowCollapsed":"onRowExpanded",i)}))},_changeRowExpandCore:function(e){var t=this,n=this._dataSource,i=new r.Deferred;return n?(0,r.when)(n.changeRowExpand(e)).done((function(){t.load().done(i.resolve).fail(i.reject)})).fail(i.reject):i.resolve(),i},isRowExpanded:function(e){var t=this._dataSource;return t&&t.isRowExpanded(e)},expandRow:function(e){return this.isRowExpanded(e)?(new r.Deferred).resolve():this.changeRowExpand(e)},collapseRow:function(e){return this.isRowExpanded(e)?this.changeRowExpand(e):(new r.Deferred).resolve()},optionChanged:function(e){"grouping"===e.name&&(e.name="dataSource"),this.callBase(e)}},x=function(e,t){var n=this._columnsController;switch(t.itemData.value){case"group":var i=n._dataSource.group()||[];n.columnOption(e.dataField,"groupIndex",i.length);break;case"ungroup":n.columnOption(e.dataField,"groupIndex",-1);break;case"ungroupAll":this.component.clearGrouping()}},I=function(e){var t=null==e?void 0:e.visible;return"auto"===t?"desktop"===i.default.current().deviceType:!!t},b=function(e,t){var n=I(e),i=(null==e?void 0:e.allowColumnDragging)&&t.allowGrouping;return n&&!!i},E={_getToolbarItems:function(){var e=this.callBase();return this._appendGroupingItem(e)},_appendGroupingItem:function(e){var t=this;if(this._isGroupPanelVisible()){var n=!1,i={template:function(){var e=(0,o.default)("<div>").addClass(_);return t._updateGroupPanelContent(e),(0,c.registerKeyboardAction)("groupPanel",t,e,void 0,t._handleActionKeyDown.bind(t)),e},name:"groupPanel",onItemRendered:function(){n&&t.renderCompleted.fire(),n=!0},location:"before",locateInMenu:"never",sortIndex:1};e.push(i),this.updateToolbarDimensions()}return e},_handleActionKeyDown:function(e){var t=e.event,n=(0,o.default)(t.target),i=n.closest(".".concat(v)).index(),r=this._columnsController.getGroupColumns()[i],a=r&&r.index;n.is(".dx-header-filter")?this.getController("headerFilter").showHeaderFilterMenu(a,!0):this._processGroupItemAction(a),t.preventDefault()},_isGroupPanelVisible:function(){return I(this.option("groupPanel"))},_renderGroupPanelItems:function(e,t){var n=this;e.empty(),(0,a.each)(t,(function(t,i){n._createGroupPanelItem(e,i)})),(0,u.restoreFocus)(this)},_createGroupPanelItem:function(e,t){var n=(0,o.default)("<div>").addClass(t.cssClass).addClass(v).data("columnData",t).appendTo(e).text(t.caption);return(0,u.setTabIndex)(this,n),n},_columnOptionChanged:function(e){if(!this._requireReady&&!h.default.checkChanges(e.optionNames,["width","visibleWidth"])){var t=this.element(),n=t&&t.find(".".concat(_));n&&n.length&&(this._updateGroupPanelContent(n),this.updateToolbarDimensions(),this.renderCompleted.fire())}this.callBase()},_updateGroupPanelContent:function(e){var t=this.getController("columns").getGroupColumns(),n=this.option("groupPanel");this._renderGroupPanelItems(e,t),n.allowColumnDragging&&!t.length&&((0,o.default)("<div>").addClass("dx-group-panel-message").text(n.emptyPanelText).appendTo(e),e.closest(".".concat("dx-toolbar-item")).addClass(C),e.closest(".".concat(C)).css("maxWidth","none"))},allowDragging:function(e){var t=this.option("groupPanel");return b(t,e)},getColumnElements:function(){var e=this.element();return e&&e.find(".".concat(v))},getColumns:function(){return this.getController("columns").getGroupColumns()},getBoundingRect:function(){var e=this.element();if(e&&e.find(".".concat(_)).length){var t=e.offset();return{top:t.top,bottom:t.top+(0,l.getHeight)(e)}}return null},getName:function(){return"group"},getContextMenuItems:function(e){var t,n=this.option("grouping.contextMenuEnabled"),i=(0,o.default)(e.targetElement).closest(".".concat(v));if(i.length&&(e.column=i.data("columnData")),n&&e.column){var r=e.column;if(!(0,s.isDefined)(r.allowGrouping)||r.allowGrouping){var a=(0,s.isDefined)(r.groupIndex)&&r.groupIndex>-1,l=this.option("grouping.texts"),d=x.bind(this,r);t=[{text:l.ungroup,value:"ungroup",disabled:!a,onItemClick:d},{text:l.ungroupAll,value:"ungroupAll",onItemClick:d}]}}return t},isVisible:function(){return this.callBase()||this._isGroupPanelVisible()},hasGroupedColumns:function(){return this._isGroupPanelVisible()&&!!this.getColumns().length},optionChanged:function(e){"groupPanel"===e.name?(this._invalidate(),e.handled=!0):this.callBase(e)}};t.GroupingHeaderPanelExtender=E;var S={getContextMenuItems:function(e){var t;if(this.option("grouping.contextMenuEnabled")&&e.row&&"group"===e.row.rowType){var n=this._columnsController.columnOption("groupIndex:".concat(e.row.groupIndex));if(n&&n.allowGrouping){var i=this.option("grouping.texts"),o=x.bind(this,n);(t=[]).push({text:i.ungroup,value:"ungroup",onItemClick:o},{text:i.ungroupAll,value:"ungroupAll",onItemClick:o})}}return t},_rowClick:function(e){var t=this.option("grouping.expandMode"),n="infinite"!==this.option("scrolling.mode")&&"rowClick"===t&&(0,o.default)(e.event.target).closest(".".concat("dx-group-row")).length,i=(0,o.default)(e.event.target).closest(".".concat("dx-datagrid-expand")).length;(n||i)&&this._changeGroupRowState(e),this.callBase(e)},_changeGroupRowState:function(e){var t=this.getController("data"),n=t.items()[e.rowIndex],i=this._columnsController.columnOption("groupIndex:".concat(n.groupIndex),"allowCollapsing");("data"===n.rowType||"group"===n.rowType&&!1!==i)&&(t.changeRowExpand(n.key,!0),e.event.preventDefault(),e.handled=!0)}},O={getContextMenuItems:function(e){var t=this.option("grouping.contextMenuEnabled"),n=this.callBase(e);if(t&&e.row&&("header"===e.row.rowType||"detailAdaptive"===e.row.rowType)){var i=e.column;if(!i.command&&(!(0,s.isDefined)(i.allowGrouping)||i.allowGrouping)){var o=this.option("grouping.texts"),r=(0,s.isDefined)(i.groupIndex)&&i.groupIndex>-1,a=x.bind(this,i);(n=n||[]).push({text:o.groupByThisColumn,value:"group",beginGroup:!0,disabled:r,onItemClick:a}),i.showWhenGrouped&&n.push({text:o.ungroup,value:"ungroup",disabled:!r,onItemClick:a}),n.push({text:o.ungroupAll,value:"ungroupAll",onItemClick:a})}}return n},allowDragging:function(e){var t=this.option("groupPanel");return b(t,e)||this.callBase(e)}};h.default.registerModule("grouping",{defaultOptions:function(){return{grouping:{autoExpandAll:!0,allowCollapsing:!0,contextMenuEnabled:!1,expandMode:"buttonClick",texts:{groupContinuesMessage:d.default.format("dxDataGrid-groupContinuesMessage"),groupContinuedMessage:d.default.format("dxDataGrid-groupContinuedMessage"),groupByThisColumn:d.default.format("dxDataGrid-groupHeaderText"),ungroup:d.default.format("dxDataGrid-ungroupHeaderText"),ungroupAll:d.default.format("dxDataGrid-ungroupAllText")}},groupPanel:{visible:!1,emptyPanelText:d.default.format("dxDataGrid-groupPanelEmptyText"),allowColumnDragging:!0}}},extenders:{controllers:{data:y,columns:{_getExpandColumnOptions:function(){var e=this.callBase.apply(this,arguments);return e.cellTemplate=h.default.getExpandCellTemplate(),e}},editing:{_isProcessedItem:function(e){return(0,s.isDefined)(e.groupIndex)&&(0,s.isString)(e.rowType)&&0===e.rowType.indexOf("group")}}},views:{headerPanel:E,rowsView:S,columnHeadersView:O}}})},95193:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GroupingHelper=void 0;var i=n(74460),o=n(65102),r=n(96993),a=n(95136),l=c(n(47625)),s=c(n(48501)),d=n(45836),u=n(15538);function c(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,i){if(i=i||0,t>1&&n>0){var o=e-Math.floor(e/t)*t||t;return(o+=n-i-2)<0&&(o+=t),Math.floor(o/(t-i-1))}return 0}var f=u.GroupingHelper.inherit(function(){var e=function(e,t,n){return e.foreachGroups((function(e,n){if(e.isExpanded)return t(e,n)}),!0,!1,n,n)},t=function e(t,n,i,o,r,a,l){var s;if(o.items=o.items||[],o.paths=o.paths||[],o.count=o.count||0,o.lastCount=o.lastCount||0,i)for(var d=0;d<n.length;d++){var u=n[d];if(void 0!==u.items){if(r.push(u.key),a)s=!0;else{var c=t.findGroupInfo(r);s=c&&c.isExpanded}s?u.items?e(t,u.items,i-1,o,r,a,l):1!==i||!u.count||a&&!l||(o.items.push(u),o.paths.push(r.slice(0)),o.count+=o.lastCount,o.lastCount=u.count):(u.collapsedItems=u.items,u.items=null),r.pop()}}},n=function(e,t,n,i,o){var r,a=e.findGroupInfo(i);a?(n?a.count=t.count>0?t.count:t.items&&t.items.length||0:t.count=a.count||t.count,a.offset=o):(n&&(r=t.count>0?t.count:t.items.length),e.addGroupInfo({isExpanded:e._isGroupExpanded(i.length-1),path:i.slice(0),offset:o,count:r||0}))},c=function e(t,i,o,r,a,l,s){var d,u=(i.group?i.group.length:0)===r,c=0,h=0;if(a=a||0,l=l||[],i.remoteOperations.paging&&!s&&(c=0===a?i.skip||0:i.skips[a-1]||0),a>=r)return o.length;for(var f=0;f<o.length;f++){var p=o[f];if(p){if(l.push(p.key),!p.count&&!p.items||void 0===p.items)return-1;if(n(t,p,u,l,c+f),(d=p.items?e(t,i,p.items,r,a+1,l,f):p.count||-1)<0)return-1;h+=d,l.pop()}}return h},f=function(e,t){return e&&e.length&&e[t]&&!!e[t].isExpanded},p=function(e,t,n){for(var i,o=n,r=0;r<e.length;r++)i=e[r].offset+1,r>0&&(i+=e[r-1].childrenTotalCount,t&&(i+=h(o,t,i,r-1)*r)),o+=i;return o};function g(e,t,n,i){var o=t.items[i],r=e.skips&&e.skips[n],a=e.takes&&e.takes[n],l=i===t.items.length-1,s=0===i,d=s&&r||0,u=o.count>a+d;s&&void 0!==r&&(o.isContinuation=!0),l&&void 0!==a&&u&&(o.isContinuationOnNextPage=!0)}function m(e){return!Array.isArray(e)}function _(e){m(e.data)||(e.data=new i.Deferred)}function v(e,n,a,l,u,h){n.isCustomLoading||(t(e,h,a,l={},[]),function(e,t,n){var i=n-1,o=e.group?e.group.length:0;t.skip=e.skips&&e.skips[i],e.takes&&void 0!==e.takes[i]&&(t.take=o===n&&t.count?t.count-(t.skip||0):0,t.take+=e.takes[i])}(n,l,a));var f=n.group?n.group.length:0;l.paths.length&&f-a>0?(_(n),function(e,t,n,o,a,l){var s=t.group||[],u=s[a+1],h=[];(0,r.each)(n.paths,(function(o){var r,l={requireTotalCount:!1,requireGroupCount:!0,group:[u],groupSummary:t.storeLoadOptions.groupSummary,filter:(0,d.createGroupFilter)(n.paths[o],{filter:t.storeLoadOptions.filter,group:s}),select:t.storeLoadOptions.select,langParams:null===(r=t.storeLoadOptions)||void 0===r?void 0:r.langParams};0===o&&(l.skip=n.skip||0),o===n.paths.length-1&&(l.take=n.take);var c=0===l.take?[]:e._dataSource.loadFromStore(l);(0,i.when)(c).done((function(e){var i=n.items[o];g(t,n,a,o),i.items=e})),h.push(c)})),i.when.apply(null,h).done((function(){c(e,t,l,o+1),v(e,t,o+1,n,a+1,l)}))}(e,n,l,a,u,h)):l.paths.length&&n.storeLoadOptions.group?(_(n),function(e,t,n,a){var l=[],u=t.group||[];(0,r.each)(n.paths,(function(e,n){l.push((0,d.createGroupFilter)(n,{group:t.isCustomLoading?t.storeLoadOptions.group:u}))}));var c=t.storeLoadOptions.filter;t.storeLoadOptions.isLoadingAll||(c=s.default.combineFilters([c,s.default.combineFilters(l,"or")]));var h=(0,o.extend)({},t.storeLoadOptions,{requireTotalCount:!1,requireGroupCount:!1,group:null,sort:u.concat(s.default.normalizeSortingInfo(t.storeLoadOptions.sort||[])),filter:c}),f=e._dataSource.isLastLevelGroupItemsPagingLocal();f||(h.skip=n.skip,h.take=n.take),(0,i.when)(0===n.take?[]:e._dataSource.loadFromStore(h)).done((function(i){f&&(i=e._dataSource.sortLastLevelGroupItems(i,u,n.paths),i=n.skip?i.slice(n.skip):i,i=n.take?i.slice(0,n.take):i),(0,r.each)(n.items,(function(e,o){var r=o.count-(0===e&&n.skip||0),a=i.splice(0,r);g(t,n,u.length-1,e),o.items=a})),t.data.resolve(a)})).fail(t.data.reject)}(e,n,l,h)):m(n.data)&&n.data.resolve(h)}var C=function(e,t){var n=new i.Deferred,r=!(!t.group||!t.group.length),l=(0,o.extend)({skip:0,take:1,requireGroupCount:r,requireTotalCount:!r},t,{group:r?t.group:null});return e.load(l).done((function(e,t){var i=t&&(r?t.groupCount:t.totalCount);isFinite(i)?n.resolve(i):n.reject(a.errors.Error(r?"E4022":"E4021"))})).fail(n.reject.bind(n)),n};return{updateTotalItemsCount:function(t){var n=0,i=t.extra&&t.extra.totalCount||0,o=t.extra&&t.extra.groupCount||0,r=this._dataSource.pageSize(),a=this._isVirtualPaging();e(this,(function(e){e.childrenTotalCount=0})),e(this,(function(e,t){var i=p(t,a?0:r,n),o=e.count+e.childrenTotalCount;a||(o+=h(i,r,o,t.length-1)),t[t.length-2]?t[t.length-2].childrenTotalCount+=o:n+=o})),this.callBase(n-i+o)},_isGroupExpanded:function(e){var t=this._dataSource.group();return f(t,e)},_updatePagingOptions:function(t,n){var i=this._isVirtualPaging(),o=this._dataSource.pageSize(),r=[],a=[],l=0,s=0;t.take&&(e(this,(function(e){e.childrenTotalCount=0,e.skipChildrenTotalCount=0})),e(this,(function(e,d){var u,c=0,f=0,g=p(d,i?0:o,s),m=0,_=0,v=e.count+e.childrenTotalCount,C=v;n&&n(e,g);var w=t.skip-g;g<=t.skip+t.take&&v&&(u=t.take,i||(v+=(m=h(g,o,v,d.length-1))*d.length,C+=m,o&&w>=0&&(c=d.length,f=d.length-1,_=Math.floor(w/o))),w>=0?(g+v>t.skip&&r.unshift(w-_*c-e.skipChildrenTotalCount),g+v>=t.skip+u&&a.unshift(u-c-e.childrenTotalCount+e.skipChildrenTotalCount)):g+v>=t.skip+u&&a.unshift(u+w-e.childrenTotalCount)),g<=t.skip&&(d[d.length-2]?d[d.length-2].skipChildrenTotalCount+=Math.min(C,w+1-_*f):l+=Math.min(C,w+1)),g<=t.skip+u&&(v=Math.min(C,w+u-(_+1)*f),d[d.length-2]?d[d.length-2].childrenTotalCount+=v:s+=v)})),t.skip-=l,t.take-=s-l),t.skips=r,t.takes=a},changeRowExpand:function(e){var t=this.findGroupInfo(e),n=this._dataSource,o=n.remoteOperations().groupPaging,r=s.default.normalizeSortingInfo(n.group());return t?(t.isExpanded=!t.isExpanded,o&&t.isExpanded&&e.length<r.length?C(n,{filter:(0,d.createGroupFilter)(e,{filter:n.lastLoadOptions().filter,group:n.group()}),group:[r[e.length]],select:n.select()}).done((function(e){t.count=e})):(new i.Deferred).resolve()):(new i.Deferred).reject()},handleDataLoading:function(e){var t=e.storeLoadOptions,n=s.default.normalizeSortingInfo(t.group||e.loadOptions.group);if(!e.isCustomLoading&&n.length){if(e.remoteOperations.grouping){var i=this._dataSource.remoteOperations().paging;t.group=s.default.normalizeSortingInfo(t.group),t.group.forEach((function(e,n){var o=n===t.group.length-1;e.isExpanded=!i||!o}))}e.group=e.group||n,e.remoteOperations.paging?(e.skip=t.skip,e.take=t.take,t.requireGroupCount=!0,t.group=n.slice(0,1),this._updatePagingOptions(e),t.skip=e.skip,t.take=e.take):(e.skip=e.loadOptions.skip,e.take=e.loadOptions.take,this._updatePagingOptions(e))}},handleDataLoadedCore:function(e,n){var o,r=s.default.normalizeSortingInfo(e.storeLoadOptions.group||e.loadOptions.group).length,d=e.group?e.group.length:0,u={};if(e.isCustomLoading)n(e),t(this,e.data,r,u,[],e.isCustomLoading,e.storeLoadOptions.isLoadingAll);else{if(e.remoteOperations.paging||this.foreachGroups((function(e){e.count=0})),(o=c(this,e,e.data,r))<0)return void(e.data=(new i.Deferred).reject(l.default.Error("E1037")));if(e.remoteOperations.paging||r&&e.extra&&e.loadOptions.requireTotalCount&&(e.extra.totalCount=o,e.extra.groupCount=e.data.length),d&&e.storeLoadOptions.requireGroupCount&&!isFinite(e.extra.groupCount))return void(e.data=(new i.Deferred).reject(a.errors.Error("E4022")));this.updateTotalItemsCount(e),e.remoteOperations.paging||this._updatePagingOptions(e),n(e),e.remoteOperations.paging||this._processPaging(e,r)}v(this,e,r,u,0,e.data)},_processSkips:function(e,t,n){if(n){var i=e[0],o=t[0],r=i&&i.items;void 0!==o&&(i.isContinuation=!0,r&&(i.items=r.slice(o),this._processSkips(i.items,t.slice(1),n-1)))}},_processTakes:function(e,t,n,i,o){if(i&&e){o=o||[];var r=e[e.length-1],a=r&&r.items,l=n[0],s=t[0];if(r){var d=r.count-(r.isContinuation&&s||0)||a.length;void 0!==l&&d>l&&(r.isContinuationOnNextPage=!0,o.forEach((function(e){e.isContinuationOnNextPage=!0})),a&&(a=a.slice(0,l),r.items=a)),o.push(r),this._processTakes(a,t.slice(1),n.slice(1),i-1,o)}}},_processPaging:function(e,t){this._processSkips(e.data,e.skips,t),this._processTakes(e.data,e.skips,e.takes,t)},isLastLevelGroupItemsPagingLocal:function(){return!1},sortLastLevelGroupItems:function(e){return e},refresh:function(t,n){var o,r,a=this,l=a._dataSource,c=t.storeLoadOptions,h=t.group||t.storeLoadOptions.group,p=s.default.normalizeSortingInfo(a._group);function g(e,t){t.length===r+1&&(e.isExpanded=o)}for(r=0;r<p.length;r++)o=f(h,r),f(a._group,r)!==o&&a.foreachGroups(g);if(a.callBase.apply(this,arguments),h&&t.remoteOperations.paging&&n.reload)return e(a,(function(e){var n=C(l,{filter:(0,d.createGroupFilter)(e.path,{filter:c.filter,group:h}),group:h.slice(e.path.length),select:c.select}),o=C(l,{filter:(0,u.createOffsetFilter)(e.path,{filter:c.filter,group:h},!0),group:h.slice(e.path.length-1,e.path.length),select:c.select});return(0,i.when)(o,n).done((function(n,i){n=parseInt(n.length?n[0]:n),i=parseInt(i.length?i[0]:i),e.offset=n,e.count!==i&&(e.count=i,a.updateTotalItemsCount(t))}))}),!0)}}}());t.GroupingHelper=f},15538:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GroupingHelper=void 0,t.createOffsetFilter=function(e,t,n){for(var i=(0,a.normalizeSortingInfo)(t.group),o=[],r=n?e.length-1:0;r<e.length;r++){for(var s=[],d=0;d<=r;d++){var u=i[d].selector;if(r!==d||null!==e[d]&&!1!==e[d]&&!0!==e[d]){var c=[u,r===d?i[d].desc?">":"<":"=",e[d]];"<"===c[1]?s.push([c,"or",[u,"=",null]]):s.push(c)}else!1===e[d]?s.push([u,"=",!!i[d].desc||null]):(e[d]?!i[d].desc:i[d].desc)?s.push([u,"<>",e[d]]):(s.push([u,"<>",null]),s.push([u,"=",null]))}o.push(l.default.combineFilters(s))}return o=l.default.combineFilters(o,"or"),l.default.combineFilters([o,t.filter])};var i=s(n(21058)),o=s(n(94965)),r=n(74460),a=n(13447),l=s(n(48501));function s(e){return e&&e.__esModule?e:{default:e}}var d,u,c=i.default.inherit((d=function(e,t){var n=e.hash;return n&&n[JSON.stringify(t)]},u=function(e,t){var n,i=0,o=e.length-1;if(!e.length)return 0;do{var r=o+i>>1;e[r].offset>t?o=r:i=r}while(o-i>1);for(n=i;n<=o&&!(e[n].offset>t);n++);return n},{ctor:function(e){this._dataSource=e,this.reset()},reset:function(){this._groupsInfo=[],this._totalCountCorrection=0},totalCountCorrection:function(){return this._totalCountCorrection},updateTotalItemsCount:function(e){this._totalCountCorrection=e||0},isGroupItemCountable:function(e){return!this._isVirtualPaging()||!e.isContinuation},_isVirtualPaging:function(){var e=this._dataSource.option("scrolling.mode");return"virtual"===e||"infinite"===e},itemsCount:function(){var e=this._dataSource._dataSource,t=l.default.normalizeSortingInfo(e.group()||[]).length;return function e(t,n,i){var o=0;if(n)if(i)for(var r=0;r<n.length;r++)t.isGroupItemCountable(n[r])&&o++,o+=e(t,n[r].items,i-1);else o=n.length;return o}(this,e.items(),t)},foreachGroups:function(e,t,n,i,a){var l=this;return function e(t,s,d,u){var c=[];function h(e,t,n,i){var o=t&&e(t,n);return o&&i.push(o),o}for(var f=0;f<t.length;f++){if(u.push(t[f].data),!d&&!1===h(s,t[f].data,u,c))return!1;if(!t[f].data||t[f].data.isExpanded||n){var p=t[f].children,g=p.length&&e(p,s,d,u);if(g&&c.push(g),!1===g)return!1}if(d&&!1===h(s,t[f].data,u,c))return!1;t[f].data&&t[f].data.offset===t[f].offset||(i=!0),u.pop()}var m=a&&u.slice(0);return i&&r.when.apply(o.default,c).always((function(){l._updateGroupInfoOffsets(t,m)}))}(l._groupsInfo,e,t,[])},_updateGroupInfoOffsets:function(e,t){t=t||[];for(var n=0;n<e.length;n++){var i=e[n];if(i.data&&i.data.offset!==i.offset){i.offset=i.data.offset;for(var o=0;o<t.length;o++)t[o].offset=i.offset}}e.sort((function(e,t){return e.offset-t.offset}))},findGroupInfo:function(e){for(var t,n=this._groupsInfo,i=0;n&&i<e.length;i++)n=(t=d(n,e[i]))&&t.children;return t&&t.data},addGroupInfo:function(e){for(var t,n=e.path,i=this._groupsInfo,o=0;o<n.length;o++){if(!(t=d(i,n[o]))){t={key:n[o],offset:e.offset,data:{offset:e.offset,isExpanded:!0,path:n.slice(0,o+1)},children:[]};var r=u(i,e.offset);i.splice(r,0,t),i.hash=i.hash||{},i.hash[JSON.stringify(t.key)]=t}o===n.length-1&&(t.data=e,t.offset!==e.offset&&this._updateGroupInfoOffsets(i)),i=t.children}},allowCollapseAll:function(){return!0},refresh:function(e){var t=e.storeLoadOptions,n=(0,a.normalizeSortingInfo)(t.group||[]),i="_group"in this?(0,a.normalizeSortingInfo)(this._group||[]):n,o=Math.min(i.length,n.length);this._group=t.group;for(var r=0;r<o;r++)if(i[r].selector!==n[r].selector){o=r;break}o?function e(t,n,i){for(var o=0;o<t.length;o++)n+1>=i?t[o].children=[]:e(t[o].children,n+1,i)}(this._groupsInfo,0,o):this.reset()},handleDataLoading:function(){},handleDataLoaded:function(e,t){t(e)},handleDataLoadedCore:function(e,t){t(e)}}));t.GroupingHelper=c},30332:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GroupingHelper=void 0;var i=n(14928),o=n(74460),r=n(65102),a=n(96993),l=f(n(1344)),s=f(n(98241)),d=n(13447),u=f(n(48501)),c=n(45836),h=n(15538);function f(e){return e&&e.__esModule?e:{default:e}}var p,g,m,_,v,C=function(e,t){var n=new o.Deferred,i=(0,r.extend)({skip:0,take:1,requireTotalCount:!0},t);return e.load(i).done((function(e,t){n.resolve(t&&t.totalCount)})).fail(n.reject.bind(n)),n},w=h.GroupingHelper.inherit((p=function(e,t,n){return e.foreachGroups((function(e){if(!e.isExpanded)return t(e)}),!1,!1,n,!0)},g=function(e,t){var n=0,i=t||0;return t&&(p(e,(function(e){if(e.offset-n>=t)return!1;n+=e.count-1})),i+=n),i},m=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!(0,d.keysEqual)(null,e[n],t[n]))return!1;return!0},_=function e(t,n,i,o,r){if(n){for(var a=0;a<n.length;a++){var l=n[a];if("key"in l&&void 0!==l.items){i.push(l.key),r&&m(r.path,i)&&!l.isContinuation&&(r.offset=o);var s=t.findGroupInfo(i);s&&!l.isContinuation&&(s.offset=o),s&&!s.isExpanded?o+=s.count:o=e(t,l.items,i,o,r),i.pop()}else o++}return o}},v=function e(t,n){var i=t.count||t.items.length;if(!t.count&&n>1){i=0;for(var o=0;o<t.items.length;o++)i+=e(t.items[o],n-1)}return i},{handleDataLoading:function(e){var t,n=e.storeLoadOptions,i=[],o=0,l=!1,d=e.loadOptions.group,c=0;if(function(e,t){if(t.group){var n=u.default.normalizeSortingInfo(t.group),i=u.default.normalizeSortingInfo(e.sort);e.sort=s.default.arrangeSortingInfo(n,i),delete t.group}}(n,e.loadOptions),e.group=e.group||d,!e.isCustomLoading){var h=(0,r.extend)({},n);h.skip=g(this,n.skip),h.skip&&h.take&&d&&(h.skip--,h.take++,l=!0),h.take&&d&&(t=h.take,h.take++),p(this,(function(e){if(e.offset>=h.skip+h.take+c)return!1;e.offset>=h.skip+c&&e.count&&(c+=e.count-1,i.push(e),o+=e.count)})),(0,a.each)(i,(function(){h.filter=function(e,t,n){for(var i=u.default.normalizeSortingInfo(n||t.group),o=[],r=0;r<e.length;r++){for(var a=[],l=0;l<=r;l++)a.push([i[l].selector,r===l?"<>":"=",e[l]]);o.push(u.default.combineFilters(a))}return o=u.default.combineFilters(o,"or"),u.default.combineFilters([o,t.filter])}(this.path,h,d)})),e.storeLoadOptions=h,e.collapsedGroups=i,e.collapsedItemsCount=o,e.skip=h.skip||0,e.skipFirstItem=l,e.take=t}},handleDataLoaded:function(e,t){var n=e.collapsedGroups,o=u.default.normalizeSortingInfo(e.group),r=o.length;function a(e,t,n,o,r){if(e&&t.length&&n.length){var l,s,d=(0,i.toComparable)(t[0],!0);for(s=0;s<e.length&&(l=(0,i.toComparable)(e[s].key,!0),!(r>=o.offset||d===l));s++)r+=v(e[s],n.length);e.length&&d===l||e.splice(s,0,{key:t[0],items:[],count:1===t.length?o.count:void 0}),a(e[s].items,t.slice(1),n.slice(1),o,r)}}if(e.collapsedItemsCount&&e.extra&&e.extra.totalCount>=0&&(e.extra._totalCountWasIncreasedByCollapsedItems||(e.extra.totalCount+=e.collapsedItemsCount,e.extra._totalCountWasIncreasedByCollapsedItems=!0)),t(e),r){var d=e.data,c=(0,l.default)(d);if(s.default.multiLevelGroup(c,o).enumerate().done((function(e){d=e})),n)for(var h=0;h<n.length;h++)a(d,n[h].path,o,n[h],e.skip);e.isCustomLoading||function e(t,n,i,o,r,a){for(var l=0,s=!1,d=0;d<n.length;d++){var u=n[d];if(void 0!==u.items){i.push(u.key);var c=t.findGroupInfo(i);if(c&&!c.isExpanded)u.collapsedItems=u.items,u.items=null,o+=c.count,--a<0&&l++,r&&(s=!0);else if(u.items){var h=e(t,u.items,i,o,r,a);r&&(h.offset-o>1?u.isContinuation=!0:s=!0),o=h.offset,(a=h.take)<0&&(u.items.length?u.isContinuationOnNextPage=!0:l++)}i.pop()}else r&&(s=!0),o++,--a<0&&l++;r=!1}return s&&n.splice(0,1),l&&n.splice(-l,l),{offset:o,take:a}}(this,d,[],e.skip,e.skipFirstItem,e.take),e.data=d}},isGroupItemCountable:function(e){return null===e.items},updateTotalItemsCount:function(){var e=0;p(this,(function(t){t.count&&(e-=t.count-1)})),this.callBase(e)},changeRowExpand:function(e){var t,n=this,i=n._dataSource,r=i.beginPageIndex?i.beginPageIndex():i.pageIndex(),a=i.items(),l=g(n,r*i.pageSize()),s=n.findGroupInfo(e);return t=s&&!s.isExpanded?(new o.Deferred).resolve(s.count):C(i,{filter:(0,c.createGroupFilter)(e,{filter:i.filter(),group:i.group()})}),(0,o.when)(t).done((function(t){t=parseInt(t.length?t[0]:t),s?(_(n,a,[],l),s.isExpanded=!s.isExpanded,s.count=t):(_(n,a,[],l,s={offset:-1,count:t,path:e,isExpanded:!1}),s.offset>=0&&n.addGroupInfo(s)),n.updateTotalItemsCount()})).fail((function(){i._eventsStrategy.fireEvent("loadError",arguments)}))},allowCollapseAll:function(){return!1},refresh:function(e,t){var n=this,i=e.storeLoadOptions,r=n._dataSource;if(this.callBase.apply(this,arguments),t.reload)return p(n,(function(e){var t=C(r,{filter:(0,c.createGroupFilter)(e.path,i)}),a=C(r,{filter:(0,h.createOffsetFilter)(e.path,i)});return(0,o.when)(a,t).done((function(t,i){t=parseInt(t.length?t[0]:t),i=parseInt(i.length?i[0]:i),e.offset=t,e.count!==i&&(e.count=i,n.updateTotalItemsCount())}))}),!0)}}));t.GroupingHelper=w},74910:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=(i=n(21058))&&i.__esModule?i:{default:i},r=n(14928),a=n(49859),l=n(95136),s=n(13447);function d(e,t,n,i){var o=0;if(e<t)for(;o<n.items.length;o++)d(e+1,t,n.items[o],i);e===t&&i(n)}function u(e,t){var n;if("map"in e)return e.map(t);var i=new Array(e.length);for(n in e)i[n]=t(e[n],n);return i}function c(e){var t=(0,r.compileGetter)(e.selector),n=!("skipEmptyValues"in e)||e.skipEmptyValues,i=e.aggregator;if("string"==typeof i&&!(i=s.aggregators[i]))throw l.errors.Error("E4001",e.aggregator);return{selector:t,aggregator:i,skipEmptyValues:n}}var h=o.default.inherit({ctor:function(e){this._data=e.data,this._groupLevel=e.groupLevel||0,this._totalAggregates=u(e.totalAggregates||[],c),this._groupAggregates=u(e.groupAggregates||[],c),this._totals=[]},calculate:function(){this._totalAggregates.length&&this._calculateTotals(0,{items:this._data}),this._groupAggregates.length&&this._groupLevel>0&&this._calculateGroups({items:this._data})},totalAggregates:function(){return this._totals},_aggregate:function(e,t,n){for(var i=t.items?t.items.length:0,o=0;o<e.length;o++)if(e[o].aggregator!==s.aggregators.count)for(var r=0;r<i;r++)this._accumulate(o,e[o],n,t.items[r]);else n[o]=(n[o]||0)+i},_calculateTotals:function(e,t){if(0===e&&(this._totals=this._seed(this._totalAggregates)),e===this._groupLevel)this._aggregate(this._totalAggregates,t,this._totals);else for(var n=0;n<t.items.length;n++)this._calculateTotals(e+1,t.items[n]);0===e&&(this._totals=this._finalize(this._totalAggregates,this._totals))},_calculateGroups:function(e){var t=this._groupLevel,n=t+1,i=this._seed.bind(this,this._groupAggregates),o=this._aggregate.bind(this,this._groupAggregates),r=this._finalize.bind(this,this._groupAggregates);function a(e){e.aggregates=i(n-1),n===t?o(e,e.aggregates):d(n,t,e,(function(t){o(t,e.aggregates)})),e.aggregates=r(e.aggregates)}for(;--n>0;)d(0,n,e,a)},_seed:function(e,t){return u(e,(function(e){var n=e.aggregator;return"seed"in n?(0,a.isFunction)(n.seed)?n.seed(t):n.seed:NaN}))},_accumulate:function(e,t,n,i){var o,r=t.selector(i),a=t.aggregator;(!t.skipEmptyValues||(o=r)==o&&""!==o&&null!=o)&&(n[e]!=n[e]?n[e]=r:n[e]=a.step(n[e],r))},_finalize:function(e,t){return u(e,(function(e,n){var i=e.aggregator.finalize;return i?i(t[n]):t[n]}))}});t.default=h},41657:(e,t,n)=>{var i,o=n(65102),r=n(16238);((i=n(48501))&&i.__esModule?i:{default:i}).default.registerModule("columns",{defaultOptions:function(){return(0,o.extend)(!0,{},r.columnsControllerModule.defaultOptions(),{commonColumnSettings:{allowExporting:!0}})},controllers:r.columnsControllerModule.controllers})},48501:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(97478)),o=r(n(37028));function r(e){return e&&e.__esModule?e:{default:e}}function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a.apply(this,arguments)}var l=a(a(a({},i.default),o.default),{modules:[]});t.default=l},37995:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DataController=void 0;var i,o,r=d(n(47625)),a=n(16347),l=d(n(48501)),s=d(n(86291));function d(e){return e&&e.__esModule?e:{default:e}}var u=null===(o=null===(i=a.dataControllerModule.controllers)||void 0===i?void 0:i.data)||void 0===o?void 0:o.inherit({_getDataSourceAdapter:function(){return s.default},_getSpecificDataSourceOption:function(){var e=this.option("dataSource");return e&&!Array.isArray(e)&&this.option("keyExpr")&&r.default.log("W1011"),this.callBase()}});t.DataController=u,l.default.registerModule("data",{defaultOptions:a.dataControllerModule.defaultOptions,controllers:{data:u}})},86291:(e,t,n)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((i=n(13758))&&i.__esModule?i:{default:i}).default,r={extend:function(e){o=o.inherit(e)},create:function(e){return new o(e)}};t.default=r},18758:(e,t,n)=>{n(3399);var i,o=n(65102),r=n(47659);((i=n(48501))&&i.__esModule?i:{default:i}).default.registerModule("editing",(0,o.extend)(!0,{},r.editingModule,{extenders:{controllers:{data:{_changeRowExpandCore:function(e){var t=this._editingController;return Array.isArray(e)&&t&&t.refresh(),this.callBase.apply(this,arguments)}}}}}))},45836:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createGroupFilter=function(e,t){for(var n=(0,o.normalizeSortingInfo)(t.group),i=[],a=0;a<e.length;a++)i.push([n[a].selector,"=",e[a]]);t.filter&&i.push(t.filter);return r.default.combineFilters(i)};var i,o=n(13447),r=(i=n(37028))&&i.__esModule?i:{default:i}},69991:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=(i=n(22860))&&i.__esModule?i:{default:i};n(12704),n(48915),n(17961),n(96265),n(4139),n(18758),n(33038),n(58122),n(90138),n(56685),n(80774),n(82508),n(52664),n(23399),n(97149),n(75839),n(98756),n(83578),n(74609),n(91853),n(46510),n(36574),n(2030),n(43233),n(2374),n(13916),n(13461);var r=o.default;t.default=r},22860:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(13789),n(41657),n(37995),n(71360),n(28467),n(96705),n(51660),n(92252),n(36578);var i=g(n(1283)),o=g(n(94965)),r=g(n(19478)),a=n(48152),l=n(68115),s=n(65102),d=n(96993),u=n(49859),c=n(1205),h=g(n(14140)),f=g(n(37028)),p=g(n(48501));function g(e){return e&&e.__esModule?e:{default:e}}p.default.registerModulesOrder(["stateStoring","columns","selection","editorFactory","columnChooser","grouping","editing","editingRowBased","editingFormBased","editingCellBased","masterDetail","validating","adaptivity","data","virtualScrolling","columnHeaders","filterRow","headerPanel","headerFilter","sorting","search","rows","pager","columnsResizingReordering","contextMenu","keyboardNavigation","errorHandling","summary","columnFixing","export","gridView"]);var m=h.default.inherit({_activeStateUnit:".dx-row",_getDefaultOptions:function(){var e=this.callBase();return(0,d.each)(p.default.modules,(function(){(0,u.isFunction)(this.defaultOptions)&&(0,s.extend)(!0,e,this.defaultOptions())})),e},_setDeprecatedOptions:function(){this.callBase(),(0,s.extend)(this._deprecatedOptions,{useKeyboard:{since:"19.2",alias:"keyboardNavigation.enabled"},rowTemplate:{since:"21.2",message:'Use the "dataRowTemplate" option instead'},"columnChooser.allowSearch":{since:"23.1",message:'Use the "columnChooser.search.enabled" option instead'},"columnChooser.searchTimeout":{since:"23.1",message:'Use the "columnChooser.search.timeout" option instead'}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{showRowLines:!0}},{device:function(){return(0,c.isMaterial)()},options:{showRowLines:!0,showColumnLines:!1,headerFilter:{height:315},editing:{useIcons:!0},selection:{showCheckBoxesMode:"always"}}},{device:function(){return r.default.webkit},options:{loadingTimeout:30,loadPanel:{animation:{show:{easing:"cubic-bezier(1, 0, 1, 0)",duration:500,from:{opacity:0},to:{opacity:1}}}}}},{device:function(e){return"desktop"!==e.deviceType},options:{grouping:{expandMode:"rowClick"}}}])},_init:function(){this.callBase(),f.default.logHeaderFilterDeprecatedWarningIfNeed(this),p.default.processModules(this,p.default),p.default.callModuleItemsMethod(this,"init")},_clean:a.noop,_optionChanged:function(e){p.default.callModuleItemsMethod(this,"optionChanged",[e]),e.handled||this.callBase(e)},_dimensionChanged:function(){this.updateDimensions(!0)},_visibilityChanged:function(e){e&&this.updateDimensions()},_initMarkup:function(){this.callBase.apply(this,arguments),this.getView("gridView").render(this.$element())},_renderContentImpl:function(){this.getView("gridView").update()},_renderContent:function(){var e=this;(0,a.deferRender)((function(){e._renderContentImpl()}))},_getTemplate:function(e){var t=e;return(0,u.isString)(t)&&t.startsWith("#")&&(t=(0,o.default)(e),l.logger.warn("Specifying grid templates with the jQuery selector name is now deprecated. Use the DOM Node or the jQuery object that references this selector instead.")),this.callBase(t)},_dispose:function(){this.callBase(),p.default.callModuleItemsMethod(this,"dispose")},isReady:function(){return this.getController("data").isReady()},beginUpdate:function(){this.callBase(),p.default.callModuleItemsMethod(this,"beginUpdate")},endUpdate:function(){p.default.callModuleItemsMethod(this,"endUpdate"),this.callBase()},getController:function(e){return this._controllers[e]},getView:function(e){return this._views[e]},focus:function(e){this.getController("keyboardNavigation").focus(e)}});m.registerModule=p.default.registerModule.bind(p.default),(0,i.default)("dxDataGrid",m);var _=m;t.default=_},2030:(e,t,n)=>{var i,o=n(38192);((i=n(48501))&&i.__esModule?i:{default:i}).default.registerModule("adaptivity",o.adaptivityModule)},17961:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnChooserView=t.ColumnChooserController=void 0;var i,o=n(61109),r=(i=n(48501))&&i.__esModule?i:{default:i};var a=o.columnChooserModule.controllers.columnChooser;t.ColumnChooserController=a;var l=o.columnChooserModule.views.columnChooserView;t.ColumnChooserView=l,r.default.registerModule("columnChooser",o.columnChooserModule)},36574:(e,t,n)=>{var i,o=n(53917);((i=n(48501))&&i.__esModule?i:{default:i}).default.registerModule("columnFixing",o.columnFixingModule)},13789:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnHeadersView=void 0;var i,o=n(21958),r=(i=n(48501))&&i.__esModule?i:{default:i};var a=o.columnHeadersModule.views.columnHeadersView;t.ColumnHeadersView=a,r.default.registerModule("columnHeaders",o.columnHeadersModule)},74609:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TrackerView=t.TablePositionViewController=t.DraggingHeaderViewController=t.DraggingHeaderView=t.ColumnsSeparatorView=t.ColumnsResizerViewController=void 0;var i,o=n(97285),r=(i=n(48501))&&i.__esModule?i:{default:i};var a=o.columnsResizingReorderingModule.views.draggingHeaderView;t.DraggingHeaderView=a;var l=o.columnsResizingReorderingModule.controllers.draggingHeader;t.DraggingHeaderViewController=l;var s=o.columnsResizingReorderingModule.views.columnsSeparatorView;t.ColumnsSeparatorView=s;var d=o.columnsResizingReorderingModule.controllers.tablePosition;t.TablePositionViewController=d;var u=o.columnsResizingReorderingModule.controllers.columnsResizer;t.ColumnsResizerViewController=u;var c=o.columnsResizingReorderingModule.views.trackerView;t.TrackerView=c,r.default.registerModule("columnsResizingReordering",o.columnsResizingReorderingModule)},96705:(e,t,n)=>{var i,o=n(81894);((i=n(48501))&&i.__esModule?i:{default:i}).default.registerModule("contextMenu",o.contextMenuModule)},90138:(e,t,n)=>{var i,o=n(5592);((i=n(48501))&&i.__esModule?i:{default:i}).default.registerModule("editingCellBased",o.editingCellBasedModule)},58122:(e,t,n)=>{var i,o=n(12959);((i=n(48501))&&i.__esModule?i:{default:i}).default.registerModule("editingFormBased",o.editingFormBasedModule)},33038:(e,t,n)=>{var i,o=n(52274);((i=n(48501))&&i.__esModule?i:{default:i}).default.registerModule("editingRowBased",o.editingRowBasedModule)},3399:(e,t,n)=>{var i,o=n(15608);((i=n(48501))&&i.__esModule?i:{default:i}).default.registerModule("editorFactory",o.editorFactoryModule)},51660:(e,t,n)=>{var i,o=n(12787);((i=n(48501))&&i.__esModule?i:{default:i}).default.registerModule("errorHandling",o.errorHandlingModule)},97149:(e,t,n)=>{var i,o=n(85848);((i=n(48501))&&i.__esModule?i:{default:i}).default.registerModule("filterBuilder",o.filterBuilderModule)},75839:(e,t,n)=>{var i,o=n(79663);((i=n(48501))&&i.__esModule?i:{default:i}).default.registerModule("filterPanel",o.filterPanelModule)},82508:(e,t,n)=>{var i,o=n(60686);((i=n(48501))&&i.__esModule?i:{default:i}).default.registerModule("filterRow",o.filterRowModule)},23399:(e,t,n)=>{var i,o=n(83150);((i=n(48501))&&i.__esModule?i:{default:i}).default.registerModule("filterSync",o.filterSyncModule)},92252:(e,t,n)=>{var i,o=n(21973);((i=n(48501))&&i.__esModule?i:{default:i}).default.registerModule("gridView",o.gridViewModule)},52664:(e,t,n)=>{var i,o=n(32463);((i=n(48501))&&i.__esModule?i:{default:i}).default.registerModule("headerFilter",o.headerFilterModule)},36578:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderPanel=void 0;var i,o=n(14622),r=(i=n(48501))&&i.__esModule?i:{default:i};var a=o.headerPanelModule.views.headerPanel;t.HeaderPanel=a,r.default.registerModule("headerPanel",o.headerPanelModule)},91853:(e,t,n)=>{var i,o=n(66822);((i=n(48501))&&i.__esModule?i:{default:i}).default.registerModule("keyboardNavigation",o.keyboardNavigationModule)},4139:(e,t,n)=>{var i,o=n(33082);((i=n(48501))&&i.__esModule?i:{default:i}).default.registerModule("masterDetail",o.masterDetailModule)},83578:(e,t,n)=>{var i,o=n(82822);((i=n(48501))&&i.__esModule?i:{default:i}).default.registerModule("pager",o.pagerModule)},13461:(e,t,n)=>{var i,o=n(78362);((i=n(48501))&&i.__esModule?i:{default:i}).default.registerModule("rowDragging",o.rowDraggingModule)},28467:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RowsView=void 0;var i,o=n(71427),r=(i=n(48501))&&i.__esModule?i:{default:i};var a=o.rowsModule.views.rowsView;t.RowsView=a,r.default.registerModule("rows",o.rowsModule)},98756:(e,t,n)=>{var i,o=n(86818);((i=n(48501))&&i.__esModule?i:{default:i}).default.registerModule("search",o.searchModule)},48915:(e,t,n)=>{var i,o=n(47211);((i=n(48501))&&i.__esModule?i:{default:i}).default.registerModule("selection",o.selectionModule)},71360:(e,t,n)=>{var i,o=n(15552);((i=n(48501))&&i.__esModule?i:{default:i}).default.registerModule("sorting",o.sortingModule)},12704:(e,t,n)=>{var i,o=n(53259);((i=n(48501))&&i.__esModule?i:{default:i}).default.registerModule("stateStoring",o.stateStoringModule)},56685:(e,t,n)=>{var i,o=n(40255);((i=n(48501))&&i.__esModule?i:{default:i}).default.registerModule("validating",o.validatingModule)},43233:(e,t,n)=>{var i,o=n(20284);((i=n(48501))&&i.__esModule?i:{default:i}).default.registerModule("virtualColumns",o.virtualColumnsModule)},80774:(e,t,n)=>{var i=n(76604),o=a(n(48501)),r=a(n(86291));function a(e){return e&&e.__esModule?e:{default:e}}o.default.registerModule("virtualScrolling",i.virtualScrollingModule),r.default.extend(i.virtualScrollingModule.extenders.dataSourceAdapter)},46510:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.renderSummaryCell=t.FooterView=void 0;var i=v(n(94965)),o=n(48152),r=n(14928),a=n(65102),l=n(96993),s=n(49859),d=v(n(1344)),u=v(n(98241)),c=n(13447),h=v(n(63585)),f=v(n(47625)),p=n(79397),g=v(n(74910)),m=v(n(48501)),_=v(n(86291));function v(e){return e&&e.__esModule?e:{default:e}}var C="groupFooter",w="totalFooter",y=function(e,t){var n=(0,i.default)(e),o=t.column,r=t.summaryItems,a=[];if(!o.command&&r){for(var l=0;l<r.length;l++){var s=r[l];a.push((0,i.default)("<div>").css("textAlign",s.alignment||o.alignment).addClass("dx-datagrid-summary-item").addClass("dx-datagrid-text-content").addClass(s.cssClass).toggleClass("dx-datagrid-group-text-content","group"===t.rowType).text(m.default.getSummaryText(s,t.summaryTexts)))}n.append(a)}};t.renderSummaryCell=y;var x=function(e,t){var n=e.option("summary.texts")||{};return{totalItem:t.row,summaryItems:t.row.summaryCells[t.columnIndex],summaryTexts:n}},I=function(e){return e.summary||e.aggregates||[]},b=function(e){return e.option("summary.recalculateWhileEditing")},E=p.ColumnsView.inherit({_getRows:function(){return this._dataController.footerItems()},_getCellOptions:function(e){return(0,a.extend)(this.callBase(e),x(this,e))},_renderCellContent:function(e,t){y(e,t),this.callBase.apply(this,arguments)},_renderCore:function(e){var t=!1,n=this._dataController.footerItems()[0];e&&e.columnIndices||(this.element().empty().addClass("dx-datagrid-total-footer").toggleClass("dx-datagrid-nowrap",!this.option("wordWrapEnabled")),t=!0),n&&n.summaryCells&&n.summaryCells.length&&(this._updateContent(this._renderTable({change:e}),e),t&&this._updateScrollLeftPosition())},_updateContent:function(e,t){var n=this;return t&&"update"===t.changeType&&t.columnIndices?this.waitAsyncTemplates().done((function(){var i=n.getTableElement().find(".dx-row"),o=e.find(".dx-row");n._updateCells(i,o,t.columnIndices[0])})):this.callBase.apply(this,arguments)},_rowClick:function(e){var t=this._dataController.footerItems()[e.rowIndex]||{};this.executeAction("onRowClick",(0,a.extend)({},e,t))},_columnOptionChanged:function(e){var t=e.optionNames;e.changeTypes.grouping||(t.width||t.visibleWidth)&&this.callBase(e)},_handleDataChanged:function(e){var t=e.changeType;"update"===e.changeType&&e.repaintChangesOnly?e.totalColumnIndices?e.totalColumnIndices.length&&this.render(null,{changeType:"update",columnIndices:[e.totalColumnIndices]}):this.render():"refresh"!==t&&"append"!==t&&"prepend"!==t||this.render()},_createRow:function(e){var t=this.callBase.apply(this,arguments);return e.rowType===w&&t.addClass("dx-footer-row"),t},getHeight:function(){return this.getElementHeight()},isVisible:function(){return!!this._dataController.footerItems().length}});t.FooterView=E;var S,O,T={init:function(){this.callBase.apply(this,arguments),this._totalAggregates=[],this._summaryGetter=o.noop},summaryGetter:function(e){if(!arguments.length)return this._summaryGetter;(0,s.isFunction)(e)&&(this._summaryGetter=e)},summary:function(e){if(!arguments.length)return this._summaryGetter();this._summaryGetter=function(){return e}},totalAggregates:function(){return this._totalAggregates},isLastLevelGroupItemsPagingLocal:function(){var e=this.summary(),t=e&&e.sortByGroups();return t&&t.length},sortLastLevelGroupItems:function(e,t,n){var i=u.default.multiLevelGroup((0,d.default)(e),t).toArray(),o=[];return n.forEach((function(e){!function e(t,n,i,o){o=o||[];for(var r=0;r<t.length;r++)o.push(t[r].key),1===n?i(o,t[r].items):e(t[r].items,n-1,i,o),o.pop()}(i,t.length,(function(t,n){e.toString()===t.toString()&&(o=o.concat(n))}))})),o}},D=(S=function(e,t,n,i){var o;if(b(e)){var r=e.getController("editing");if(r){var l=r.getInsertedData();l.length&&(n=function e(t,n,i){return i?e(t,n.map((function(e){return{items:[e]}}),i-1)):t.concat(n)}(n,l,i));var s=r.getRemovedData();s.length&&(n=function e(t,n,i){return i?t.map((function(t){var o={},r=e(t.items||[],n,i-1);return Object.defineProperty(o,"aggregates",{get:function(){return t.aggregates},set:function(e){t.aggregates=e}}),(0,a.extend)(o,t,{items:r})})):t.filter((function(e){return n.indexOf(e)<0}))}(n,s,i))}}return t&&(o=new g.default({totalAggregates:t.totalAggregates,groupAggregates:t.groupAggregates,data:n,groupLevel:i})).calculate(),o?o.totalAggregates():[]},O=function(e,t,n){var i=n&&n.sortByGroups&&n.sortByGroups();return i&&i.length?function e(t,n,i){if(!t||!n.length)return t;var o,r=n[0],a=i[0];return r&&a&&a.length&&(o=(0,d.default)(t),(0,l.each)(a,(function(e){o=0===e?o.sortBy(this.selector,this.desc):o.thenBy(this.selector,this.desc)})),o.enumerate().done((function(e){t=e}))),n=n.slice(1),i=i.slice(1),n.length&&i.length&&(0,l.each)(t,(function(){this.items=e(this.items,n,i)})),t}(e,t,i):e},{_customizeRemoteOperations:function(e){var t=this.summary();t&&(e.remoteOperations.summary?e.isCustomLoading&&!e.storeLoadOptions.isLoadingAll||(e.storeLoadOptions.group&&(e.remoteOperations.grouping?e.storeLoadOptions.groupSummary=t.groupAggregates:t.groupAggregates.length&&(e.remoteOperations.paging=!1)),e.storeLoadOptions.totalSummary=t.totalAggregates):(t.totalAggregates.length||t.groupAggregates.length&&e.storeLoadOptions.group)&&(e.remoteOperations.paging=!1)),this.callBase.apply(this,arguments);var n=e.cachedData.extra;n&&n.summary&&!e.isCustomLoading&&(e.storeLoadOptions.totalSummary=void 0)},_handleDataLoadedCore:function(e){var t,n,i=(0,c.normalizeSortingInfo)(e.storeLoadOptions.group||e.loadOptions.group||[]),o=e.remoteOperations||{},r=this.summaryGetter()(o);if(!e.isCustomLoading||e.storeLoadOptions.isLoadingAll)if(o.summary)!o.paging&&i.length&&r&&(o.grouping||S(this,{groupAggregates:r.groupAggregates},e.data,i.length),e.data=O(e.data,i,r));else if(!o.paging&&r){var a=e.operationTypes||{};if(!Object.keys(a).some((function(e){return a[e]}))||!(null===(n=null===(t=e.cachedData)||void 0===t?void 0:t.extra)||void 0===n?void 0:n.summary)||i.length&&r.groupAggregates.length){var l=S(this,r,e.data,i.length);e.extra=(0,s.isPlainObject)(e.extra)?e.extra:{},e.extra.summary=l,e.cachedData&&(e.cachedData.extra=e.extra)}e.data=O(e.data,i,r)}e.isCustomLoading||(this._totalAggregates=e.extra&&e.extra.summary||this._totalAggregates),this.callBase(e)}});_.default.extend(T),_.default.extend(D),m.default.registerModule("summary",{defaultOptions:function(){return{summary:{groupItems:void 0,totalItems:void 0,calculateCustomSummary:void 0,skipEmptyValues:!0,recalculateWhileEditing:!1,texts:{sum:h.default.format("dxDataGrid-summarySum"),sumOtherColumn:h.default.format("dxDataGrid-summarySumOtherColumn"),min:h.default.format("dxDataGrid-summaryMin"),minOtherColumn:h.default.format("dxDataGrid-summaryMinOtherColumn"),max:h.default.format("dxDataGrid-summaryMax"),maxOtherColumn:h.default.format("dxDataGrid-summaryMaxOtherColumn"),avg:h.default.format("dxDataGrid-summaryAvg"),avgOtherColumn:h.default.format("dxDataGrid-summaryAvgOtherColumn"),count:h.default.format("dxDataGrid-summaryCount")}},sortByGroupSummaryInfo:void 0}},views:{footerView:E},extenders:{controllers:{data:{_isDataColumn:function(e){return e&&(!(0,s.isDefined)(e.groupIndex)||e.showWhenGrouped)},_isGroupFooterVisible:function(){for(var e=this.option("summary.groupItems")||[],t=0;t<e.length;t++){var n=e[t],i=this._columnsController.columnOption(n.showInColumn||n.column);if(n.showInGroupFooter&&this._isDataColumn(i))return!0}return!1},_processGroupItems:function(e,t,n){var i=n&&n.data,o=this.callBase.apply(this,arguments);return n&&(void 0===n.isGroupFooterVisible&&(n.isGroupFooterVisible=this._isGroupFooterVisible()),i&&i.items&&n.isGroupFooterVisible&&(n.collectContinuationItems||!i.isContinuationOnNextPage)&&o.push({rowType:C,key:n.path.slice(),data:i,groupIndex:n.path.length-1,values:[]})),o},_processGroupItem:function(e,t){var n=this;if(t.summaryGroupItems||(t.summaryGroupItems=n.option("summary.groupItems")||[]),"group"===e.rowType){var i=-1,o=-1;(0,l.each)(t.visibleColumns,(function(n){var r=t.visibleColumns[n-1];e.groupIndex===this.groupIndex&&(i=this.index),n>0&&"expand"===r.command&&"expand"!==this.command&&(o=this.index)})),e.summaryCells=this._calculateSummaryCells(t.summaryGroupItems,I(e.data),t.visibleColumns,(function(e,t){return e.showInGroupFooter?-1:e.alignByColumn&&t&&!(0,s.isDefined)(t.groupIndex)&&t.index!==o?t.index:i}),!0)}return e.rowType===C&&(e.summaryCells=this._calculateSummaryCells(t.summaryGroupItems,I(e.data),t.visibleColumns,(function(e,t){return e.showInGroupFooter&&n._isDataColumn(t)?t.index:-1}))),e},_calculateSummaryCells:function(e,t,n,i,o){var r=this,d=[],u={};return(0,l.each)(e,(function(e,n){var o=r._columnsController.columnOption(n.column),l=n.showInColumn&&r._columnsController.columnOption(n.showInColumn)||o,d=i(n,l);if(d>=0){u[d]||(u[d]=[]);var c,h=t[e];if(h==h)(0,s.isDefined)(n.valueFormat)?c=n.valueFormat:"count"!==n.summaryType&&(c=m.default.getFormatByDataType(o&&o.dataType)),u[d].push((0,a.extend)({},n,{value:(0,s.isString)(h)&&o&&o.deserializeValue?o.deserializeValue(h):h,valueFormat:c,columnCaption:o&&o.index!==d?o.caption:void 0}))}})),(0,s.isEmptyObject)(u)||n.forEach((function(e,t){var i=n[t-1],r=!o||"expand"!==(null==i?void 0:i.command)&&"expand"!==e.command?e.index:null==i?void 0:i.index;d.push(u[r]||[])})),d},_getSummaryCells:function(e,t){var n=this,i=n._columnsController;return n._calculateSummaryCells(e,t,i.getVisibleColumns(),(function(e,t){return n._isDataColumn(t)?t.index:-1}))},_updateItemsCore:function(e){var t,n=this._dataSource,i=this._footerItems,o=i&&i[0]&&i[0].summaryCells,r=this.option("summary.totalItems");if(this._footerItems=[],n&&r&&r.length){var a=n.totalAggregates();t=this._getSummaryCells(r,a),e&&e.repaintChangesOnly&&o&&(e.totalColumnIndices=t.map((function(e,t){return JSON.stringify(e)!==JSON.stringify(o[t])?t:-1})).filter((function(e){return e>=0}))),t.length&&this._footerItems.push({rowType:w,summaryCells:t})}this.callBase(e)},_prepareUnsavedDataSelector:function(e){if(b(this)){var t=this.getController("editing");if(t)return function(n){return n=t.getUpdatedData(n),e(n)}}return e},_prepareAggregateSelector:function(e,t){return e=this._prepareUnsavedDataSelector(e),"avg"===t||"sum"===t?function(t){var n=e(t);return(0,s.isDefined)(n)?Number(n):n}:e},_getAggregates:function(e,t){var n=this,i=n.getController("columns"),o=n.option("summary.calculateCustomSummary"),a=n.option("summary.skipEmptyValues");return(0,l.map)(e||[],(function(e){var l=i.columnOption(e.column),d=l&&l.calculateCellValue?l.calculateCellValue.bind(l):(0,r.compileGetter)(l?l.dataField:e.column),u=e.summaryType||"count",c=(0,s.isDefined)(e.skipEmptyValues)?e.skipEmptyValues:a;if(t)return{selector:e.column,summaryType:u};var h=n._prepareAggregateSelector(d,u);if("custom"===u){o||(f.default.log("E1026"),o=function(){});var p={component:n.component,name:e.name};o(p),p.summaryProcess="calculate",u={seed:function(e){return p.summaryProcess="start",p.totalValue=void 0,p.groupIndex=e,delete p.value,o(p),p.totalValue},step:function(e,t){return p.summaryProcess="calculate",p.totalValue=e,p.value=t,o(p),p.totalValue},finalize:function(e){return p.summaryProcess="finalize",p.totalValue=e,delete p.value,o(p),p.totalValue}}}return{selector:h,aggregator:u,skipEmptyValues:c}}))},_addSortInfo:function(e,t,n,i){if(t){var o=t.groupIndex;i=i||t.sortOrder,(0,s.isDefined)(o)&&(e[o]=e[o]||[],e[o].push({selector:n,desc:"desc"===i}))}},_findSummaryItem:function(e,t){var n=-1;return(0,s.isDefined)(t)&&(0,l.each)(e||[],(function(e){if(this.name===t||e===t||this.summaryType===t||this.column===t||(this,i=this.summaryType,o=this.column,(i&&o&&"".concat(i,"_").concat(o))===t))return n=e,!1;var i,o})),n},_getSummarySortByGroups:function(e,t){var n=this,i=n._columnsController,o=i.getGroupColumns(),r=[];if(t&&t.length)return(0,l.each)(e||[],(function(){var e=this.sortOrder,a=this.groupColumn,d=n._findSummaryItem(t,this.summaryItem);if(!(d<0)){var u=function(e){return I(e)[d]};(0,s.isDefined)(a)?(a=i.columnOption(a),n._addSortInfo(r,a,u,e)):(0,l.each)(o,(function(t,i){n._addSortInfo(r,i,u,e)}))}})),r},_createDataSourceAdapterCore:function(e,t){var n=this,i=this.callBase(e,t);return i.summaryGetter((function(e){return n._getSummaryOptions(e||t)})),i},_getSummaryOptions:function(e){var t=this,n=t.option("summary.groupItems"),i=t.option("summary.totalItems"),o=t.option("sortByGroupSummaryInfo"),r=t._getAggregates(n,e&&e.grouping&&e.summary),a=t._getAggregates(i,e&&e.summary);if(r.length||a.length)return{groupAggregates:r,totalAggregates:a,sortByGroups:function(){return t._getSummarySortByGroups(o,n)}}},publicMethods:function(){var e=this.callBase();return e.push("getTotalSummaryValue"),e},getTotalSummaryValue:function(e){var t=this._findSummaryItem(this.option("summary.totalItems"),e),n=this._dataSource.totalAggregates();if(n.length&&t>-1)return n[t]},optionChanged:function(e){"summary"!==e.name&&"sortByGroupSummaryInfo"!==e.name||(e.name="dataSource"),this.callBase(e)},init:function(){this._footerItems=[],this.callBase()},footerItems:function(){return this._footerItems}},editing:{_refreshSummary:function(){b(this)&&!this.isSaving()&&this._dataController.refresh({load:!0,changesOnly:!0})},_addChange:function(e){var t=this.callBase.apply(this,arguments);return e.type&&this._refreshSummary(),t},_removeChange:function(){var e=this.callBase.apply(this,arguments);return this._refreshSummary(),e},cancelEditData:function(){var e=this.callBase.apply(this,arguments);return this._refreshSummary(),e}}},views:{rowsView:{_createRow:function(e){var t=this.callBase.apply(this,arguments);return e&&t.addClass(e.rowType===C?"dx-datagrid-group-footer":""),t},_renderCells:function(e,t){this.callBase.apply(this,arguments),"group"===t.row.rowType&&t.row.summaryCells&&t.row.summaryCells.length&&this._renderGroupSummaryCells(e,t)},_hasAlignByColumnSummaryItems:function(e,t){return!(0,s.isDefined)(t.columns[e].groupIndex)&&t.row.summaryCells[e].length},_getAlignByColumnCellCount:function(e,t){for(var n=0,i=1;i<e;i++){var o=t.row.summaryCells.length-i;n=this._hasAlignByColumnSummaryItems(o,t)?i:n}return n},_renderGroupSummaryCells:function(e,t){var n=e.children().last(),i=Number(n.attr("colSpan"))||1,o=this._getAlignByColumnCellCount(i,t);this._renderGroupSummaryCellsCore(n,t,i,o)},_renderGroupSummaryCellsCore:function(e,t,n,i){if(i>0){e.attr("colSpan",n-i);for(var o=0;o<i;o++){var r=t.columns.length-i+o;this._renderCell(e.parent(),(0,a.extend)({column:t.columns[r],columnIndex:this._getSummaryCellIndex(r,t.columns)},t))}}},_getSummaryCellIndex:function(e){return e},_getCellTemplate:function(e){return!e.column.command&&!(0,s.isDefined)(e.column.groupIndex)&&e.summaryItems&&e.summaryItems.length?y:this.callBase(e)},_getCellOptions:function(e){var t=this.callBase(e);return e.row.summaryCells?(0,a.extend)(t,x(this,e)):t}}}}})},38192:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.adaptivityModule=void 0;var i=w(n(6909)),o=w(n(94965)),r=n(48152),a=n(74460),l=n(12907),s=n(65102),d=n(96993),u=n(21620),c=n(49859),h=n(82769),f=w(n(38608)),p=n(6473),g=w(n(63585)),m=w(n(55721)),_=n(1205),v=w(n(97478)),C=w(n(37028));function w(e){return e&&e.__esModule?e:{default:e}}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}var x="columnHeadersView",I="rowsView",b=[x,I,"footerView"],E="adaptiveHidden",S="detailAdaptive",O="dx-field-item-content",T="hidden-column",D="dx-command-adaptive",R="dx-command-adaptive-hidden",F="dx-adaptive-item-text",A="adaptive",P="row",V="dx-group-cell",B="dxDataGrid-ariaAdaptiveExpand";function M(e,t){return e._columnsController.getColumnId(t)}function k(e,t){var n,i=(0,o.default)(e),r=t.component.getController("adaptiveColumns");"data"===t.rowType?(n=(0,o.default)("<span>").addClass(r.addWidgetPrefix("adaptive-more")),f.default.on(n,(0,p.addNamespace)(h.name,"dxDataGridAdaptivity"),r.createAction((function(){r.toggleExpandAdaptiveDetailRow(t.key)}))),n.appendTo(i)):C.default.setEmptyText(i)}function L(e){var t,n=null===(t=e.data)||void 0===t?void 0:t.$nextCell;f.default.off(n,"focus",L),f.default.trigger(n,"dxclick")}var N={_isRowEditMode:function(){return this._getEditMode()===P},_isItemModified:function(e,t){var n=this._columnsController.getVisibleIndex(e.column.index),i=this._dataController.getRowIndexByKey(t.key),o=this._dataController.items()[i+1];return o&&o.modifiedValues&&(0,c.isDefined)(o.modifiedValues[n])},_renderFormViewTemplate:function(e,t,n){var i=this,o=e.column,r=i.createAction((function(){i._editingController.isEditing()&&f.default.trigger(n,h.name)})),a=t.row.data,d=o.calculateCellValue(a),u=C.default.getDisplayValue(o,d,a,t.rowType),p=C.default.formatValue(u,o),g=this._editingController.isCellOrBatchEditMode(),m=i._rowsView;if(o.allowEditing&&i.getController("keyboardNavigation").isKeyboardEnabled()&&(n.attr("tabIndex",i.option("tabIndex")),g&&(f.default.off(n,"focus",r),f.default.on(n,"focus",r))),o.cellTemplate){var _=(0,s.extend)({},t,{value:d,displayValue:u,text:p,column:o});m.renderTemplate(n,o.cellTemplate,_,(0,l.isElementInDom)(n)).done((function(){m._cellPrepared(n,t)}))}else{var v=n.get(0);o.encodeHtml?v.textContent=p:v.innerHTML=p,n.addClass(F),(0,c.isDefined)(p)&&""!==p||n.html("&nbsp;"),i._isRowEditMode()||i._isItemModified(e,t)&&n.addClass("dx-item-modified"),m._cellPrepared(n,t)}},_getTemplate:function(e,t){var n=this,i=e.column,r=this.getController("editing");return function(a,l){var d=(0,o.default)(l),u=n._columnsController.getVisibleIndex(i.index),c=(0,s.extend)({},t),h=function(){var o=n._isItemEdited(e);c.value=t.row.values[u],o||i.showEditorAlways?r.renderFormEditorTemplate(c,e,a,d,!o):(c.column=i,c.columnIndex=u,n._renderFormViewTemplate(e,c,d))};h(),c.watch&&c.watch((function(){return{isItemEdited:n._isItemEdited(e),value:t.row.values[u]}}),(function(){d.contents().remove(),d.removeClass(F),h()}))}},_isVisibleColumnsValid:function(e){return!(e<2)&&!(e.length-function(){for(var t=0,n=0;n<e.length;n++){e[n].command&&t++}return t}()<=1)},_calculatePercentWidths:function(e,t){var n=this,i=0;return t.forEach((function(t,o){e[o]!==E&&(i+=n._getItemPercentWidth(t))})),i},_isPercentWidth:function(e){return(0,c.isString)(e)&&e.endsWith("%")},_isColumnHidden:function(e){return this._hiddenColumns.filter((function(t){return t.index===e.index})).length>0},_getAverageColumnsWidth:function(e,t,n){var i=this,o=0,r=0;return t.forEach((function(a){if(!i._isColumnHidden(a)){var l=a.width;(0,c.isDefined)(l)&&!isNaN(parseFloat(l))?o+=i._isPercentWidth(l)?i._calculatePercentWidth({visibleIndex:a.visibleIndex,columnsCount:t.length,columnsCanFit:n,bestFitWidth:a.bestFitWidth,columnWidth:l,containerWidth:e}):parseFloat(l):r++}})),(e-o)/r},_calculateColumnWidth:function(e,t,n,i){var o,r=M(this,e),a=this._columnsController.columnOption(r,"width"),l=this._columnsController.columnOption(r,"bestFitWidth"),s=n.length;if(a&&"auto"!==a){if(!this._isPercentWidth(a))return parseFloat(a);o=this._calculatePercentWidth({visibleIndex:e.visibleIndex,columnsCount:s,columnsCanFit:i,bestFitWidth:l,columnWidth:a,containerWidth:t})}else{o=this.option("columnAutoWidth")||e.command?l:this._getAverageColumnsWidth(t,n,i)}return o},_calculatePercentWidth:function(e){var t=e.visibleIndex<e.columnsCount-1&&e.columnsCanFit,n=e.containerWidth*parseFloat(e.columnWidth)/100,i=e.columnsCanFit&&n<e.bestFitWidth?e.bestFitWidth:n;return t?e.containerWidth*parseFloat(e.columnWidth)/100:i},_getNotTruncatedColumnWidth:function(e,t,n,i){var o=M(this,e),r=this._columnsController.columnOption(o,"width"),a=this._columnsController.columnOption(o,"bestFitWidth");if(r&&"auto"!==r&&!this._isPercentWidth(r))return parseFloat(r);var l=this._calculateColumnWidth(e,t,n,i);return l<a?null:l},_getItemPercentWidth:function(e){var t=0;return e.width&&this._isPercentWidth(e.width)&&(t=parseFloat(e.width)),t},_getCommandColumnsWidth:function(){var e=this,t=e._columnsController.getVisibleColumns(),n=0;return(0,d.each)(t,(function(t,i){(i.index<0||i.command)&&(n+=e._columnsController.columnOption(M(e,i),"bestFitWidth")||0)})),n},_isItemEdited:function(e){if(this.isFormOrPopupEditMode())return!1;if(!this._isRowEditMode()){var t=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,n=this._columnsController.getVisibleIndex(e.column.index);return this._editingController.isEditCell(t,n)}var i=this.option("editing.editRowKey");return!!(0,r.equalByValue)(i,this._dataController.adaptiveExpandedKey())||void 0},_getFormItemsByHiddenColumns:function(e){var t=[];return(0,d.each)(e,(function(e,n){t.push({column:n,name:n.name,dataField:n.dataField,visibleIndex:n.visibleIndex})})),t},_getAdaptiveColumnVisibleIndex:function(e){for(var t=0;t<e.length;t++){if(e[t].command===A)return t}},_hideAdaptiveColumn:function(e,t){var n=this._getAdaptiveColumnVisibleIndex(t);(0,c.isDefined)(n)&&(e[n]=E,this._hideVisibleColumn({isCommandColumn:!0,visibleIndex:n}))},_showHiddenCellsInView:function(e){var t=e.$cells,n=e.isCommandColumn,i=this.addWidgetPrefix(T);n?(i=R,t.attr({tabIndex:0,"aria-hidden":null}).removeClass(i)):t.removeClass(i)},_showHiddenColumns:function(){for(var e=0;e<b.length;e++){var t=this.getView(b[e]);if(t&&t.isVisible()&&t.element()){var n=t.name,i=t.element().find(".".concat(R));this._showHiddenCellsInView({viewName:n,$cells:i,isCommandColumn:!0});var o=t.element().find(".".concat(this.addWidgetPrefix(T)));this._showHiddenCellsInView({viewName:n,$cells:o})}}},_isCellValid:function(e){return e&&e.length&&!e.hasClass("dx-master-detail-cell")&&!e.hasClass(V)},_hideVisibleColumn:function(e){var t=e.isCommandColumn,n=e.visibleIndex,i=this;b.forEach((function(e){var o=i.getView(e);o&&i._hideVisibleColumnInView({view:o,isCommandColumn:t,visibleIndex:n})}))},_hideVisibleColumnInView:function(e){var t,n=e.view,i=e.isCommandColumn,o=e.visibleIndex,r=n.name,a=this._columnsController.getVisibleColumns()[o],l=this._editingController&&this._editingController.getEditFormRowIndex();if(n&&n.isVisible()&&a)for(var s=n.getRowsCount(),d=n._getRowElements(),u=0;u<s;u++){if(!(u===l&&r===I&&"popup"!==this.option("editing.mode"))){var c=r===x?this._columnsController.getVisibleIndex(a.index,u):o;if(c>=0){var h=d.eq(u);t=this._findCellElementInRow(h,c),this._isCellValid(t)&&this._hideVisibleCellInView({viewName:r,isCommandColumn:i,$cell:t})}}}},_findCellElementInRow:function(e,t){var n=e.children(),i=t,o=!1;if(e.hasClass("dx-group-row")){var r=e.find(".".concat(V)),a=r.attr("colspan");if(r.length&&(0,c.isDefined)(a)){var l=parseInt(a);t>r.index()+l-1?i=t-l+1:o=!0}}return o?void 0:n.eq(i)},_hideVisibleCellInView:function(e){var t=e.$cell,n=e.isCommandColumn?R:this.addWidgetPrefix(T);t.attr({tabIndex:-1,"aria-hidden":!0}).addClass(n)},_getEditMode:function(){return this._editingController.getEditMode()},isFormOrPopupEditMode:function(){var e=this._getEditMode();return"form"===e||"popup"===e},hideRedundantColumns:function(e,t,n){if(this._hiddenColumns=[],this._isVisibleColumnsValid(t)&&n.length){var i,o,r,a=0,l=this.component.$element(),s=(0,u.getWidth)(l)-this._getCommandColumnsWidth(),d=function(){var e=this;return t.filter((function(t){return!t.command&&0===e._hiddenColumns.filter((function(e){return e.index===t.index})).length}))}.bind(this),c=d(),h=c.length;do{r=!1,a=0;var f=this._calculatePercentWidths(e,t),p=f<100&&0!==f;for(i=0;i<t.length;i++){var g=t[i],m=this._getNotTruncatedColumnWidth(g,s,c,p),_=M(this,g),v=this._columnsController.columnOption(_,"width"),C=this._columnsController.columnOption(_,"minWidth"),w=this._columnsController.columnOption(_,"bestFitWidth");if(e[i]!==E){if(!m&&!g.command&&!g.fixed){r=!0;break}v&&"auto"!==v||(m=Math.max(w||0,C||0)),(g.command!==A||o)&&(a+=m)}else o=!0}if(r=r||a>(0,u.getWidth)(l)){var y=n.pop(),x=this._columnsController.getVisibleIndex(y.index);s+=this._calculateColumnWidth(y,s,c,p),this._hideVisibleColumn({visibleIndex:x}),e[x]=E,this._hiddenColumns.push(y),c=d()}}while(r&&c.length>1&&n.length);h===c.length&&this._hideAdaptiveColumn(e,t)}else this._hideAdaptiveColumn(e,t)},getAdaptiveDetailItems:function(){return this._$itemContents},getItemContentByColumnIndex:function(e){for(var t,n=0;n<this._$itemContents.length;n++){var i=(t=this._$itemContents.eq(n)).data("dx-form-item");if(i&&i.column&&this._columnsController.getVisibleIndex(i.column.index)===e)return t}},toggleExpandAdaptiveDetailRow:function(e,t){this.isFormOrPopupEditMode()&&this._editingController.isEditing()||this.getController("data").toggleExpandAdaptiveDetailRow(e,t)},createFormByHiddenColumns:function(e,t){var n=this,r=(0,o.default)(e),a={items:n._getFormItemsByHiddenColumns(n._hiddenColumns),formID:"dx-".concat(new i.default)},l=(0,_.isMaterial)()?{colCount:2}:{};this.executeAction("onAdaptiveDetailRowPreparing",{formOptions:a}),n._$itemContents=null,n._form=n._createComponent((0,o.default)("<div>").appendTo(r),m.default,(0,s.extend)(l,a,{customizeItem:function(e){var i=e.column||n._columnsController.columnOption(e.name||e.dataField);i&&(e.label=e.label||{},e.label.text=e.label.text||i.caption,e.column=i,e.template=n._getTemplate(e,t,n.updateForm.bind(n))),a.customizeItem&&a.customizeItem.call(this,e)},onContentReady:function(e){a.onContentReady&&a.onContentReady.call(this,e),n._$itemContents=r.find(".".concat(O))}}))},hasAdaptiveDetailRowExpanded:function(){return(0,c.isDefined)(this._dataController.adaptiveExpandedKey())},updateForm:function(e){this.hasAdaptiveDetailRowExpanded()&&this._form&&(0,c.isDefined)(this._form._contentReadyAction)&&(e&&e.length?this._form.option("items",this._getFormItemsByHiddenColumns(e)):this._form.repaint())},updateHidingQueue:function(e){var t,n,i=e.filter((function(e){return e.visible&&!e.type&&!e.fixed&&!((0,c.isDefined)(e.groupIndex)&&e.groupIndex>=0)}));if(this._hidingColumnsQueue=[],this.option("allowColumnResizing")&&"widget"===this.option("columnResizingMode"))return this._hidingColumnsQueue;for(n=0;n<i.length;n++)(0,c.isDefined)(i[n].hidingPriority)&&i[n].hidingPriority>=0&&(t=!0,this._hidingColumnsQueue[i[n].hidingPriority]=i[n]);if(t)this._hidingColumnsQueue.reverse();else if(this.option("columnHidingEnabled"))for(n=0;n<i.length;n++){var o=this._columnsController.getVisibleIndex(i[n].index);this._hidingColumnsQueue[o]=i[n]}return this._hidingColumnsQueue=this._hidingColumnsQueue.filter(Object),this._hidingColumnsQueue},getHiddenColumns:function(){return this._hiddenColumns},hasHiddenColumns:function(){return this._hiddenColumns.length>0},getHidingColumnsQueue:function(){return this._hidingColumnsQueue},init:function(){var e=this;e._columnsController=e.getController("columns"),e._dataController=e.getController("data"),e._rowsView=e.getView("rowsView"),e._columnsController.addCommandColumn({type:A,command:A,visible:!0,adaptiveHidden:!0,cssClass:D,alignment:"center",width:"auto",cellTemplate:k,fixedPosition:"right"}),e._columnsController.columnsChanged.add((function(){var t=!!e.updateHidingQueue(e._columnsController.getColumns()).length;e._columnsController.columnOption("command:adaptive","adaptiveHidden",!t,!0)})),e._editingController=e.getController("editing"),e._hidingColumnsQueue=[],e._hiddenColumns=[],e.createAction("onAdaptiveDetailRowPreparing"),e.callBase()},optionChanged:function(e){"columnHidingEnabled"===e.name&&this._columnsController.columnOption("command:adaptive","adaptiveHidden",!e.value),this.callBase(e)},publicMethods:function(){return["isAdaptiveDetailRowExpanded","expandAdaptiveDetailRow","collapseAdaptiveDetailRow"]},isAdaptiveDetailRowExpanded:function(e){var t=this._dataController;return t.adaptiveExpandedKey()&&(0,r.equalByValue)(t.adaptiveExpandedKey(),e)},expandAdaptiveDetailRow:function(e){this.hasAdaptiveDetailRowExpanded()||this.toggleExpandAdaptiveDetailRow(e)},collapseAdaptiveDetailRow:function(){this.hasAdaptiveDetailRowExpanded()&&this.toggleExpandAdaptiveDetailRow()},updateCommandAdaptiveAriaLabel:function(e,t){var n=this._dataController.getRowIndexByKey(e);if(-1!==n){var i=(0,o.default)(this.component.getRowElement(n));this.setCommandAdaptiveAriaLabel(i,t)}},setCommandAdaptiveAriaLabel:function(e,t){e.find(".dx-command-adaptive").attr("aria-label",g.default.format(t))}},H={defaultOptions:function(){return{columnHidingEnabled:!1,onAdaptiveDetailRowPreparing:null}},controllers:{adaptiveColumns:v.default.ViewController.inherit(N)},extenders:{views:{rowsView:{_getCellTemplate:function(e){var t=this,n=e.column;return e.rowType===S&&"detail"===n.command?function(e,n){t._adaptiveColumnsController.createFormByHiddenColumns((0,o.default)(e),n)}:t.callBase(e)},_createRow:function(e){var t=this.callBase.apply(this,arguments);return e&&e.rowType===S&&e.key===this._dataController.adaptiveExpandedKey()&&t.addClass("dx-adaptive-detail-row"),t},_renderCells:function(e,t){this.callBase(e,t);var n=this._adaptiveColumnsController,i=n.getHidingColumnsQueue().length,o=n.getHiddenColumns().length;i&&!o&&function(e){return e.find("td:not(.dx-datagrid-hidden-column):not([class*='dx-command-'])")}(e).last().addClass("dx-last-data-cell"),"data"===t.row.rowType&&n.setCommandAdaptiveAriaLabel(e,B)},_getColumnIndexByElementCore:function(e){var t=e.closest(".".concat(O));if(t.length&&t.closest(this.component.$element()).length){var n=t.length?t.first().data("dx-form-item"):null;return n&&n.column&&this._columnsController.getVisibleIndex(n.column.index)}return this.callBase(e)},_cellPrepared:function(e,t){this.callBase.apply(this,arguments),t.row.rowType!==S&&t.column.visibleWidth===E&&e.addClass(this.addWidgetPrefix(T))},getCell:function(e,t){var n=this._dataController.items()[null==e?void 0:e.rowIndex];if((null==n?void 0:n.rowType)===S){var i=this._adaptiveColumnsController.getAdaptiveDetailItems();return this.callBase(e,t,i)}return this.callBase.apply(this,arguments)},_getCellElement:function(e,t){var n=this._dataController.items()[e];return n&&n.rowType===S?this._adaptiveColumnsController.getItemContentByColumnIndex(t):this.callBase.apply(this,arguments)},getContextMenuItems:function(e){if(e.row&&"detailAdaptive"===e.row.rowType){var t=this.component.getView("columnHeadersView"),n=(0,o.default)(e.targetElement).closest(".dx-field-item-label").next().data("dx-form-item");return e.column=n?n.column:e.column,t.getContextMenuItems&&t.getContextMenuItems(e)}return this.callBase&&this.callBase(e)},isClickableElement:function(e){return!!this.callBase&&this.callBase(e)||!!e.closest(".".concat(D)).length},init:function(){this.callBase(),this._adaptiveColumnsController=this.getController("adaptiveColumns")}}},controllers:{export:{_updateColumnWidth:function(e,t){this.callBase(e,e.visibleWidth===E?e.bestFitWidth:t)}},columnsResizer:{_pointCreated:function(e,t,n){var i=this.callBase(e,t,n),o=n[e.columnIndex]||{},r=this._getNextColumnIndex(e.columnIndex),a=n[r]||{},l=r!==e.columnIndex+1&&a.command,s=o.visibleWidth===E||l;return i||s},_getNextColumnIndex:function(e){for(var t=this._columnsController.getVisibleColumns(),n=this.callBase(e);t[n]&&t[n].visibleWidth===E;)n++;return n}},draggingHeader:{_pointCreated:function(e,t,n,i){var o=this.callBase(e,t,n,i),r=(t[e.columnIndex-1]||{}).visibleWidth===E;return o||r}},editing:{_isRowEditMode:function(){return this.getEditMode()===P},_getFormEditItemTemplate:function(e,t){return this.getEditMode()!==P&&"detailAdaptive"===e.rowType?(e.columnIndex=this._columnsController.getVisibleIndex(t.index),this.getColumnTemplate(e)):this.callBase(e,t)},_closeEditItem:function(e){var t=e.closest(".".concat(O)),n=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,i=t.length?t.first().data("dx-form-item"):null,o=i&&i.column&&this._columnsController.getVisibleIndex(i.column.index);this.isEditCell(n,o)||this.callBase(e)},_beforeUpdateItems:function(e,t){if(!this._adaptiveController.isFormOrPopupEditMode()&&this._adaptiveController.hasHiddenColumns()){var n=this._dataController.items(),i=n[t],o=C.default.getIndexByKey(this._dataController.adaptiveExpandedKey(),n);this._isForceRowAdaptiveExpand=!this._adaptiveController.hasAdaptiveDetailRowExpanded(),o>=0&&e.push(o+1),e.push(t+1),this._dataController.adaptiveExpandedKey(i.key)}},_afterInsertRow:function(e){this.callBase.apply(this,arguments),this._adaptiveController.hasHiddenColumns()&&(this._adaptiveController.toggleExpandAdaptiveDetailRow(e,this.isRowEditMode()),this._isForceRowAdaptiveExpand=!0)},_collapseAdaptiveDetailRow:function(){this._isRowEditMode()&&this._isForceRowAdaptiveExpand&&(this._adaptiveController.collapseAdaptiveDetailRow(),this._isForceRowAdaptiveExpand=!1)},_cancelEditAdaptiveDetailRow:function(){this._adaptiveController.hasHiddenColumns()&&this._collapseAdaptiveDetailRow()},_afterSaveEditData:function(){var e=this;this.callBase.apply(this,arguments);var t=new a.Deferred;return this._isRowEditMode()&&this._adaptiveController.hasHiddenColumns()?(0,a.when)(this.getController("validating").validate(!0)).done((function(n){n&&e._cancelEditAdaptiveDetailRow(),t.resolve()})):t.resolve(),t.promise()},_beforeCancelEditData:function(){this.callBase(),this._cancelEditAdaptiveDetailRow()},_getRowIndicesForCascadeUpdating:function(e){var t=this.callBase.apply(this,arguments);return this._adaptiveController.isAdaptiveDetailRowExpanded(e.key)&&t.push(e.rowType===S?e.rowIndex-1:e.rowIndex+1),t},_beforeCloseEditCellInBatchMode:function(e){var t=this._dataController._adaptiveExpandedKey;if(t){var n=C.default.getIndexByKey(t,this._dataController.items());n>-1&&e.unshift(n)}},editRow:function(e){this._adaptiveController.isFormOrPopupEditMode()&&this._adaptiveController.collapseAdaptiveDetailRow(),this.callBase(e)},deleteRow:function(e){var t=this._dataController.getKeyByRowIndex(e);"batch"===this.getEditMode()&&this._adaptiveController.isAdaptiveDetailRowExpanded(t)&&this._adaptiveController.collapseAdaptiveDetailRow(),this.callBase(e)},init:function(){this.callBase(),this._adaptiveController=this.getController("adaptiveColumns")}},resizing:{_needBestFit:function(){return this.callBase()||!!this._adaptiveColumnsController.getHidingColumnsQueue().length},_correctColumnWidths:function(e,t){var n=this._adaptiveColumnsController,i=n.getHiddenColumns(),o=n.updateHidingQueue(this._columnsController.getColumns());n.hideRedundantColumns(e,t,o);var r=n.getHiddenColumns();return n.hasAdaptiveDetailRowExpanded()&&i.length!==r.length&&n.updateForm(r),!r.length&&n.collapseAdaptiveDetailRow(),this.callBase.apply(this,arguments)},_toggleBestFitMode:function(e){e&&this._adaptiveColumnsController._showHiddenColumns(),this.callBase(e)},_needStretch:function(){var e=this._adaptiveColumnsController;return this.callBase.apply(this,arguments)||e.getHidingColumnsQueue().length||e.hasHiddenColumns()},init:function(){this._adaptiveColumnsController=this.getController("adaptiveColumns"),this.callBase()},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._updateScrollableTimeoutID)}},data:{_processItems:function(e,t){var n=t.changeType;if(e=this.callBase.apply(this,arguments),"loadingAll"===n||!(0,c.isDefined)(this._adaptiveExpandedKey))return e;var i=C.default.getIndexByKey(this._adaptiveExpandedKey,e),o=!1===this.option("scrolling.legacyMode");if(i>=0){var r=e[i];e.splice(i+1,0,{visible:!0,rowType:S,key:r.key,data:r.data,node:r.node,modifiedValues:r.modifiedValues,isNewRow:r.isNewRow,values:r.values})}else"refresh"!==n||o&&t.repaintChangesOnly||(this._adaptiveExpandedKey=void 0);return e},_getRowIndicesForExpand:function(e){var t=this.callBase.apply(this,arguments);if(this.getController("adaptiveColumns").isAdaptiveDetailRowExpanded(e)){var n=t[t.length-1];t.push(n+1)}return t},adaptiveExpandedKey:function(e){if(!(0,c.isDefined)(e))return this._adaptiveExpandedKey;this._adaptiveExpandedKey=e},toggleExpandAdaptiveDetailRow:function(e,t){var n=C.default.getIndexByKey(this._adaptiveExpandedKey,this._items),i=C.default.getIndexByKey(e,this._items);n>=0&&n===i&&!t&&(e=void 0,i=-1);var o=this._adaptiveExpandedKey;this._adaptiveExpandedKey=e,n>=0&&n++,i>=0&&i++;var r=this.getRowIndexDelta();this.updateItems({allowInvisibleRowIndices:!0,changeType:"update",rowIndices:[n-r,i-r]});var a=this.getController("adaptiveColumns");a.updateCommandAdaptiveAriaLabel(e,"dxDataGrid-ariaAdaptiveCollapse"),a.updateCommandAdaptiveAriaLabel(o,B)},init:function(){this.callBase(),this._adaptiveExpandedKey=void 0}},editorFactory:{_needHideBorder:function(e){return this.callBase(e)||(null==e?void 0:e.hasClass("dx-field-item-content"))&&(null==e?void 0:e.find(".dx-checkbox").length)},_getFocusCellSelector:function(){return"".concat(this.callBase(),", .dx-adaptive-detail-row .dx-field-item > .dx-field-item-content")},_getRevertTooltipsSelector:function(){return"".concat(this.callBase(),", .dx-field-item-content .").concat(this.addWidgetPrefix("revert-tooltip"))}},columns:{_isColumnVisible:function(e){return this.callBase(e)&&!e.adaptiveHidden}},keyboardNavigation:function(e){return function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,y(t,n);var o=i.prototype;return o._isCellValid=function(t,n){return e.prototype._isCellValid.call(this,t,n)&&!t.hasClass(this.addWidgetPrefix(T))&&!t.hasClass(R)},o._processNextCellInMasterDetail=function(t,n){e.prototype._processNextCellInMasterDetail.call(this,t,n);var i=this._editingController.isCellOrBatchEditMode();this._editingController.isEditing()&&t&&i&&!this._isInsideEditForm(t)&&(f.default.off(t,"focus",L),f.default.on(t,"focus",{$nextCell:t},L),f.default.trigger(n,"focus"))},o._isCellElement=function(t){return e.prototype._isCellElement.call(this,t)||t.hasClass(F)},o.init=function(){e.prototype.init.call(this),this._adaptiveController=this.getController("adaptiveColumns")},i}(e)}}}};t.adaptivityModule=H},61109:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.columnChooserModule=void 0;var i=_(n(70974)),o=_(n(94965)),r=n(48152),a=n(65102),l=n(96993),s=n(21620),d=n(49859),u=_(n(63585)),c=_(n(17154)),h=_(n(50278)),f=n(1205),p=_(n(27447)),g=_(n(97478)),m=n(79397);function _(e){return e&&e.__esModule?e:{default:e}}var v="column-chooser-button",C="notouch-action",w="column-chooser",y="dx-column-chooser-item",x=["showInColumnChooser","caption","allowHiding","visible","cssClass","ownerBand"],I={renderShowColumnChooserButton:function(e){var t,n=this,i=n.addWidgetPrefix(v),r=n.option("columnChooser.enabled"),a=e.find(".".concat(i));r?a.length?a.show():(t=(0,o.default)("<div>").addClass(i).appendTo(e),n._createComponent(t,c.default,{icon:w,onClick:function(){n.getView("columnChooserView").showColumnChooser()},hint:n.option("columnChooser.title"),integrationOptions:{}})):a.hide()},getPosition:function(){var e=this.getView("rowsView"),t=this.option("columnChooser.position");return(0,d.isDefined)(t)?t:{my:"right bottom",at:"right bottom",of:e&&e.element(),collision:"fit",offset:"-2 -2",boundaryOffset:"2 2"}}},b=g.default.ViewController.inherit(I),E={_resizeCore:r.noop,_isWinDevice:function(){return!!i.default.real().win},_initializePopupContainer:function(){var e=this,t=e.addWidgetPrefix("column-chooser"),n=e.element().addClass(t),i=e.option("columnChooser"),r=(0,f.current)(),l=(0,f.isGeneric)(r),s=(0,f.isMaterial)(r),u={visible:!1,shading:!1,showCloseButton:!1,dragEnabled:!0,resizeEnabled:!0,wrapperAttr:{class:t},toolbarItems:[{text:i.title,toolbar:"top",location:l||s?"before":"center"}],position:e.getController("columnChooser").getPosition(),width:i.width,height:i.height,rtlEnabled:e.option("rtlEnabled"),onHidden:function(){e._isWinDevice()&&(0,o.default)("body").removeClass(e.addWidgetPrefix(C))},container:i.container};l||s?(0,a.extend)(u,{showCloseButton:!0}):u.toolbarItems[u.toolbarItems.length]={shortcut:"cancel"},(0,d.isDefined)(this._popupContainer)?this._popupContainer.option(u):(e._popupContainer=e._createComponent(n,h.default,u),e._popupContainer.on("optionChanged",(function(t){"visible"===t.name&&e.renderCompleted.fire()}))),this.setPopupAttributes()},setPopupAttributes:function(){var e=this.isSelectMode(),t=this._columnsController.isBandColumnsUsed();this._popupContainer.setAria({role:"dialog",label:u.default.format("dxDataGrid-columnChooserTitle")}),this._popupContainer.$wrapper().toggleClass(this.addWidgetPrefix("column-chooser-mode-drag"),!e).toggleClass(this.addWidgetPrefix("column-chooser-mode-select"),e),this._popupContainer.$content().addClass(this.addWidgetPrefix("column-chooser-list")),e&&!t&&this._popupContainer.$content().addClass(this.addWidgetPrefix("column-chooser-plain"))},_renderCore:function(e){if(this._popupContainer){var t=!this.isSelectMode();this._columnChooserList&&"full"!==e?t&&this._updateItems():this._renderTreeView()}},_renderTreeView:function(){var e,t,n,i=this,o=this._popupContainer.$content(),l=this.option("columnChooser"),s=this.isSelectMode(),u={dataStructure:"plain",activeStateEnabled:!0,focusStateEnabled:!0,hoverStateEnabled:!0,itemTemplate:"item",showCheckBoxesMode:"none",rootValue:null,searchEnabled:(0,d.isDefined)(l.allowSearch)?l.allowSearch:null===(e=l.search)||void 0===e?void 0:e.enabled,searchTimeout:(0,d.isDefined)(l.searchTimeout)?l.searchTimeout:null===(t=l.search)||void 0===t?void 0:t.timeout,searchEditorOptions:null===(n=l.search)||void 0===n?void 0:n.editorOptions};if(this._isWinDevice()&&(u.useNativeScrolling=!1),(0,a.extend)(u,s?this._prepareSelectModeConfig():this._prepareDragModeConfig()),this._columnChooserList)u.searchEnabled||(u.searchValue=""),this._columnChooserList.option(u),this._updateItems();else{this._columnChooserList=this._createComponent(o,p.default,u),this._updateItems();var c=0;this._columnChooserList.on("optionChanged",(function(e){var t=e.component.getScrollable();c=t.scrollTop()})),this._columnChooserList.on("contentReady",(function(e){(0,r.deferUpdate)((function(){e.component.getScrollable().scrollTo({y:c}),i.renderCompleted.fire()}))}))}},_prepareDragModeConfig:function(){return{noDataText:this.option("columnChooser").emptyPanelText,activeStateEnabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,itemTemplate:function(e,t,n){(0,o.default)(n).text(e.text).parent().addClass(e.cssClass).addClass(y)}}},_prepareSelectModeConfig:function(){var e=this,t=this,n=this.option("columnChooser.selection")||{},i=!1;return{selectByClick:n.selectByClick,selectNodesRecursive:n.recursive,showCheckBoxesMode:n.allowSelectAll?"selectAll":"normal",onSelectionChanged:function(n){if(!i){var o=function(e){return function e(t,n){return t.reduce((function(t,n){return t.push(n),n.children.length&&e(n.children,t),t}),n)}(e,[])}(n.component.getNodes());n.component.beginUpdate(),i=!0,function(e,t){t.filter((function(e){return!1===e.itemData.allowHiding})).forEach((function(t){return e.component.selectItem(t.key)}))}(n,o),n.component.endUpdate(),i=!1,t.component.beginUpdate(),e._isUpdatingColumnVisibility=!0,function(e){e.forEach((function(e){var n=e.itemData.id,i=!1!==e.selected;t._columnsController.columnOption(n,"visible",i)}))}(o),t.component.endUpdate(),e._isUpdatingColumnVisibility=!1}}}},_updateItems:function(){var e=this.isSelectMode(),t=function(e,t){var n=[],i=e.isSelectMode(),o=e.option("columnChooser.selection.recursive");return t.length&&(0,l.each)(t,(function(e,t){var r={text:t.caption,cssClass:t.cssClass,allowHiding:t.allowHiding,expanded:!0,id:t.index,disabled:!1===t.allowHiding,parentId:(0,d.isDefined)(t.ownerBand)?t.ownerBand:null},a=o&&t.hasColumns;i&&!a&&(r.selected=t.visible),n.push(r)})),n}(this,this._columnsController.getChooserColumns(e));this._columnChooserList.option("items",t)},_updateItemsSelection:function(e){var t=this,n=null==e?void 0:e.map((function(e){return t._columnsController.columnOption(e)}));this._columnChooserList.beginUpdate(),null==n||n.forEach((function(e){var n=e.visible,i=e.index;n?t._columnChooserList.selectItem(i):t._columnChooserList.unselectItem(i)})),this._columnChooserList.endUpdate()},_columnOptionChanged:function(e){if(this.callBase(e),this.isSelectMode()&&this._columnChooserList&&!0!==this._isUpdatingColumnVisibility){var t=e.optionNames,n=t.visible&&1===t.length,i=(0,d.isDefined)(e.columnIndex)?[e.columnIndex]:e.columnIndices;(x.some((function(e){return t[e]}))||e.changeTypes.columns&&t.all)&&(this._updateItemsSelection(i),n||this._updateItems())}},optionChanged:function(e){if("columnChooser"===e.name)this._initializePopupContainer(),this.render(null,"full");else this.callBase(e)},getColumnElements:function(){var e=[],t=this.isSelectMode(),n=this._columnsController.getChooserColumns(t),i=this._popupContainer&&this._popupContainer.$content(),r=i&&i.find(".dx-treeview-node");return r&&n.forEach((function(t){var n=r.filter("[data-item-id = '".concat(t.index,"']")),i=n.length?n.children(".".concat(y)).get(0):null;e.push(i)})),(0,o.default)(e)},getName:function(){return"columnChooser"},getColumns:function(){return this._columnsController.getChooserColumns()},allowDragging:function(e){var t=this._columnsController.isParentColumnVisible(e.index),n=!e.visible&&e.allowHiding;return this.isColumnChooserVisible()&&t&&n},allowColumnHeaderDragging:function(e){return!this.isSelectMode()&&this.isColumnChooserVisible()&&e.allowHiding},getBoundingRect:function(){var e=this._popupContainer&&this._popupContainer.$overlayContent();if(e&&e.is(":visible")){var t=e.offset();return{left:t.left,top:t.top,right:t.left+(0,s.getOuterWidth)(e),bottom:t.top+(0,s.getOuterHeight)(e)}}return null},showColumnChooser:function(){this._popupContainer||(this._initializePopupContainer(),this.render()),this._popupContainer.show(),this._isWinDevice()&&(0,o.default)("body").addClass(this.addWidgetPrefix(C))},hideColumnChooser:function(){this._popupContainer&&this._popupContainer.hide()},isColumnChooserVisible:function(){var e=this._popupContainer;return e&&e.option("visible")},isSelectMode:function(){return"select"===this.option("columnChooser.mode")},hasHiddenColumns:function(){var e=this.option("columnChooser.enabled"),t=this.getColumns().filter((function(e){return!e.visible}));return e&&t.length},publicMethods:function(){return["showColumnChooser","hideColumnChooser"]}},S={defaultOptions:function(){return{columnChooser:{enabled:!1,search:{enabled:!1,timeout:500,editorOptions:{}},selection:{allowSelectAll:!1,selectByClick:!1,recursive:!1},position:void 0,mode:"dragAndDrop",width:250,height:260,title:u.default.format("dxDataGrid-columnChooserTitle"),emptyPanelText:u.default.format("dxDataGrid-columnChooserEmptyText"),container:void 0}}},controllers:{columnChooser:b},views:{columnChooserView:m.ColumnsView.inherit(E)},extenders:{views:{headerPanel:{_getToolbarItems:function(){var e=this.callBase();return this._appendColumnChooserItem(e)},_appendColumnChooserItem:function(e){var t=this;if(t.option("columnChooser.enabled")){var n=t.option("columnChooser.title"),i={widget:"dxButton",options:{icon:w,onClick:function(){t.component.getView("columnChooserView").showColumnChooser()},hint:n,text:n,onInitialized:function(e){(0,o.default)(e.element).addClass(t._getToolbarButtonClass(t.addWidgetPrefix(v)))},elementAttr:{"aria-haspopup":"dialog"}},showText:"inMenu",location:"after",name:"columnChooserButton",locateInMenu:"auto",sortIndex:40};e.push(i)}return e},optionChanged:function(e){if("columnChooser"===e.name)this._invalidate(),e.handled=!0;else this.callBase(e)},isVisible:function(){var e=this.option("columnChooser.enabled");return this.callBase()||e}},columnHeadersView:{allowDragging:function(e){var t=this.component.getView("columnChooserView"),n=!t.isSelectMode(),i=t.isColumnChooserVisible();return n&&i&&e.allowHiding||this.callBase(e)}}},controllers:{columns:{allowMoveColumn:function(e,t,n,i){return!("select"===this.option("columnChooser.mode")&&"columnChooser"===i)&&this.callBase(e,t,n,i)}}}}};t.columnChooserModule=S},53917:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.columnFixingModule=void 0;var i=n(1542),o=v(n(94965)),r=v(n(19478)),a=n(65102),l=n(96993),s=n(37954),d=n(21620),u=n(19027),c=n(49859),h=v(n(38608)),f=n(29210),p=v(n(63585)),g=v(n(93334)),m=v(n(37028)),_=n(79397);function v(e){return e&&e.__esModule?e:{default:e}}var C="content",w="content-fixed",y="dx-first-cell",x="dx-state-hover",I="dx-col-fixed",b="dx-pointer-events-none",E="transparent",S="dx-group-row",O=function(e){var t=-1;return(0,l.each)(e,(function(e,n){if(n.command===E)return t=e,!1})),t},T=function(e,t,n){var i=0;if(e&&t&&n)for(var o=0;o<e.length;o++)e[o].command===E?i+=e[o].colspan:(t[i]<n[o]&&(t[i]=n[o]),i++);return t},D={init:function(){this.callBase(),this._isFixedTableRendering=!1,this._isFixedColumns=!1},_createCol:function(e){return this.callBase(e).toggleClass(I,!(!this._isFixedTableRendering||!(e.fixed||e.command&&e.command!==E)))},_correctColumnIndicesForFixedColumns:function(e,t){var n=O(e),i=e[n].colspan,o=t&&t.columnIndices;o&&(t.columnIndices=o.map((function(e){if(e)return e.map((function(e){return e<n?e:e>=n+i?e-i+1:-1})).filter((function(e){return e>=0}))})))},_partialUpdateFixedTable:function(e){var t=this._fixedTableElement,n=this._getRowElementsCore(t);t.children("colgroup").replaceWith(this._createColGroup(e));for(var i=0;i<n.length;i++)this._partialUpdateFixedRow((0,o.default)(n[i]),e)},_partialUpdateFixedRow:function(e,t){var n,i,o=e.get(0).childNodes,r=O(t),a=t[r],l=this._columnsController.getColumnIndexOffset()+1,s=a.colspan;if(e.hasClass("dx-master-detail-row"))o[0].setAttribute("colspan",null===(n=this._columnsController.getVisibleColumns())||void 0===n?void 0:n.length);else{e.hasClass(S)&&(s=(i=this._getGroupCellOptions({row:e.data("options"),columns:this._columnsController.getVisibleColumns()})).colspan-Math.max(0,o.length-(i.columnIndex+2)));for(var d=0;d<o.length;d++){var u=i?d===i.columnIndex+1:d===r;o[d].setAttribute("aria-colindex",l),u?(o[d].setAttribute("colspan",s),l+=s):l++}}},_renderTable:function(e){var t,n,i=this.getFixedColumns();this._isFixedColumns=!!i.length;var o=this.callBase(e);if(this._isFixedColumns){var r=null==e?void 0:e.change,l=this._getRowElements(this._fixedTableElement),s=(null==r?void 0:r.virtualColumnsScrolling)&&l.length===(null===(t=null==r?void 0:r.items)||void 0===t?void 0:t.length);if(this._isFixedTableRendering=!0,s&&!0!==this.option("scrolling.legacyMode"))this._partialUpdateFixedTable(i),this._isFixedTableRendering=!1;else{var d=null==r?void 0:r.columnIndices;this._correctColumnIndicesForFixedColumns(i,r),n=this._createTable(i),this._renderRows(n,(0,a.extend)({},e,{columns:i})),this._updateContent(n,r,!0),d&&(r.columnIndices=d),this._isFixedTableRendering=!1}}else this._fixedTableElement&&this._fixedTableElement.parent().remove(),this._fixedTableElement=null;return o},_renderRow:function(e,t){var n,i=t.row.cells;if(this.callBase.apply(this,arguments),this._isFixedTableRendering&&i&&i.length){n=0;var o=t.row.cells||[];i=i.slice(),t.row.cells=i;for(var r=0;r<o.length;r++)o[r].column&&o[r].column.command===E?n=(o[r].column.colspan||1)-1:i[r+n]=o[r]}},_createCell:function(e){var t,n,i,o=this,a=e.column,l=a&&a.command,s=e.rowType,d=o.callBase.apply(o,arguments);(o._isFixedTableRendering||"filter"===s)&&(n=(t=o.getFixedColumns())[(i=O(t))-1]),o._isFixedTableRendering?l===E&&(d.addClass(b).toggleClass(y,0===i||n&&"expand"===n.command).toggleClass("dx-last-cell",t.length&&i===t.length-1),"freeSpace"!==s&&m.default.setEmptyText(d)):"filter"===s&&d.toggleClass(y,e.columnIndex===i);var u=o.option("rowAlternationEnabled")&&e.isAltRow,c="multiple"===o.option("selection.mode")&&0===e.columnIndex&&"header"===e.rowType;return r.default.mozilla&&e.column.fixed&&"group"!==e.rowType&&!u&&!c&&d.addClass(I),d},_getContent:function(e){var t;return e?null===(t=this._fixedTableElement)||void 0===t?void 0:t.parent():this.callBase.apply(this,arguments)},_wrapTableInScrollContainer:function(e,t){var n=this.callBase.apply(this,arguments);return(this._isFixedTableRendering||t)&&n.addClass(this.addWidgetPrefix(w)),n},_renderCellContent:function(e,t){var n,i=t.column,o=this._isFixedTableRendering,r="group"===t.rowType&&(0,c.isDefined)(i.groupIndex);if(o&&r&&!i.command&&!i.groupCellTemplate&&e.css("pointerEvents","none"),!o&&this._isFixedColumns){if(n=i.fixed||i.command&&!1!==i.fixed,r&&(n=!1,t.row.summaryCells&&t.row.summaryCells.length)){var a=this._columnsController.getVisibleColumns(),l=this._getAlignByColumnCellCount?this._getAlignByColumnCellCount(i.colspan,{columns:a,row:t.row,isFixed:!0}):0;if(l>0){var s=O(this._columnsController.getFixedColumns());n=a.length-l<s}}if(n){if(i.command&&"buttons"!==i.type||"group"===t.rowType)return void e.html("&nbsp;").addClass(i.cssClass);e.addClass("dx-hidden-cell")}}i.command!==E&&this.callBase.apply(this,arguments)},_getCellElementsCore:function(e){var t=this,n=this.callBase.apply(this,arguments),i=null==n?void 0:n.parent().hasClass(S),o="columnHeadersView"===this.name?e:void 0;if(this._fixedTableElement&&n){var r=this.getFixedColumns(o),a=this._getRowElements(this._fixedTableElement).eq(e).children("td");(0,l.each)(a,(function(e,l){if(i)n[e]&&"hidden"!==l.style.visibility&&(n[e]=l);else{var s=r[e];if(s)if(s.command===E)a.eq(e).hasClass("dx-master-detail-cell")&&(n[e]=l||n[e]);else{var d=t._columnsController.getVisibleIndexByColumn(s,o);n[d]=l||n[d]}}}))}return n},getColumnWidths:function(){var e=this.callBase(),t=this.getFixedColumns(),n=this._fixedTableElement&&e.length?this.callBase(this._fixedTableElement):void 0;return T(t,e,n)},getTableElement:function(e){return(e=this._isFixedTableRendering||e)?this._fixedTableElement:this.callBase()},setTableElement:function(e,t){this._isFixedTableRendering||t?this._fixedTableElement=e.addClass(b):this.callBase(e)},getColumns:function(e){var t=this.getTableElement();return this._isFixedTableRendering?this.getFixedColumns(e):this.callBase(e,t)},getRowIndex:function(e){var t=this._fixedTableElement;return t&&t.find(e).length?this._getRowElements(t).index(e):this.callBase(e)},getTableElements:function(){var e=this.callBase.apply(this,arguments);return this._fixedTableElement&&(e=(0,o.default)([e.get(0),this._fixedTableElement.get(0)])),e},getFixedColumns:function(e){return this._columnsController.getFixedColumns(e)},getFixedColumnsOffset:function(){var e,t={left:0,right:0};if(this._fixedTableElement){var n=(e=this.getTransparentColumnElement()).position();t={left:n.left,right:(0,d.getOuterWidth)(this.element(),!0)-((0,d.getOuterWidth)(e,!0)+n.left)}}return t},getTransparentColumnElement:function(){return this._fixedTableElement&&this._fixedTableElement.find(".".concat(b)).first()},getFixedTableElement:function(){return this._fixedTableElement},isFixedColumns:function(){return this._isFixedColumns},_resizeCore:function(){this.callBase(),this.synchronizeRows()},setColumnWidths:function(e){var t,n=e.widths,i=this._columnsController.getVisibleColumns(),o=(null==n?void 0:n.length)&&i.some((function(e){return(0,c.isDefined)(e.visibleWidth)})),r=null===(t=e.optionNames)||void 0===t?void 0:t.width;if(this.callBase(e),this._fixedTableElement){var a=(null==n?void 0:n.some((function(e){return"auto"===e||!(0,c.isDefined)(e)})))&&(!o||!this.isScrollbarVisible(!0))?i:this.getFixedColumns();this.setFixedTableColumnWidths(a,n)}var l=this.option("wordWrapEnabled");(o||r&&l)&&this.synchronizeRows()},setFixedTableColumnWidths:function(e,t){if(this._fixedTableElement&&t){var n=this._fixedTableElement.children("colgroup").children("col");n.toArray().forEach((function(e){return e.removeAttribute("style")}));var i=0;e.forEach((function(e){if(e.colspan)i+=e.colspan;else{var o=(0,_.normalizeWidth)(t[i]);(0,c.isDefined)(o)&&(0,u.setWidth)(n.eq(i),o),i+=1}}))}},_getClientHeight:function(e){var t=e.getBoundingClientRect&&(0,s.getBoundingRect)(e);return t&&t.height?t.height:e.clientHeight},synchronizeRows:function(){var e,t,n,i,o=this,r=[],a=[];this.waitAsyncTemplates(!0).done((function(){if(o._isFixedColumns&&o._tableElement&&o._fixedTableElement){var l=o._getClientHeight(o._tableElement.get(0)),s=o._getClientHeight(o._fixedTableElement.get(0));if(t=o._getRowElements(o._tableElement),n=o._getRowElements(o._fixedTableElement),i=o._findContentElement(),l!==s){for(i&&i.css("height",l),t.css("height",""),n.css("height",""),e=0;e<t.length;e++)r.push(o._getClientHeight(t.get(e))),a.push(o._getClientHeight(n.get(e)));for(e=0;e<t.length;e++){var d=r[e],u=a[e];d>u?n.eq(e).css("height",d):d<u&&t.eq(e).css("height",u)}i&&i.css("height","")}}}))},setScrollerSpacing:function(e){var t=this.option("rtlEnabled");this.callBase(e),this.element().children(".".concat(this.addWidgetPrefix(w))).css({paddingLeft:t?e:"",paddingRight:t?"":e})}},R={defaultOptions:function(){return{columnFixing:{enabled:!1,texts:{fix:p.default.format("dxDataGrid-columnFixingFix"),unfix:p.default.format("dxDataGrid-columnFixingUnfix"),leftPosition:p.default.format("dxDataGrid-columnFixingLeftPosition"),rightPosition:p.default.format("dxDataGrid-columnFixingRightPosition")}}}},extenders:{views:{columnHeadersView:(0,a.extend)({},D,{_getRowVisibleColumns:function(e){return this._isFixedTableRendering?this.getFixedColumns(e):this.callBase(e)},getContextMenuItems:function(e){var t=this,n=e.column,i=this.option("columnFixing"),o=this.callBase(e);if(e.row&&"header"===e.row.rowType&&!0===i.enabled&&n&&n.allowFixing){var r=function(e){switch(e.itemData.value){case"none":t._columnsController.columnOption(n.index,"fixed",!1);break;case"left":t._columnsController.columnOption(n.index,{fixed:!0,fixedPosition:"left"});break;case"right":t._columnsController.columnOption(n.index,{fixed:!0,fixedPosition:"right"})}};(o=o||[]).push({text:i.texts.fix,beginGroup:!0,items:[{text:i.texts.leftPosition,value:"left",disabled:n.fixed&&(!n.fixedPosition||"left"===n.fixedPosition),onItemClick:r},{text:i.texts.rightPosition,value:"right",disabled:n.fixed&&"right"===n.fixedPosition,onItemClick:r}]},{text:i.texts.unfix,value:"none",disabled:!n.fixed,onItemClick:r})}return o},getFixedColumnElements:function(e){if((0,c.isDefined)(e))return this._fixedTableElement&&this._getRowElements(this._fixedTableElement).eq(e).children();var t=this.getColumnElements(),n=this.getTransparentColumnElement();if(t&&n&&n.length){var i=O(this.getFixedColumns());t.splice(i,n.get(0).colSpan,n.get(0))}return t},getColumnWidths:function(){var e,t=this.callBase(),n=this.getFixedColumnElements(),i=this.getFixedColumns();return this._fixedTableElement&&(e=n&&n.length?this._getWidths(n):this.callBase(this._fixedTableElement)),T(i,t,e)}}),rowsView:(0,a.extend)({},D,{_detachHoverEvents:function(){var e=this.element();this._fixedTableElement&&this._tableElement&&h.default.off(e,"mouseover mouseout",".dx-data-row")},_attachHoverEvents:function(){var e=this;this._fixedTableElement&&this._tableElement&&h.default.on(this.element(),"mouseover mouseout",".dx-data-row",this.createAction((function(t){var n=t.event,i=e.getRowIndex((0,o.default)(n.target).closest(".dx-row")),r="mouseover"===n.type;i>=0&&(e._tableElement&&e._getRowElements(e._tableElement).eq(i).toggleClass(x,r),e._fixedTableElement&&e._getRowElements(e._fixedTableElement).eq(i).toggleClass(x,r))})))},_getScrollDelay:function(){var e;return(null===(e=this.getController("resizing"))||void 0===e?void 0:e.hasResizeTimeout())?this.option("scrolling.updateTimeout"):r.default.mozilla?60:0},_findContentElement:function(e){var t,n,i=this,r=this.addWidgetPrefix(C),a=this.element();if(e=this._isFixedTableRendering||e,a&&e){t=a.children(".".concat(r));var l=this.getScrollable();return!t.length&&l&&(t=(0,o.default)("<div>").addClass(r),h.default.on(t,"scroll",(function(e){var t=e.target,r=i._getScrollDelay();clearTimeout(i._fixedScrollTimeout),i._fixedScrollTimeout=setTimeout((function(){n=(0,o.default)(t).scrollTop(),l.scrollTo({y:n})}),r)})),h.default.on(t,f.name,(function(e){var t=(0,o.default)(e.target).closest(".dx-scrollable"),r=!1;if(l&&l.$element().is(t))r=!0;else{var a=t.length&&g.default.getInstance(t.get(0)),s=a&&a.scrollHeight()-a.clientHeight()>0;r=a&&!s}if(r){n=l.scrollTop(),l.scrollTo({y:n-e.delta});var d=l.scrollTop()+l.clientHeight(),u=l.scrollHeight()+i.getScrollbarWidth();if(l.scrollTop()>0&&d<u)return!1}})),t.appendTo(a)),t}return this.callBase()},_updateScrollable:function(){this.callBase();var e=this.getScrollable();if(!(null==e?void 0:e._disposed)){var t=e&&e.scrollOffset().top;this._updateFixedTablePosition(t)}},_renderContent:function(e,t,n){return this._isFixedTableRendering||n?e.empty().addClass("".concat(this.addWidgetPrefix(C)," ").concat(this.addWidgetPrefix(w))).append(t):this.callBase(e,t)},_getGroupCellOptions:function(e){return this._isFixedTableRendering?this.callBase((0,a.extend)({},e,{columns:this._columnsController.getVisibleColumns()})):this.callBase(e)},_renderGroupedCells:function(e,t){return this.callBase(e,(0,a.extend)({},t,{columns:this._columnsController.getVisibleColumns()}))},_renderGroupSummaryCells:function(e,t){this._isFixedTableRendering?this.callBase(e,(0,a.extend)({},t,{columns:this._columnsController.getVisibleColumns()})):this.callBase(e,t)},_hasAlignByColumnSummaryItems:function(e,t){var n=this.callBase.apply(this,arguments),i=t.columns[e];return t.isFixed?i.fixed&&(n||"right"===i.fixedPosition):n&&(!this._isFixedColumns||!i.fixed)},_renderGroupSummaryCellsCore:function(e,t,n,i){var o;if(this._isFixedTableRendering){t.isFixed=!0,o=this._getAlignByColumnCellCount(n,t),t.isFixed=!1;var r=t.columns.length-o;t=(0,a.extend)({},t,{columns:this.getFixedColumns()});var l=O(t.columns);r<l?(o-=t.columns[l].colspan-1||0,n-=t.columns[l].colspan-1||0):i>0&&e.css("visibility","hidden"),i=o}this.callBase(e,t,n,i)},_getSummaryCellIndex:function(e,t){if(this._isFixedTableRendering){var n=O(t);return e>n&&(e+=t[n].colspan-1),e}return this.callBase.apply(this,arguments)},_renderCore:function(e){this._detachHoverEvents();var t=this.callBase(e),n=this._isFixedColumns;return this.element().toggleClass("dx-fixed-columns",n),this.option("hoverStateEnabled")&&n&&this._attachHoverEvents(),t},setRowsOpacity:function(e,t){this.callBase(e,t);var n=this._getRowElements(this._fixedTableElement);this._setRowsOpacityCore(n,this.getFixedColumns(),e,t)},optionChanged:function(e){this.callBase(e),"hoverStateEnabled"===e.name&&this._isFixedColumns&&(e.value?this._attachHoverEvents():this._detachHoverEvents())},getCellIndex:function(e){var t=this._fixedTableElement,n=0;if(t&&e.is("td")&&e.closest(t).length){var i=this.getFixedColumns();return(0,l.each)(i,(function(t,i){if(t===e[0].cellIndex)return!1;i.colspan?n+=i.colspan:n++})),n}return this.callBase.apply(this,arguments)},_updateFixedTablePosition:function(e,t){if(this._fixedTableElement&&this._tableElement){var n,i=this.getController("editorFactory");this._fixedTableElement.parent().scrollTop(e),t&&i&&(n=i.focus())&&i.focus(n)}},setScrollerSpacing:function(e,t){var n={marginBottom:0},i=this.element().children(".".concat(this.addWidgetPrefix(w)));i.length&&this._fixedTableElement&&(i.css(n),this._fixedTableElement.css(n),n[this.option("rtlEnabled")?"marginLeft":"marginRight"]=e,n.marginBottom=t,(this._scrollable&&this._scrollable.option("useNative")?i:this._fixedTableElement).css(n))},_getElasticScrollTop:function(e){var t=0;if(e.scrollOffset.top<0)t=-e.scrollOffset.top;else if(e.reachedBottom){var n=(0,o.default)(e.component.content()),i=(0,o.default)(e.component.container()),r=Math.max(n.get(0).clientHeight-i.get(0).clientHeight,0);t=Math.min(r-e.scrollOffset.top,0)}return Math.floor(t)},_applyElasticScrolling:function(e){if(this._fixedTableElement){var t=this._getElasticScrollTop(e);0!==Math.ceil(t)?(0,i.move)(this._fixedTableElement,{top:t}):this._fixedTableElement.css("transform","")}},_handleScroll:function(e){this._updateFixedTablePosition(e.scrollOffset.top,!0),this._applyElasticScrolling(e),this.callBase(e)},_updateContentPosition:function(e){this.callBase.apply(this,arguments),e||this._updateFixedTablePosition(this._scrollTop)},_afterRowPrepared:function(e){this._isFixedTableRendering||this.callBase(e)},_scrollToElement:function(e){this.callBase(e,this.getFixedColumnsOffset())},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._fixedScrollTimeout)}}),footerView:D},controllers:{draggingHeader:{_generatePointsByColumns:function(e){var t=e.columns,n=e.targetDraggingPanel;if(n&&"headers"===n.getName()&&n.isFixedColumns()&&e.sourceColumn.fixed){e.rowIndex||(e.columnElements=n.getFixedColumnElements(0)),e.columns=n.getFixedColumns(e.rowIndex);var i=this.callBase(e);return function(e,t,n){var i=O(t),o=e.length-t.length;(0,l.each)(n,(function(e,t){t.index>i&&(t.columnIndex+=o,t.index+=o)}))}(t,e.columns,i),i}return this.callBase(e)},_pointCreated:function(e,t,n,i){var o=this.callBase.apply(this,arguments),r=t[e.columnIndex],a=this._columnHeadersView.getTransparentColumnElement();if(!o&&"headers"===n&&a&&a.length){var l=(0,s.getBoundingRect)(a.get(0));return i&&i.fixed?"right"===i.fixedPosition?e.x<l.right:e.x>l.left:!(!r||!r.fixed||"right"===r.fixedPosition)||(e.x<l.left||e.x>l.right)}return o}},columnsResizer:{_generatePointsByColumns:function(){var e=this,t=e._columnsController,n=t&&e._columnsController.getVisibleColumns(),i=t&&e._columnsController.getFixedColumns(),o=O(i),r=n.length-i.length,a=e._columnHeadersView.getFixedColumnElements();e.callBase(),a&&a.length>0&&(e._pointsByFixedColumns=m.default.getPointsByColumns(a,(function(t){return t.index>o&&(t.columnIndex+=r,t.index+=r),e._pointCreated(t,n.length,n)})))},_getTargetPoint:function(e,t,n){var i=this._columnHeadersView.getTransparentColumnElement();if(i&&i.length){var o=(0,s.getBoundingRect)(i.get(0));if(t<=o.left||t>=o.right)return this.callBase(this._pointsByFixedColumns,t,n)}return this.callBase(e,t,n)}}}}};t.columnFixingModule=R},21958:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.columnHeadersModule=void 0;var i=f(n(70175)),o=f(n(94965)),r=n(65102),a=n(96993),l=n(21620),s=n(49859),d=f(n(38608)),u=f(n(63585)),c=n(88297),h=n(79397);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],s=!0,d=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){d=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var m="text-content",_="dx-header-row",v="dx-visibility-hidden",C="dx-text-content-alignment-",w={defaultOptions:function(){return{showColumnHeaders:!0,cellHintEnabled:!0}},views:{columnHeadersView:h.ColumnsView.inherit(function(){var e=function(e,n,i){var r=(0,o.default)("<div>").addClass(e.addWidgetPrefix(m));e.setAria("role","presentation",r),t(e,n,i.column,r);var a=e.option("showColumnLines"),l=e.getController("columns").getHeaderContentAlignment(i.column.alignment);return r[a||"right"===l?"appendTo":"prependTo"](n)};function t(e,t,n,i){var o=e._getIndicatorElements(t,!0),r=e._getIndicatorElements(t),a=o&&o.length,l=e._getColumnAlignment(n.alignment),s=".".concat(e._getIndicatorClassName("sort")),d=".".concat(e._getIndicatorClassName("sortIndex")),u=r.filter(s),c=r.children().filter(d);(i=i||t.children(".".concat(e.addWidgetPrefix(m)))).toggleClass(C+l,a>0).toggleClass(C+("left"===l?"right":"left"),a>0&&"center"===n.alignment).toggleClass("dx-sort-indicator",!!u.length).toggleClass("dx-sort-index-indicator",!!c.length).toggleClass("dx-header-filter-indicator",!!r.filter(".".concat(e._getIndicatorClassName("headerFilter"))).length)}var n={_createTable:function(){var e=this.callBase.apply(this,arguments);return d.default.on(e,"mousedown selectstart",this.createAction((function(e){var t=e.event;t.shiftKey&&t.preventDefault()}))),e},_isLegacyKeyboardNavigation:function(){return this.option("useLegacyKeyboardNavigation")},_getDefaultTemplate:function(t){var n=this;return function(i,o){var r=t.caption,a=!t.command||r&&"expand"!==t.command;if("empty"===t.command)n._renderEmptyMessage(i,o);else if(a){e(n,i,o).text(r)}else t.command&&i.html("&nbsp;")}},_renderEmptyMessage:function(t,n){var r=this._getEmptyHeaderText();if(r){var a=e(this,t,n);if(r.includes("{0}")){var l=p(r.split("{0}"),2),s=l[0],c=l[1],h=u.default.format("dxDataGrid-emptyHeaderColumnChooserText"),f=this.component.getView("columnChooserView"),g=(0,o.default)("<a>").text(h).addClass("dx-link");d.default.on(g,"click",this.createAction((function(){return f.showColumnChooser()}))),a.append(i.default.createTextNode(s)).append(g).append(i.default.createTextNode(c))}else a.text(r)}else t.html("&nbsp;")},_getEmptyHeaderText:function(){var e=!!this.component.getView("columnChooserView").hasHiddenColumns(),t=!!this.component.getView("headerPanel").hasGroupedColumns();switch(!0){case e&&t:return u.default.format("dxDataGrid-emptyHeaderWithColumnChooserAndGroupPanelText");case t:return u.default.format("dxDataGrid-emptyHeaderWithGroupPanelText");case e:return u.default.format("dxDataGrid-emptyHeaderWithColumnChooserText");default:return""}},_getHeaderTemplate:function(e){return e.headerCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(e)}},_processTemplate:function(t,n){var i,o=this,a=n.column,l=o.callBase(t);return i="header"===n.rowType&&l&&a.headerCellTemplate&&!a.command?{render:function(t){var n=e(o,t.container,t.model);l.render((0,r.extend)({},t,{container:n}))}}:l,i},_handleDataChanged:function(e){"refresh"===e.changeType&&(this._isGroupingChanged||this._requireReady)&&(this._isGroupingChanged=!1,this.render())},_renderCell:function(e,t){var n=this.callBase(e,t);return"header"===t.row.rowType&&(n.addClass("dx-cell-focus-disabled"),this._isLegacyKeyboardNavigation()||t.column&&!t.column.type&&n.attr("tabindex",this.option("tabindex")||0)),n},_setCellAriaAttributes:function(e,t){this.callBase(e,t),"header"===t.rowType&&(t.column.type||this.setAria("role","columnheader",e),!t.column||t.column.command||t.column.isBand||(e.attr("id",t.column.headerId),this.setAria("label","".concat(u.default.format("dxDataGrid-ariaColumn")," ").concat(t.column.caption),e)))},_createRow:function(e){var t=this.callBase.apply(this,arguments);return t.toggleClass("dx-column-lines",this.option("showColumnLines")),"header"===e.rowType&&(t.addClass(_),this._isLegacyKeyboardNavigation()||(0,c.registerKeyboardAction)("columnHeaders",this,t,"td",this._handleActionKeyDown.bind(this))),t},_handleActionKeyDown:function(e){var t=e.event,n=(0,o.default)(t.target);if(this._lastActionElement=t.target,n.is(".dx-header-filter")){var i=this.getController("headerFilter"),r=n.closest("td"),a=this.getColumnIndexByElement(r);a>=0&&i.showHeaderFilterMenu(a,!1)}else{var l=n.closest(".dx-row");this._processHeaderAction(t,l)}t.preventDefault()},_renderCore:function(){var e=this,t=e.element(),n={};if(!e._tableElement||e._dataController.isLoaded()||e._hasRowElements){t.addClass(e.addWidgetPrefix("headers")).toggleClass(e.addWidgetPrefix("nowrap"),!e.option("wordWrapEnabled")).empty(),e.setAria("role","presentation",t);var i=e._updateContent(e._renderTable({change:n}),n);return e.getRowCount()>1&&t.addClass("dx-header-multi-row"),e.callBase.apply(e,arguments),i}},_renderRows:function(){var e=this;(e._dataController.isLoaded()||e._hasRowElements)&&(e.callBase.apply(e,arguments),e._hasRowElements=!0)},_renderRow:function(e,t){var n=1===this.getRowCount()?null:t.row.rowIndex;t.columns=this.getColumns(n),this.callBase(e,t)},_createCell:function(e){var t=e.column,n=this.callBase.apply(this,arguments);return t.rowspan>1&&"header"===e.rowType&&n.attr("rowSpan",t.rowspan),n},_getRows:function(){var e=[],t=this.getRowCount();if(this.option("showColumnHeaders"))for(var n=0;n<t;n++)e.push({rowType:"header",rowIndex:n});return e},_getCellTemplate:function(e){if("header"===e.rowType)return this._getHeaderTemplate(e.column)},_columnOptionChanged:function(e){var t=e.changeTypes,n=e.optionNames;t.grouping||t.groupExpanding?t.grouping&&(this._isGroupingChanged=!0):(this.callBase(e),(n.width||n.visible)&&this.resizeCompleted.fire())},_isElementVisible:function(e){return e&&e.visible},_alignCaptionByCenter:function(e){var t=this._getIndicatorContainer(e,!0);t&&t.length&&(t.filter(".".concat(v)).remove(),(t=this._getIndicatorContainer(e)).clone().addClass(v).css("float","").insertBefore(e.children(".".concat(this.addWidgetPrefix(m)))))},_updateCell:function(e,t){"header"===t.rowType&&"center"===t.column.alignment&&this._alignCaptionByCenter(e),this.callBase.apply(this,arguments)},_updateIndicator:function(e,n,i){var o=this.callBase.apply(this,arguments);return"center"===n.alignment&&this._alignCaptionByCenter(e),t(this,e,n),o},_getIndicatorContainer:function(e,t){var n=this.callBase(e);return t?n:n.filter(":not(.".concat(v,")"))},_isSortableElement:function(){return!0},getHeadersRowHeight:function(){var e=this.getTableElement(),t=e&&e.find(".".concat(_));return t&&t.toArray().reduce((function(e,t){return e+(0,l.getHeight)(t)}),0)||0},getHeaderElement:function(e){var t=this.getColumnElements();return t&&t.eq(e)},getColumnElements:function(e,t){var n,i=this,r=i._columnsController,l=i.getRowCount();if(i.option("showColumnHeaders")){if(l>1&&(!(0,s.isDefined)(e)||(0,s.isDefined)(t))){var d=[],u=(0,s.isDefined)(t)?r.getChildrenByBandColumn(t,!0):r.getVisibleColumns();return(0,a.each)(u,(function(t,o){var a=(0,s.isDefined)(e)?e:r.getRowIndex(o.index);(n=i._getCellElement(a,r.getVisibleIndex(o.index,a)))&&d.push(n.get(0))})),(0,o.default)(d)}if(!e||e<l)return i.getCellElements(e||0)}},getColumnIndexByElement:function(e){var t=this.getCellIndex(e),n=e.closest(".dx-row")[0].rowIndex,i=this.getColumns(n)[t];return i?i.index:-1},getVisibleColumnIndex:function(e,t){var n=this.getColumns()[e];return n?this._columnsController.getVisibleIndex(n.index,t):-1},getColumnWidths:function(){var e=this.getColumnElements();return e&&e.length?this._getWidths(e):this.callBase.apply(this,arguments)},allowDragging:function(e){var t=e&&this._columnsController.getRowIndex(e.index),n=this.getColumns(t);return(this.option("allowColumnReordering")||this._columnsController.isColumnOptionUsed("allowReordering"))&&e.allowReordering&&n.length>1},getBoundingRect:function(){var e=this.getColumnElements();return e&&e.length?{top:this.getTableElement().offset().top}:null},getName:function(){return"headers"},getColumnCount:function(){var e=this.getColumnElements();return e?e.length:0},isVisible:function(){return this.option("showColumnHeaders")},optionChanged:function(e){switch(e.name){case"showColumnHeaders":case"wordWrapEnabled":case"showColumnLines":this._invalidate(!0,!0),e.handled=!0;break;default:this.callBase(e)}},getHeight:function(){return this.getElementHeight()},getContextMenuItems:function(e){var t=this,n=e.column;if(e.row&&("header"===e.row.rowType||"detailAdaptive"===e.row.rowType)){var i=t.option("sorting");if(i&&"none"!==i.mode&&n&&n.allowSorting){var o=function(e){setTimeout((function(){t._columnsController.changeSortOrder(n.index,e.itemData.value)}))};return[{text:i.ascendingText,value:"asc",disabled:"asc"===n.sortOrder,icon:"context-menu-sort-asc",onItemClick:o},{text:i.descendingText,value:"desc",disabled:"desc"===n.sortOrder,icon:"context-menu-sort-desc",onItemClick:o},{text:i.clearText,value:"none",disabled:!n.sortOrder,icon:"context-menu-sort-none",onItemClick:o}]}}},getRowCount:function(){return this._columnsController&&this._columnsController.getRowCount()},setRowsOpacity:function(e,t,n){var i,o,r=this,a=this.getRowCount(),l=this._columnsController.getColumns(),d=l&&l[e],u=d&&d.isBand&&d.index,c=function(e,n){e.ownerBand===u&&(o.eq(n).css({opacity:t}),e.isBand&&r.setRowsOpacity(e.index,t,i+1))};if((0,s.isDefined)(u))for(i=n=n||0;i<a;i++){if(o=this.getCellElements(i))this.getColumns(i).forEach(c)}}};return n}())}};t.columnHeadersModule=w},64616:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=(i=n(94965))&&i.__esModule?i:{default:i},r=n(48152),a=n(65102),l=n(37954);var s="dx-column-indicators",d={_applyColumnState:function(e){var t,n=this.option("rtlEnabled"),i=this._getColumnAlignment(e.column.alignment,n),r=(0,a.extend)(!0,{columnAlignment:i},e),l=r.rootElement.hasClass("dx-group-panel-item"),s=this._createIndicatorContainer(r,l),d=(0,o.default)("<span>").addClass(this._getIndicatorClassName(e.name)),u=null===(t=this.component)||void 0===t?void 0:t.getController("columns"),c=(null==u?void 0:u.getHeaderContentAlignment(i))||i;return r.container=s,r.indicator=d,this._renderIndicator(r),s[!l&&e.showColumnLines||"left"!==c?"prependTo":"appendTo"](e.rootElement),d},_getIndicatorClassName:r.noop,_getColumnAlignment:function(e,t){return t=t||this.option("rtlEnabled"),e&&"center"!==e?e:(0,l.getDefaultAlignment)(t)},_createIndicatorContainer:function(e,t){var n=this._getIndicatorContainer(e.rootElement),i="left"===e.columnAlignment?"right":"left";return n.length||(n=(0,o.default)("<div>").addClass(s)),this.setAria("role","presentation",n),n.css("float",e.showColumnLines&&!t?i:null)},_getIndicatorContainer:function(e){return e&&e.find(".".concat(s))},_getIndicatorElements:function(e){var t=this._getIndicatorContainer(e);return t&&t.children()},_renderIndicator:function(e){var t=e.container,n=e.indicator;t&&n&&t.append(n)},_updateIndicators:function(e){var t,n=this.getColumns(),i=this.getColumnElements();if(i&&n.length===i.length)for(var o=0;o<n.length;o++){t=i.eq(o),this._updateIndicator(t,n[o],e);var r=t.parent().data("options");r&&r.cells&&(r.cells[t.index()].column=n[o])}},_updateIndicator:function(e,t,n){if(!t.command)return this._applyColumnState({name:n,rootElement:e,column:t,showColumnLines:this.option("showColumnLines")})}};t.default=d},6134:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.USER_STATE_FIELD_NAMES_15_1=t.USER_STATE_FIELD_NAMES=t.MAX_SAFE_INTEGER=t.IGNORE_COLUMN_OPTION_NAMES=t.GROUP_LOCATION=t.GROUP_COMMAND_COLUMN_NAME=t.DETAIL_COMMAND_COLUMN_NAME=t.DEFAULT_COLUMN_OPTIONS=t.DATATYPE_OPERATIONS=t.COMMAND_EXPAND_CLASS=t.COLUMN_OPTION_REGEXP=t.COLUMN_INDEX_OPTIONS=t.COLUMN_CHOOSER_LOCATION=void 0;var n=["filterValues","filterType","fixed","fixedPosition"];t.USER_STATE_FIELD_NAMES_15_1=n;var i=["visibleIndex","dataField","name","dataType","width","visible","sortOrder","lastSortOrder","sortIndex","groupIndex","filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation","added"].concat(n);t.USER_STATE_FIELD_NAMES=i;t.IGNORE_COLUMN_OPTION_NAMES={visibleWidth:!0,bestFitWidth:!0,bufferedFilterValue:!0};t.COMMAND_EXPAND_CLASS="dx-command-expand";var o=Number.MAX_SAFE_INTEGER||9007199254740991;t.MAX_SAFE_INTEGER=o;t.GROUP_COMMAND_COLUMN_NAME="groupExpand";t.DETAIL_COMMAND_COLUMN_NAME="detailExpand";t.COLUMN_OPTION_REGEXP=/columns\[(\d+)\]\.?/gi;t.DEFAULT_COLUMN_OPTIONS={visible:!0,showInColumnChooser:!0};t.DATATYPE_OPERATIONS={number:["=","<>","<",">","<=",">=","between"],string:["contains","notcontains","startswith","endswith","=","<>"],date:["=","<>","<",">","<=",">=","between"],datetime:["=","<>","<",">","<=",">=","between"]};t.COLUMN_INDEX_OPTIONS={visibleIndex:!0,groupIndex:!0,grouped:!0,sortIndex:!0,sortOrder:!0};t.GROUP_LOCATION="group";t.COLUMN_CHOOSER_LOCATION="columnChooser"},16238:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.columnsControllerModule=t.ColumnsController=void 0;var i=E(n(38818)),o=E(n(94965)),r=E(n(72363)),a=n(14928),l=n(74460),s=n(65102),d=n(10117),u=n(96993),c=n(30269),h=n(49859),f=E(n(44610)),p=E(n(51089)),g=n(81704),m=n(73116),_=E(n(56335)),v=E(n(63585)),C=E(n(2583)),w=E(n(47625)),y=E(n(97478)),x=E(n(37028)),I=n(6134),b=n(42586);function E(e){return e&&e.__esModule?e:{default:e}}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},S.apply(this,arguments)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}var T=function(e){var t,n;function v(){return e.apply(this,arguments)||this}n=e,(t=v).prototype=Object.create(n.prototype),t.prototype.constructor=t,O(t,n);var y=v.prototype;return y._getExpandColumnOptions=function(){return{type:"expand",command:"expand",width:"auto",cssClass:I.COMMAND_EXPAND_CLASS,allowEditing:!1,allowGrouping:!1,allowSorting:!1,allowResizing:!1,allowReordering:!1,allowHiding:!1}},y._getFirstItems=function(e){var t,n=[];return e&&e.items().length>0&&(t=x.default.normalizeSortingInfo(e.group()).length,n=function e(t,n){if(!t||!n)return t;for(var i=0;i<t.length;i++){var o=e(t[i].items||t[i].collapsedItems,n-1);if(o&&o.length)return o}}(e.items(),t)||[]),n},y._endUpdateCore=function(){!this._skipProcessingColumnsChange&&(0,b.fireColumnsChanged)(this)},y.init=function(e){var t=this.option("columns");this._commandColumns=this._commandColumns||[],this._columns=this._columns||[],this._isColumnsFromOptions=!!t,this._isColumnsFromOptions?((0,b.assignColumns)(this,t?(0,b.createColumnsFromOptions)(this,t):[]),(0,b.applyUserState)(this)):(0,b.assignColumns)(this,this._columnsUserState?(0,b.createColumnsFromOptions)(this,this._columnsUserState):this._columns),(0,b.addExpandColumn)(this),this._dataSourceApplied?this.applyDataSource(this._dataSource,!0,e):(0,b.updateIndexes)(this),this._checkColumns()},y.callbackNames=function(){return["columnsChanged"]},y.getColumnByPath=function(e,t){var n,i=[];return e.replace(I.COLUMN_OPTION_REGEXP,(function(e,t){return i.push(parseInt(t)),""})),i.length&&(n=t?i.reduce((function(e,t){return e&&e.columns&&e.columns[t]}),{columns:t}):(0,b.getColumnByIndexes)(this,i)),n},y.optionChanged=function(t){var n;switch(t.name){case"adaptColumnWidthByRatio":t.handled=!0;break;case"dataSource":t.value===t.previousValue||this.option("columns")||Array.isArray(t.value)&&Array.isArray(t.previousValue)||(this._columns=[]);break;case"columns":n=this._skipProcessingColumnsChange,t.handled=!0,this._skipProcessingColumnsChange||(t.name===t.fullName?(this._columnsUserState=null,this._ignoreColumnOptionNames=null,this.init()):(this._columnOptionChanged(t),n=!0)),n&&this._updateRequireResize(t);break;case"commonColumnSettings":case"columnAutoWidth":case"allowColumnResizing":case"allowColumnReordering":case"columnFixing":case"grouping":case"groupPanel":case"regenerateColumnsByVisibleItems":case"customizeColumns":case"columnHidingEnabled":case"dateSerializationFormat":case"columnResizingMode":case"columnMinWidth":case"columnWidth":t.handled=!0;var i="columnWidth"===t.fullName&&["width"];this.reinit(i);break;case"rtlEnabled":this.reinit();break;default:e.prototype.optionChanged.call(this,t)}},y._columnOptionChanged=function(e){var t={},n=this.getColumnByPath(e.fullName),i=e.fullName.replace(I.COLUMN_OPTION_REGEXP,"");n&&(i?t[i]=e.value:t=e.value,this._skipProcessingColumnsChange=e.fullName,this.columnOption(n.index,t),this._skipProcessingColumnsChange=!1)},y._updateRequireResize=function(e){var t=this.component;"width"===e.fullName.replace(I.COLUMN_OPTION_REGEXP,"")&&t._updateLockCount&&(t._requireResize=!0)},y.publicMethods=function(){return["addColumn","deleteColumn","columnOption","columnCount","clearSorting","clearGrouping","getVisibleColumns","getVisibleColumnIndex"]},y.applyDataSource=function(e,t,n){var i=e&&e.isLoaded();if(this._dataSource=e,!this._dataSourceApplied||0===this._dataSourceColumnsCount||t||this.option("regenerateColumnsByVisibleItems")){if(i){if(!this._isColumnsFromOptions){var o=(0,b.createColumnsFromDataSource)(this,e);o.length&&((0,b.assignColumns)(this,o),this._dataSourceColumnsCount=this._columns.length,(0,b.applyUserState)(this))}return this.updateColumns(e,t,n)}this._dataSourceApplied=!1,(0,b.updateIndexes)(this)}else if(i&&!this.isAllDataTypesDefined(!0)&&this.updateColumnDataTypes(e))return(0,b.updateColumnChanges)(this,"columns"),(0,b.fireColumnsChanged)(this),(new l.Deferred).reject().promise()},y.reset=function(){this._dataSource=null,this._dataSourceApplied=!1,this._dataSourceColumnsCount=void 0,this.reinit()},y.resetColumnsCache=function(){this._visibleColumns=void 0,this._fixedColumns=void 0,this._rowCount=void 0,(0,b.resetBandColumnsCache)(this)},y.reinit=function(e){this._columnsUserState=this.getUserState(),this._ignoreColumnOptionNames=e||null,this.init(),e&&(this._ignoreColumnOptionNames=null)},y.isInitialized=function(){return!!this._columns.length||!!this.option("columns")},y.isDataSourceApplied=function(){return this._dataSourceApplied},y.getCommonSettings=function(e){var t,n,i=(!e||!e.type)&&this.option("commonColumnSettings")||{},o=null!==(t=this.option("grouping"))&&void 0!==t?t:{},r=null!==(n=this.option("groupPanel"))&&void 0!==n?n:{};return(0,s.extend)({allowFixing:this.option("columnFixing.enabled"),allowResizing:this.option("allowColumnResizing")||void 0,allowReordering:this.option("allowColumnReordering"),minWidth:this.option("columnMinWidth"),width:this.option("columnWidth"),autoExpandGroup:o.autoExpandAll,allowCollapsing:o.allowCollapsing,allowGrouping:r.allowColumnDragging&&r.visible||o.contextMenuEnabled},i)},y.isColumnOptionUsed=function(e){for(var t=0;t<this._columns.length;t++)if(this._columns[t][e])return!0},y.isAllDataTypesDefined=function(e){var t=this._columns;if(!t.length)return!1;for(var n=0;n<t.length;n++)if((t[n].dataField||t[n].calculateCellValue!==t[n].defaultCalculateCellValue)&&(!t[n].dataType||e&&t[n].deserializeValue&&void 0===t[n].serializationFormat))return!1;return!0},y.getColumns=function(){return this._columns},y.isBandColumnsUsed=function(){return this.getColumns().some((function(e){return e.isBand}))},y.getGroupColumns=function(){var e=[];return(0,u.each)(this._columns,(function(){(0,h.isDefined)(this.groupIndex)&&(e[this.groupIndex]=this)})),e},y._shouldReturnVisibleColumns=function(){return!0},y._compileVisibleColumns=function(e){return this._visibleColumns=this._visibleColumns||this._compileVisibleColumnsCore(),e=(0,h.isDefined)(e)?e:this._visibleColumns.length-1,this._visibleColumns[e]||[]},y.getVisibleColumns=function(e,t){return this._shouldReturnVisibleColumns()?this._compileVisibleColumns.apply(this,arguments):[]},y.getFixedColumns=function(e){return this._fixedColumns=this._fixedColumns||this._getFixedColumnsCore(),e=(0,h.isDefined)(e)?e:this._fixedColumns.length-1,this._fixedColumns[e]||[]},y.getFilteringColumns=function(){return this.getColumns().filter((function(e){return(e.dataField||e.name)&&(e.allowFiltering||e.allowHeaderFiltering)})).map((function(e){var t=(0,s.extend)(!0,{},e);return(0,h.isDefined)(t.dataField)||(t.dataField=t.name),t.filterOperations=e.filterOperations!==e.defaultFilterOperations?t.filterOperations:null,t}))},y.getColumnIndexOffset=function(){return 0},y._getFixedColumnsCore=function(){var e,t,n,i=[],o=this.getRowCount(),r={command:"transparent"},a=0;if(this._isColumnFixing())for(var l=0;l<=o;l++){e=0,n=null,t=null;for(var s=this.getVisibleColumns(l,!0),d=0;d<s.length;d++){var u=s[d-1],c=s[d];c.fixed?u&&u.fixed&&(0,b.getFixedPosition)(this,u)!==(0,b.getFixedPosition)(this,c)?(0,h.isDefined)(t)||(t=d):n=c.fixedPosition:(0===l&&(c.isBand&&c.colspan?a+=c.colspan:a++),e++,(0,h.isDefined)(t)||(t=d))}if(0===l&&(0===e||e>=s.length))return[];(0,h.isDefined)(t)||(t="right"===n?0:s.length),i[l]=s.slice(0),r.colspan||(r.colspan=a),i[l].splice(t,e,r)}return i.map((function(e){return e.map((function(e){var t=S({},e);return t.headerId&&(t.headerId+="-fixed"),t}))}))},y._isColumnFixing=function(){var e=this.option("columnFixing.enabled");return!e&&(0,u.each)(this._columns,(function(t,n){if(n.fixed)return e=!0,!1})),e},y._getExpandColumnsCore=function(){return this.getGroupColumns()},y.getExpandColumns=function(){var e,t=this._getExpandColumnsCore(),n=t.filter((function(e){return 0===e.groupIndex}))[0],i=n&&n.fixed,o=this._isColumnFixing(),r=this.option("rtlEnabled");return t.length&&(e=this.columnOption("command:expand")),t=(0,u.map)(t,(function(t){return(0,s.extend)({},t,{visibleWidth:null,minWidth:null,cellTemplate:(0,h.isDefined)(t.groupIndex)?null:t.cellTemplate,headerCellTemplate:null,fixed:!(!(0,h.isDefined)(t.groupIndex)||!i)||o,fixedPosition:r?"right":"left"},e,{index:t.index,type:t.type||I.GROUP_COMMAND_COLUMN_NAME})}))},y.getBandColumnsCache=function(){if(!this._bandColumnsCache){var e=this._columns,t={},n={},i=!0;e.forEach((function(o){var r=o.ownerBand,a=(0,h.isObject)(r)?r.index:r,l=e[a];o.hasColumns&&(i=!1),o.colspan&&(o.colspan=void 0),o.rowspan&&(o.rowspan=void 0),l?n[o.index]=l:a=-1,t[a]=t[a]||[],t[a].push(o)})),this._bandColumnsCache={isPlain:i,columnChildrenByIndex:t,columnParentByIndex:n}}return this._bandColumnsCache},y._isColumnVisible=function(e){return e.visible&&this.isParentColumnVisible(e.index)},y._isColumnInGroupPanel=function(e){return(0,h.isDefined)(e.groupIndex)&&!e.showWhenGrouped},y.hasVisibleDataColumns=function(){var e=this;return this._columns.some((function(t){var n=e._isColumnVisible(t),i=e._isColumnInGroupPanel(t),o=!!t.command;return n&&!i&&!o}))},y._compileVisibleColumnsCore=function(){var e=this.getBandColumnsCache(),t=(0,b.mergeColumns)(this,this._columns,this._commandColumns,!0);(0,b.processBandColumns)(this,t,e);var n=this._getIndexedColumns(t),i=this._getVisibleColumnsFromIndexed(n);return!this.hasVisibleDataColumns()&&this._columns.length&&i[i.length-1].push({command:"empty"}),i},y._getIndexedColumns=function(e){for(var t=this,n=this.option("rtlEnabled"),i=this.getRowCount(),o=(0,b.digitsCount)(e.length),r=this.getBandColumnsCache(),a=[],l=[],s=0;s<i;s+=1)l[s]=[{}],a[s]=[{},{},{}];return e.forEach((function(e){var i,s,d,u,c,h=e.visibleIndex,f=(0,b.getParentBandColumns)(e.index,r.columnParentByIndex),p=t._isColumnVisible(e),g=t._isColumnInGroupPanel(e);if(p&&!g){var m=f.length;if(h<0)h=-h,c=l[m];else if(e.fixed=null!==(s=null===(i=f[0])||void 0===i?void 0:i.fixed)&&void 0!==s?s:e.fixed,e.fixedPosition=null!==(u=null===(d=f[0])||void 0===d?void 0:d.fixedPosition)&&void 0!==u?u:e.fixedPosition,e.fixed){var _=!!e.command&&!(0,b.isCustomCommandColumn)(t,e),v="right"===e.fixedPosition;n&&!_&&(v=!v),c=v?a[m][2]:a[m][0]}else c=a[m][1];if(f.length){h=(0,b.numberToString)(h,o);for(var C=f.length-1;C>=0;C-=1)h=(0,b.numberToString)(f[C].visibleIndex,o)+h}c[h]=c[h]||[],c[h].push(e)}})),{positiveIndexedColumns:a,negativeIndexedColumns:l}},y._getVisibleColumnsFromIndexed=function(e){for(var t=this,n=e.positiveIndexedColumns,i=e.negativeIndexedColumns,o=[],r=this.getRowCount(),a=(0,b.mergeColumns)(this,this.getExpandColumns(),this._columns),l=0,s=0,d=function(e){o.push([]),(0,c.orderEach)(i[e],(function(t,n){o[e].unshift.apply(o[e],n)}));var r=o[e].length;n[e].forEach((function(t){(0,c.orderEach)(t,(function(t,n){o[e].push.apply(o[e],n)}))})),s<=e&&(s+=b.processExpandColumns.call(t,o[e],a,I.DETAIL_COMMAND_COLUMN_NAME,r)),l<=e&&(l+=b.processExpandColumns.call(t,o[e],a,I.GROUP_COMMAND_COLUMN_NAME,r))},u=0;u<r;u+=1)d(u);return o.push((0,b.getDataColumns)(o)),o},y.getInvisibleColumns=function(e,t){var n,i=this,o=[];return e=e||i._columns,(0,u.each)(e,(function(e,r){r.ownerBand===t&&(r.isBand?(n=r.visible?i.getInvisibleColumns(i.getChildrenByBandColumn(r.index),r.index):i.getChildrenByBandColumn(r.index)).length&&(o.push(r),o=o.concat(n)):r.visible||o.push(r))})),o},y.getChooserColumns=function(e){var t=(e?this.getColumns():this.getInvisibleColumns()).filter((function(e){return e.showInColumnChooser})),n=this.option("columnChooser.sortOrder");return(0,b.sortColumns)(t,n)},y.allowMoveColumn=function(e,t,n,i){var o=(0,b.getColumnIndexByVisibleIndex)(this,e,n),r=this._columns[o];return!(!r||!(r.allowReordering||r.allowGrouping||r.allowHiding))&&(n===i?n!==I.COLUMN_CHOOSER_LOCATION&&((e=(0,h.isObject)(e)?e.columnIndex:e)!==(t=(0,h.isObject)(t)?t.columnIndex:t)&&e+1!==t):n===I.GROUP_LOCATION&&i!==I.COLUMN_CHOOSER_LOCATION||i===I.GROUP_LOCATION?r&&r.allowGrouping:n!==I.COLUMN_CHOOSER_LOCATION&&i!==I.COLUMN_CHOOSER_LOCATION||r&&r.allowHiding)},y.moveColumn=function(e,t,n,i){var o,r,a={},l=(0,b.getColumnIndexByVisibleIndex)(this,e,n),s=(0,b.getColumnIndexByVisibleIndex)(this,t,i);if(l>=0){var d=this._columns[l];if(t=(0,h.isObject)(t)?t.columnIndex:t,r=s>=0?this._columns[s].groupIndex:-1,(0,h.isDefined)(d.groupIndex)&&n===I.GROUP_LOCATION&&(r>d.groupIndex&&r--,i!==I.GROUP_LOCATION?a.groupIndex=void 0:(o=d.groupIndex,delete d.groupIndex,(0,b.updateColumnGroupIndexes)(this))),i===I.GROUP_LOCATION)a.groupIndex=(0,b.moveColumnToGroup)(this,d,r),d.groupIndex=o;else if(t>=0){var u=this._columns[s];u&&d.ownerBand===u.ownerBand?(0,b.isColumnFixed)(this,d)^(0,b.isColumnFixed)(this,u)?a.visibleIndex=I.MAX_SAFE_INTEGER:a.visibleIndex=u.visibleIndex:a.visibleIndex=I.MAX_SAFE_INTEGER}var c=i!==I.COLUMN_CHOOSER_LOCATION;d.visible!==c&&(a.visible=c),this.columnOption(d.index,a)}},y.changeSortOrder=function(e,t){var n={},i=this.option("sorting"),o=i&&i.mode,r="single"===o||!t,a="single"===o||"multiple"===o,l=this._columns[e];a&&l&&l.allowSorting&&(r&&!(0,h.isDefined)(l.groupIndex)&&(0,u.each)(this._columns,(function(t){t!==e&&this.sortOrder&&((0,h.isDefined)(this.groupIndex)||delete this.sortOrder,delete this.sortIndex)})),(0,b.isSortOrderValid)(t)?l.sortOrder!==t&&(n.sortOrder=t):"none"===t?l.sortOrder&&(n.sortIndex=void 0,n.sortOrder=void 0):function(e){if("ctrl"===t){if(!("sortOrder"in e)||!("sortIndex"in e))return!1;n.sortOrder=void 0,n.sortIndex=void 0}else(0,h.isDefined)(e.groupIndex)||(0,h.isDefined)(e.sortIndex)?n.sortOrder="desc"===e.sortOrder?"asc":"desc":n.sortOrder="asc"}(l)),this.columnOption(l.index,n)},y.getSortDataSourceParameters=function(e){var t=[],n=[];return(0,u.each)(this._columns,(function(){(this.dataField||this.selector||this.calculateCellValue)&&(0,h.isDefined)(this.sortIndex)&&!(0,h.isDefined)(this.groupIndex)&&(t[this.sortIndex]=this)})),(0,u.each)(t,(function(){var t=this&&this.sortOrder;if((0,b.isSortOrderValid)(t)){var i={selector:this.calculateSortValue||this.displayField||this.calculateDisplayValue||e&&this.selector||this.dataField||this.calculateCellValue,desc:"desc"===this.sortOrder};this.sortingMethod&&(i.compare=this.sortingMethod.bind(this)),n.push(i)}})),n.length>0?n:null},y.getGroupDataSourceParameters=function(e){var t=[];return(0,u.each)(this.getGroupColumns(),(function(){var n=this.calculateGroupValue||this.displayField||this.calculateDisplayValue||e&&this.selector||this.dataField||this.calculateCellValue;if(n){var i={selector:n,desc:"desc"===this.sortOrder,isExpanded:!!this.autoExpandGroup};this.sortingMethod&&(i.compare=this.sortingMethod.bind(this)),t.push(i)}})),t.length>0?t:null},y.refresh=function(e){var t=[];return(0,u.each)(this._columns,(function(){var n=this.lookup;if(n&&!this.calculateDisplayValue){if(e&&n.valueMap)return;n.update&&t.push(n.update())}})),l.when.apply(o.default,t).done(b.resetColumnsCache.bind(null,this))},y._updateColumnOptions=function(e,t){e.selector=e.selector||function(t){return e.calculateCellValue(t)},this._reinitAfterLookupChanges&&this._previousColumns?(e.selector.columnIndex=t,e.selector.originalCallback=this._previousColumns[t].selector.originalCallback):(e.selector.columnIndex=t,e.selector.originalCallback=e.selector),(0,u.each)(["calculateSortValue","calculateGroupValue","calculateDisplayValue"],(function(n,i){var o=e[i];if((0,h.isFunction)(o))if(o.originalCallback)e[i].context.column=e;else{var r={column:e};e[i]=function(e){return o.call(r.column,e)},e[i].originalCallback=o,e[i].columnIndex=t,e[i].context=r}})),(0,h.isString)(e.calculateDisplayValue)&&(e.displayField=e.calculateDisplayValue,e.calculateDisplayValue=(0,a.compileGetter)(e.displayField)),e.calculateDisplayValue&&(e.displayValueMap=e.displayValueMap||{}),(0,b.updateSerializers)(e,e.dataType);var n=e.lookup;n&&(0,b.updateSerializers)(n,n.dataType);var i=n?n.dataType:e.dataType;i&&(e.alignment=e.alignment||(0,b.getAlignmentByDataType)(i,this.option("rtlEnabled")),e.format=e.format||x.default.getFormatByDataType(i),e.customizeText=e.customizeText||(0,b.getCustomizeTextByDataType)(i),e.defaultFilterOperations=e.defaultFilterOperations||!n&&I.DATATYPE_OPERATIONS[i]||[],(0,h.isDefined)(e.filterOperations)||(0,b.setFilterOperationsAsDefaultValues)(e),e.defaultFilterOperation=e.filterOperations&&e.filterOperations[0]||"=",e.showEditorAlways=(0,h.isDefined)(e.showEditorAlways)?e.showEditorAlways:"boolean"===i&&!e.cellTemplate&&!e.lookup)},y.updateColumnDataTypes=function(e){var t=this,n=t.option("dateSerializationFormat"),i=t._getFirstItems(e),o=!1;return(0,u.each)(t._columns,(function(e,r){var a,l,s,d,u,c=r.lookup;if(x.default.isDateType(r.dataType)&&void 0===r.serializationFormat&&(r.serializationFormat=n),c&&x.default.isDateType(c.dataType)&&void 0===r.serializationFormat&&(c.serializationFormat=n),r.calculateCellValue&&i.length){if(!r.dataType||c&&!c.dataType){for(a=0;a<i.length;a++)l=r.calculateCellValue(i[a]),r.dataType||(u=(0,b.getValueDataType)(l),(s=s||u)&&u&&s!==u&&(s="string")),c&&!c.dataType&&(u=(0,b.getValueDataType)(x.default.getDisplayValue(r,l,i[a])),(d=d||u)&&u&&d!==u&&(d="string"));(s||d)&&(s&&(r.dataType=s),c&&d&&(c.dataType=d),o=!0)}if(void 0===r.serializationFormat||c&&void 0===c.serializationFormat)for(a=0;a<i.length;a++)l=r.calculateCellValue(i[a],!0),void 0===r.serializationFormat&&(r.serializationFormat=(0,b.getSerializationFormat)(r.dataType,l)),c&&void 0===c.serializationFormat&&(c.serializationFormat=(0,b.getSerializationFormat)(c.dataType,c.calculateCellValue(l,!0)))}t._updateColumnOptions(r,e)})),o},y._customizeColumns=function(e){var t=this.option("customizeColumns");t&&(e.some((function(e){return(0,h.isObject)(e.ownerBand)}))&&(0,b.updateIndexes)(this),t(e),(0,b.assignColumns)(this,(0,b.createColumnsFromOptions)(this,e)))},y.updateColumns=function(e,t,n){var i=this;if(t||this.updateSortingGrouping(e),!e||e.isLoaded()){var o=e?e.sort()||[]:this.getSortDataSourceParameters(),r=e?e.group()||[]:this.getGroupDataSourceParameters(),a=null==e?void 0:e.lastLoadOptions().filter;n||this._customizeColumns(this._columns),(0,b.updateIndexes)(this);var s=this._columns;return(0,l.when)(this.refresh(!0)).always((function(){i._columns===s&&(i._updateChanges(e,{sorting:o,grouping:r,filtering:a}),(0,b.fireColumnsChanged)(i))}))}},y._updateChanges=function(e,t){e&&(this.updateColumnDataTypes(e),this._dataSourceApplied=!0),x.default.equalSortParameters(t.sorting,this.getSortDataSourceParameters())||(0,b.updateColumnChanges)(this,"sorting"),x.default.equalSortParameters(t.grouping,this.getGroupDataSourceParameters())||(0,b.updateColumnChanges)(this,"grouping");var n=this.getController("data");n&&!x.default.equalFilterParameters(t.filtering,n.getCombinedFilter())&&(0,b.updateColumnChanges)(this,"filtering"),(0,b.updateColumnChanges)(this,"columns")},y.updateSortingGrouping=function(e,t){var n,i,o=this,r=function(e,n,i){(0,u.each)(e,(function(e,o){if(delete o[i],n)for(var r=0;r<n.length;r++){var a=n[r].selector,l=n[r].isExpanded;if(a===o.dataField||a===o.name||a===o.selector||a===o.calculateCellValue||a===o.calculateGroupValue||a===o.calculateDisplayValue){o.sortOrder=t?"sortOrder"in o?o.sortOrder:n[r].desc?"desc":"asc":o.sortOrder||(n[r].desc?"desc":"asc"),void 0!==l&&(o.autoExpandGroup=l),o[i]=r;break}}}))};if(e){n=x.default.normalizeSortingInfo(e.sort());var a=x.default.normalizeSortingInfo(e.group()),l=o.getGroupDataSourceParameters(),s=o.getSortDataSourceParameters(),d=!x.default.equalSortParameters(a,l,!0),c=!d&&!x.default.equalSortParameters(a,l);o._columns.length||((0,u.each)(a,(function(e,t){o._columns.push(t.selector)})),(0,u.each)(n,(function(e,t){(0,h.isFunction)(t.selector)||o._columns.push(t.selector)})),(0,b.assignColumns)(o,(0,b.createColumnsFromOptions)(o,o._columns))),!t&&(l||o._hasUserState)||!d&&!c||(r(o._columns,a,"groupIndex"),t&&(d&&(0,b.updateColumnChanges)(o,"grouping"),c&&(0,b.updateColumnChanges)(o,"groupExpanding"),i=!0)),!t&&(s||o._hasUserState)||x.default.equalSortParameters(n,s)||(r(o._columns,n,"sortIndex"),t&&((0,b.updateColumnChanges)(o,"sorting"),i=!0)),i&&(0,b.fireColumnsChanged)(o)}},y.updateFilter=function(e,t,n,o){if(!Array.isArray(e))return e;if(n=void 0!==(e=(0,s.extend)([],e)).columnIndex?e.columnIndex:n,o=void 0!==e.filterValue?e.filterValue:o,(0,h.isString)(e[0])&&"!"!==e[0]){var r=this.columnOption(e[0]);t?(0,i.default)().forceIsoDateParsing&&r&&r.serializeValue&&e.length>1&&(e[e.length-1]=r.serializeValue(e[e.length-1],"filter")):r&&r.selector&&(e[0]=r.selector,e[0].columnIndex=r.index)}else(0,h.isFunction)(e[0])&&(e[0].columnIndex=n,e[0].filterValue=o,e[0].selectedFilterOperation=e.selectedFilterOperation);for(var a=0;a<e.length;a++)e[a]=this.updateFilter(e[a],t,n,o);return e},y.columnCount=function(){return this._columns?this._columns.length:0},y.columnOption=function(e,t,n,i){var o=this,r=o._columns.concat(o._commandColumns),a=(0,b.findColumn)(r,e);if(a){if(1===arguments.length)return(0,s.extend)({},a);if((0,h.isString)(t)){if(2===arguments.length)return(0,b.columnOptionCore)(o,a,t);(0,b.columnOptionCore)(o,a,t,n,i)}else(0,h.isObject)(t)&&(0,u.each)(t,(function(e,t){(0,b.columnOptionCore)(o,a,e,t,i)}));(0,b.fireColumnsChanged)(o)}},y.clearSorting=function(){var e=this.columnCount();this.beginUpdate();for(var t=0;t<e;t++)this.columnOption(t,"sortOrder",void 0),delete(0,b.findColumn)(this._columns,t).sortOrder;this.endUpdate()},y.clearGrouping=function(){var e=this.columnCount();this.beginUpdate();for(var t=0;t<e;t++)this.columnOption(t,"groupIndex",void 0);this.endUpdate()},y.getVisibleIndex=function(e,t){for(var n=this.getVisibleColumns(t),i=n.length-1;i>=0;i--)if(n[i].index===e)return i;return-1},y.getVisibleIndexByColumn=function(e,t){var n=this.getVisibleColumns(t),i=n.filter((function(t){return t.index===e.index&&t.command===e.command}))[0];return n.indexOf(i)},y.getVisibleColumnIndex=function(e,t){var n=this.columnOption(e,"index");return this.getVisibleIndex(n,t)},y.addColumn=function(e){var t=(0,b.createColumn)(this,e),n=this._columns.length;this._columns.push(t),t.isBand&&(this._columns=(0,b.createColumnsFromOptions)(this,this._columns),t=this._columns[n]),t.added=e,(0,b.updateIndexes)(this,t),this.updateColumns(this._dataSource),this._checkColumns()},y.deleteColumn=function(e){var t=this.columnOption(e);if(t&&t.index>=0){if((0,b.convertOwnerBandToColumnReference)(this._columns),this._columns.splice(t.index,1),t.isBand){var n=this.getChildrenByBandColumn(t.index).map((function(e){return e.index}));this._columns=this._columns.filter((function(e){return n.indexOf(e.index)<0}))}(0,b.updateIndexes)(this),this.updateColumns(this._dataSource)}},y.addCommandColumn=function(e){var t=this._commandColumns.filter((function(t){return t.command===e.command}))[0];t||(t=e,this._commandColumns.push(t))},y.getUserState=function(){var e,t=this._columns,n=[];function i(i,o){void 0!==t[e][o]&&(n[e][o]=t[e][o])}for(e=0;e<t.length;e++)n[e]={},(0,u.each)(I.USER_STATE_FIELD_NAMES,i);return n},y.setName=function(e){e.name=e.name||e.dataField||e.type},y.setUserState=function(e){var t=this._dataSource,n=this.option("stateStoring.ignoreColumnOptionNames");if(null==e||e.forEach(this.setName),!n){n=[];var i=this.getCommonSettings();this.option("columnChooser.enabled")||n.push("visible"),"none"===this.option("sorting.mode")&&n.push("sortIndex","sortOrder"),i.allowGrouping||n.push("groupIndex"),i.allowFixing||n.push("fixed","fixedPosition"),i.allowResizing||n.push("width","visibleWidth");var o=!this.option("filterPanel.visible");!this.option("filterRow.visible")&&o&&n.push("filterValue","selectedFilterOperation"),!this.option("headerFilter.visible")&&o&&n.push("filterValues","filterType")}this._columnsUserState=e,this._ignoreColumnOptionNames=n,this._hasUserState=!!e,(0,b.updateColumnChanges)(this,"filtering"),this.init(!0),t&&(t.sort(this.getSortDataSourceParameters()),t.group(this.getGroupDataSourceParameters()))},y._checkColumns=function(){var e={},t=!1,n=[];this._columns.forEach((function(i){var o,r=i.name,a=null===(o=i.columns)||void 0===o?void 0:o.length,l=i.allowEditing&&(i.dataField||i.setCellValue)&&!a;r?(e[r]&&n.push('"'.concat(r,'"')),e[r]=!0):l&&(t=!0)})),n.length&&w.default.log("E1059",n.join(", ")),t&&w.default.log("E1060")},y._createCalculatedColumnOptions=function(e,t){var n={},i=e.dataField;if((Array.isArray(e.columns)&&e.columns.length||e.isBand)&&(n.isBand=!0,i=null),i){if((0,h.isString)(i)){var o=(0,a.compileGetter)(i);n={caption:(0,d.captionize)(i),calculateCellValue:function(e,t){var n=o(e);return this.deserializeValue&&!t?this.deserializeValue(n):n},setCellValue:b.defaultSetCellValue,parseValue:function(e){var t,n;return"number"===this.dataType?(0,h.isString)(e)&&this.format?t=(0,b.strictParseNumber)(e.trim(),this.format):(0,h.isDefined)(e)&&(0,h.isNumeric)(e)&&(t=Number(e)):"boolean"===this.dataType?e===this.trueText?t=!0:e===this.falseText&&(t=!1):x.default.isDateType(this.dataType)?(n=_.default.parse(e,this.format))&&(t=n):t=e,t}}}n.allowFiltering=!0}else n.allowFiltering=!!e.calculateFilterExpression;return n.calculateFilterExpression=function(){return C.default.defaultCalculateFilterExpression.apply(this,arguments)},n.defaultFilterOperation="=",n.createFilterExpression=function(e,t){var n;return this.calculateFilterExpression&&(n=this.calculateFilterExpression.apply(this,arguments)),(0,h.isFunction)(n)&&(n=[n,"=",!0]),n&&(n.columnIndex=this.index,n.filterValue=e,n.selectedFilterOperation=t),n},i&&(0,h.isString)(i)||(0,s.extend)(!0,n,{allowSorting:!1,allowGrouping:!1,calculateCellValue:function(){return null}}),t&&(n.allowFixing=!1),e.dataType&&(n.userDataType=e.dataType),e.selectedFilterOperation&&!("defaultSelectedFilterOperation"in n)&&(n.defaultSelectedFilterOperation=e.selectedFilterOperation),e.lookup&&(n.lookup={calculateCellValue:function(e,t){return this.valueExpr&&(e=this.valueMap&&this.valueMap[e]),this.deserializeValue&&!t?this.deserializeValue(e):e},updateValueMap:function(){if(this.valueMap={},this.items)for(var e=(0,a.compileGetter)(this.valueExpr),t=(0,a.compileGetter)(this.displayExpr),n=0;n<this.items.length;n++){var i=this.items[n],o=t(i);this.valueMap[e(i)]=o,this.dataType=this.dataType||(0,b.getValueDataType)(o)}},update:function(){var e=this,t=e.dataSource;if(t)if((0,h.isFunction)(t)&&!f.default.isWrapped(t)&&(t=t({})),(0,h.isPlainObject)(t)||t instanceof p.default||Array.isArray(t)){if(e.valueExpr){var n=(0,m.normalizeDataSourceOptions)(t);return n.paginate=!1,(t=new g.DataSource(n)).load().done((function(t){e.items=t,e.updateValueMap&&e.updateValueMap()}))}}else w.default.log("E1016");else e.updateValueMap&&e.updateValueMap()}}),n.resizedCallbacks=(0,r.default)(),e.resized&&n.resizedCallbacks.add(e.resized.bind(e)),(0,u.each)(n,(function(e){if((0,h.isFunction)(n[e])&&0!==e.indexOf("default")){var t="default".concat(e.charAt(0).toUpperCase()).concat(e.substr(1));n[t]=n[e]}})),n},y.getRowCount=function(){return this._rowCount=this._rowCount||(0,b.getRowCount)(this),this._rowCount},y.getRowIndex=function(e,t){var n=this._columns[e],i=this.getBandColumnsCache();return n&&(t||n.visible&&!n.command&&!(0,h.isDefined)(n.groupIndex))?(0,b.getParentBandColumns)(e,i.columnParentByIndex).length:0},y.getChildrenByBandColumn=function(e,t){var n=this.getBandColumnsCache(),i=(0,b.getChildrenByBandColumn)(e,n.columnChildrenByIndex,!t);return t?i.filter((function(e){return e.visible&&!e.command})).sort((function(e,t){return e.visibleIndex-t.visibleIndex})):i},y.isParentBandColumn=function(e,t){var n=!1,i=this._columns[e],o=this.getBandColumnsCache(),r=i&&(0,b.getParentBandColumns)(e,o.columnParentByIndex);return r&&(0,u.each)(r,(function(e,i){if(i.index===t)return n=!0,!1})),n},y.isParentColumnVisible=function(e){var t=!0,n=this.getBandColumnsCache(),i=e>=0&&(0,b.getParentBandColumns)(e,n.columnParentByIndex);return i&&(0,u.each)(i,(function(e,n){return t=t&&n.visible})),t},y.getColumnId=function(e){return e.command&&e.type===I.GROUP_COMMAND_COLUMN_NAME?(0,b.isCustomCommandColumn)(this,e)?"type:".concat(e.type):"command:".concat(e.command):e.index},y.getCustomizeTextByDataType=function(e){return(0,b.getCustomizeTextByDataType)(e)},y.getHeaderContentAlignment=function(e){return this.option("rtlEnabled")?"left"===e?"right":"left":e},v}(y.default.Controller);t.ColumnsController=T;var D={defaultOptions:function(){return{commonColumnSettings:{allowFiltering:!0,allowHiding:!0,allowSorting:!0,allowEditing:!0,encodeHtml:!0,trueText:v.default.format("dxDataGrid-trueText"),falseText:v.default.format("dxDataGrid-falseText")},allowColumnReordering:!1,allowColumnResizing:!1,columnResizingMode:"nextColumn",columnMinWidth:void 0,columnWidth:void 0,adaptColumnWidthByRatio:!0,columns:void 0,regenerateColumnsByVisibleItems:!1,customizeColumns:null,dateSerializationFormat:void 0}},controllers:{columns:T}};t.columnsControllerModule=D},42586:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.applyUserState=t.addExpandColumn=void 0,t.assignColumns=A,t.isCustomCommandColumn=t.isColumnFixed=t.getValueDataType=t.getSerializationFormat=t.getRowCount=t.getParentBandColumns=t.getFixedPosition=t.getDataColumns=t.getCustomizeTextByDataType=t.getColumnIndexByVisibleIndex=t.getColumnFullPath=t.getColumnByIndexes=t.getChildrenByBandColumn=t.getAlignmentByDataType=t.fireOptionChanged=t.fireColumnsChanged=t.findColumn=t.digitsCount=t.defaultSetCellValue=t.customizeTextForBooleanDataType=t.createColumnsFromOptions=t.createColumnsFromDataSource=t.createColumn=t.convertOwnerBandToColumnReference=t.columnOptionCore=t.calculateColspan=void 0,t.isSortOrderValid=M,t.updateSortOrderWhenGrouping=t.updateSerializers=t.updateIndexes=t.updateColumnVisibleIndexes=t.updateColumnSortIndexes=t.updateColumnIndexes=t.updateColumnGroupIndexes=t.updateColumnChanges=t.strictParseNumber=t.sortColumns=t.setFilterOperationsAsDefaultValues=t.resetColumnsCache=t.resetBandColumnsCache=t.processExpandColumns=t.processBandColumns=t.numberToString=t.moveColumnToGroup=t.mergeColumns=void 0;var i=n(64868),o=n(48152),r=n(14928),a=m(n(88739)),l=n(65102),s=n(96993),d=n(30269),u=n(37954),c=n(49859),h=m(n(44610)),f=m(n(80342)),p=m(n(37028)),g=n(6134);function m(e){return e&&e.__esModule?e:{default:e}}var _=function(e){e.filterOperations=e.defaultFilterOperations};t.setFilterOperationsAsDefaultValues=_;var v=1,C=function(e,t,n,i){var o={};if(t){(0,c.isString)(t)&&(t={dataField:t}),e.setName(t);var r={};if(t.command)r=(0,d.deepExtendArraySafe)(o,t);else{o=e.getCommonSettings(t),n&&n.name&&n.dataField&&(t=(0,l.extend)({},t,{dataField:n.dataField}));var a=e._createCalculatedColumnOptions(t,i);t.type||(r={headerId:"dx-col-".concat(v++)}),r=(0,d.deepExtendArraySafe)(r,g.DEFAULT_COLUMN_OPTIONS),(0,d.deepExtendArraySafe)(r,o),(0,d.deepExtendArraySafe)(r,a),(0,d.deepExtendArraySafe)(r,t),(0,d.deepExtendArraySafe)(r,{selector:null})}return t.filterOperations===t.defaultFilterOperations&&_(r),r}};t.createColumn=C;var w=function e(t,n,i){var o=[];return n&&(0,s.each)(n,(function(n,r){var a=t._columnsUserState&&D(r,t._columnsUserState[n])&&t._columnsUserState[n],l=C(t,r,a,i);l&&(i&&(l.ownerBand=i),o.push(l),l.columns&&(o=o.concat(e(t,l.columns,l)),delete l.columns,l.hasColumns=!0))})),o};t.createColumnsFromOptions=w;var y=function(e,t){for(var n=[],i=t[e];i;)n.unshift(i),i=t[e=i.index];return n};t.getParentBandColumns=y;t.getChildrenByBandColumn=function e(t,n,i){var o=[],r=n[t];if(r)for(var a=0;a<r.length;a++){var l=r[a];(0,c.isDefined)(l.groupIndex)&&!l.showWhenGrouped||(o.push(l),i&&l.isBand&&(o=o.concat(e(l.index,n,i))))}return o};t.getColumnByIndexes=function(e,t){var n,i,o=function(e){var t=n?n.index:void 0;return e.ownerBand===t};if(e.getBandColumnsCache().isPlain)n=e._columns[t[0]];else{i=e._columns.filter(o);for(var r=0;r<t.length;r++)(n=i[t[r]])&&(i=e._columns.filter(o))}return n};var x=function(e,t){var n,i=[],o=e.getBandColumnsCache(),r=function(e){return e.ownerBand===t.ownerBand};if(o.isPlain){var a=e._columns.indexOf(t);a>=0&&(i=["columns[".concat(a,"]")])}else for(n=e._columns.filter(r);n.length&&-1!==n.indexOf(t);)i.unshift("columns[".concat(n.indexOf(t),"]")),n=(t=o.columnParentByIndex[t.index])?e._columns.filter(r):[];return i.join(".")};t.getColumnFullPath=x;var I=function e(t,n){var i=0,o=t.getChildrenByBandColumn(n,!0);return(0,s.each)(o,(function(n,o){o.isBand?(o.colspan=o.colspan||e(t,o.index),i+=o.colspan||1):i+=1})),i};t.calculateColspan=I;t.processBandColumns=function(e,t,n){for(var i,o=0;o<t.length;o++){var r=t[o];(r.visible||r.command)&&(r.isBand&&(r.colspan=r.colspan||I(e,r.index)),r.isBand&&r.colspan||(i=e.getRowCount(),r.command||(0,c.isDefined)(r.groupIndex)&&!r.showWhenGrouped||(i-=y(r.index,n.columnParentByIndex).length),i>1&&(r.rowspan=i)))}};t.getValueDataType=function(e){var t=(0,c.type)(e);return"string"!==t&&"boolean"!==t&&"number"!==t&&"date"!==t&&"object"!==t&&(t=void 0),t};t.getSerializationFormat=function(e,t){switch(e){case"date":case"datetime":return a.default.getDateSerializationFormat(t);case"number":if((0,c.isString)(t))return"string";if((0,c.isNumeric)(t))return null}};t.updateSerializers=function(e,t){e.deserializeValue||(p.default.isDateType(t)&&(e.deserializeValue=function(e){return a.default.deserializeDate(e)},e.serializeValue=function(e){return(0,c.isString)(e)?e:a.default.serializeDate(e,this.serializationFormat)}),"number"===t&&(e.deserializeValue=function(e){var t=parseFloat(e);return isNaN(t)?e:t},e.serializeValue=function(e,t){return"filter"===t?e:(0,c.isDefined)(e)&&"string"===this.serializationFormat?e.toString():e}))};t.getAlignmentByDataType=function(e,t){switch(e){case"number":return"right";case"boolean":return"center";default:return(0,u.getDefaultAlignment)(t)}};var b=function(e){return!0===e.value?this.trueText||"true":!1===e.value?this.falseText||"false":e.valueText||""};t.customizeTextForBooleanDataType=b;t.getCustomizeTextByDataType=function(e){if("boolean"===e)return b};t.createColumnsFromDataSource=function(e,t){for(var n,i=e._getFirstItems(t),o={},r=[],a=0;a<i.length;a++)if(i[a])for(n in i[a])(0,c.isFunction)(i[a][n])&&!h.default.isWrapped(i[a][n])||(o[n]=!0);for(n in o)if(0!==n.indexOf("__")){var l=C(e,n);r.push(l)}return r};var E=function(e){(0,s.each)(e._columns,(function(e,t){t.index=e})),(0,s.each)(e._columns,(function(e,t){(0,c.isObject)(t.ownerBand)&&(t.ownerBand=t.ownerBand.index)})),(0,s.each)(e._commandColumns,(function(e,t){t.index=-(e+1)}))};t.updateColumnIndexes=E;var S=function(e,t){(0,i.normalizeIndexes)(e._columns,"groupIndex",t,(function(e){var t=e.grouped;return delete e.grouped,t}))};t.updateColumnGroupIndexes=S;var O=function(e,t){(0,s.each)(e._columns,(function(e,t){(0,c.isDefined)(t.sortIndex)&&!M(t.sortOrder)&&delete t.sortIndex})),(0,i.normalizeIndexes)(e._columns,"sortIndex",t,(function(e){return!(0,c.isDefined)(e.groupIndex)&&M(e.sortOrder)}))};t.updateColumnSortIndexes=O;var T=function(e,t){for(var n,o=[],r=e.getBandColumnsCache(),a=[],l=e._columns.filter((function(e){return!e.command})),s=0;s<l.length;s++){n=l[s],y(s,r.columnParentByIndex).length?a.push(n):o.push(n)}(0,i.normalizeIndexes)(a,"visibleIndex",t),(0,i.normalizeIndexes)(o,"visibleIndex",t)};t.updateColumnVisibleIndexes=T;t.getColumnIndexByVisibleIndex=function(e,t,n){var i,o=(0,c.isObject)(t)?t.rowIndex:null,r=n===g.GROUP_LOCATION?e.getGroupColumns():n===g.COLUMN_CHOOSER_LOCATION?e.getChooserColumns():e.getVisibleColumns(o);return t=(0,c.isObject)(t)?t.columnIndex:t,(i=r[t])&&i.type===g.GROUP_COMMAND_COLUMN_NAME&&(i=e._columns.filter((function(e){return i.type===e.type}))[0]||i),i&&(0,c.isDefined)(i.index)?i.index:-1};function D(e,t){return e&&t&&t.name===(e.name||e.dataField)&&(t.dataField===e.dataField||e.name)}t.moveColumnToGroup=function(e,t,n){var i,o=e.getGroupColumns();if(n>=0)for(i=0;i<o.length;i++)o[i].groupIndex>=n&&o[i].groupIndex++;else for(n=0,i=0;i<o.length;i++)n=Math.max(n,o[i].groupIndex+1);return n};t.applyUserState=function(e){var t,n,i,o=e._columnsUserState,r=e._ignoreColumnOptionNames||[],a=e._columns,l={},s=[],d=!0,u=[];function h(e,t){if(t)for(var n=0;n<g.USER_STATE_FIELD_NAMES.length;n++){var i=g.USER_STATE_FIELD_NAMES[n];r.includes(i)||("dataType"===i?e[i]=e[i]||t[i]:g.USER_STATE_FIELD_NAMES_15_1.includes(i)?i in t&&(e[i]=t[i]):("selectedFilterOperation"===i&&t[i]&&(e.defaultSelectedFilterOperation=e[i]||null),e[i]=t[i]))}}function f(e,t){for(var n=t.name||t.dataField,i=l[n]||0,o=0;o<e.length;o++)if(D(t,e[o])){if(!i)return l[n]=l[n]||0,l[n]++,o;i--}return-1}if(o){for(i=0;i<a.length;i++)n=f(o,a[i]),d=d&&n>=0,u.push(n);for(i=0;i<a.length;i++)t=a[i],n=u[i],(e._hasUserState||d)&&h(t,o[n]),n>=0&&(0,c.isDefined)(o[n].initialIndex)?s[n]=t:s.push(t);var p=!1;for(i=0;i<o.length;i++){var m=o[i];m.added&&f(a,m)<0&&(h(t=C(e,m.added),m),s.push(t),m.added.columns&&(p=!0))}p&&(E(e),s=w(e,s)),A(e,s)}};var R=function(e,t){E(e),S(e,t),O(e,t),L(e),T(e,t)};t.updateIndexes=R;var F=function(e){e.resetColumnsCache()};function A(e,t){e._previousColumns=e._columns,e._columns=t,F(e),e.updateColumnDataTypes()}t.resetColumnsCache=F;var P=function(e,t,n,i){var o,r=e._columnChanges||{optionNames:{length:0},changeTypes:{length:0},columnIndex:i};n=(n=n||"all").split(".")[0];var a=r.changeTypes;t&&!a[t]&&(a[t]=!0,a.length++);var l=r.optionNames;n&&!l[n]&&(l[n]=!0,l.length++),void 0!==i&&i===r.columnIndex||((0,c.isDefined)(i)&&(null!==(o=r.columnIndices)&&void 0!==o||(r.columnIndices=[]),(0,c.isDefined)(r.columnIndex)&&r.columnIndices.push(r.columnIndex),r.columnIndices.push(i)),delete r.columnIndex),e._columnChanges=r,F(e)};t.updateColumnChanges=P;t.fireColumnsChanged=function(e){var t,n=e.option("onColumnsChanging"),i=e._columnChanges;e.isInitialized()&&!e._updateLockCount&&i&&(n&&(e._updateLockCount++,n((0,l.extend)({component:e.component},i)),e._updateLockCount--),e._columnChanges=void 0,(t=i.optionNames)&&["dataField","lookup","dataType","columns"].some((function(e){return t[e]}))?(e._reinitAfterLookupChanges=null==i?void 0:i.optionNames.lookup,e.reinit(),e._reinitAfterLookupChanges=void 0):e.columnsChanged.fire(i))};var V=function(e,t,n,i){if(n>=0)i>=0||(t.lastSortOrder=t.sortOrder);else{var o=e.option("sorting.mode"),r=t.lastSortOrder;if("single"===o)e._columns.some((function(e){return e!==t&&(0,c.isDefined)(e.sortIndex)}))&&(r=void 0);t.sortOrder=r}};t.updateSortOrderWhenGrouping=V;var B=function(e,t){var n=t.value,i=t.optionName,o=t.prevValue,r=t.fullOptionName,a="".concat(r,".").concat(i);g.IGNORE_COLUMN_OPTION_NAMES[i]||e._skipProcessingColumnsChange===a||(e._skipProcessingColumnsChange=a,e.component._notifyOptionChanged(a,n,o),e._skipProcessingColumnsChange=!1)};t.fireOptionChanged=B;function M(e){return"asc"===e||"desc"===e}t.columnOptionCore=function(e,t,n,i,a){var l,s,d,u=(0,r.compileGetter)(n),h=t.index;if(3===arguments.length)return u(t,{functionsAsIs:!0});var f=u(t,{functionsAsIs:!0});if(!(0,o.equalByValue)(f,i,{maxDepth:5})){"groupIndex"===n||"calculateGroupValue"===n?(s="grouping",V(e,t,i,f)):s="sortIndex"===n||"sortOrder"===n||"calculateSortValue"===n?"sorting":"columns";var p=(0,r.compileSetter)(n);p(t,i,{functionsAsIs:!0});var m=x(e,t);g.COLUMN_INDEX_OPTIONS[n]&&(R(e,t),i=u(t)),"name"!==n&&"allowEditing"!==n||e._checkColumns(),(0,c.isDefined)(f)||(0,c.isDefined)(i)||0===n.indexOf("buffer")||(a=!0),a?F(e):(g.USER_STATE_FIELD_NAMES.includes(n)||"visibleWidth"===n||(l=e.option("columns"),d=e.getColumnByPath(m,l),(0,c.isString)(d)&&(d=l[h]={dataField:d}),d&&D(d,t)&&p(d,i,{functionsAsIs:!0})),P(e,s,n,h)),m&&B(e,{fullOptionName:m,optionName:n,value:i,prevValue:f})}};t.addExpandColumn=function(e){var t=e._getExpandColumnOptions();e.addCommandColumn(t)};t.defaultSetCellValue=function(e,t){if(this.dataField){var n=this.dataField.split("."),i=n.length-1;this.serializeValue&&(t=this.serializeValue(t));for(var o=0;o<i;o++){var r=n[o];e=e[r]=e[r]||{}}e[n[i]]=t}};t.getDataColumns=function e(t,n,i){var o=[];return t[n=n||0]&&(0,s.each)(t[n],(function(r,a){a.ownerBand!==i&&a.type!==g.GROUP_COMMAND_COLUMN_NAME||(a.isBand&&a.colspan?o.push.apply(o,e(t,n+1,a.index)):(!a.command||n<1)&&o.push(a))})),o};t.getRowCount=function(e){var t=1,n=e.getBandColumnsCache().columnParentByIndex;return e._columns.forEach((function(e){var i=y(e.index,n),o=i.filter((function(e){return!e.visible}));e.visible&&!o.length&&(t=Math.max(t,i.length+1))})),t};var k=function(e,t){return!!e._columns.filter((function(e){return e.type===t.type})).length};t.isCustomCommandColumn=k;t.getFixedPosition=function(e,t){var n=e.option("rtlEnabled");return t.command&&!k(e,t)||!t.fixedPosition?n?"right":"left":t.fixedPosition};t.processExpandColumns=function(e,t,n,i){var o,r=this.getRowCount(),a=e[i]&&e[i].rowspan,d=t.filter((function(e){return e.type===n}));return e.forEach((function(t,i){t.type===n&&(o=i,a=e[i+1]?e[i+1].rowspan:r)})),a>1&&(d=(0,s.map)(d,(function(e){return(0,l.extend)({},e,{rowspan:a})}))),d.unshift.apply(d,(0,c.isDefined)(o)?[o,1]:[i,0]),e.splice.apply(e,d),a||1};t.digitsCount=function(e){var t;for(t=0;e>1;t++)e/=10;return t};t.numberToString=function(e,t){for(var n=e?e.toString():"0";n.length<t;)n="0".concat(n);return n};t.mergeColumns=function(e,t,n,i){for(var o,r,a=t.slice().map((function(e){return(0,l.extend)({},e)})),s=e._isColumnFixing(),d=n.slice().map((function(e){return(0,l.extend)({fixed:s},e)})),u=function(e){return n.reduce((function(t,n,o){var r=i&&e.type===g.GROUP_COMMAND_COLUMN_NAME?"expand":e.type;return n.type===r||n.command===e.command?o:t}),-1)},c=function(e){return e.command!==n[r].command},h=0;h<t.length;h++)if(o=t[h],(r=o&&(o.type||o.command)?u(o):-1)>=0)if(i)a[h]=(0,l.extend)({fixed:s},n[r],o),o.type!==g.GROUP_COMMAND_COLUMN_NAME&&(d=d.filter(c));else{var f={visibleIndex:o.visibleIndex,index:o.index,headerId:o.headerId,allowFixing:0===o.groupIndex,allowReordering:0===o.groupIndex,groupIndex:o.groupIndex};a[h]=(0,l.extend)({},o,n[r],o.type===g.GROUP_COMMAND_COLUMN_NAME&&f)}return t.length&&i&&d.length&&(a=a.concat(d)),a};t.isColumnFixed=function(e,t){return(0,c.isDefined)(t.fixed)||!t.type?t.fixed:e._isColumnFixing()};t.convertOwnerBandToColumnReference=function(e){e.forEach((function(t){(0,c.isDefined)(t.ownerBand)&&(t.ownerBand=e[t.ownerBand])}))};var L=function(e){e._bandColumnsCache=void 0};t.resetBandColumnsCache=L;t.findColumn=function(e,t){var n,i=(0,c.isString)(t)&&t.substr(0,t.indexOf(":"));if(void 0!==t)return i&&(t=t.substr(i.length+1)),i?n=e.filter((function(e){return"".concat(e[i])===t}))[0]:["index","name","dataField","caption"].some((function(i){return!!(n=e.filter((function(e){return e[i]===t}))[0])})),n};t.sortColumns=function(e,t){if("asc"!==t&&"desc"!==t)return e;var n="asc"===t?1:-1;return e.sort((function(e,t){var i=e.caption||"",o=t.caption||"";return n*i.localeCompare(o)})),e};t.strictParseNumber=function(e,t){var n=f.default.parse(e);if((0,c.isNumeric)(n)){var i=f.default.format(n,t),o=f.default.format(n,"decimal");if(i===e||o===e)return n}}},97285:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.columnsResizingReorderingModule=void 0;var i=C(n(18053)),o=C(n(70175)),r=C(n(94965)),a=C(n(72363)),l=n(65102),s=n(96993),d=n(37954),u=n(21620),c=n(49859),h=C(n(38608)),f=n(96743),p=C(n(54960)),g=n(6473),m=C(n(9580)),_=C(n(97478)),v=C(n(37028));function C(e){return e&&e.__esModule?e:{default:e}}function w(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,y(e,t)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}var x="columns-separator-transparent",I="drag-header",b="drag-action",E="tracker",S="drop-highlight",O="dx-block-separator",T="dx-header-row",D="dxDataGridResizingReordering",R=function(e){return e.option("allowColumnResizing")||e.getController("columns").isColumnOptionUsed("allowResizing")},F=function(e){return e.option("allowColumnReordering")||e.getController("columns").isColumnOptionUsed("allowReordering")},A=function(e){function t(){return e.apply(this,arguments)||this}w(t,e);var n=t.prototype;return n._renderCore=function(){var t=e.prototype._renderCore.call(this);return this.element().addClass(this.addWidgetPrefix(E)),this.hide(),t},n._unsubscribeFromCallback=function(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)},n._subscribeToCallback=function(){var e=this;e._positionChanged=function(t){var n=e.element();n&&n.hasClass(e.addWidgetPrefix(E))&&(n.css({top:t.top}),(0,u.setHeight)(n,t.height))},this._tablePositionController.positionChanged.add(e._positionChanged)},n.optionChanged=function(t){"allowColumnResizing"===t.name&&(this._unsubscribeFromCallback(),t.value&&(this._subscribeToCallback(),this._invalidate())),e.prototype.optionChanged.call(this,t)},n.init=function(){e.prototype.init.call(this),this._tablePositionController=this.getController("tablePosition"),this._subscribeToCallback()},n.isVisible=function(){return R(this)},n.show=function(){this.element().show()},n.hide=function(){this.element()&&this.element().hide()},n.setHeight=function(e){(0,u.setHeight)(this.element(),e)},n.dispose=function(){this._unsubscribeFromCallback(),e.prototype.dispose.call(this)},t}(_.default.View),P=function(e){function t(){return e.apply(this,arguments)||this}w(t,e);var n=t.prototype;return n._renderSeparator=function(){},n._renderCore=function(t){var n=e.prototype._renderCore.call(this,t);return this._isShown=!0,this._renderSeparator(),this.hide(),n},n.show=function(){this._isShown=!0},n.hide=function(){this._isShown=!1},n.height=function(e){var t=this.element();if(t){if(!(0,c.isDefined)(e))return(0,u.getHeight)(t);(0,u.setHeight)(t,e)}},n.width=function(e){var t=this.element();if(t){if(!(0,c.isDefined)(e))return(0,u.getWidth)(t);(0,u.setWidth)(t,e)}},t}(_.default.View),V=function(e){function t(){return e.apply(this,arguments)||this}w(t,e);var n=t.prototype;return n._renderSeparator=function(){e.prototype._renderSeparator.call(this),this.element().addClass(this.addWidgetPrefix("columns-separator"))},n._subscribeToCallback=function(){var e,t=this;t._positionChanged=function(n){(e=t.element())&&(e.css({top:n.top}),(0,u.setHeight)(e,n.height))},t._tablePositionController.positionChanged.add(t._positionChanged)},n._unsubscribeFromCallback=function(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)},n._init=function(){this._isTransparent=R(this),this.isVisible()&&this._subscribeToCallback()},n.isVisible=function(){return this.option("showColumnHeaders")&&(F(this)||R(this))},n.optionChanged=function(t){"allowColumnResizing"===t.name&&(t.value?(this._init(),this._invalidate(),this.hide(!0)):(this._unsubscribeFromCallback(),this._isTransparent=R(this),this.hide(!0))),e.prototype.optionChanged.call(this,t)},n.init=function(){e.prototype.init.call(this),this._tablePositionController=this.getController("tablePosition"),this._init()},n.show=function(){var t=this.element();t&&!this._isShown&&(this._isTransparent?t.removeClass(this.addWidgetPrefix(x)):t.show()),e.prototype.show.call(this)},n.hide=function(t){var n=this.element(),i=this.addWidgetPrefix(x);n&&(this._isShown||t)&&(this._isTransparent?(n.addClass(i),n.css("left",""),n.show()):(n.hasClass(i)&&n.removeClass(i),n.hide())),e.prototype.hide.call(this)},n.moveByX=function(e){var t=this.element();t&&t.css("left",null===e?0:e-this._parentElement().offset().left)},n.changeCursor=function(e){e=(0,c.isDefined)(e)?e:"";var t=this.element();t&&t.css("cursor",e)},n.dispose=function(){this._unsubscribeFromCallback(),e.prototype.dispose.call(this)},t}(P),B=function(e){function t(){return e.apply(this,arguments)||this}w(t,e);var n=t.prototype;return n.init=function(){var t=this;e.prototype.init.call(this),this.getController("data").loadingChanged.add((function(e){e||t.hide()}))},n._renderSeparator=function(){e.prototype._renderSeparator.call(this),this.element().addClass(O).html("&nbsp;")},n.hide=function(){var t=this._parentElement(),n=this.element();n&&this._isShown&&n.css("display","none"),t&&!t.children(".".concat(O)).length&&t.prepend(this.element()),e.prototype.hide.call(this)},n.isVisible=function(){var e=this.option("groupPanel"),t=this.option("columnChooser");return e&&e.visible||t&&t.enabled},n.show=function(t){var n=this.element(),o=function(e){i.default.stop(n,!0),i.default.animate(n,{type:"slide",from:{width:0,display:e.display},to:e,duration:300,easing:"swing"})};if(n&&!this._isShown)switch(t){case"group":o({width:"50px",display:"inline-block"});break;case"columnChooser":o({width:"100%",display:"block"});break;default:n.css("display","")}e.prototype.show.call(this)},t}(P),M=function(e){function t(){return e.apply(this,arguments)||this}w(t,e);var n=t.prototype;return n.isDragging=function(){return this._isDragging},n._getDraggingPanelByPos=function(e){var t;return(0,s.each)(this._dragOptions.draggingPanels,(function(n,i){if(i){var o=i.getBoundingRect();if(o&&(void 0===o.bottom||e.y<o.bottom)&&(void 0===o.top||e.y>o.top)&&(void 0===o.left||e.x>o.left)&&(void 0===o.right||e.x<o.right))return t=i,!1}})),t},n._renderCore=function(){this.element().addClass("".concat(this.addWidgetPrefix(I)," ").concat(this.addWidgetPrefix("text-content")," ").concat("dx-widget")).hide()},n._resetTargetColumnOptions=function(){var e=this._dropOptions;e.targetColumnIndex=-1,delete e.targetColumnElement,delete e.isLast,delete e.posX,delete e.posY},n._getVisibleIndexObject=function(e,t){return(0,c.isDefined)(e)?{columnIndex:t,rowIndex:e}:t},n.dispose=function(){var e=this.element();this._dragOptions=null,e&&e.parent().find(".".concat(this.addWidgetPrefix(I))).remove()},n.isVisible=function(){var e=this.getController("columns").getCommonSettings();return this.option("showColumnHeaders")&&(F(this)||e.allowGrouping||e.allowHiding)},n.init=function(){var t=this;e.prototype.init.call(this),this._controller=this.getController("draggingHeader"),this._columnsResizerViewController=this.getController("columnsResizer"),this._isDragging=!1,this.getController("data").loadingChanged.add((function(e){var n=t.element();!e&&n&&n.hide()}))},n.dragHeader=function(e){var t=e.columnElement,n=!!e.sourceColumn.type;this._isDragging=!0,this._dragOptions=e,this._dropOptions={sourceIndex:e.index,sourceColumnIndex:this._getVisibleIndexObject(e.rowIndex,e.columnIndex),sourceColumnElement:e.columnElement,sourceLocation:e.sourceLocation};var i=o.default.getDocument();this._onSelectStart=i.onselectstart,i.onselectstart=function(){return!1},this._controller.drag(this._dropOptions),this.element().css({textAlign:t&&t.css("textAlign"),height:t&&(n&&t.get(0).clientHeight||(0,u.getHeight)(t)),width:t&&(n&&t.get(0).clientWidth||(0,u.getWidth)(t)),whiteSpace:t&&t.css("whiteSpace")}).addClass(this.addWidgetPrefix(b)).toggleClass("dx-drag-command-cell",n).text(n?"":e.sourceColumn.caption),this.element().appendTo(m.default.getSwatchContainer(t))},n.moveHeader=function(e){var t=e.event,n=t.data.that,i=(0,g.eventData)(t),o=!!n._columnsResizerViewController&&n._columnsResizerViewController.isResizing(),r=n._dragOptions;if(n._isDragging&&!o){var a=n.element(),l=Math.abs(i.x-r.columnElement.offset().left-r.deltaX),s=Math.abs(i.y-r.columnElement.offset().top-r.deltaY);if(a.is(":visible")||l>5||s>5){a.show();var d=i.x-r.deltaX,u=i.y-r.deltaY;a.css({left:d,top:u}),n.dockHeader(i)}t.preventDefault()}},n.dockHeader=function(e){var t=this._getDraggingPanelByPos(e),n=this._controller,i=this._dropOptions,o=this._dragOptions;if(t){var a=this.option("rtlEnabled"),s="columnChooser"===t.getName(),d=s?"y":"x",u=t.getName(),c="headers"===u?o.rowIndex:void 0,h=o.sourceColumn,f=t.getColumnElements(c,null==h?void 0:h.ownerBand)||[],p=o.pointsByTarget=o.pointsByTarget||{},g="columnChooser"===u?[]:p[u]||n._generatePointsByColumns((0,l.extend)({},o,{targetDraggingPanel:t,columns:t.getColumns(c),columnElements:f,isVerticalOrientation:s,startColumnIndex:"headers"===u&&(0,r.default)(f[0]).index()}));if(p[u]=g,i.targetLocation=u,g.length>0)for(var m=0;m<g.length;m++){var _=g[m+1]&&(g[m][d]+g[m+1][d])/2;if(void 0===_||(a&&"x"===d?e[d]>_:e[d]<_)){i.targetColumnIndex=this._getVisibleIndexObject(c,g[m].columnIndex),f[m]?(i.targetColumnElement=f.eq(m),i.isLast=!1):(i.targetColumnElement=f.last(),i.isLast=!0),i.posX=g[m].x,i.posY=g[m].y,n.dock(i);break}}else this._resetTargetColumnOptions(),n.dock(i)}},n.dropHeader=function(e){var t=e.event.data.that,n=t._controller;t.element().hide(),n&&t._isDragging&&n.drop(t._dropOptions),t.element().appendTo(t._parentElement()),t._dragOptions=null,t._dropOptions=null,t._isDragging=!1,o.default.getDocument().onselectstart=t._onSelectStart||null},t}(_.default.View),k=function(e){return"widget"!==e.option("columnResizingMode")},L=function(e){function t(){return e.apply(this,arguments)||this}w(t,e);var n=t.prototype;return n._isHeadersRowArea=function(e){if(this._columnHeadersView){var t=this._columnHeadersView.element();if(t){var n=t.offset().top,i=this._columnHeadersView.getHeadersRowHeight();return e>=n&&e<=n+i}}return!1},n._isRtlParentStyle=function(){var e;return this.option("rtlEnabled")&&"rtl"===(null===(e=this._$parentContainer)||void 0===e?void 0:e.parent().css("direction"))},n._pointCreated=function(e,t,n){var i=k(this),o=this.option("rtlEnabled"),r=this._isRtlParentStyle(),a=i||!o||r?1:0;if(e.index>=a&&e.index<t+(i||o&&!r?0:1)){e.columnIndex-=a;var l=n[e.columnIndex]||{},s=n[e.columnIndex+1]||{};return!(i?l.allowResizing&&s.allowResizing:l.allowResizing)}return!0},n._getTargetPoint=function(e,t,n){if(e)for(var i=0;i<e.length;i++)if((e[i].x!==e[0].x||!e[i+1]||e[i].x!==e[i+1].x)&&e[i].x-n<=t&&t<=e[i].x+n)return e[i];return null},n._moveSeparator=function(e){var t,n=e.event,i=n.data,o=i._columnsSeparatorView.width(),r=k(i),a=o/2,l=i._$parentContainer.offset(),s=l.left,d=(0,g.eventData)(n),c=i.option("rtlEnabled"),h=this._isRtlParentStyle(),f=null===(t=i._draggingHeaderView)||void 0===t?void 0:t.isDragging();if(i._isResizing&&i._resizingInfo){if((s<=d.x||!r&&h)&&(!r||d.x<=s+(0,u.getWidth)(i._$parentContainer))&&i._updateColumnsWidthIfNeeded(d.x)){var p=i._columnHeadersView.getColumnElements().eq(i._resizingInfo.currentColumnIndex),m=p[0];if(m){var _=m.getBoundingClientRect().width;i._columnsSeparatorView.moveByX(p.offset().left+((r||h)&&c?0:_)),i._tablePositionController.update(i._targetPoint.y),n.preventDefault()}}}else f||(i._isHeadersRowArea(d.y)?(i._previousParentOffset&&(i._previousParentOffset.left===l.left&&i._previousParentOffset.top===l.top||i.pointsByColumns(null)),i._targetPoint=i._getTargetPoint(i.pointsByColumns(),d.x,o),i._previousParentOffset=l,i._isReadyResizing=!1,i._targetPoint?(i._columnsSeparatorView.changeCursor("col-resize"),i._columnsSeparatorView.moveByX(i._targetPoint.x-a),i._tablePositionController.update(i._targetPoint.y),i._isReadyResizing=!0,n.preventDefault()):(i._columnsSeparatorView.changeCursor(),i._columnsSeparatorView.moveByX(null))):(i.pointsByColumns(null),i._isReadyResizing=!1,i._columnsSeparatorView.changeCursor(),i._columnsSeparatorView.moveByX(null)))},n._endResizing=function(e){var t=e.event.data;t._isResizing&&(t.pointsByColumns(null),t._resizingInfo=null,t._columnsSeparatorView.hide(),t._columnsSeparatorView.changeCursor(),t._trackerView.hide(),t._isReadyResizing=!1,t._isResizing=!1)},n._getNextColumnIndex=function(e){return e+1},n._setupResizingInfo=function(e){var t=this._targetPoint.columnIndex,n=this._getNextColumnIndex(t),i=this._columnHeadersView.getHeaderElement(t),o=this._columnHeadersView.getHeaderElement(n);this._resizingInfo={startPosX:e,currentColumnIndex:t,currentColumnWidth:i&&i.length>0?(0,d.getBoundingRect)(i[0]).width:0,nextColumnIndex:n,nextColumnWidth:o&&o.length>0?(0,d.getBoundingRect)(o[0]).width:0}},n._startResizing=function(e){var t=e.event,n=t.data,i=(0,g.eventData)(t);if((0,g.isTouchEvent)(t)&&(n._isHeadersRowArea(i.y)?(n._targetPoint=n._getTargetPoint(n.pointsByColumns(),i.x,10),n._targetPoint&&(n._columnsSeparatorView.moveByX(n._targetPoint.x-n._columnsSeparatorView.width()/2),n._isReadyResizing=!0)):n._isReadyResizing=!1),n._isReadyResizing){n._setupResizingInfo(i.x),n._isResizing=!0,n._tablePositionController.update(n._targetPoint.y),n._columnsSeparatorView.show(),n._trackerView.show();var o=n.component.getScrollable();o&&n._isRtlParentStyle()&&(n._scrollRight=(0,u.getWidth)(o.$content())-(0,u.getWidth)(o.container())-o.scrollLeft()),t.preventDefault(),t.stopPropagation()}this.isResizing()&&this.getController("editorFactory").loseFocus()},n._generatePointsByColumns=function(){var e=this,t=e._columnsController?e._columnsController.getVisibleColumns():[],n=e._columnHeadersView.getColumnElements(),i=[];n&&n.length>0&&(i=v.default.getPointsByColumns(n,(function(i){return e._pointCreated(i,n.length,t)}))),e._pointsByColumns=i},n._unsubscribeFromEvents=function(){this._moveSeparatorHandler&&h.default.off(o.default.getDocument(),(0,g.addNamespace)(p.default.move,D),this._moveSeparatorHandler),this._startResizingHandler&&h.default.off(this._$parentContainer,(0,g.addNamespace)(p.default.down,D),this._startResizingHandler),this._endResizingHandler&&(h.default.off(this._columnsSeparatorView.element(),(0,g.addNamespace)(p.default.up,D),this._endResizingHandler),h.default.off(o.default.getDocument(),(0,g.addNamespace)(p.default.up,D),this._endResizingHandler))},n._subscribeToEvents=function(){this._moveSeparatorHandler=this.createAction(this._moveSeparator),this._startResizingHandler=this.createAction(this._startResizing),this._endResizingHandler=this.createAction(this._endResizing),h.default.on(o.default.getDocument(),(0,g.addNamespace)(p.default.move,D),this,this._moveSeparatorHandler),h.default.on(this._$parentContainer,(0,g.addNamespace)(p.default.down,D),this,this._startResizingHandler),h.default.on(this._columnsSeparatorView.element(),(0,g.addNamespace)(p.default.up,D),this,this._endResizingHandler),h.default.on(o.default.getDocument(),(0,g.addNamespace)(p.default.up,D),this,this._endResizingHandler)},n._updateColumnsWidthIfNeeded=function(e){var t,n,i=this._rowsView.contentWidth(),o=this._resizingInfo,r=this._columnsController,a=r.getVisibleColumns(),l=this._columnsSeparatorView.width(),s=k(this),d=s&&this.option("adaptColumnWidthByRatio")&&!this.option("columnAutoWidth"),h=this.option("rtlEnabled"),f=this._isRtlParentStyle(),p=a[o.currentColumnIndex],g=a[o.nextColumnIndex];function m(e){return(0,c.isString)(e)&&e.endsWith("%")}function _(e,t,n,i){if(e){var o=e.width;o&&(i=m(o)),i?(r.columnOption(e.index,"visibleWidth",t),r.columnOption(e.index,"width","".concat((t/n*100).toFixed(3),"%"))):(r.columnOption(e.index,"visibleWidth",null),r.columnOption(e.index,"width",t))}}t=e-o.startPosX,(s||f)&&h&&(t=-t);var C=function(e){var t,n,i,r=o.currentColumnWidth+e,a=p&&p.minWidth||l,d={};return r>=a?d.cellWidth=r:(d.cellWidth=a,i=!0),s&&((n=o.nextColumnWidth-e)>=(t=g&&g.minWidth||l)?d.nextCellWidth=i?o.nextColumnWidth-(e+a-r):n:(d.nextCellWidth=t,d.cellWidth=o.currentColumnWidth+(e-t+n))),d}(t),w=C.cellWidth,y=C.nextCellWidth;if(n=p.width!==w){if(r.beginUpdate(),w=Math.floor(w),i=function(e,t){var n=t.every((function(e){return e.width}));if(n){var i=t.reduce((function(e,t){return m(t.width)&&(e+=parseFloat(t.width)),e}),0);i>100&&(e=e/i*100)}return e}(i,a),_(p,w,i,d),s)y=Math.floor(y),_(g,y,i,d);else{var x=this._columnHeadersView.getColumnWidths();if(x[o.currentColumnIndex]=w,!(x.reduce((function(e,t){return e+t}),0)>this._rowsView.contentWidth())){var I=v.default.getLastResizableColumnIndex(a);I>=0&&r.columnOption(a[I].index,"visibleWidth","auto")}for(var b=0;b<x.length;b++)a[b]&&a[b]!==p&&void 0===a[b].width&&r.columnOption(a[b].index,"width",x[b])}if(r.endUpdate(),!s){this.component.updateDimensions();var E=this.component.getScrollable();if(E&&f){var S=(0,u.getWidth)(E.$content())-(0,u.getWidth)(E.container())-this._scrollRight;E.scrollTo({left:S})}}}return n},n._subscribeToCallback=function(e,t){e.add(t),this._subscribesToCallbacks.push({callback:e,handler:t})},n._unsubscribeFromCallbacks=function(){for(var e=0;e<this._subscribesToCallbacks.length;e++){var t=this._subscribesToCallbacks[e];t.callback.remove(t.handler)}this._subscribesToCallbacks=[]},n._unsubscribes=function(){this._unsubscribeFromEvents(),this._unsubscribeFromCallbacks()},n._init=function(){var e=this,t=function(){e._isResizing||e.pointsByColumns(null)},n=function(t){e._scrollLeft!==t.left&&(e._scrollLeft=t.left,e.pointsByColumns(null))};e._columnsSeparatorView=e.getView("columnsSeparatorView"),e._columnHeadersView=e.getView("columnHeadersView"),e._trackerView=e.getView("trackerView"),e._rowsView=e.getView("rowsView"),e._columnsController=e.getController("columns"),e._tablePositionController=e.getController("tablePosition"),e._$parentContainer=e.component.$element(),e._draggingHeaderView=e.component.getView("draggingHeaderView"),e._subscribeToCallback(e._columnHeadersView.renderCompleted,t),e._subscribeToCallback(e._columnHeadersView.resizeCompleted,t),e._subscribeToCallback(e._columnsSeparatorView.renderCompleted,(function(){e._unsubscribeFromEvents(),e._subscribeToEvents()})),e._subscribeToCallback(e._rowsView.renderCompleted,(function(){e._rowsView.scrollChanged.remove(n),e._rowsView.scrollChanged.add(n)}));var i=0!==e._rowsView.getScrollbarWidth(),o=0;e._subscribeToCallback(e.getController("tablePosition").positionChanged,(function(t){if(e._isResizing&&!e._rowsView.isResizing){var n=0!==e._rowsView.getScrollbarWidth();i!==n||o&&o!==t.height?(i=n,o=t.height,e.component.updateDimensions()):e._rowsView.updateFreeSpaceRowHeight()}o=t.height}))},n.optionChanged=function(t){e.prototype.optionChanged.call(this,t),"allowColumnResizing"===t.name&&(t.value?(this._init(),this._subscribeToEvents()):this._unsubscribes())},n.isResizing=function(){return this._isResizing},n.init=function(){this._subscribesToCallbacks=[],R(this)&&this._init()},n.pointsByColumns=function(e){if(void 0===e)return this._pointsByColumns||this._generatePointsByColumns(),this._pointsByColumns;this._pointsByColumns=e},n.dispose=function(){this._unsubscribes(),e.prototype.dispose.call(this)},t}(_.default.ViewController),N=function(e){function t(t){var n;return(n=e.call(this,t)||this).positionChanged=(0,a.default)(),n}w(t,e);var n=t.prototype;return n.update=function(e){var t={},n=this._columnHeadersView.element(),i=n&&n.offset(),o=i&&i.top||0,r=(0,c.isDefined)(e)?Math.abs(e-o):0,a=this._columnHeadersView?this._columnHeadersView.getHeight():0,l=this._rowsView.getScrollbarWidth(!0),s=this._rowsView?this._rowsView.height()-l:0,d=this.component.getController("columnsResizer"),u=this.component.getView("draggingHeaderView");t.height=a,(d.isResizing()||u.isDragging())&&(t.height+=s-r),null!==e&&n&&n.length&&(t.top=n[0].offsetTop+r),this.positionChanged.fire(t)},n.init=function(){var t=this;e.prototype.init.call(this),t._columnHeadersView=this.getView("columnHeadersView"),t._rowsView=this.getView("rowsView"),t._pagerView=this.getView("pagerView"),t._rowsView.resizeCompleted.add((function(){if(t.option("allowColumnResizing")){var e=t.getController("columnsResizer")._targetPoint;t.update(e?e.y:null)}}))},t}(_.default.ViewController),H={views:{columnsSeparatorView:V,blockSeparatorView:B,draggingHeaderView:M,trackerView:A},controllers:{draggingHeader:function(e){function t(){return e.apply(this,arguments)||this}w(t,e);var n=t.prototype;return n._generatePointsByColumns=function(e){var t=this;return this.isCustomGroupColumnPosition=this.checkIsCustomGroupColumnPosition(e),v.default.getPointsByColumns(e.columnElements,(function(n){return t._pointCreated(n,e.columns,e.targetDraggingPanel.getName(),e.sourceColumn)}),e.isVerticalOrientation,e.startColumnIndex)},n.checkIsCustomGroupColumnPosition=function(e){for(var t=!0,n=0;n<e.columns.length;n+=1){var i=e.columns[n];if("expand"===i.command&&!t)return!0;i.command||(t=!1)}return!1},n._pointCreated=function(e,t,n,i){var o,r=t[e.columnIndex],a=t[e.columnIndex-1],l="expand"===(null==a?void 0:a.command),s="expand"===(null==r?void 0:r.command)&&"expand"!==(null==a?void 0:a.command),d=i&&!i.allowReordering,u=!(null==r?void 0:r.allowReordering)&&!(null==a?void 0:a.allowReordering);switch(n){case"columnChooser":return!0;case"headers":if(!s)return l||d||u;if(this.isCustomGroupColumnPosition)return!1;for(;"expand"===(null===(o=t[e.columnIndex])||void 0===o?void 0:o.command);)e.columnIndex+=1;return!1;default:return 0===t.length}},n._subscribeToEvents=function(e,t){var n=this;(0,s.each)(t,(function(i,o){if(o)for(var a,l=o.getRowCount?o.getRowCount():1,d=o.getName(),u=function(i,l){if(l){var s=(0,r.default)(l),u=a[i];u&&o.allowDragging(u)&&(s.addClass(n.addWidgetPrefix(b)),h.default.on(s,(0,g.addNamespace)(f.start,D),n.createAction((function(o){var a=o.event,l=(0,g.eventData)(a);e.dragHeader({deltaX:l.x-(0,r.default)(a.currentTarget).offset().left,deltaY:l.y-(0,r.default)(a.currentTarget).offset().top,sourceColumn:u,index:u.index,columnIndex:i,columnElement:s,sourceLocation:d,draggingPanels:t,rowIndex:n._columnsController.getRowIndex(u.index,!0)})}))),h.default.on(s,(0,g.addNamespace)(f.move,D),{that:e},n.createAction(e.moveHeader)),h.default.on(s,(0,g.addNamespace)(f.end,D),{that:e},n.createAction(e.dropHeader)))}},c=0;c<l;c++){var p=o.getColumnElements(c)||[];p.length&&(a=o.getColumns(c)||[],(0,s.each)(p,u))}}))},n._unsubscribeFromEvents=function(e,t){var n=this;(0,s.each)(t,(function(e,t){if(t){var i=t.getColumnElements()||[];(0,s.each)(i,(function(e,t){var i=(0,r.default)(t);h.default.off(i,(0,g.addNamespace)(f.start,D)),h.default.off(i,(0,g.addNamespace)(f.move,D)),h.default.off(i,(0,g.addNamespace)(f.end,D)),i.removeClass(n.addWidgetPrefix(b))}))}}))},n._getSeparator=function(e){return"headers"===e?this._columnsSeparatorView:this._blockSeparatorView},n.hideSeparators=function(e){var t=this._blockSeparatorView,n=this._columnsSeparatorView;this._animationColumnIndex=void 0,t&&t.hide(),"block"!==e&&n&&n.hide()},n.init=function(){var t=this;e.prototype.init.call(this),t._columnsController=t.getController("columns"),t._columnHeadersView=t.getView("columnHeadersView"),t._columnsSeparatorView=t.getView("columnsSeparatorView"),t._draggingHeaderView=t.getView("draggingHeaderView"),t._rowsView=t.getView("rowsView"),t._blockSeparatorView=t.getView("blockSeparatorView"),t._headerPanelView=t.getView("headerPanel"),t._columnChooserView=t.getView("columnChooserView");var n=function(){if(t._draggingHeaderView){var e=[t._columnChooserView,t._columnHeadersView,t._headerPanelView];t._unsubscribeFromEvents(t._draggingHeaderView,e),t._subscribeToEvents(t._draggingHeaderView,e)}};t._columnHeadersView.renderCompleted.add(n),t._headerPanelView&&t._headerPanelView.renderCompleted.add(n),t._columnChooserView&&t._columnChooserView.renderCompleted.add(n)},n.allowDrop=function(e){return this._columnsController.allowMoveColumn(e.sourceColumnIndex,e.targetColumnIndex,e.sourceLocation,e.targetLocation)},n.drag=function(e){var t=e.sourceIndex,n=e.sourceLocation,i=e.sourceColumnElement,o=this._columnHeadersView,r=this._rowsView;i&&(i.css({opacity:.5}),"headers"===n&&(o&&o.setRowsOpacity(t,.5),r&&r.setRowsOpacity(t,.5)))},n.dock=function(e){var t=this,n=(0,c.isObject)(e.targetColumnIndex)?e.targetColumnIndex.columnIndex:e.targetColumnIndex,i=e.sourceLocation,o=e.targetLocation,r=t._getSeparator(o),a=n>=0;t._columnHeadersView.element().find(".".concat(T)).toggleClass(t.addWidgetPrefix(S),"headers"!==i&&"headers"===o&&!a),r&&(t.allowDrop(e)&&a?"group"===o||"columnChooser"===o?t._animationColumnIndex!==n&&(t.hideSeparators(),r.element()[e.isLast?"insertAfter":"insertBefore"](e.targetColumnElement),t._animationColumnIndex=n,r.show(o)):(t.hideSeparators("block"),t.getController("tablePosition").update(e.posY),r.moveByX(e.posX-r.width()),r.show()):t.hideSeparators())},n.drop=function(e){var t=e.sourceColumnElement;if(t&&(t.css({opacity:""}),this._columnHeadersView.setRowsOpacity(e.sourceIndex,""),this._rowsView.setRowsOpacity(e.sourceIndex,""),this._columnHeadersView.element().find(".".concat(T)).removeClass(this.addWidgetPrefix(S))),this.allowDrop(e)){var n=this._getSeparator(e.targetLocation);n&&n.hide(),this._columnsController.moveColumn(e.sourceColumnIndex,e.targetColumnIndex,e.sourceLocation,e.targetLocation)}},n.dispose=function(){this._draggingHeaderView&&this._unsubscribeFromEvents(this._draggingHeaderView,[this._columnChooserView,this._columnHeadersView,this._headerPanelView])},t}(_.default.ViewController),tablePosition:N,columnsResizer:L},extenders:{views:{rowsView:{_needUpdateRowHeight:function(e){var t=this.option("wordWrapEnabled"),n=this.getController("columnsResizer").isResizing();return this.callBase.apply(this,arguments)||e>0&&t&&n}}},controllers:{editorFactory:{renderFocusOverlay:function(){if(!this.getController("columnsResizer").isResizing())return this.callBase.apply(this,arguments)}}}}};t.columnsResizingReorderingModule=H},81894:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.contextMenuModule=void 0;var i=n(26391),o=d(n(94965)),r=n(48152),a=n(96993),l=d(n(48432)),s=d(n(97478));function d(e){return e&&e.__esModule?e:{default:e}}var u={columnHeadersView:"header",rowsView:"content",footerView:"footer",headerPanel:"headerPanel"},c=["columnHeadersView","rowsView","footerView","headerPanel"],h={defaultOptions:function(){return{onContextMenuPreparing:null}},controllers:{contextMenu:s.default.ViewController.inherit({init:function(){this.createAction("onContextMenuPreparing")},getContextMenuItems:function(e){if(!e)return!1;var t,n,r,l,s=this,d=(0,o.default)(e.target);return(0,a.each)(c,(function(){var o,a,c=s.getView(this);if((t=c&&c.element())&&(t.is(d)||t.find(d).length)){r=d.closest(".dx-row > td, .dx-row > tr"),n=r.parent();var h=c.getRowIndex(n),f=r[0]&&r[0].cellIndex,p=n.data("options"),g={event:e,targetElement:(0,i.getPublicElement)(d),target:u[this],rowIndex:h,row:c._getRows()[h],columnIndex:f,column:null===(a=null===(o=null==p?void 0:p.cells)||void 0===o?void 0:o[f])||void 0===a?void 0:a.column};if(g.items=c.getContextMenuItems&&c.getContextMenuItems(g),s.executeAction("onContextMenuPreparing",g),s._contextMenuPrepared(g),l=g.items)return!1}})),l},_contextMenuPrepared:r.noop})},views:{contextMenuView:s.default.View.inherit({_renderCore:function(){var e=this,t=e.element().addClass("dx-context-menu");this.setAria("role","presentation",t),this._createComponent(t,l.default,{onPositioning:function(t){var n=t.event,i=t.component,o=e.getController("contextMenu").getContextMenuItems(n);o?(i.option("items",o),n.stopPropagation()):t.cancel=!0},onItemClick:function(e){e.itemData.onItemClick&&e.itemData.onItemClick(e)},cssClass:e.getWidgetContainerClass(),target:e.component.$element()})}})}};t.contextMenuModule=h},16347:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.dataControllerModule=t.DataController=void 0;var i=m(n(94965)),o=n(28446),r=n(48152),a=n(74460),l=n(65102),s=n(96993),d=n(49859),u=m(n(46973)),c=m(n(25326)),h=m(n(49278)),f=m(n(47625)),p=m(n(97478)),g=m(n(37028));function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}var v=function(e,t,n){var i=e._dataSource;if(i){if(void 0!==n){if(e._getPagingOptionValue(t)!==n){"pageSize"===t&&i.pageIndex(0),i[t](n),e._skipProcessingPagingChange=!0,e.option("paging.".concat(t),n),e._skipProcessingPagingChange=!1;var o=i.pageIndex();return e._isPaging="pageIndex"===t,i["pageIndex"===t?"load":"reload"]().done((function(){e._isPaging=!1,e.pageChanged.fire(o)}))}return(0,a.Deferred)().resolve().promise()}return i[t]()}return 0},C=function(e){var t,n;function h(){return e.apply(this,arguments)||this}n=e,(t=h).prototype=Object.create(n.prototype),t.prototype.constructor=t,_(t,n);var p=h.prototype;return p.init=function(){var e=this,t=this;t._items=[],t._cachedProcessedItems=null,t._columnsController=this.getController("columns"),t._isPaging=!1,t._currentOperationTypes=null,t._dataChangedHandler=function(n){t._currentOperationTypes=e._dataSource.operationTypes(),t._handleDataChanged(n),t._currentOperationTypes=null},t._columnsChangedHandler=t._handleColumnsChanged.bind(t),t._loadingChangedHandler=t._handleLoadingChanged.bind(t),t._loadErrorHandler=t._handleLoadError.bind(t),t._customizeStoreLoadOptionsHandler=t._handleCustomizeStoreLoadOptions.bind(t),t._changingHandler=t._handleChanging.bind(t),t._dataPushedHandler=t._handleDataPushed.bind(t),t._columnsController.columnsChanged.add(t._columnsChangedHandler),t._isLoading=!1,t._isCustomLoading=!1,t._repaintChangesOnly=void 0,t._changes=[],t.createAction("onDataErrorOccurred"),t.dataErrorOccurred.add((function(e){return t.executeAction("onDataErrorOccurred",{error:e})})),t._refreshDataSource()},p._getPagingOptionValue=function(e){return this._dataSource[e]()},p.callbackNames=function(){return["changed","loadingChanged","dataErrorOccurred","pageChanged","dataSourceChanged","pushed"]},p.callbackFlags=function(e){if("dataErrorOccurred"===e)return{stopOnFalse:!0}},p.publicMethods=function(){return["beginCustomLoading","endCustomLoading","refresh","filter","clearFilter","getCombinedFilter","keyOf","byKey","getDataByKeys","pageIndex","pageSize","pageCount","totalCount","_disposeDataSource","getKeyByRowIndex","getRowIndexByKey","getDataSource","getVisibleRows","repaintRows"]},p.reset=function(){this._columnsController.reset(),this._items=[],this._refreshDataSource()},p._handleDataSourceChange=function(e){if(e.value===e.previousValue||this.option("columns")&&Array.isArray(e.value)&&Array.isArray(e.previousValue)){if(e.value!==e.previousValue){var t=this.store();t&&(t._array=e.value)}return this.needToRefreshOnDataSourceChange(e)&&this.refresh(this.option("repaintChangesOnly")),!0}return!1},p.needToRefreshOnDataSourceChange=function(e){return!0},p.optionChanged=function(t){var n,i,o=this,r=this;function a(){t.handled=!0}if("dataSource"===t.name&&t.name===t.fullName&&this._handleDataSourceChange(t))a();else switch(t.name){case"cacheEnabled":case"repaintChangesOnly":case"highlightChanges":case"loadingTimeout":a();break;case"remoteOperations":case"keyExpr":case"dataSource":case"scrolling":a(),r.reset();break;case"paging":if((n=r.dataSource())&&(i=r._setPagingOptions(n))){var l=n.pageIndex();this._isPaging=i.isPageIndexChanged,n.load().done((function(){o._isPaging=!1,r.pageChanged.fire(l)}))}a();break;case"rtlEnabled":r.reset();break;case"columns":(n=r.dataSource())&&n.isLoading()&&t.name===t.fullName&&(this._useSortingGroupingFromColumns=!0,n.load());break;default:e.prototype.optionChanged.call(this,t)}},p.isReady=function(){return!this._isLoading},p.getDataSource=function(){return this._dataSource&&this._dataSource._dataSource},p.getCombinedFilter=function(e){return this.combinedFilter(void 0,e)},p.combinedFilter=function(e,t){if(!this._dataSource)return e;var n=null!=e?e:this._dataSource.filter();if(this._columnsController.isDataSourceApplied()||this._columnsController.isAllDataTypesDefined()){var i=this._calculateAdditionalFilter();n=i?g.default.combineFilters([i,n]):n}var o=this._dataSource.remoteOperations().filtering||t;return n=this._columnsController.updateFilter(n,o)},p.waitReady=function(){return this._updateLockCount?(this._readyDeferred=new a.Deferred,this._readyDeferred):(0,a.when)()},p._endUpdateCore=function(){var e=this._changes;if(e.length){this._changes=[];var t=e.every((function(e){return e.repaintChangesOnly}));this.updateItems(1===e.length?e[0]:{repaintChangesOnly:t})}this._readyDeferred&&(this._readyDeferred.resolve(),this._readyDeferred=null)},p._handleCustomizeStoreLoadOptions=function(e){var t,n=this._columnsController,i=this._dataSource,o=e.storeLoadOptions;e.isCustomLoading&&!o.isLoadingAll||(o.filter=this.combinedFilter(o.filter),1===(null===(t=o.filter)||void 0===t?void 0:t.length)&&"!"===o.filter[0]&&(e.data=[],e.extra=e.extra||{},e.extra.totalCount=0),n.isDataSourceApplied()||n.updateColumnDataTypes(i),this._columnsUpdating=!0,n.updateSortingGrouping(i,!this._useSortingGroupingFromColumns),this._columnsUpdating=!1,o.sort=n.getSortDataSourceParameters(),o.group=n.getGroupDataSourceParameters(),i.sort(o.sort),i.group(o.group),o.sort=n.getSortDataSourceParameters(!i.remoteOperations().sorting),e.group=n.getGroupDataSourceParameters(!i.remoteOperations().grouping))},p._handleColumnsChanged=function(e){var t,n,i,o=this,r=e.changeTypes,a=e.optionNames;if(r.sorting||r.grouping)o._dataSource&&!o._columnsUpdating&&(o._dataSource.group(o._columnsController.getGroupDataSourceParameters()),o._dataSource.sort(o._columnsController.getSortDataSourceParameters()),o.reload());else if(r.columns&&(n=o._columnsController.columnOption(e.columnIndex,"filterValues"),(a.filterValues||a.filterType&&Array.isArray(n)||a.filterValue||a.selectedFilterOperation||a.allowFiltering)&&(t=o._columnsController.columnOption(e.columnIndex,"filterValue"),(Array.isArray(n)||void 0===e.columnIndex||(0,d.isDefined)(t)||!a.selectedFilterOperation||a.filterValue)&&(o._applyFilter(),i=!0)),o._needApplyFilter||g.default.checkChanges(a,["width","visibleWidth","filterValue","bufferedFilterValue","selectedFilterOperation","filterValues","filterType"])||o._columnsController.columnsChanged.add((function e(t){var n;o._columnsController.columnsChanged.remove(e),o.updateItems({repaintChangesOnly:!1,virtualColumnsScrolling:null===(n=null==t?void 0:t.changeTypes)||void 0===n?void 0:n.virtualColumnsScrolling})})),(0,d.isDefined)(a.visible))){var l=o._columnsController.columnOption(e.columnIndex);l&&((0,d.isDefined)(l.filterValue)||(0,d.isDefined)(l.filterValues))&&(o._applyFilter(),i=!0)}!i&&r.filtering&&o.reload()},p._handleDataChanged=function(e){var t=this,n=t._dataSource,i=t._columnsController,o=!1;this._useSortingGroupingFromColumns=!1,n&&!t._isDataSourceApplying&&(t._isDataSourceApplying=!0,(0,a.when)(t._columnsController.applyDataSource(n)).done((function(){t._isLoading&&t._handleLoadingChanged(!1),o&&e&&e.isDelayed&&(e.isDelayed=!1),t._isDataSourceApplying=!1;var n,i=t._needApplyFilter;t._needApplyFilter=!1,i&&!t._isAllDataTypesDefined&&((n=t._calculateAdditionalFilter())&&n.length)?(f.default.log("W1005",t.component.NAME),t._applyFilter()):t.updateItems(e,!0)})).fail((function(){t._isDataSourceApplying=!1})),t._isDataSourceApplying&&(o=!0,t._handleLoadingChanged(!0)),t._needApplyFilter=!t._columnsController.isDataSourceApplied(),t._isAllDataTypesDefined=i.isAllDataTypesDefined())},p._handleLoadingChanged=function(e){this._isLoading=e,this._fireLoadingChanged()},p._handleLoadError=function(e){this.dataErrorOccurred.fire(e)},p._handleDataPushed=function(e){this.pushed.fire(e)},p.fireError=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.dataErrorOccurred.fire(f.default.Error.apply(f.default,t))},p._setPagingOptions=function(e){var t=this.option("paging.pageIndex"),n=this.option("paging.pageSize"),i=this.option("paging.enabled"),o=this.option("scrolling.mode"),r="infinite"===o,a=i||"virtual"===o||r,l=!1,s=!1,d=!1;return e.requireTotalCount(!r),void 0!==i&&e.paginate()!==a&&(e.paginate(a),l=!0),void 0!==n&&e.pageSize()!==n&&(e.pageSize(n),s=!0),void 0!==t&&e.pageIndex()!==t&&(e.pageIndex(t),d=!0),!!(l||s||d)&&{isPaginateChanged:l,isPageSizeChanged:s,isPageIndexChanged:d}},p._getSpecificDataSourceOption=function(){var e=this.option("dataSource");return Array.isArray(e)?{store:{type:"array",data:e,key:this.option("keyExpr")}}:e},p._initDataSource=function(){var t=this._dataSource;e.prototype._initDataSource.call(this);var n=this._dataSource;if(this._useSortingGroupingFromColumns=!0,this._cachedProcessedItems=null,n){var i=this._setPagingOptions(n);this._isPaging=null==i?void 0:i.isPageIndexChanged,this.setDataSource(n)}else t&&this.updateItems()},p._loadDataSource=function(){var e=this,t=e._dataSource,n=new a.Deferred;return(0,a.when)(this._columnsController.refresh(!0)).always((function(){t?t.load().done((function(){e._isPaging=!1,n.resolve.apply(n,arguments)})).fail(n.reject):n.resolve()})),n.promise()},p._beforeProcessItems=function(e){return e.slice(0)},p.getRowIndexDelta=function(){return 0},p.getDataIndex=function(e){var t=this._items,n="append"===e.changeType&&t.length>0?t[t.length-1]:null;return(0,d.isDefined)(null==n?void 0:n.dataIndex)?n.dataIndex+1:0},p._processItems=function(e,t){var n=this,i=n.getRowIndexDelta(),o=t.changeType,r={visibleColumns:n._columnsController.getVisibleColumns(null,"loadingAll"===o),dataIndex:this.getDataIndex(t)},a=[];return(0,s.each)(e,(function(e,t){(0,d.isDefined)(t)&&(r.rowIndex=e-i,t=n._processItem(t,r),a.push(t))})),a},p._processItem=function(e,t){return e=this._generateDataItem(e,t),(e=this._processDataItem(e,t)).dataIndex=t.dataIndex++,e},p._generateDataItem=function(e,t){return{rowType:"data",data:e,key:this.keyOf(e)}},p._processDataItem=function(e,t){return e.values=this.generateDataValues(e.data,t.visibleColumns),e},p.generateDataValues=function(e,t,n){for(var i,o=[],r=0;r<t.length;r++){var a=t[r];i=n?void 0:null,a.command||(a.calculateCellValue?i=a.calculateCellValue(e):a.dataField&&(i=e[a.dataField])),o.push(i)}return o},p._applyChange=function(e){"update"===e.changeType?this._applyChangeUpdate(e):this.items().length&&e.repaintChangesOnly&&"refresh"===e.changeType?this._applyChangesOnly(e):"refresh"===e.changeType&&this._applyChangeFull(e)},p._applyChangeFull=function(e){this._items=e.items.slice(0)},p._getRowIndices=function(e){var t=e.rowIndices.slice(0),n=this.getRowIndexDelta();t.sort((function(e,t){return e-t}));for(var i=0;i<t.length;i++){var o=t[i];e.allowInvisibleRowIndices&&(o+=n),o<0&&(t.splice(i,1),i--)}return t},p._applyChangeUpdate=function(e){var t,n=this,i=e.items,o=n._getRowIndices(e),a=n.getRowIndexDelta(),l=n.option("repaintChangesOnly"),d=-1,u=0;e.items=[],e.rowIndices=[],e.columnIndices=[],e.changeTypes=[];var c=function(e,t,n){var i=e&&t&&(0,r.equalByValue)(e.key,t.key);return i&&n&&(i=e.rowType===t.rowType&&("detail"!==t.rowType||e.isEditing===t.isEditing)),i};(0,s.each)(o,(function(o,r){var s;if(d!==(r+=u+a)){d=r;var h=n._items[r],f=n._items[r+1],p=i[r],g=i[r+1],m=c(h,f)||c(p,g);if(p&&(p.rowIndex=r,e.items.push(p)),h&&p&&c(h,p,m))t="update",n._items[r]=p,h.visible!==p.visible?e.items.splice(-1,1,{visible:p.visible}):l&&!e.isFullUpdate&&(s=n._partialUpdateRow(h,p,r-a));else if(p&&!h||g&&c(h,g,m))t="insert",n._items.splice(r,0,p),u++;else if(h&&!p||f&&c(p,f,m))t="remove",n._items.splice(r,1),u--,d=-1;else{if(!p)return;t="update",n._items[r]=p}e.rowIndices.push(r-a),e.changeTypes.push(t),e.columnIndices.push(s)}}))},p._isCellChanged=function(e,t,n,i,o){if(JSON.stringify(e.values[i])!==JSON.stringify(t.values[i]))return!0;function r(e,t){return!!e.modifiedValues&&void 0!==e.modifiedValues[t]}return r(e,i)!==r(t,i)},p._getChangedColumnIndices=function(e,t,n,i){var o;if(e.rowType===t.rowType){if("group"!==t.rowType&&"groupFooter"!==t.rowType&&(o=[],"detail"!==t.rowType))for(var r=0;r<e.values.length;r++)this._isCellChanged(e,t,n,r,i)&&o.push(r);"group"===t.rowType&&t.isExpanded===e.isExpanded&&e.cells&&(o=e.cells.map((function(e,t){var n;return"groupExpand"!==(null===(n=e.column)||void 0===n?void 0:n.type)?t:-1})).filter((function(e){return e>=0})))}return o},p._partialUpdateRow=function(e,t,n,i){var o=this._getChangedColumnIndices(e,t,n,i);return(null==o?void 0:o.length)&&this.option("dataRowTemplate")&&(o=void 0),o&&(e.cells&&e.cells.forEach((function(e,n){!(o.indexOf(n)>=0)&&e&&e.update&&e.update(t)})),t.update=e.update,t.watch=e.watch,t.cells=e.cells,i&&(t.oldValues=e.values),e.update&&e.update(t)),o},p._isItemEquals=function(e,t){var n,i,o,r;if(JSON.stringify(e.values)!==JSON.stringify(t.values))return!1;if(["modified","isNewRow","removed","isEditing"].some((function(n){return e[n]!==t[n]})))return!1;if("group"===e.rowType||"groupFooter"===e.rowType){var a=e.isExpanded===t.isExpanded,l=JSON.stringify(e.summaryCells)===JSON.stringify(t.summaryCells),s=(null===(n=e.data)||void 0===n?void 0:n.isContinuation)===(null===(i=t.data)||void 0===i?void 0:i.isContinuation)&&(null===(o=e.data)||void 0===o?void 0:o.isContinuationOnNextPage)===(null===(r=t.data)||void 0===r?void 0:r.isContinuationOnNextPage);if(!a||!l||!s)return!1}return!0},p._applyChangesOnly=function(e){var t,n=this,i=[],r=[],a=[],l=[],s={},d=null===(t=null==e?void 0:e.isLiveUpdate)||void 0===t||t;function u(e){if(e)return"".concat(e.rowType,",").concat(JSON.stringify(e.key))}var c=this._items,h=c.slice();e.items.forEach((function(e,t){var n=u(e);s[n]=t,e.rowIndex=t}));var f=(0,o.findChanges)(h,e.items,u,(function(e,t){return!!n._isItemEquals(e,t)&&(e.cells&&(e.update&&e.update(t),e.cells.forEach((function(e){e&&e.update&&e.update(t,!0)}))),!0)}));f?(f.forEach((function(e){switch(e.type){case"update":var t=e.index,o=e.data,s=e.oldItem,u=n._partialUpdateRow(s,o,t,d);i.push(t),a.push("update"),l.push(o),c[t]=o,r.push(u);break;case"insert":i.push(e.index),a.push("insert"),l.push(e.data),r.push(void 0),c.splice(e.index,0,e.data);break;case"remove":i.push(e.index),a.push("remove"),c.splice(e.index,1),l.push(e.oldItem),r.push(void 0)}})),e.repaintChangesOnly=!0,e.changeType="update",e.rowIndices=i,e.columnIndices=r,e.changeTypes=a,e.items=l,h.length&&(e.isLiveUpdate=!0),this._correctRowIndices((function(e){var t=n._rowIndexOffset||0,i=n.getRowIndexOffset(),o=u(h[e-t]),r=s[o];return r>=0?r+i-e:0}))):this._applyChangeFull(e)},p._correctRowIndices=function(e){},p._afterProcessItems=function(e,t){return e},p._updateItemsCore=function(e){var t,n=this._dataSource,i=e.changeType||"refresh";if(e.changeType=i,n){var o=this._cachedProcessedItems;e.useProcessedItemsCache&&o?t=o:(t=e.items||n.items(),t=this._beforeProcessItems(t),t=this._processItems(t,e),this._cachedProcessedItems=t),t=this._afterProcessItems(t,e),e.items=t;var r=this._items.length===t.length&&this._items;this._applyChange(e);var a=this.getRowIndexDelta();(0,s.each)(this._items,(function(e,n){var i;n.rowIndex=e-a,r&&(n.cells=null!==(i=r[e].cells)&&void 0!==i?i:[]);var o=t[e];o&&(n.loadIndex=o.loadIndex)})),this._rowIndexOffset=this.getRowIndexOffset()}else this._items=[]},p._handleChanging=function(e){var t=this.getVisibleRows();this.dataSource()&&e.changes.forEach((function(e){if("insert"===e.type&&e.index>=0){for(var n=0,i=0;i<e.index;i++){var o=t[i];!o||"data"!==o.rowType&&"group"!==o.rowType||n++}e.index=n}}))},p.updateItems=function(e,t){var n;if(e=e||{},void 0!==this._repaintChangesOnly)e.repaintChangesOnly=null!==(n=e.repaintChangesOnly)&&void 0!==n?n:this._repaintChangesOnly,e.needUpdateDimensions=e.needUpdateDimensions||this._needUpdateDimensions;else if(e.changes)e.repaintChangesOnly=this.option("repaintChangesOnly");else if(t){var i=this.dataSource().operationTypes();e.repaintChangesOnly=i&&!i.grouping&&!i.filtering&&this.option("repaintChangesOnly"),e.isDataChanged=!0,i&&(i.reload||i.paging||i.groupExpanding)&&(e.needUpdateDimensions=!0)}!this._updateLockCount||e.cancel?(this._updateItemsCore(e),e.cancel||this._fireChanged(e)):this._changes.push(e)},p.loadingOperationTypes=function(){var e=this.dataSource();return e&&e.loadingOperationTypes()||{}},p._fireChanged=function(e){var t=this;this._currentOperationTypes&&(e.operationTypes=this._currentOperationTypes,this._currentOperationTypes=null),(0,r.deferRender)((function(){t.changed.fire(e)}))},p.isLoading=function(){return this._isLoading||this._isCustomLoading},p._fireLoadingChanged=function(){this.loadingChanged.fire(this.isLoading(),this._loadingText)},p._calculateAdditionalFilter=function(){return null},p._applyFilter=function(){var e=this,t=this._dataSource;if(t)return t.pageIndex(0),this._isFilterApplying=!0,this.reload().done((function(){e._isFilterApplying&&e.pageChanged.fire()}))},p.resetFilterApplying=function(){this._isFilterApplying=!1},p.filter=function(e){var t=this._dataSource,n=t&&t.filter();if(0===arguments.length)return n;e=arguments.length>1?Array.prototype.slice.call(arguments,0):e,g.default.equalFilterParameters(n,e)||(t&&t.filter(e),this._applyFilter())},p.clearFilter=function(e){var t=this,n=t._columnsController,i=function(e){for(var t=n.columnCount(),i=0;i<t;i++)n.columnOption(i,e,void 0)};if(t.component.beginUpdate(),arguments.length>0)switch(e){case"dataSource":t.filter(null);break;case"search":t.searchByText("");break;case"header":i("filterValues");break;case"row":i("filterValue")}else t.filter(null),t.searchByText(""),i("filterValue"),i("bufferedFilterValue"),i("filterValues");t.component.endUpdate()},p._fireDataSourceChanged=function(){var e=this;e.changed.add((function t(){e.changed.remove(t),e.dataSourceChanged.fire()}))},p._getDataSourceAdapter=function(){},p._createDataSourceAdapterCore=function(e,t){var n=this._getDataSourceAdapter().create(this.component);return n.init(e,t),n},p.isLocalStore=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.store())instanceof u.default},p.isCustomStore=function(e){return(e=e||this.store())instanceof c.default},p._createDataSourceAdapter=function(e){var t=this.option("remoteOperations"),n=e.store(),i={filtering:!0,sorting:!0,paging:!0,grouping:!0,summary:!0};return(0,d.isObject)(t)&&t.groupPaging&&(t=(0,l.extend)({},i,t)),"auto"===t&&(t=this.isLocalStore(n)||this.isCustomStore(n)?{}:{filtering:!0,sorting:!0,paging:!0}),!0===t&&(t=i),this._createDataSourceAdapterCore(e,t)},p.setDataSource=function(e){var t=this._dataSource;!e&&t&&(t.cancelAll(),t.changed.remove(this._dataChangedHandler),t.loadingChanged.remove(this._loadingChangedHandler),t.loadError.remove(this._loadErrorHandler),t.customizeStoreLoadOptions.remove(this._customizeStoreLoadOptionsHandler),t.changing.remove(this._changingHandler),t.pushed.remove(this._dataPushedHandler),t.dispose(this._isSharedDataSource)),e&&(e=this._createDataSourceAdapter(e)),this._dataSource=e,e&&(this._fireDataSourceChanged(),this._isLoading=!e.isLoaded(),this._needApplyFilter=!0,this._isAllDataTypesDefined=this._columnsController.isAllDataTypesDefined(),e.changed.add(this._dataChangedHandler),e.loadingChanged.add(this._loadingChangedHandler),e.loadError.add(this._loadErrorHandler),e.customizeStoreLoadOptions.add(this._customizeStoreLoadOptionsHandler),e.changing.add(this._changingHandler),e.pushed.add(this._dataPushedHandler))},p.items=function(e){return this._items},p.isEmpty=function(){return!this.items().length},p.pageCount=function(){return this._dataSource?this._dataSource.pageCount():1},p.dataSource=function(){return this._dataSource},p.store=function(){var e=this._dataSource;return e&&e.store()},p.loadAll=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,i=new a.Deferred,o=n._dataSource;if(o)if(e){var r={data:e,isCustomLoading:!0,storeLoadOptions:{isLoadingAll:!0},loadOptions:{filter:t?null:n.getCombinedFilter(),group:o.group(),sort:o.sort()}};o._handleDataLoaded(r),(0,a.when)(r.data).done((function(e){var t;e=n._beforeProcessItems(e),i.resolve(n._processItems(e,{changeType:"loadingAll"}),null===(t=r.extra)||void 0===t?void 0:t.summary)})).fail(i.reject)}else if(o.isLoading())i.reject();else{var s=(0,l.extend)({},o.loadOptions(),{isLoadingAll:!0,requireTotalCount:!1});o.load(s).done((function(e,t){e=n._beforeProcessItems(e),e=n._processItems(e,{changeType:"loadingAll"}),i.resolve(e,t&&t.summary)})).fail(i.reject)}else i.resolve([]);return i},p.getKeyByRowIndex=function(e,t){var n=this.items(t)[e];if(n)return n.key},p.getRowIndexByKey=function(e,t){return g.default.getIndexByKey(e,this.items(t))},p.keyOf=function(e){var t=this.store();if(t)return t.keyOf(e)},p.byKey=function(e){var t,n=this.store(),i=this.getRowIndexByKey(e);if(n)return i>=0&&(t=(new a.Deferred).resolve(this.items()[i].data)),t||n.byKey(e)},p.key=function(){var e=this.store();if(e)return e.key()},p.getRowIndexOffset=function(e){return 0},p.getDataByKeys=function(e){var t=this,n=new a.Deferred,o=[],r=[];return(0,s.each)(e,(function(e,n){o.push(t.byKey(n).done((function(t){r[e]=t})))})),a.when.apply(i.default,o).always((function(){n.resolve(r)})),n},p.pageIndex=function(e){return v(this,"pageIndex",e)},p.pageSize=function(e){return v(this,"pageSize",e)},p.beginCustomLoading=function(e){this._isCustomLoading=!0,this._loadingText=e||"",this._fireLoadingChanged()},p.endCustomLoading=function(){this._isCustomLoading=!1,this._loadingText=void 0,this._fireLoadingChanged()},p.refresh=function(e){!0===e?e={reload:!0,changesOnly:!0}:e||(e={lookup:!0,selection:!0,reload:!0});var t=this,n=t.getDataSource(),i=e.changesOnly,o=new a.Deferred,r=function(){t._repaintChangesOnly=!!i};return(0,a.when)(!e.lookup||t._columnsController.refresh()).always((function(){e.load||e.reload?(n&&n.on("customizeLoadResult",r),(0,a.when)(t.reload(e.reload,i)).always((function(){n&&n.off("customizeLoadResult",r),t._repaintChangesOnly=void 0})).done(o.resolve).fail(o.reject)):(t.updateItems({repaintChangesOnly:e.changesOnly}),o.resolve())})),o.promise()},p.getVisibleRows=function(){return this.items()},p._disposeDataSource=function(){this.setDataSource(null)},p.dispose=function(){this._disposeDataSource(),e.prototype.dispose.call(this)},p.repaintRows=function(e,t){((e=Array.isArray(e)?e:[e]).length>1||(0,d.isDefined)(e[0]))&&this.updateItems({changeType:"update",rowIndices:e,isFullUpdate:!t})},p.skipProcessingPagingChange=function(e){return this._skipProcessingPagingChange&&("paging.pageIndex"===e||"paging.pageSize"===e)},p.getUserState=function(){return{searchText:this.option("searchPanel.text"),pageIndex:this.pageIndex(),pageSize:this.pageSize()}},p.getCachedStoreData=function(){return this._dataSource&&this._dataSource.getCachedStoreData()},p.isLastPageLoaded=function(){return this.pageIndex()===this.pageCount()-1},p.load=function(){var e;return null===(e=this._dataSource)||void 0===e?void 0:e.load()},p.reload=function(e,t){var n;return null===(n=this._dataSource)||void 0===n?void 0:n.reload(e,t)},p.push=function(){var e,t;return null===(t=this._dataSource)||void 0===t?void 0:(e=t).push.apply(e,arguments)},p.itemsCount=function(){var e;return this._dataSource?null===(e=this._dataSource)||void 0===e?void 0:e.itemsCount():0},p.totalItemsCount=function(){var e;return this._dataSource?null===(e=this._dataSource)||void 0===e?void 0:e.totalItemsCount():0},p.hasKnownLastPage=function(){var e;return!this._dataSource||(null===(e=this._dataSource)||void 0===e?void 0:e.hasKnownLastPage())},p.isLoaded=function(){var e;return!this._dataSource||(null===(e=this._dataSource)||void 0===e?void 0:e.isLoaded())},p.totalCount=function(){var e;return this._dataSource?null===(e=this._dataSource)||void 0===e?void 0:e.totalCount():0},h}(p.default.Controller.inherit(h.default));t.DataController=C;var w={defaultOptions:function(){return{loadingTimeout:0,dataSource:null,cacheEnabled:!0,repaintChangesOnly:!1,highlightChanges:!1,onDataErrorOccurred:null,remoteOperations:"auto",paging:{enabled:!0,pageSize:void 0,pageIndex:void 0}}},controllers:{data:C}};t.dataControllerModule=w},13758:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=f(n(72363)),o=n(48152),r=n(74460),a=n(65102),l=n(96993),s=n(49859),d=f(n(46973)),u=n(22028),c=f(n(97478)),h=f(n(37028));function f(e){return e&&e.__esModule?e:{default:e}}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},p.apply(this,arguments)}var g=c.default.Controller.inherit(function(){function e(t,n){if(t&&(t=t.slice(0),n))for(var i=0;i<t.length;i++)t[i]=(0,a.extend)({key:t[i].key},t[i]),t[i].items=e(t[i].items,n-1);return t}function t(e,t,n){var i={reload:!0,fullReload:!0};return t&&((i={sorting:!h.default.equalSortParameters(e.sort,t.sort),grouping:!h.default.equalSortParameters(e.group,t.group,!0),groupExpanding:!h.default.equalSortParameters(e.group,t.group)||t.groupExpand,filtering:!h.default.equalFilterParameters(e.filter,t.filter),pageIndex:e.pageIndex!==t.pageIndex,skip:e.skip!==t.skip,take:e.take!==t.take,pageSize:e.pageSize!==t.pageSize,fullReload:n,reload:!1,paging:!1}).reload=n||i.sorting||i.grouping||i.filtering,i.paging=i.pageIndex||i.pageSize||i.take),i}function n(e,t){var n=h.default.normalizeSortingInfo(e.group||e.storeLoadOptions.group||e.loadOptions.group).length,i=[];if(c(i,e,n))return i;t&&function(e,t,n){var i,o,r=e.length,a=t.storeLoadOptions;if(void 0!==a.skip&&a.take&&!n){var l=[];c(l,t,n,!0);var s=l.length;(r||s)&&(t.skip=null!==(i=t.skip)&&void 0!==i?i:a.skip,t.take=null!==(o=t.take)&&void 0!==o?o:a.take),r&&(a.skip+=r,a.take-=r,t.cachedDataPartBegin=e),s&&(a.take-=s,t.cachedDataPartEnd=l.reverse())}}(i,e,n)}function c(e,t,n,i){var o,r,a,l,s,d=t.storeLoadOptions,u=null!==(r=null!==(o=t.take)&&void 0!==o?o:d.take)&&void 0!==r?r:0,c=null===(a=t.cachedData)||void 0===a?void 0:a.items;if(u&&c){for(var h=null!==(s=null!==(l=t.skip)&&void 0!==l?l:d.skip)&&void 0!==s?s:0,p=0;p<u;p++){var g=i?u-1-p:p,m=g+h,_=c[m];if(void 0===_&&m in c)return!0;var v=f(t,_,n,g,u);if(!v)return!1;e.push(v)}return!0}return!1}function f(e,t,n,i,o){return n&&t?function e(t,n,i,o){if(n&&t){var r=p({},t),a=i[0]||0,l=o[0],s=t.items;if(s){if(void 0===l&&!s[a])return;r.items=[],i.length&&(r.isContinuation=!0),l&&(r.isContinuationOnNextPage=t.count>l);for(var d=0;void 0===l?s[d+a]:d<l;d++){var u=d+1===l,c=e(s[d+a],n-1,0===d?i.slice(1):[],u?o.slice(1):[]);if(void 0===c)return;r.items.push(c)}}return r}return t}(t,n,0===i&&e.skips||[],i===o-1&&e.takes||[]):t}function g(e,t,n,i){if(n&&t){var o=p({},t);delete o.isContinuation,delete o.isContinuationOnNextPage;var r=i[0]||0;return t.items&&(o.items=(null==e?void 0:e.items)||{},t.items.forEach((function(e,t){var a=t+r,l=0===t?i.slice(1):[];o.items[a]=g(o.items[a],e,n-1,l)}))),o}return t}var m={init:function(e,t){var n=this;n._dataSource=e,n._remoteOperations=t||{},n._isLastPage=!e.isLastPage(),n._hasLastPage=!1,n._currentTotalCount=0,n._cachedData={items:{}},n._lastOperationTypes={},n._eventsStrategy=e._eventsStrategy,n._totalCountCorrection=0,n._isLoadingAll=!1,n.changed=(0,i.default)(),n.loadingChanged=(0,i.default)(),n.loadError=(0,i.default)(),n.customizeStoreLoadOptions=(0,i.default)(),n.changing=(0,i.default)(),n.pushed=(0,i.default)(),n._dataChangedHandler=n._handleDataChanged.bind(n),n._customizeStoreLoadOptionsHandler=n._handleCustomizeStoreLoadOptions.bind(n),n._dataLoadedHandler=n._handleDataLoaded.bind(n),n._loadingChangedHandler=n._handleLoadingChanged.bind(n),n._loadErrorHandler=n._handleLoadError.bind(n),n._pushHandler=n._handlePush.bind(n),n._changingHandler=n._handleChanging.bind(n),e.on("changed",n._dataChangedHandler),e.on("customizeStoreLoadOptions",n._customizeStoreLoadOptionsHandler),e.on("customizeLoadResult",n._dataLoadedHandler),e.on("loadingChanged",n._loadingChangedHandler),e.on("loadError",n._loadErrorHandler),e.on("changing",n._changingHandler),e.store().on("beforePush",n._pushHandler),(0,l.each)(e,(function(e,t){!n[e]&&(0,s.isFunction)(t)&&(n[e]=function(){return this._dataSource[e].apply(this._dataSource,arguments)})}))},remoteOperations:function(){return this._remoteOperations},dispose:function(e){var t=this._dataSource,n=t.store();t.off("changed",this._dataChangedHandler),t.off("customizeStoreLoadOptions",this._customizeStoreLoadOptionsHandler),t.off("customizeLoadResult",this._dataLoadedHandler),t.off("loadingChanged",this._loadingChangedHandler),t.off("loadError",this._loadErrorHandler),t.off("changing",this._changingHandler),n&&n.off("beforePush",this._pushHandler),e||t.dispose()},refresh:function(e,t){var n=this._dataSource;t.reload&&(this.resetCurrentTotalCount(),this._isLastPage=!n.paginate(),this._hasLastPage=this._isLastPage)},resetCurrentTotalCount:function(){this._currentTotalCount=0,this._totalCountCorrection=0},resetCache:function(){this._cachedStoreData=void 0,this._cachedPagingData=void 0},resetPagesCache:function(){this._cachedData={items:{}}},_needClearStoreDataCache:function(){var e=this.remoteOperations(),n=t(this._lastLoadOptions||{},{});return!Object.keys(e).every((function(t){return!n[t]||!e[t]}))},push:function(e,t){var n=this.store();this._needClearStoreDataCache()&&(this._cachedStoreData=void 0),this._cachedPagingData=void 0,this.resetPagesCache(!0),this._cachedStoreData&&(0,u.applyBatch)({keyInfo:n,data:this._cachedStoreData,changes:e}),t||this._applyBatch(e),this.pushed.fire(e)},getDataIndexGetter:function(){var e=this;if(!this._dataIndexGetter){var t,n,i=this.store();this._dataIndexGetter=function(r){var a=n&&n!==e._cachedStoreData;if(!t||a){n=e._cachedStoreData||[],t={};for(var l=0;l<n.length;l++)t[(0,o.getKeyHash)(i.keyOf(n[l]))]=l}return t[(0,o.getKeyHash)(i.keyOf(r))]}}return this._dataIndexGetter},_getKeyInfo:function(){return this.store()},_needToCopyDataObject:function(){return!0},_applyBatch:function(e,t){var n=this,i=this._getKeyInfo(),o=this._dataSource,r=h.default.normalizeSortingInfo(this.group()).length,a="reshape"===this.option("editing.refreshMode"),l="virtual"===this.option("scrolling.mode");e=e.filter((function(e){return!o.paginate()||"insert"!==e.type||void 0!==e.index}));var s=function(){return r?n.itemsCount():n.items().length},d=s();(0,u.applyBatch)({keyInfo:i,data:this._items,changes:e,groupCount:r,useInsertIndex:!0,skipCopying:!this._needToCopyDataObject()}),(0,u.applyBatch)({keyInfo:i,data:o.items(),changes:e,groupCount:r,useInsertIndex:!0,skipCopying:!this._needToCopyDataObject()}),(this._currentTotalCount>0||(t||!a)&&l)&&(this._totalCountCorrection+=s()-d),e.splice(0,e.length)},_handlePush:function(e){var t=e.changes;this.push(t,!0)},_handleChanging:function(e){this.changing.fire(e),this._applyBatch(e.changes,!0)},_needCleanCacheByOperation:function(e,t){var n=["filtering","sorting","paging"],i=n.indexOf(e);return(i>=0?n.slice(i):[e]).some((function(e){return t[e]}))},_customizeRemoteOperations:function(e,t){var n=this,i=this._cachedStoreData,o=this._cachedPagingData,r=this._cachedData;(e.storeLoadOptions.filter&&!e.remoteOperations.filtering||e.storeLoadOptions.sort&&!e.remoteOperations.sorting)&&(e.remoteOperations={filtering:e.remoteOperations.filtering,summary:e.remoteOperations.summary}),t.fullReload?(i=void 0,o=void 0,r={items:{}}):(t.reload?(o=void 0,r={items:{}}):t.groupExpanding&&(r={items:{}}),(0,l.each)(t,(function(t,r){r&&n._needCleanCacheByOperation(t,e.remoteOperations)&&(i=void 0,o=void 0)}))),o&&(e.remoteOperations.paging=!1),e.cachedStoreData=i,e.cachedPagingData=o,e.cachedData=r,e.isCustomLoading||(this._cachedStoreData=i,this._cachedPagingData=o,this._cachedData=r)},_handleCustomizeStoreLoadOptions:function(e){var t;this._handleDataLoading(e),0!==(null===(t=e.data)||void 0===t?void 0:t.length)&&(e.data=n(e,!0)||e.cachedStoreData)},_handleDataLoading:function(e){var n=this,i=this._dataSource,o=this._lastLoadOptions;this.customizeStoreLoadOptions.fire(e),e.delay=this.option("loadingTimeout"),e.originalStoreLoadOptions=e.storeLoadOptions,e.remoteOperations=(0,a.extend)({},this.remoteOperations());var l=!this.isLoaded()&&!this._isRefreshing;this.option("integrationOptions.renderedOnServer")&&!this.isLoaded()&&(e.delay=void 0);var s=(0,a.extend)({pageIndex:this.pageIndex(),pageSize:this.pageSize()},e.storeLoadOptions),d=t(s,o,l);if(this._customizeRemoteOperations(e,d),!e.isCustomLoading){var u=this._isRefreshing;e.pageIndex=i.pageIndex(),e.lastLoadOptions=s,e.operationTypes=d,this._loadingOperationTypes=d,this._isRefreshing=!0,(0,r.when)(u||this._isRefreshed||this.refresh(e,d)).done((function(){n._lastOperationId===e.operationId&&(n._isRefreshed=!0,n.load().always((function(){n._isRefreshed=!1})))})).fail((function(){i.cancel(e.operationId)})).always((function(){n._isRefreshing=!1})),i.cancel(this._lastOperationId),this._lastOperationId=e.operationId,this._isRefreshing&&i.cancel(this._lastOperationId)}this._handleDataLoadingCore(e)},_handleDataLoadingCore:function(e){var t=e.remoteOperations;e.loadOptions={};var n=e.cachedData.extra,i={filter:!t.filtering,sort:!t.sorting,group:!t.grouping,summary:!t.summary,skip:!t.paging,take:!t.paging,requireTotalCount:n&&"totalCount"in n||!t.paging,langParams:!t.filtering||!t.sorting};(0,l.each)(e.storeLoadOptions,(function(t,n){i[t]&&(e.loadOptions[t]=n,delete e.storeLoadOptions[t])})),n&&(e.extra=n)},_handleDataLoaded:function(t){var i,o,l=this,u=t.loadOptions,c=t.remoteOperations&&!t.remoteOperations.paging,f=t.cachedData,p=t.storeLoadOptions,m=!1!==this.option("cacheEnabled")&&p,_=m&&!t.isCustomLoading&&f&&(!c||p.group),v=m&&c,C=v&&!t.isCustomLoading;if(u){c&&(t.skip=u.skip,t.take=u.take,delete u.skip,delete u.take),u.group&&(u.group=t.group||u.group);var w=h.default.normalizeSortingInfo(t.group||p.group||u.group).length;t.cachedDataPartBegin&&(t.data=t.cachedDataPartBegin.concat(t.data)),t.cachedDataPartEnd&&(t.data=t.data.concat(t.cachedDataPartEnd)),_&&n(t)||(v&&t.cachedPagingData?t.data=e(t.cachedPagingData,w):(C&&(this._cachedStoreData?t.mergeStoreLoadData&&(t.data=this._cachedStoreData=this._cachedStoreData.concat(t.data)):this._cachedStoreData=e(t.data,h.default.normalizeSortingInfo(p.group).length)),new d.default(t.data).load(u).done((function(n){t.data=n,C&&(l._cachedPagingData=e(t.data,w))})).fail((function(e){t.data=(new r.Deferred).reject(e)}))),u.requireTotalCount&&c&&(t.extra=(0,s.isPlainObject)(t.extra)?t.extra:{},t.extra.totalCount=t.data.length),t.extra&&t.extra.totalCount>=0&&(!1===p.requireTotalCount||!1===u.requireTotalCount)&&(t.extra.totalCount=-1),!u.data&&(p.requireTotalCount||(null!==(o=null===(i=t.extra)||void 0===i?void 0:i.totalCount)&&void 0!==o?o:-1)>=0)&&(this._totalCountCorrection=0),this._handleDataLoadedCore(t),_&&(f.extra=f.extra||(0,a.extend)({},t.extra),(0,r.when)(t.data).done((function(e){!function(e,t,n){for(var i,o,r,a,l=e.storeLoadOptions,s=null!==(o=null!==(i=e.skip)&&void 0!==i?i:l.skip)&&void 0!==o?o:0,d=null!==(a=null!==(r=e.take)&&void 0!==r?r:l.take)&&void 0!==a?a:0,u=0;u<d;u++){var c=u+s,h=e.cachedData.items,f=0===u&&e.skips||[];h[c]=g(h[c],t[u],n,f)}}(t,e,w)})))),(0,r.when)(t.data).done((function(){t.lastLoadOptions&&(l._lastLoadOptions=t.lastLoadOptions,Object.keys(t.operationTypes).forEach((function(e){l._lastOperationTypes[e]=l._lastOperationTypes[e]||t.operationTypes[e]})))})),t.storeLoadOptions=t.originalStoreLoadOptions}else this._dataSource.cancel(t.operationId)},_handleDataLoadedCore:function(e){e.remoteOperations&&!e.remoteOperations.paging&&Array.isArray(e.data)&&(void 0!==e.skip&&(e.data=e.data.slice(e.skip)),void 0!==e.take&&(e.data=e.data.slice(0,e.take)))},_handleLoadingChanged:function(e){this.loadingChanged.fire(e)},_handleLoadError:function(e){this.loadError.fire(e),this.changed.fire({changeType:"loadError",error:e})},_loadPageSize:function(){return this.pageSize()},_handleDataChanged:function(e){var t,n=this._dataSource,i=!1,o=!e||(0,s.isDefined)(e.changeType),r=this.itemsCount();o&&(this._isLastPage=!r||!this._loadPageSize()||r<this._loadPageSize(),this._isLastPage&&(this._hasLastPage=!0)),n.totalCount()>=0?n.pageIndex()>=this.pageCount()&&(n.pageIndex(this.pageCount()-1),this.pageIndex(n.pageIndex()),this.resetPagesCache(),n.load(),i=!0):o&&((t=n.pageIndex()*this.pageSize()+r)>this._currentTotalCount&&(this._currentTotalCount=t,0!==n.pageIndex()&&this.option("scrolling.legacyMode")||(this._totalCountCorrection=0)),0===r&&n.pageIndex()>=this.pageCount()&&(n.pageIndex(this.pageCount()-1),"infinite"!==this.option("scrolling.mode")&&(n.load(),i=!0))),i||(this._operationTypes=this._lastOperationTypes,this._lastOperationTypes={},this.component._optionCache={},this.changed.fire(e),this.component._optionCache=void 0)},_scheduleCustomLoadCallbacks:function(e){var t=this;t._isCustomLoading=!0,e.always((function(){t._isCustomLoading=!1}))},loadingOperationTypes:function(){return this._loadingOperationTypes},operationTypes:function(){return this._operationTypes},lastLoadOptions:function(){return this._lastLoadOptions||{}},isLastPage:function(){return this._isLastPage},_dataSourceTotalCount:function(){return this._dataSource.totalCount()},totalCount:function(){return parseInt((this._currentTotalCount||this._dataSourceTotalCount())+this._totalCountCorrection)},totalCountCorrection:function(){return this._totalCountCorrection},itemsCount:function(){return this._dataSource.items().length},totalItemsCount:function(){return this.totalCount()},pageSize:function(){var e=this._dataSource;return arguments.length||e.paginate()?e.pageSize.apply(e,arguments):0},pageCount:function(){var e=this.totalItemsCount()-this._totalCountCorrection,t=this.pageSize();return t&&e>0?Math.max(1,Math.ceil(e/t)):1},hasKnownLastPage:function(){return this._hasLastPage||this._dataSource.totalCount()>=0},loadFromStore:function(e,t){var n=this._dataSource,i=new r.Deferred;if(n)return(t=t||n.store()).load(e).done((function(e,t){e&&!Array.isArray(e)&&Array.isArray(e.data)&&(t=e,e=e.data),i.resolve(e,t)})).fail(i.reject),i},isCustomLoading:function(){return!!this._isCustomLoading},load:function(e){var t,n,i=this,d=this,u=d._dataSource,c=new r.Deferred;if(e){var h=u.store(),f=u.loadOptions(),p={storeLoadOptions:(0,a.extend)({},e,{langParams:null==f?void 0:f.langParams}),isCustomLoading:!0};return(0,l.each)(h._customLoadOptions()||[],(function(e,t){t in p.storeLoadOptions||(p.storeLoadOptions[t]=f[t])})),this._isLoadingAll=e.isLoadingAll,d._scheduleCustomLoadCallbacks(c),u._scheduleLoadCallbacks(c),d._handleCustomizeStoreLoadOptions(p),t=function(){if(!u.store())return c.reject("canceled");(0,r.when)(p.data||d.loadFromStore(p.storeLoadOptions)).done((function(t,n){p.data=t,p.extra=n||{},d._handleDataLoaded(p),e.requireTotalCount&&void 0===p.extra.totalCount&&(p.extra.totalCount=h.totalCount(p.storeLoadOptions)),(0,r.when)(p.data,p.extra.totalCount).done((function(e,t){p.extra.totalCount=t,c.resolve(e,p.extra)})).fail(c.reject)})).fail(c.reject)},n=d.option("loadingTimeout"),(0,s.isDefined)(n)?(0,o.executeAsync)(t,n):t(),c.fail((function(){d._eventsStrategy.fireEvent("loadError",arguments)})).always((function(){i._isLoadingAll=!1})).promise()}return u.load()},reload:function(e){return e?this._dataSource.reload():this._dataSource.load()},getCachedStoreData:function(){return this._cachedStoreData}};return m}());t.default=g},32019:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VIEWPORT_TOP_NEW_ROW_POSITION=t.VIEWPORT_BOTTOM_NEW_ROW_POSITION=t.TARGET_COMPONENT_NAME=t.ROW_SELECTED_CLASS=t.ROW_SELECTED=t.ROW_REMOVED=t.ROW_MODIFIED=t.ROW_INSERTED=t.ROW_CLASS=t.ROW_BASED_MODES=t.REQUIRED_EDITOR_LABELLEDBY_MODES=t.READONLY_CLASS=t.PAGE_TOP_NEW_ROW_POSITION=t.PAGE_BOTTOM_NEW_ROW_POSITION=t.MODES_WITH_DELAYED_FOCUS=t.METHOD_NAMES=t.LINK_ICON_CLASS=t.LINK_CLASS=t.LAST_NEW_ROW_POSITION=t.INSERT_INDEX=t.FORM_BUTTONS_CONTAINER_CLASS=t.FOCUS_OVERLAY_CLASS=t.FOCUSABLE_ELEMENT_SELECTOR=t.FOCUSABLE_ELEMENT_CLASS=t.FIRST_NEW_ROW_POSITION=t.EDIT_ROW=t.EDIT_POPUP_FORM_CLASS=t.EDIT_POPUP_CLASS=t.EDIT_MODE_ROW=t.EDIT_MODE_POPUP=t.EDIT_MODE_FORM=t.EDIT_MODE_CELL=t.EDIT_MODE_BATCH=t.EDIT_MODES=t.EDIT_LINK_CLASS=t.EDIT_ICON_CLASS=t.EDIT_FORM_ITEM_CLASS=t.EDIT_FORM_CLASS=t.EDIT_BUTTON_CLASS=t.EDITOR_CELL_CLASS=t.EDITORS_INPUT_SELECTOR=t.EDITING_POPUP_OPTION_NAME=t.EDITING_NAMESPACE=t.EDITING_FORM_OPTION_NAME=t.EDITING_EDITROWKEY_OPTION_NAME=t.EDITING_EDITCOLUMNNAME_OPTION_NAME=t.EDITING_CHANGES_OPTION_NAME=t.DROPDOWN_EDITOR_OVERLAY_CLASS=t.DEFAULT_START_EDIT_ACTION=t.DATA_ROW_CLASS=t.DATA_EDIT_DATA_UPDATE_TYPE=t.DATA_EDIT_DATA_REMOVE_TYPE=t.DATA_EDIT_DATA_INSERT_TYPE=t.COMMAND_EDIT_WITH_ICONS_CLASS=t.COMMAND_EDIT_CLASS=t.CELL_MODIFIED_CLASS=t.CELL_MODIFIED=t.CELL_FOCUS_DISABLED_CLASS=t.BUTTON_NAMES=t.BUTTON_CLASS=t.ADD_ROW_BUTTON_CLASS=t.ACTION_OPTION_NAMES=void 0;var i,o=(i=n(93334))&&i.__esModule?i:{default:i};t.EDITOR_CELL_CLASS="dx-editor-cell";t.ROW_CLASS="dx-row";t.CELL_MODIFIED_CLASS="dx-cell-modified";t.ROW_SELECTED_CLASS="dx-selection";t.EDIT_FORM_CLASS="edit-form";t.DATA_EDIT_DATA_INSERT_TYPE="insert";t.DATA_EDIT_DATA_REMOVE_TYPE="remove";t.EDITING_POPUP_OPTION_NAME="editing.popup";t.EDITING_FORM_OPTION_NAME="editing.form";t.EDITING_EDITROWKEY_OPTION_NAME="editing.editRowKey";t.EDITING_EDITCOLUMNNAME_OPTION_NAME="editing.editColumnName";t.TARGET_COMPONENT_NAME="targetComponent";var r="input:not([type='hidden'])";t.EDITORS_INPUT_SELECTOR=r;var a="[tabindex]:not([disabled]), ".concat(r,":not([disabled])");t.FOCUSABLE_ELEMENT_SELECTOR=a;var l="batch";t.EDIT_MODE_BATCH=l;var s="row";t.EDIT_MODE_ROW=s;var d="cell";t.EDIT_MODE_CELL=d;var u="form";t.EDIT_MODE_FORM=u;var c="popup";t.EDIT_MODE_POPUP=c;t.FIRST_NEW_ROW_POSITION="first";t.LAST_NEW_ROW_POSITION="last";t.PAGE_BOTTOM_NEW_ROW_POSITION="pageBottom";t.PAGE_TOP_NEW_ROW_POSITION="pageTop";t.VIEWPORT_BOTTOM_NEW_ROW_POSITION="viewportBottom";t.VIEWPORT_TOP_NEW_ROW_POSITION="viewportTop";var h=[l,s,d,u,c];t.EDIT_MODES=h;var f=[s,u,c];t.ROW_BASED_MODES=f;var p=[l,s,d];t.REQUIRED_EDITOR_LABELLEDBY_MODES=p;var g=[s,u];t.MODES_WITH_DELAYED_FOCUS=g;t.READONLY_CLASS="readonly";t.LINK_CLASS="dx-link";t.LINK_ICON_CLASS="dx-link-icon";t.ROW_SELECTED="dx-selection";t.EDIT_BUTTON_CLASS="dx-edit-button";var m="dx-command-edit";t.COMMAND_EDIT_CLASS=m;var _="".concat(m,"-with-icons");t.COMMAND_EDIT_WITH_ICONS_CLASS=_;t.INSERT_INDEX="__DX_INSERT_INDEX__";t.ROW_INSERTED="dx-row-inserted";t.ROW_MODIFIED="dx-row-modified";t.CELL_MODIFIED="dx-cell-modified";t.EDITING_NAMESPACE="dxDataGridEditing";t.CELL_FOCUS_DISABLED_CLASS="dx-cell-focus-disabled";t.DATA_EDIT_DATA_UPDATE_TYPE="update";t.DEFAULT_START_EDIT_ACTION="click";t.EDIT_LINK_CLASS={save:"dx-link-save",cancel:"dx-link-cancel",edit:"dx-link-edit",undelete:"dx-link-undelete",delete:"dx-link-delete",add:"dx-link-add"};t.EDIT_ICON_CLASS={save:"save",cancel:"revert",edit:"edit",undelete:"revert",delete:"trash",add:"add"};t.METHOD_NAMES={edit:"editRow",delete:"deleteRow",undelete:"undeleteRow",save:"saveEditData",cancel:"cancelEditData",add:"addRowByRowIndex"};t.ACTION_OPTION_NAMES={add:"allowAdding",edit:"allowUpdating",delete:"allowDeleting"};t.BUTTON_NAMES=["edit","save","cancel","delete","undelete"];t.EDITING_CHANGES_OPTION_NAME="editing.changes";t.FOCUS_OVERLAY_CLASS="focus-overlay";t.ADD_ROW_BUTTON_CLASS="addrow-button";t.DROPDOWN_EDITOR_OVERLAY_CLASS="dx-dropdowneditor-overlay";t.DATA_ROW_CLASS="dx-data-row";t.ROW_REMOVED="dx-row-removed";var v=!!o.default.IS_RENOVATED_WIDGET;t.EDIT_FORM_ITEM_CLASS="edit-form-item";t.EDIT_POPUP_CLASS="edit-popup";t.EDIT_POPUP_FORM_CLASS="edit-popup-form";var C=v?"dx-scrollable":"dx-scrollable-container";t.FOCUSABLE_ELEMENT_CLASS=C;t.BUTTON_CLASS="dx-button";t.FORM_BUTTONS_CONTAINER_CLASS="form-buttons-container";t.EDIT_ROW="dx-edit-row"},47659:(e,t,n)=>{function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.editingModule=void 0;var o=T(n(70974)),r=T(n(70175)),a=T(n(6909)),l=T(n(94965)),s=n(48152),d=n(74460),u=n(12907),c=n(65102),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(56350)),f=n(96993),p=n(30269),g=n(49859),m=n(22028),_=n(82769),v=T(n(38608)),C=T(n(54960)),w=n(6473),y=T(n(63585)),x=n(33284),I=T(n(97478)),b=T(n(37028)),E=n(32019),S=n(28280);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function T(e){return e&&e.__esModule?e:{default:e}}function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},D.apply(this,arguments)}function R(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}var P={defaultOptions:function(){return{editing:{mode:"row",refreshMode:"full",newRowPosition:E.VIEWPORT_TOP_NEW_ROW_POSITION,allowAdding:!1,allowUpdating:!1,allowDeleting:!1,useIcons:!1,selectTextOnEditStart:!1,confirmDelete:!0,texts:{editRow:y.default.format("dxDataGrid-editingEditRow"),saveAllChanges:y.default.format("dxDataGrid-editingSaveAllChanges"),saveRowChanges:y.default.format("dxDataGrid-editingSaveRowChanges"),cancelAllChanges:y.default.format("dxDataGrid-editingCancelAllChanges"),cancelRowChanges:y.default.format("dxDataGrid-editingCancelRowChanges"),addRow:y.default.format("dxDataGrid-editingAddRow"),deleteRow:y.default.format("dxDataGrid-editingDeleteRow"),undeleteRow:y.default.format("dxDataGrid-editingUndeleteRow"),confirmDeleteMessage:y.default.format("dxDataGrid-editingConfirmDeleteMessage"),confirmDeleteTitle:""},form:{colCount:2},popup:{},startEditAction:"click",editRowKey:null,editColumnName:null,changes:[]},useLegacyColumnButtonTemplate:!1}},controllers:{editing:function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,A(t,n);var u=i.prototype;return u.init=function(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._rowsView=this.getView("rowsView"),this._lastOperation=null,this._changes=[],this._deferreds&&this._deferreds.forEach((function(e){e.reject("cancel")})),this._deferreds=[],this._dataChangedHandler||(this._dataChangedHandler=this._handleDataChanged.bind(this),this._dataController.changed.add(this._dataChangedHandler)),this._saveEditorHandler||(this.createAction("onInitNewRow",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowInserting",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowInserted",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditingStart",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowUpdating",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowUpdated",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowRemoving",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowRemoved",{excludeValidators:["disabled","readOnly"]}),this.createAction("onSaved",{excludeValidators:["disabled","readOnly"]}),this.createAction("onSaving",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditCanceling",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditCanceled",{excludeValidators:["disabled","readOnly"]})),this._updateEditColumn(),this._updateEditButtons(),this._internalState||(this._internalState=[]),this.component._optionsByReference[E.EDITING_EDITROWKEY_OPTION_NAME]=!0,this.component._optionsByReference[E.EDITING_CHANGES_OPTION_NAME]=!0},u.getEditMode=function(){var e=this.option("editing.mode");return E.EDIT_MODES.includes(e)?e:E.EDIT_MODE_ROW},u._getDefaultEditorTemplate=function(){var e=this;return function(t,n){var i=(0,l.default)("<div>").appendTo(t),o=(0,c.extend)({},n.column,{value:n.value,setValue:n.setValue,row:n.row,parentType:"dataRow",width:null,readOnly:!n.setValue,isOnForm:n.isOnForm,id:n.id});E.REQUIRED_EDITOR_LABELLEDBY_MODES.includes(e.getEditMode())&&(o["aria-labelledby"]=n.column.headerId),e.getController("editorFactory").createEditor(i,o)}},u._getNewRowPosition=function(){var e=this.option("editing.newRowPosition");if("virtual"===this.option("scrolling.mode"))switch(e){case E.PAGE_TOP_NEW_ROW_POSITION:return E.VIEWPORT_TOP_NEW_ROW_POSITION;case E.PAGE_BOTTOM_NEW_ROW_POSITION:return E.VIEWPORT_BOTTOM_NEW_ROW_POSITION;default:return e}return e},u.getChanges=function(){return this.option(E.EDITING_CHANGES_OPTION_NAME)},u.getInsertRowCount=function(){return this.option(E.EDITING_CHANGES_OPTION_NAME).filter((function(e){return"insert"===e.type})).length},u.resetChanges=function(){var e=this.getChanges();(null==e?void 0:e.length)&&this._silentOption(E.EDITING_CHANGES_OPTION_NAME,[])},u._getInternalData=function(e){return this._internalState.filter((function(t){return(0,s.equalByValue)(t.key,e)}))[0]},u._addInternalData=function(e){var t=this._getInternalData(e.key);return t?(0,c.extend)(t,e):(this._internalState.push(e),e)},u._getOldData=function(e){var t;return null===(t=this._getInternalData(e))||void 0===t?void 0:t.oldData},u.getUpdatedData=function(e){var t=this._dataController.keyOf(e),n=this.getChanges(),i=b.default.getIndexByKey(t,n);return n[i]?(0,m.createObjectWithChanges)(e,n[i].data):e},u.getInsertedData=function(){return this.getChanges().filter((function(e){return e.data&&e.type===E.DATA_EDIT_DATA_INSERT_TYPE})).map((function(e){return e.data}))},u.getRemovedData=function(){var e=this;return this.getChanges().filter((function(t){return e._getOldData(t.key)&&t.type===E.DATA_EDIT_DATA_REMOVE_TYPE})).map((function(t){return e._getOldData(t.key)}))},u._fireDataErrorOccurred=function(e){if("cancel"!==e){var t=this.getPopupContent();this._dataController.dataErrorOccurred.fire(e,t)}},u._needToCloseEditableCell=function(e){},u._closeEditItem=function(e){},u._handleDataChanged=function(e){},u._isDefaultButtonVisible=function(e,t){var n=!0;switch(e.name){case"delete":n=this.allowDeleting(t);break;case"undelete":n=!1}return n},u._isButtonVisible=function(e,t){var n=e.visible;return(0,g.isDefined)(n)?(0,g.isFunction)(n)?n.call(e,{component:t.component,row:t.row,column:t.column}):n:this._isDefaultButtonVisible(e,t)},u._isButtonDisabled=function(e,t){var n=e.disabled;return(0,g.isFunction)(n)?n.call(e,{component:t.component,row:t.row,column:t.column}):!!n},u._getButtonConfig=function(e,t){var n=this,i=(0,g.isObject)(e)?e:{},o=(0,S.getButtonName)(e),r=(0,S.getEditingTexts)(t),a=E.METHOD_NAMES[o],l=this.option("editing"),s=E.ACTION_OPTION_NAMES[o],d=!s||l[s];return(0,c.extend)({name:o,text:r[o],cssClass:E.EDIT_LINK_CLASS[o]},{onClick:a&&function(e){var i=e.event;i.stopPropagation(),i.preventDefault(),setTimeout((function(){t.row&&d&&n[a]&&n[a](t.row.rowIndex)}))}},i)},u._getEditingButtons=function(e){var t,n=this,i=!!e.column.buttons,o=(e.column.buttons||[]).slice();return i?((t=(0,S.getButtonIndex)(o,"edit"))>=0&&((0,S.getButtonIndex)(o,"save")<0&&o.splice(t+1,0,"save"),(0,S.getButtonIndex)(o,"cancel")<0&&o.splice((0,S.getButtonIndex)(o,"save")+1,0,"cancel")),(t=(0,S.getButtonIndex)(o,"delete"))>=0&&(0,S.getButtonIndex)(o,"undelete")<0&&o.splice(t+1,0,"undelete")):o=E.BUTTON_NAMES.slice(),o.map((function(t){return n._getButtonConfig(t,e)}))},u._renderEditingButtons=function(e,t,n,i){var o=this;t.forEach((function(t){o._isButtonVisible(t,n)&&o._createButton(e,t,n,i)}))},u._getEditCommandCellTemplate=function(){var e=this;return function(t,n,i){var o=(0,l.default)(t);if("data"===n.rowType){var r=e._getEditingButtons(n);e._renderEditingButtons(o,r,n,i),n.watch&&n.watch((function(){return r.map((function(t){return{visible:e._isButtonVisible(t,n),disabled:e._isButtonDisabled(t,n)}}))}),(function(){o.empty(),e._renderEditingButtons(o,r,n)}))}else b.default.setEmptyText(o)}},u.isRowBasedEditMode=function(){var e=this.getEditMode();return E.ROW_BASED_MODES.includes(e)},u.getFirstEditableColumnIndex=function(){var e,t=this.getController("columns").getVisibleColumns();return(0,f.each)(t,(function(t,n){if(n.allowEditing)return e=t,!1})),e},u.getFirstEditableCellInRow=function(e){var t=this.getView("rowsView"),n=this.getFirstEditableColumnIndex();return null==t?void 0:t._getCellElement(e||0,n)},u.getFocusedCellInRow=function(e){return this.getFirstEditableCellInRow(e)},u.getIndexByKey=function(e,t){return b.default.getIndexByKey(e,t)},u.hasChanges=function(e){for(var t=this.getChanges(),n=!1,i=0;i<(null==t?void 0:t.length);i++)if(t[i].type&&(!(0,g.isDefined)(e)||this._dataController.getRowIndexByKey(t[i].key)===e)){n=!0;break}return n},u.dispose=function(){e.prototype.dispose.call(this),clearTimeout(this._inputFocusTimeoutID),v.default.off(r.default.getDocument(),C.default.up,this._pointerUpEditorHandler),v.default.off(r.default.getDocument(),C.default.down,this._pointerDownEditorHandler),v.default.off(r.default.getDocument(),_.name,this._saveEditorHandler)},u._silentOption=function(t,n){"editing.changes"===t&&(this._changes=(0,p.deepExtendArraySafe)([],n)),e.prototype._silentOption.call(this,t,n)},u.optionChanged=function(t){if("editing"===t.name){var n=t.fullName;if(n===E.EDITING_EDITROWKEY_OPTION_NAME)this._handleEditRowKeyChange(t);else if(n===E.EDITING_CHANGES_OPTION_NAME){(0,s.equalByValue)(t.value,this._changes,{maxDepth:4})||(this._changes=(0,p.deepExtendArraySafe)([],t.value),this._handleChangesChange(t))}else t.handled||(this._columnsController.reinit(),this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey());t.handled=!0}else e.prototype.optionChanged.call(this,t)},u._handleEditRowKeyChange=function(e){var t=this._dataController.getRowIndexByKey(e.value),n=this._getEditRowIndexCorrection(),i=this._dataController.getRowIndexByKey(e.previousValue)+n;(0,g.isDefined)(e.value)?e.value!==e.previousValue&&this._editRowFromOptionChanged(t,i):this.cancelEditData()},u._handleChangesChange=function(e){var t=this,n=this._dataController,i=e.value;(e.value.length||e.previousValue.length)&&(i.forEach((function(e){var i;if("insert"===e.type)t._addInsertInfo(e);else{var o=n.getCachedStoreData()||(null===(i=n.items())||void 0===i?void 0:i.map((function(e){return e.data}))),r=b.default.getIndexByKey(e.key,o,n.key());t._addInternalData({key:e.key,oldData:o[r]})}})),n.updateItems({repaintChangesOnly:!0,isLiveUpdate:!1,isOptionChanged:!0}))},u.publicMethods=function(){return["addRow","deleteRow","undeleteRow","editRow","saveEditData","cancelEditData","hasEditData"]},u.refresh=function(){(0,g.isDefined)(this._pageIndex)&&this._refreshCore.apply(this,arguments)},u._refreshCore=function(e){},u.isEditing=function(){return(0,g.isDefined)(this.option(E.EDITING_EDITROWKEY_OPTION_NAME))},u.isEditRow=function(e){return!1},u._setEditRowKey=function(e,t){t?this._silentOption(E.EDITING_EDITROWKEY_OPTION_NAME,e):this.option(E.EDITING_EDITROWKEY_OPTION_NAME,e),this._refocusEditCell&&(this._refocusEditCell=!1,this._focusEditingCell())},u._setEditRowKeyByIndex=function(e,t){var n=this._dataController.getKeyByRowIndex(e);void 0!==n?this._setEditRowKey(n,t):this._dataController.fireError("E1043")},u.getEditRowIndex=function(){return this._getVisibleEditRowIndex()},u.getEditFormRowIndex=function(){return-1},u.isEditRowByIndex=function(e){var t=this._dataController.getKeyByRowIndex(e),n=(0,g.isDefined)(t)&&(0,s.equalByValue)(this.option(E.EDITING_EDITROWKEY_OPTION_NAME),t);return n?this._getVisibleEditRowIndex()===e:n},u.isEditCell=function(e,t){return this.isEditRowByIndex(e)&&this._getVisibleEditColumnIndex()===t},u.getPopupContent=function(){},u._isProcessedItem=function(e){return!1},u._getInsertRowIndex=function(e,t,n){var i=this,o=-1,r=this._dataController,a=this._getInsertAfterOrBeforeKey(t);return(0,g.isDefined)(a)||0!==e.length?(0,g.isDefined)(a)&&e.some((function(l,d){var u=n||i._isProcessedItem(l);if((0,g.isObject)(l)&&(u||(0,g.isDefined)(l[E.INSERT_INDEX])?(0,s.equalByValue)(l.key,a)&&(o=d):(0,s.equalByValue)(r.keyOf(l),a)&&(o=d)),o>=0){var c=e[o+1];if(c&&("detail"===c.rowType||"detailAdaptive"===c.rowType)&&(0,g.isDefined)(t.insertAfterKey))return;return(0,g.isDefined)(t.insertAfterKey)&&(o+=1),!0}})):o=0,o},u._generateNewItem=function(e){var t,n={key:e},i=null===(t=this._getInternalData(e))||void 0===t?void 0:t.insertInfo;return(null==i?void 0:i[E.INSERT_INDEX])&&(n[E.INSERT_INDEX]=i[E.INSERT_INDEX]),n},u._getLoadedRowIndex=function(e,t,n){var i=this._getInsertRowIndex(e,t,n),o=this._dataController;if(i<0){var r=this._getNewRowPosition(),a=o.pageIndex(),l=this._getInsertAfterOrBeforeKey(t);r===E.LAST_NEW_ROW_POSITION||0!==a||(0,g.isDefined)(l)?r===E.LAST_NEW_ROW_POSITION&&o.isLastPageLoaded()&&(i=e.length):i=0}return i},u.processItems=function(e,t){var n=this,i=t.changeType;return this.update(i),this.getChanges().forEach((function(t){var i;if(t.type===E.DATA_EDIT_DATA_INSERT_TYPE){var o=t.key,r=null===(i=n._getInternalData(o))||void 0===i?void 0:i.insertInfo;(0,g.isDefined)(o)&&(0,g.isDefined)(r)||(o=(r=n._addInsertInfo(t)).key);var a=n._getLoadedRowIndex(e,t),l=n._generateNewItem(o);a>=0&&e.splice(a,0,l)}})),e},u.processDataItem=function(e,t,n){var i=t.visibleColumns,o=e.data[E.INSERT_INDEX]?e.data.key:e.key,r=this.getChanges(),a=b.default.getIndexByKey(o,r);e.isEditing=!1,a>=0&&this._processDataItemCore(e,r[a],o,i,n)},u._processDataItemCore=function(e,t,n,i,o){var r=t.data;switch(t.type){case E.DATA_EDIT_DATA_INSERT_TYPE:e.isNewRow=!0,e.key=n,e.data=r;break;case E.DATA_EDIT_DATA_UPDATE_TYPE:e.modified=!0,e.oldData=e.data,e.data=(0,m.createObjectWithChanges)(e.data,r),e.modifiedValues=o(r,i,!0);break;case E.DATA_EDIT_DATA_REMOVE_TYPE:e.removed=!0}},u._initNewRow=function(e){var t=this;if(this.executeAction("onInitNewRow",e),e.promise){var n=new d.Deferred;return(0,d.when)((0,d.fromPromise)(e.promise)).done(n.resolve).fail((0,S.createFailureHandler)(n)).fail((function(e){return t._fireDataErrorOccurred(e)})),n}},u._createInsertInfo=function(){var e={};return e[E.INSERT_INDEX]=this._getInsertIndex(),e},u._addInsertInfo=function(e,t){var n,i;e.key=this.getChangeKeyValue(e);var o=e.key;if(i=null===(n=this._getInternalData(o))||void 0===n?void 0:n.insertInfo,!(0,g.isDefined)(i)){var r=this._getInsertAfterOrBeforeKey(e);i=this._createInsertInfo(),(0,g.isDefined)(r)||this._setInsertAfterOrBeforeKey(e,t)}return this._addInternalData({insertInfo:i,key:o}),{insertInfo:i,key:o}},u.getChangeKeyValue=function(e){if((0,g.isDefined)(e.key))return e.key;var t,n=this._dataController.key();return e.data&&n&&!Array.isArray(n)&&(t=e.data[n]),(0,g.isDefined)(t)||(t=(0,S.generateNewRowTempKey)()),t},u._setInsertAfterOrBeforeKey=function(e,t){var n=this._dataController,i=n.items(!0),o=this.getView("rowsView"),r=this._getNewRowPosition();switch(r){case E.FIRST_NEW_ROW_POSITION:case E.LAST_NEW_ROW_POSITION:break;case E.PAGE_TOP_NEW_ROW_POSITION:case E.PAGE_BOTTOM_NEW_ROW_POSITION:if(i.length){var a=r===E.PAGE_TOP_NEW_ROW_POSITION?0:i.length-1;e[0===a?"insertBeforeKey":"insertAfterKey"]=i[a].key}break;default:var l=r===E.VIEWPORT_BOTTOM_NEW_ROW_POSITION?null==o?void 0:o.getBottomVisibleItemIndex():null==o?void 0:o.getTopVisibleItemIndex(),s=n.getVisibleRows()[l];s&&(!s.isEditing&&"detail"===s.rowType||"detailAdaptive"===s.rowType)&&l++;var d=n.getKeyByRowIndex(l);(0,g.isDefined)(d)&&(e.insertBeforeKey=d)}},u._getInsertIndex=function(){var e=this,t=0;return this.getChanges().forEach((function(n){var i,o=null===(i=e._getInternalData(n.key))||void 0===i?void 0:i.insertInfo;(0,g.isDefined)(o)&&n.type===E.DATA_EDIT_DATA_INSERT_TYPE&&o[E.INSERT_INDEX]>t&&(t=o[E.INSERT_INDEX])})),t+1},u._getInsertAfterOrBeforeKey=function(e){var t;return null!==(t=e.insertAfterKey)&&void 0!==t?t:e.insertBeforeKey},u._getPageIndexToInsertRow=function(){var e=this._getNewRowPosition(),t=this._dataController,n=t.pageIndex(),i=t.pageCount()-1;return e===E.FIRST_NEW_ROW_POSITION&&0!==n?0:e===E.LAST_NEW_ROW_POSITION&&n!==i?i:-1},u.addRow=function(e){var t=this._dataController;return t.store()?this._addRow(e):(t.fireError("E1052",this.component.NAME),(new d.Deferred).reject())},u._addRow=function(e){var t=this,n=this._dataController.store(),i=n&&n.key(),o={data:{}},r=this._getVisibleEditRowIndex(),l=new d.Deferred;return this.refresh({allowCancelEditing:!0}),this._allowRowAdding()?(i||(o.data.__KEY__=String(new a.default)),(0,d.when)(this._initNewRow(o,e)).done((function(){t._allowRowAdding()?(0,d.when)(t._addRowCore(o.data,e,r)).done(l.resolve).fail(l.reject):l.reject("cancel")})).fail(l.reject),l.promise()):((0,d.when)(this._navigateToNewRow(r)).done(l.resolve).fail(l.reject),l.promise())},u._allowRowAdding=function(e){return!(this._getInsertIndex()>1)},u._addRowCore=function(e,t,n){var i={data:e,type:E.DATA_EDIT_DATA_INSERT_TYPE},o=this._getVisibleEditRowIndex(),r=this._addInsertInfo(i,t).key;return this._setEditRowKey(r,!0),this._addChange(i),this._navigateToNewRow(n,i,o)},u._navigateToNewRow=function(e,t,n){var i=this,o=new d.Deferred,r=this._dataController,a=this.getController("focus");if(n=null!=n?n:-1,!(t=null!=t?t:this.getChanges().filter((function(e){return e.type===E.DATA_EDIT_DATA_INSERT_TYPE}))[0]))return o.reject("cancel").promise();var l=this._getPageIndexToInsertRow(),s=this._getLoadedRowIndex(r.items(),t,!0),u=function(e){(0,d.when)(null==a?void 0:a.navigateToRow(e)).done((function(){s=r.getRowIndexByKey(t.key),o.resolve()}))},c=this._getInsertAfterOrBeforeKey(t);return l>=0?r.pageIndex(l).done((function(){u(t.key)})).fail(o.reject):s<0&&(0,g.isDefined)(c)?u(c):(r.updateItems({changeType:"update",rowIndices:[e,n,s]}),(s=r.getRowIndexByKey(t.key))<0?u(t.key):o.resolve()),o.done((function(){var e;null===(e=i._rowsView)||void 0===e||e.waitAsyncTemplates(!0).done((function(){i._showAddedRow(s),i._afterInsertRow(t.key)}))})),o.promise()},u._showAddedRow=function(e){this._focusFirstEditableCellInRow(e)},u._beforeFocusElementInRow=function(e){},u._focusFirstEditableCellInRow=function(e){var t=this,n=this._dataController,i=this.getController("keyboardNavigation"),o=n.getKeyByRowIndex(e),r=this.getFirstEditableCellInRow(e);null==i||i.focus(r),this.option("focusedRowKey",o),this._editCellInProgress=!0,this._delayedInputFocus(r,(function(){e=n.getRowIndexByKey(o),t._editCellInProgress=!1,t._beforeFocusElementInRow(e)}))},u._isEditingStart=function(e){return this.executeAction("onEditingStart",e),e.cancel},u._beforeUpdateItems=function(){},u._getVisibleEditColumnIndex=function(){var e=this.option(E.EDITING_EDITCOLUMNNAME_OPTION_NAME);return(0,g.isDefined)(e)?this._columnsController.getVisibleColumnIndex(e):-1},u._setEditColumnNameByIndex=function(e,t){var n,i=this._columnsController.getVisibleColumns();this._setEditColumnName(null===(n=i[e])||void 0===n?void 0:n.name,t)},u._setEditColumnName=function(e,t){t?this._silentOption(E.EDITING_EDITCOLUMNNAME_OPTION_NAME,e):this.option(E.EDITING_EDITCOLUMNNAME_OPTION_NAME,e)},u._resetEditColumnName=function(){this._setEditColumnName(null,!0)},u._getEditColumn=function(){var e=this.option(E.EDITING_EDITCOLUMNNAME_OPTION_NAME);return this._getColumnByName(e)},u._getColumnByName=function(e){var t,n=this._columnsController.getVisibleColumns();return(0,g.isDefined)(e)&&n.some((function(n){if(n.name===e)return t=n,!0})),t},u._getVisibleEditRowIndex=function(e){var t=this._dataController,n=this.option(E.EDITING_EDITROWKEY_OPTION_NAME),i=t.getRowIndexByKey(n);return-1===i?i:i+this._getEditRowIndexCorrection(e)},u._getEditRowIndexCorrection=function(e){var t=e?this._getColumnByName(e):this._getEditColumn();return"adaptiveHidden"===(null==t?void 0:t.visibleWidth)?1:0},u._resetEditRowKey=function(){this._refocusEditCell=!1,this._setEditRowKey(null,!0)},u._resetEditIndices=function(){this._resetEditColumnName(),this._resetEditRowKey()},u.editRow=function(e){var t,n=this._dataController,i=n.items()[e],o={data:i&&i.data,cancel:!1},r=this._getVisibleEditRowIndex();if(i)return e===r||void(void 0!==i.key?(i.isNewRow||(o.key=i.key),this._isEditingStart(o)||(this.resetChanges(),this.init(),this._resetEditColumnName(),this._pageIndex=n.pageIndex(),this._addInternalData({key:i.key,oldData:null!==(t=i.oldData)&&void 0!==t?t:i.data}),this._setEditRowKey(i.key))):this._dataController.fireError("E1043"))},u._editRowFromOptionChanged=function(e,t){var n=[t,e];this._beforeUpdateItems(n,e,t),this._editRowFromOptionChangedCore(n,e)},u._editRowFromOptionChangedCore=function(e,t,n){this._needFocusEditor=!0,this._dataController.updateItems({changeType:"update",rowIndices:e,cancel:n})},u._focusEditorIfNeed=function(){},u._showEditPopup=function(e,t){},u._repaintEditPopup=function(){},u._getEditPopupHiddenHandler=function(){var e=this;return function(t){e.isEditing()&&e.cancelEditData()}},u._getPopupEditFormTemplate=function(e){},u._getSaveButtonConfig=function(){return{text:this.option("editing.texts.saveRowChanges"),onClick:this.saveEditData.bind(this)}},u._getCancelButtonConfig=function(){return{text:this.option("editing.texts.cancelRowChanges"),onClick:this.cancelEditData.bind(this)}},u._removeInternalData=function(e){var t=this._getInternalData(e),n=this._internalState.indexOf(t);n>-1&&this._internalState.splice(n,1)},u._updateInsertAfterOrBeforeKeys=function(e,t){var n=this,i=e[t];e.forEach((function(e){var t=n._getInsertAfterOrBeforeKey(e);(0,s.equalByValue)(t,i.key)&&(e[(0,g.isDefined)(e.insertAfterKey)?"insertAfterKey":"insertBeforeKey"]=n._getInsertAfterOrBeforeKey(i))}))},u._removeChange=function(e){if(e>=0){var t=R(this.getChanges()),n=t[e].key;this._removeInternalData(n),this._updateInsertAfterOrBeforeKeys(t,e),t.splice(e,1),this._silentOption(E.EDITING_CHANGES_OPTION_NAME,t),(0,s.equalByValue)(this.option(E.EDITING_EDITROWKEY_OPTION_NAME),n)&&this._resetEditIndices()}},u.executeOperation=function(e,t){var n=this;this._lastOperation&&this._lastOperation.reject(),this._lastOperation=e,this.waitForDeferredOperations().done((function(){"rejected"!==e.state()&&(t(),n._lastOperation=null)})).fail((function(){e.reject(),n._lastOperation=null}))},u.waitForDeferredOperations=function(){return d.when.apply(void 0,R(this._deferreds))},u._processCanceledEditingCell=function(){},u._repaintEditCell=function(e,t,n){this._needFocusEditor=!0,!e||!e.showEditorAlways||t&&!t.showEditorAlways?(this._editCellInProgress=!0,this.getController("editorFactory").loseFocus(),this._dataController.updateItems({changeType:"update",rowIndices:[n,this._getVisibleEditRowIndex()]})):e!==t&&this._dataController.updateItems({changeType:"update",rowIndices:[]})},u._delayedInputFocus=function(e,t,n){var i=this,r=function(){if(t&&t(),e){var n=e.find(E.FOCUSABLE_ELEMENT_SELECTOR).first();b.default.focusAndSelectElement(i,n)}i._beforeFocusCallback=null};o.default.real().ios||o.default.real().android?r():(this._beforeFocusCallback&&this._beforeFocusCallback(),clearTimeout(this._inputFocusTimeoutID),n&&(this._beforeFocusCallback=t),this._inputFocusTimeoutID=setTimeout(r))},u._focusEditingCell=function(e,t,n){var i=this.getView("rowsView"),o=this._getVisibleEditColumnIndex();(t=t||i&&i._getCellElement(this._getVisibleEditRowIndex(),o))&&this._delayedInputFocus(t,e,n)},u.deleteRow=function(e){this._checkAndDeleteRow(e)},u._checkAndDeleteRow=function(e){var t=this,n=this.option("editing"),i=null==n?void 0:n.texts,o=null==n?void 0:n.confirmDelete,r=null==i?void 0:i.confirmDeleteMessage,a=this._dataController.items()[e],l=!this.isEditing()||a.isNewRow;if(a&&l)if(o&&r){var s=i&&i.confirmDeleteTitle,d=(0,g.isDefined)(s)&&s.length>0;(0,x.confirm)(r,s,d).done((function(n){n&&t._deleteRowCore(e)}))}else this._deleteRowCore(e)},u._deleteRowCore=function(e){var t=this._dataController.items()[e],n=t&&t.key,i=this._getVisibleEditRowIndex();this.refresh();var o=this.getChanges(),r=b.default.getIndexByKey(n,o);return r>=0?o[r].type===E.DATA_EDIT_DATA_INSERT_TYPE?this._removeChange(r):this._addChange({key:n,type:E.DATA_EDIT_DATA_REMOVE_TYPE}):this._addChange({key:n,oldData:t.data,type:E.DATA_EDIT_DATA_REMOVE_TYPE}),this._afterDeleteRow(e,i)},u._afterDeleteRow=function(e,t){return this.saveEditData()},u.undeleteRow=function(e){var t=this._dataController,n=t.items()[e],i=this._getVisibleEditRowIndex(),o=n&&n.key,r=this.getChanges();if(n){var a=b.default.getIndexByKey(o,r);if(a>=0){var l=r[a].data;(0,g.isEmptyObject)(l)?this._removeChange(a):this._addChange({key:o,type:E.DATA_EDIT_DATA_UPDATE_TYPE}),t.updateItems({changeType:"update",rowIndices:[i,e]})}}},u._fireOnSaving=function(){var e=this,t={cancel:!1,promise:null,changes:R(this.getChanges())};this.executeAction("onSaving",t);var n=new d.Deferred;return(0,d.when)((0,d.fromPromise)(t.promise)).done((function(){n.resolve(t)})).fail((function(t){(0,S.createFailureHandler)(n),e._fireDataErrorOccurred(t),n.resolve({cancel:!0})})),n},u._executeEditingAction=function(e,t,n){if(this.component._disposed)return null;var i=new d.Deferred;return this.executeAction(e,t),(0,d.when)((0,d.fromPromise)(t.cancel)).done((function(e){e?setTimeout((function(){i.resolve("cancel")})):n(t).done(i.resolve).fail((0,S.createFailureHandler)(i))})).fail((0,S.createFailureHandler)(i)),i},u._processChanges=function(e,t,n,i){var o=this,r=this._dataController.store();(0,f.each)(i,(function(a,l){var s,u,c=o._getOldData(l.key),h=l.data,f=l.type,p=D({},l);if(!o._beforeSaveEditData(l,a)){switch(f){case E.DATA_EDIT_DATA_REMOVE_TYPE:u={data:c,key:l.key,cancel:!1},s=o._executeEditingAction("onRowRemoving",u,(function(){return r.remove(l.key).done((function(e){n.push({type:"remove",key:e})}))}));break;case E.DATA_EDIT_DATA_INSERT_TYPE:u={data:h,cancel:!1},s=o._executeEditingAction("onRowInserting",u,(function(){return r.insert(u.data).done((function(e,t){(0,g.isDefined)(t)&&(p.key=t),e&&(0,g.isObject)(e)&&e!==u.data&&(p.data=e),n.push({type:"insert",data:e,index:0})}))}));break;case E.DATA_EDIT_DATA_UPDATE_TYPE:u={newData:h,oldData:c,key:l.key,cancel:!1},s=o._executeEditingAction("onRowUpdating",u,(function(){return r.update(l.key,u.newData).done((function(e,t){e&&(0,g.isObject)(e)&&e!==u.newData&&(p.data=e),n.push({type:"update",key:t,data:e})}))}))}if(i[a]=p,s){var m=new d.Deferred;s.always((function(e){t.push({key:l.key,result:e})})).always(m.resolve),e.push(m.promise())}}}))},u._processRemoveIfError=function(e,t){var n=e[t];return(null==n?void 0:n.type)===E.DATA_EDIT_DATA_REMOVE_TYPE&&t>=0&&e.splice(t,1),!0},u._processRemove=function(e,t,n){var i=e[t];if(!n||!i||i.type===E.DATA_EDIT_DATA_REMOVE_TYPE)return this._processRemoveCore(e,t,!n||!i)},u._processRemoveCore=function(e,t,n){return t>=0&&e.splice(t,1),!0},u._processSaveEditDataResult=function(e){for(var t=!1,n=R(this.getChanges()),i=n.length,o=0;o<e.length;o++){var r=e[o].result,a="cancel"===r,l=b.default.getIndexByKey(e[o].key,n),s=n[l];if(r&&r instanceof Error){if(s&&this._addInternalData({key:s.key,error:r}),this._fireDataErrorOccurred(r),this._processRemoveIfError(n,l))break}else this._processRemove(n,l,a)&&(t=!a)}return n.length<i&&this._silentOption(E.EDITING_CHANGES_OPTION_NAME,n),t},u._fireSaveEditDataEvents=function(e){var t=this;(0,f.each)(e,(function(e,n){var i=n.data,o=n.key,r=n.type,a=t._addInternalData({key:o}),l={key:o,data:i};switch(a.error&&(l.error=a.error),r){case E.DATA_EDIT_DATA_REMOVE_TYPE:t.executeAction("onRowRemoved",(0,c.extend)({},l,{data:a.oldData}));break;case E.DATA_EDIT_DATA_INSERT_TYPE:t.executeAction("onRowInserted",l);break;case E.DATA_EDIT_DATA_UPDATE_TYPE:t.executeAction("onRowUpdated",l)}})),this.executeAction("onSaved",{changes:e})},u.saveEditData=function(){var e=this,t=new d.Deferred;return this.waitForDeferredOperations().done((function(){e.isSaving()?e._resolveAfterSave(t):(0,d.when)(e._beforeSaveEditData()).done((function(n){n?e._resolveAfterSave(t,{cancel:n}):(e._saving=!0,e._saveEditDataInner().always((function(){e._saving=!1,e._refocusEditCell&&e._focusEditingCell()})).done(t.resolve).fail(t.reject))})).fail(t.reject)})).fail(t.reject),t.promise()},u._resolveAfterSave=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.cancel,i=t.error;(0,d.when)(this._afterSaveEditData(n)).done((function(){e.resolve(i)})).fail(e.reject)},u._saveEditDataInner=function(){var e=this,t=new d.Deferred,n=[],i=[],o=[],r=this._dataController.dataSource();return(0,d.when)(this._fireOnSaving()).done((function(a){var l=a.cancel,s=a.changes;return l?t.resolve().promise():(e._processChanges(i,n,o,s),i.length?(e._refocusEditCell=!0,null==r||r.beginLoading(),d.when.apply(void 0,i).done((function(){e._processSaveEditDataResult(n)?e._endSaving(o,s,t):(null==r||r.endLoading(),t.resolve())})).fail((function(e){null==r||r.endLoading(),t.resolve(e)})),t.always((function(){e._refocusEditCell=!0})).promise()):void e._cancelSaving(t))})).fail(t.reject),t.promise()},u._beforeEndSaving=function(e){this._resetEditIndices()},u._endSaving=function(e,t,n){var i=this._dataController.dataSource();this._beforeEndSaving(t),null==i||i.endLoading(),this._refreshDataAfterSave(e,t,n)},u._cancelSaving=function(e){this.executeAction("onSaved",{changes:[]}),this._resolveAfterSave(e)},u._refreshDataAfterSave=function(e,t,n){var i=this,o=this._dataController,r=this.option("editing.refreshMode"),a="reshape"!==r&&"repaint"!==r;a||o.push(e),(0,d.when)(o.refresh({selection:a,reload:a,load:"reshape"===r,changesOnly:this.option("repaintChangesOnly")})).always((function(){i._fireSaveEditDataEvents(t)})).done((function(){i._resolveAfterSave(n)})).fail((function(e){i._resolveAfterSave(n,{error:e})}))},u.isSaving=function(){return this._saving},u._updateEditColumn=function(){var e=this._isEditColumnVisible(),t=this.option("editing.useIcons"),n=E.COMMAND_EDIT_CLASS+(t?" ".concat(E.COMMAND_EDIT_WITH_ICONS_CLASS):"");this._columnsController.addCommandColumn({type:"buttons",command:"edit",visible:e,cssClass:n,width:"auto",alignment:"center",cellTemplate:this._getEditCommandCellTemplate(),fixedPosition:"right"}),this._columnsController.columnOption("command:edit",{visible:e,cssClass:n})},u._isEditColumnVisible=function(){return this.option("editing").allowDeleting},u._isEditButtonDisabled=function(){var e=this.hasChanges();return!((0,g.isDefined)(this.option("editing.editRowKey"))||e)},u._updateEditButtons=function(){var e=this.getView("headerPanel"),t=this._isEditButtonDisabled();e&&(e.setToolbarItemDisabled("saveButton",t),e.setToolbarItemDisabled("revertButton",t))},u._applyModified=function(e,t){e&&e.addClass(E.CELL_MODIFIED)},u._beforeCloseEditCellInBatchMode=function(e){},u.cancelEditData=function(){var e=this.getChanges(),t={cancel:!1,changes:e};this.executeAction("onEditCanceling",t),t.cancel||(this._cancelEditDataCore(),this.executeAction("onEditCanceled",{changes:e}))},u._cancelEditDataCore=function(){var e=this._getVisibleEditRowIndex();this._beforeCancelEditData(),this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey(),this._afterCancelEditData(e)},u._afterCancelEditData=function(e){this._dataController.updateItems({repaintChangesOnly:this.option("repaintChangesOnly")})},u._hideEditPopup=function(){},u.hasEditData=function(){return this.hasChanges()},u.update=function(e){var t=this._dataController;t&&this._pageIndex!==t.pageIndex()&&("refresh"===e&&this.refresh({isPageChanged:!0}),this._pageIndex=t.pageIndex()),this._updateEditButtons()},u._getRowIndicesForCascadeUpdating=function(e,t){return t?[]:[e.rowIndex]},u.addDeferred=function(e){var t=this;this._deferreds.includes(e)||(this._deferreds.push(e),e.always((function(){var n=t._deferreds.indexOf(e);n>=0&&t._deferreds.splice(n,1)})))},u._prepareChange=function(e,t,n){var i,o=this,r={},a=null===(i=e.row)||void 0===i?void 0:i.data,l=e.key,s=new d.Deferred;void 0!==l&&(e.value=t,(0,d.fromPromise)(e.column.setCellValue(r,t,(0,c.extend)(!0,{},a),n)).done((function(){s.resolve({data:r,key:l,oldData:a,type:E.DATA_EDIT_DATA_UPDATE_TYPE})})).fail((0,S.createFailureHandler)(s)).fail((function(e){return o._fireDataErrorOccurred(e)})),(0,g.isDefined)(n)&&e.column.displayValueMap&&(e.column.displayValueMap[t]=n),this._updateRowValues(e),this.addDeferred(s));return s},u._updateRowValues=function(e){if(e.values){var t=this._dataController,n=t.getRowIndexByKey(e.key),i=t.getVisibleRows()[n];i&&(e.row.values=i.values,e.values=i.values),e.values[e.columnIndex]=e.value}},u.updateFieldValue=function(e,t,n,i){var o=this,r=e.key,a=new d.Deferred;return void 0===r&&this._dataController.fireError("E1043"),e.column.setCellValue?this._prepareChange(e,t,n).done((function(t){(0,d.when)(o._applyChange(e,t,i)).always((function(){a.resolve()}))})):a.resolve(),a.promise()},u._focusPreviousEditingCellIfNeed=function(e){if(this.hasEditData()&&!this.isEditCell(e.rowIndex,e.columnIndex))return this._focusEditingCell(),this._updateEditRow(e.row,!0),!0},u._needUpdateRow=function(e){var t=this._columnsController.getVisibleColumns();e||(e=this._getEditColumn());var n=e&&e.setCellValue!==e.defaultSetCellValue,i=t.some((function(e){return e.calculateCellValue!==e.defaultCalculateCellValue}));return n||i},u._applyChange=function(e,t,n){var i=D(D({},e),{forceUpdateRow:n});return this._addChange(t,i),this._updateEditButtons(),this._applyChangeCore(e,i.forceUpdateRow)},u._applyChangeCore=function(e,t){var n=e.column.setCellValue!==e.column.defaultSetCellValue,i=e.row;i&&(t||n?this._updateEditRow(i,t,n):i.update&&i.update())},u._updateEditRowCore=function(e,t,n){this._dataController.updateItems({changeType:"update",rowIndices:this._getRowIndicesForCascadeUpdating(e,t)})},u._updateEditRow=function(e,t,n){t?this._updateRowImmediately(e,t,n):this._updateRowWithDelay(e,n)},u._updateRowImmediately=function(e,t,n){this._updateEditRowCore(e,!t,n),this._validateEditFormAfterUpdate(e,n),t||this._focusEditingCell()},u._updateRowWithDelay=function(e,t){var n=this,i=new d.Deferred;this.addDeferred(i),setTimeout((function(){var o,a=(null===(o=n._editForm)||void 0===o?void 0:o.element())||n.component.$element().get(0),s=(0,l.default)(r.default.getActiveElement(a)),d=n._rowsView.getCellIndex(s,e.rowIndex),u=s.get(0),c=b.default.getSelectionRange(u);if(n._updateEditRowCore(e,!1,t),n._validateEditFormAfterUpdate(e,t),d>=0){var h=n._rowsView._getCellElement(e.rowIndex,d);n._delayedInputFocus(h,(function(){setTimeout((function(){var e;u=r.default.getActiveElement(null===(e=n.component.$element())||void 0===e?void 0:e.get(0)),c.selectionStart>=0&&b.default.setSelectionRange(u,c)}))}))}i.resolve()}))},u._validateEditFormAfterUpdate=function(){},u._addChange=function(e,t){var n,i=null==t?void 0:t.row,o=R(this.getChanges()),r=b.default.getIndexByKey(e.key,o);r<0&&(r=o.length,this._addInternalData({key:e.key,oldData:e.oldData}),delete e.oldData,o.push(e));var a=D({},o[r]);return a&&(e.data&&(a.data=(0,m.createObjectWithChanges)(a.data,e.data)),a.type&&e.data||!e.type||(a.type=e.type),i&&(i.oldData=this._getOldData(i.key),i.data=(0,m.createObjectWithChanges)(i.data,e.data))),o[r]=a,this._silentOption(E.EDITING_CHANGES_OPTION_NAME,o),t&&a!==(null===(n=this.getChanges())||void 0===n?void 0:n[r])&&(t.forceUpdateRow=!0),a},u._getFormEditItemTemplate=function(e,t){return t.editCellTemplate||this._getDefaultEditorTemplate()},u.getColumnTemplate=function(e){var t,n,i=this,o=e.column,r=e.row&&e.row.rowIndex,a=this.isRowBasedEditMode(),l=this.isEditRow(r),s=this.isEditCell(r,e.columnIndex);!(o.showEditorAlways||o.setCellValue&&(l&&o.allowEditing||s))||"data"!==e.rowType&&"detailAdaptive"!==e.rowType||o.command?"detail"===o.command&&"detail"===e.rowType&&l&&(t=null==this?void 0:this.getEditFormTemplate(e)):(!((this.allowUpdating(e)||l)&&o.allowEditing||s)||!l&&a||(o.showEditorAlways&&!a&&(n={cancel:!1,key:e.row.isNewRow?void 0:e.row.key,data:e.row.data,column:o},this._isEditingStart(n)),n&&n.cancel||(e.setValue=function(t,n){i.updateFieldValue(e,t,n)})),t=o.editCellTemplate||this._getDefaultEditorTemplate());return t},u._createButton=function(e,t,n,i){var o=E.EDIT_ICON_CLASS[t.name],r=this.option("editing.useIcons"),a=this.option("useLegacyColumnButtonTemplate"),s=(0,l.default)("<a>").attr("href","#").addClass(E.LINK_CLASS).addClass(t.cssClass);if(t.template&&a)this._rowsView.renderTemplate(e,t.template,n,!0);else{if(t.template)s=(0,l.default)("<span>").addClass(t.cssClass);else if(r&&o||t.icon){o=t.icon||o;var d=h.getImageSourceType(o);"image"===d||"svg"===d?s=h.getImageContainer(o).addClass(t.cssClass):s.addClass("dx-icon".concat("dxIcon"===d?"-":" ").concat(o)).attr("title",t.text),s.addClass(E.LINK_ICON_CLASS),e.addClass(E.COMMAND_EDIT_WITH_ICONS_CLASS);var u=this.getButtonLocalizationNames()[t.name];u&&s.attr("aria-label",y.default.format(u))}else s.text(t.text);(0,g.isDefined)(t.hint)&&s.attr("title",t.hint),this._isButtonDisabled(t,n)?s.addClass("dx-state-disabled"):t.template&&!t.onClick||v.default.on(s,(0,w.addNamespace)("click",E.EDITING_NAMESPACE),this.createAction((function(e){var i;null===(i=t.onClick)||void 0===i||i.call(t,(0,c.extend)({},e,{row:n.row,column:n.column})),e.event.preventDefault(),e.event.stopPropagation()}))),e.append(s,"&nbsp;"),t.template&&(n.renderAsync=!1,this._rowsView.renderTemplate(s,t.template,n,!0,i))}},u.getButtonLocalizationNames=function(){return{edit:"dxDataGrid-editingEditRow",save:"dxDataGrid-editingSaveRowChanges",delete:"dxDataGrid-editingDeleteRow",undelete:"dxDataGrid-editingUndeleteRow",cancel:"dxDataGrid-editingCancelRowChanges"}},u.prepareButtonItem=function(e,t,n,i){var o,r=this,a=null!==(o=this.option("editing.texts"))&&void 0!==o?o:{},s={revert:a.cancelAllChanges,save:a.saveAllChanges,addRow:a.addRow},d={revert:"cancel",save:"save",addRow:"addrow"}[t],u=s[t],c=("save"===d||"cancel"===d)&&this._isEditButtonDisabled();return{widget:"dxButton",options:{onInitialized:function(t){(0,l.default)(t.element).addClass(e._getToolbarButtonClass("".concat(E.EDIT_BUTTON_CLASS," ").concat(r.addWidgetPrefix(d),"-button")))},icon:"edit-button-".concat(d),disabled:c,onClick:function(){setTimeout((function(){r[n]()}))},text:u,hint:u},showText:"inMenu",name:"".concat(t,"Button"),location:"after",locateInMenu:"auto",sortIndex:i}},u.prepareEditButtons=function(e){var t,n=[];return(null!==(t=this.option("editing"))&&void 0!==t?t:{}).allowAdding&&n.push(this.prepareButtonItem(e,"addRow","addRow",20)),n},u.highlightDataCell=function(e,t){this.shouldHighlightCell(t)&&e.addClass(E.CELL_MODIFIED)},u._afterInsertRow=function(){},u._beforeSaveEditData=function(e){if(e&&!(0,g.isDefined)(e.key)&&(0,g.isDefined)(e.type))return!0},u._afterSaveEditData=function(){},u._beforeCancelEditData=function(){},u._allowEditAction=function(e,t){var n=this.option("editing.".concat(e));return(0,g.isFunction)(n)&&(n=n({component:this.component,row:t.row})),n},u.allowUpdating=function(e,t){var n,i=null!==(n=this.option("editing.startEditAction"))&&void 0!==n?n:E.DEFAULT_START_EDIT_ACTION;return(!(arguments.length>1)||(i===t||"down"===t))&&this._allowEditAction("allowUpdating",e)},u.allowDeleting=function(e){return this._allowEditAction("allowDeleting",e)},u.isCellModified=function(e){var t,n,i,o=e.columnIndex,r=null===(n=null===(t=null==e?void 0:e.row)||void 0===t?void 0:t.modifiedValues)||void 0===n?void 0:n[o];return(null===(i=null==e?void 0:e.row)||void 0===i?void 0:i.isNewRow)&&(r=e.value),void 0!==r},u.isNewRowInEditMode=function(){var e=this._getVisibleEditRowIndex(),t=this._dataController.items();return e>=0&&t[e].isNewRow},u._isRowDeleteAllowed=function(){},u.shouldHighlightCell=function(e){return this.isCellModified(e)&&e.column.setCellValue&&(this.getEditMode()!==E.EDIT_MODE_ROW||!e.row.isEditing)},i}(I.default.ViewController)},extenders:{controllers:{data:{init:function(){this._editingController=this.getController("editing"),this.callBase()},reload:function(e,t){return!t&&this._editingController.refresh(),this.callBase.apply(this,arguments)},repaintRows:function(){if(!this.getController("editing").isSaving())return this.callBase.apply(this,arguments)},_updateEditRow:function(e){var t,n=this.option(E.EDITING_EDITROWKEY_OPTION_NAME),i=e[b.default.getIndexByKey(n,e)];i&&(i.isEditing=!0,null===(t=this._updateEditItem)||void 0===t||t.call(this,i))},_updateItemsCore:function(e){this.callBase(e),this._updateEditRow(this.items(!0))},_applyChangeUpdate:function(e){this._updateEditRow(e.items),this.callBase(e)},_applyChangesOnly:function(e){this._updateEditRow(e.items),this.callBase(e)},_processItems:function(e,t){return e=this._editingController.processItems(e,t),this.callBase(e,t)},_processDataItem:function(e,t){return this._editingController.processDataItem(e,t,this.generateDataValues),this.callBase(e,t)},_processItem:function(e,t){return(e=this.callBase(e,t)).isNewRow&&(t.dataIndex--,delete e.dataIndex),e},_getChangedColumnIndices:function(e,t,n,i){if(e.isNewRow===t.isNewRow&&e.removed===t.removed)return this.callBase.apply(this,arguments)},_isCellChanged:function(e,t,n,i,o){var r=this.getController("editing"),a=e.cells&&e.cells[i],l=r&&r.isEditCell(n,i);return(!o||!l)&&(!(!a||!a.column||a.column.showEditorAlways||a.isEditing===l)||this.callBase.apply(this,arguments))},needToRefreshOnDataSourceChange:function(e){var t=this.getController("editing");return!(Array.isArray(e.value)&&e.value===e.previousValue&&t.isSaving())},_handleDataSourceChange:function(e){var t=this,n=this.callBase(e),i=this.option("editing.changes"),o=e.value;if(Array.isArray(o)&&i.length){var r=o.map((function(e){return t.keyOf(e)})),a=i.filter((function(e){return"insert"===e.type||r.some((function(t){return(0,s.equalByValue)(e.key,t)}))}));a.length!==i.length&&this.option("editing.changes",a);var l=this.option("editing.editRowKey");!a.some((function(e){return"insert"===e.type&&(0,s.equalByValue)(l,e.key)}))&&r.every((function(e){return!(0,s.equalByValue)(l,e)}))&&this.option("editing.editRowKey",null)}return n}}},views:{rowsView:{init:function(){this.callBase(),this._editingController=this.getController("editing")},getCellIndex:function(e,t){if(!e.is("td")&&t>=0){var n=this.getCellElements(t),i=-1;return(0,f.each)(n,(function(t,n){(0,l.default)(n).find(e).length&&(i=t)})),i}return this.callBase.apply(this,arguments)},publicMethods:function(){return this.callBase().concat(["cellValue"])},_getCellTemplate:function(e){return this._editingController.getColumnTemplate(e)||this.callBase(e)},_createRow:function(e){var t=this.callBase.apply(this,arguments);if(e){var n=!!e.removed,i=!!e.isNewRow,o=!!e.modified;i&&t.addClass(E.ROW_INSERTED),o&&t.addClass(E.ROW_MODIFIED),(i||n)&&t.removeClass(E.ROW_SELECTED)}return t},_getColumnIndexByElement:function(e){for(var t=e.closest("table"),n=this.getTableElements();t.length&&!n.filter(t).length;)e=t.closest("td"),t=e.closest("table");return this._getColumnIndexByElementCore(e)},_getColumnIndexByElementCore:function(e){var t=e.closest(".".concat(E.ROW_CLASS,"> td:not(.dx-master-detail-cell)"));return this.getCellIndex(t)},_editCellByClick:function(e,t){var n=this._editingController,i=(0,l.default)(e.event.target),r=this._getColumnIndexByElement(i),a=this._dataController.items()[e.rowIndex],s=n.allowUpdating({row:a},t)||a&&a.isNewRow,d=this._columnsController.getVisibleColumns()[r],c=n.isEditCell(e.rowIndex,r),h=s&&d&&(d.allowEditing||c),f=this.option("editing.startEditAction")||"click",p=d&&d.showEditorAlways;if(c)return!0;if("down"===t)return(o.default.real().ios||o.default.real().android)&&(0,u.resetActiveElement)(),p&&h&&n.editCell(e.rowIndex,r);if("click"===t&&"dblClick"===f){var g=null==a?void 0:a.isNewRow;n.closeEditCell(!1,g)}return h&&t===f?n.editCell(e.rowIndex,r)||n.isEditRow(e.rowIndex):void 0},_rowPointerDown:function(e){var t=this;this._pointerDownTimeout=setTimeout((function(){t._editCellByClick(e,"down")}))},_rowClick:function(e){var t=(0,l.default)(e.rowElement).hasClass(this.addWidgetPrefix(E.EDIT_FORM_CLASS));e.event[E.TARGET_COMPONENT_NAME]=this.component,this._editCellByClick(e,"click")||t||this.callBase.apply(this,arguments)},_rowDblClick:function(e){this._editCellByClick(e,"dblClick")||this.callBase.apply(this,arguments)},_cellPrepared:function(e,t){var n,i=this._editingController,o=!!t.column.command,r=t.setValue,a=i.isEditRow(t.rowIndex),l=(0,S.isEditingCell)(a,t);if((0,S.isEditingOrShowEditorAlwaysDataCell)(a,t)){var s=t.column.alignment;e.toggleClass(this.addWidgetPrefix(E.READONLY_CLASS),!r).toggleClass(E.CELL_FOCUS_DISABLED_CLASS,!r),s&&e.find(E.EDITORS_INPUT_SELECTOR).first().css("textAlign",s)}l&&this._editCellPrepared(e);var d=!!(null===(n=t.column)||void 0===n?void 0:n.cellTemplate);!t.column||o||d&&!i.shouldHighlightCell(t)||i.highlightDataCell(e,t),this.callBase.apply(this,arguments)},_editCellPrepared:s.noop,_formItemPrepared:s.noop,_getCellOptions:function(e){var t=this.callBase(e);return t.isEditing=this._editingController.isEditCell(t.rowIndex,t.columnIndex),t},_createCell:function(e){var t=this.callBase(e),n=this._editingController.isEditRow(e.rowIndex);return(0,S.isEditingOrShowEditorAlwaysDataCell)(n,e)&&t.addClass(E.EDITOR_CELL_CLASS),t},cellValue:function(e,t,n,i){var o=this.getCellOptions(e,t);if(o){if(void 0===n)return o.value;this._editingController.updateFieldValue(o,n,i,!0)}},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._pointerDownTimeout)},_renderCore:function(){var e=this;return this.callBase.apply(this,arguments),this.waitAsyncTemplates(!0).done((function(){e._editingController._focusEditorIfNeed()}))}},headerPanel:{_getToolbarItems:function(){var e=this.callBase();return this.getController("editing").prepareEditButtons(this).concat(e)},optionChanged:function(e){var t=e.fullName;switch(e.name){case"editing":var n=[E.EDITING_POPUP_OPTION_NAME,E.EDITING_CHANGES_OPTION_NAME,E.EDITING_EDITCOLUMNNAME_OPTION_NAME,E.EDITING_EDITROWKEY_OPTION_NAME];t&&!n.some((function(e){return e===t}))&&this._invalidate(),this.callBase(e);break;case"useLegacyColumnButtonTemplate":e.handled=!0;break;default:this.callBase(e)}},isVisible:function(){var e=this.getController("editing").option("editing");return this.callBase()||(null==e?void 0:e.allowAdding)}}}}};t.editingModule=P},5592:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.editingCellBasedModule=void 0;var i=_(n(70175)),o=_(n(94965)),r=n(48152),a=n(74460),l=n(12907),s=n(49859),d=n(22028),u=n(82769),c=_(n(38608)),h=_(n(4103)),f=_(n(54960)),p=n(6473),g=n(32019),m=n(28280);function _(e){return e&&e.__esModule?e:{default:e}}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}var C={extenders:{controllers:{editing:function(e){return function(e){var t,n;function h(){return e.apply(this,arguments)||this}n=e,(t=h).prototype=Object.create(n.prototype),t.prototype.constructor=t,v(t,n);var p=h.prototype;return p.init=function(){var t,n,r=this,a=!this._saveEditorHandler;(e.prototype.init.call(this),a)&&(this._pointerUpEditorHandler=function(){var e;n=null===(e=r.getController("columnsResizer"))||void 0===e?void 0:e.isResizing()},this._pointerDownEditorHandler=function(e){return t=(0,o.default)(e.target)},this._saveEditorHandler=this.createAction((function(e){var i=e.event,r=(0,o.default)(i.target),a=i[g.TARGET_COMPONENT_NAME],s=this.component;if((!(0,m.isEditable)(t)||t.is(r))&&this.isCellOrBatchEditMode()&&!this._editCellInProgress){var d=p(r)||p(null==a?void 0:a.$element()),u=a&&!a._disposed&&a!==this.component,c=!!r.closest(".".concat(this.addWidgetPrefix(g.ADD_ROW_BUTTON_CLASS))).length,h=r.hasClass(this.addWidgetPrefix(g.FOCUS_OVERLAY_CLASS)),f=this.isCellEditMode();n||d||h||c&&f&&this.isEditing()||!(0,l.isElementInDom)(r)&&!u||this._closeEditItem.bind(this)(r)}function p(e){if(!e)return!1;var t=e.closest(".".concat(g.DROPDOWN_EDITOR_OVERLAY_CLASS)),n=s.$element();return t.length>0&&0===n.closest(t).length}})),c.default.on(i.default.getDocument(),f.default.up,this._pointerUpEditorHandler),c.default.on(i.default.getDocument(),f.default.down,this._pointerDownEditorHandler),c.default.on(i.default.getDocument(),u.name,this._saveEditorHandler))},p.isCellEditMode=function(){return this.option("editing.mode")===g.EDIT_MODE_CELL},p.isBatchEditMode=function(){return this.option("editing.mode")===g.EDIT_MODE_BATCH},p.isCellOrBatchEditMode=function(){return this.isCellEditMode()||this.isBatchEditMode()},p._needToCloseEditableCell=function(t){var n,i=this.component.$element(),o=this.isEditing();if((!i||!!t.closest(i).length)&&t.closest(".".concat(g.DATA_ROW_CLASS)).length){var r=this.getView("rowsView"),a=t.closest(".".concat(g.ROW_CLASS,"> td")),l=r.getRowIndex(a.parent()),s=r.getCellElements(l);if(null==s?void 0:s.length){var d=s.index(a),u=null===(n=this._columnsController.getVisibleColumns()[d])||void 0===n?void 0:n.allowEditing,c=this.isEditCell(l,d);o=o&&!u&&!c}}return o||e.prototype._needToCloseEditableCell.call(this,t)},p._closeEditItem=function(e){this._needToCloseEditableCell(e)&&this.closeEditCell()},p._focusEditorIfNeed=function(){var t,n=this;if(this._needFocusEditor&&this.isCellOrBatchEditMode()){var i=this._getVisibleEditColumnIndex(),o=null===(t=this._rowsView)||void 0===t?void 0:t._getCellElement(this._getVisibleEditRowIndex(),i);o&&!o.find(":focus").length?this._focusEditingCell((function(){n._editCellInProgress=!1}),o,!0):this._editCellInProgress=!1,this._needFocusEditor=!1}else e.prototype._focusEditorIfNeed.call(this)},p.isEditing=function(){if(this.isCellOrBatchEditMode()){var t=(0,s.isDefined)(this.option(g.EDITING_EDITROWKEY_OPTION_NAME)),n=(0,s.isDefined)(this.option(g.EDITING_EDITCOLUMNNAME_OPTION_NAME));return t&&n}return e.prototype.isEditing.call(this)},p._handleEditColumnNameChange=function(e){var t=this._getVisibleEditRowIndex(e.previousValue);if(this.isCellOrBatchEditMode()&&-1!==t&&(0,s.isDefined)(e.value)&&e.value!==e.previousValue){var n=this._columnsController.getVisibleColumnIndex(e.value),i=this._columnsController.getVisibleColumnIndex(e.previousValue);this._editCellFromOptionChanged(n,i,t)}},p._addRow=function(t){var n=this;if(this.isCellEditMode()&&this.hasChanges()){var i=new a.Deferred;return this.saveEditData().done((function(){n.hasChanges()?i.reject("cancel"):n.addRow(t).done(i.resolve).fail(i.reject)})),i.promise()}return e.prototype._addRow.call(this,t)},p.editCell=function(e,t){return this._editCell({rowIndex:e,columnIndex:t})},p._editCell=function(e){var t,n=this,i=new a.Deferred;return this.executeOperation(i,(function(){t=n._editCellCore(e),(0,a.when)(t).done(i.resolve).fail(i.reject)})),void 0!==t?t:i.promise()},p._editCellCore=function(e){var t=this,n=this._dataController,i=(0,s.isDefined)(e.oldColumnIndex)||(0,s.isDefined)(e.oldRowIndex),o=this._getNormalizedEditCellOptions(e),r=o.columnIndex,l=o.rowIndex,d=o.column,u=o.item,c={data:null==u?void 0:u.data,cancel:!1,column:d};if(void 0!==u.key){if(d&&("data"===u.rowType||"detailAdaptive"===u.rowType)&&!u.removed&&this.isCellOrBatchEditMode()){if(!i&&this.isEditCell(l,r))return!0;var h=l+n.getRowIndexOffset();return(0,a.when)(this._beforeEditCell(l,r,u)).done((function(e){e||t._prepareEditCell(c,u,r,h)||t._processCanceledEditingCell()}))}return!1}this._dataController.fireError("E1043")},p._beforeEditCell=function(e,t,n){var i=this;if(this.isCellEditMode()&&!n.isNewRow&&this.hasChanges()){var o=new a.Deferred;return this.saveEditData().always((function(){o.resolve(i.hasChanges())})),this.addDeferred(o),o}return!1},p.publicMethods=function(){return e.prototype.publicMethods.call(this).concat(["editCell","closeEditCell"])},p._getNormalizedEditCellOptions=function(e){var t,n=e.oldColumnIndex,i=e.oldRowIndex,o=e.columnIndex,r=e.rowIndex,a=this._columnsController,l=a.getVisibleColumns(),d=this._dataController.items()[r];return t=(0,s.isDefined)(n)?l[n]:this._getEditColumn(),(0,s.isDefined)(i)||(i=this._getVisibleEditRowIndex()),(0,s.isString)(o)&&(o=a.columnOption(o,"index"),o=a.getVisibleIndex(o)),{oldColumn:t,columnIndex:o,oldRowIndex:i,rowIndex:r,column:l[o],item:d}},p._prepareEditCell=function(e,t,n,i){var o;return t.isNewRow||(e.key=t.key),!this._isEditingStart(e)&&(this._pageIndex=this._dataController.pageIndex(),this._setEditRowKey(t.key),this._setEditColumnNameByIndex(n),e.column.showEditorAlways||this._addInternalData({key:t.key,oldData:null!==(o=t.oldData)&&void 0!==o?o:t.data}),!0)},p.closeEditCell=function(e,t){var n=this,i=(0,a.when)(),o=this._getVisibleEditRowIndex();if(this.isCellOrBatchEditMode()){var r=new a.Deferred;i=new a.Deferred,this.executeOperation(r,(function(){n._closeEditCellCore(e,o,t).always(i.resolve)}))}return i.promise()},p._closeEditCellCore=function(e,t,n){var i=this,o=this._dataController,r=new a.Deferred,l=r.promise();if(this.isCellEditMode()&&this.hasChanges()){if(!n)return this.saveEditData().done((function(e){i.hasChanges()?r.resolve():i.closeEditCell(!!e).always(r.resolve)})),l}else if(this._resetEditRowKey(),this._resetEditColumnName(),t>=0){var s=[t];this._beforeCloseEditCellInBatchMode(s),e||o.updateItems({changeType:"update",rowIndices:s})}return r.resolve(),l},p._resetModifiedClassCells=function(e){var t=this;if(this.isBatchEditMode()){var n=this._columnsController.getVisibleColumns().length;e.forEach((function(e){for(var i=e.key,o=t._dataController.getRowIndexByKey(i),r=0;r<n;r++){var a=t._rowsView._getCellElement(o,r);null==a||a.removeClass(g.CELL_MODIFIED_CLASS)}}))}},p._prepareChange=function(t,n,i){var r=(0,o.default)(t.cellElement);return this.isBatchEditMode()&&void 0!==t.key&&this._applyModified(r,t),e.prototype._prepareChange.call(this,t,n,i)},p._cancelSaving=function(t){var n=this._dataController;this.isCellOrBatchEditMode()&&(this.isBatchEditMode()&&this._resetEditIndices(),n.updateItems()),e.prototype._cancelSaving.call(this,t)},p.optionChanged=function(t){var n=t.fullName;"editing"===t.name&&n===g.EDITING_EDITCOLUMNNAME_OPTION_NAME?(this._handleEditColumnNameChange(t),t.handled=!0):e.prototype.optionChanged.call(this,t)},p._editCellFromOptionChanged=function(e,t,n){var i=this,o=this._columnsController.getVisibleColumns();e>-1&&(0,r.deferRender)((function(){i._repaintEditCell(o[e],o[t],n)}))},p._handleEditRowKeyChange=function(t){var n;if(this.isCellOrBatchEditMode()){var i=this._getVisibleEditColumnIndex(),o=this._getEditRowIndexCorrection(),r=this._dataController.getRowIndexByKey(t.previousValue)+o;(0,s.isDefined)(t.value)&&t.value!==t.previousValue&&(null===(n=this._editCellFromOptionChanged)||void 0===n||n.call(this,i,i,r))}else e.prototype._handleEditRowKeyChange.call(this,t)},p.deleteRow=function(t){var n=this;if(this.isCellEditMode()&&this.isEditing()){var i=this._dataController.items()[t].isNewRow,o=this._dataController.getKeyByRowIndex(t);this.closeEditCell(null,i).always((function(){t=n._dataController.getRowIndexByKey(o),n._checkAndDeleteRow(t)}))}else e.prototype.deleteRow.call(this,t)},p._checkAndDeleteRow=function(t){this.isBatchEditMode()?this._deleteRowCore(t):e.prototype._checkAndDeleteRow.call(this,t)},p._refreshCore=function(t){var n=(null!=t?t:{}).isPageChanged,i=this.isBatchEditMode()||n&&"virtual"!==this.option("scrolling.mode");this.isCellOrBatchEditMode()?i&&(this._resetEditColumnName(),this._resetEditRowKey()):e.prototype._refreshCore.call(this,t)},p._allowRowAdding=function(t){return!!this.isBatchEditMode()||e.prototype._allowRowAdding.call(this,t)},p._afterDeleteRow=function(t,n){var i=this._dataController;return this.isBatchEditMode()?(i.updateItems({changeType:"update",rowIndices:[n,t]}),(new a.Deferred).resolve()):e.prototype._afterDeleteRow.call(this,t,n)},p._updateEditRow=function(t,n,i){this.isCellOrBatchEditMode()?this._updateRowImmediately(t,n,i):e.prototype._updateEditRow.call(this,t,n,i)},p._isDefaultButtonVisible=function(t,n){if(this.isCellOrBatchEditMode()){var i=this.isBatchEditMode();switch(t.name){case"save":case"cancel":case"edit":return!1;case"delete":return e.prototype._isDefaultButtonVisible.call(this,t,n)&&(!i||!n.row.removed);case"undelete":return i&&this.allowDeleting(n)&&n.row.removed;default:return e.prototype._isDefaultButtonVisible.call(this,t,n)}}return e.prototype._isDefaultButtonVisible.call(this,t,n)},p._isRowDeleteAllowed=function(){return e.prototype._isRowDeleteAllowed.call(this)||this.isBatchEditMode()},p._beforeEndSaving=function(t){var n;this.isCellEditMode()?"update"!==(null===(n=t[0])||void 0===n?void 0:n.type)&&e.prototype._beforeEndSaving.call(this,t):(this.isBatchEditMode()&&this._resetModifiedClassCells(t),e.prototype._beforeEndSaving.call(this,t))},p.prepareEditButtons=function(t){var n,i=null!==(n=this.option("editing"))&&void 0!==n?n:{},o=e.prototype.prepareEditButtons.call(this,t);return(i.allowUpdating||i.allowAdding||i.allowDeleting)&&this.isBatchEditMode()&&(o.push(this.prepareButtonItem(t,"save","saveEditData",21)),o.push(this.prepareButtonItem(t,"revert","cancelEditData",22))),o},p._saveEditDataInner=function(){var t,n=this._dataController.getVisibleRows()[this.getEditRowIndex()],i=this._getEditColumn(),o=null==i?void 0:i.showEditorAlways;return this.isCellEditMode()&&!(null==n?void 0:n.isNewRow)&&o&&(t=new a.Deferred,this.addDeferred(t)),e.prototype._saveEditDataInner.call(this).always(null==t?void 0:t.resolve)},p._applyChange=function(t,n,i){var o=this.isCellEditMode()&&t.row&&!t.row.isNewRow,r=t.column.showEditorAlways,a=t.column.setCellValue!==t.column.defaultSetCellValue;return r&&!i&&o&&this.hasEditData()&&!this.isEditCell(t.rowIndex,t.columnIndex)?(this._focusEditingCell(),void this._updateEditRow(t.row,!0,a)):e.prototype._applyChange.call(this,t,n,i)},p._applyChangeCore=function(t,n){var i=t.column.showEditorAlways,o=this.isCellEditMode()&&t.row&&!t.row.isNewRow;if(i&&!n){if(o)return this._setEditRowKey(t.row.key,!0),this._setEditColumnNameByIndex(t.columnIndex,!0),this.saveEditData();if(this.isBatchEditMode())return n=this._needUpdateRow(t.column),e.prototype._applyChangeCore.call(this,t,n)}return e.prototype._applyChangeCore.call(this,t,n)},p._processDataItemCore=function(t,n,i,o,r){var a=n.data,l=n.type;this.isBatchEditMode()&&l===g.DATA_EDIT_DATA_REMOVE_TYPE&&(t.data=(0,d.createObjectWithChanges)(t.data,a)),e.prototype._processDataItemCore.call(this,t,n,i,o,r)},p._processRemoveCore=function(t,n,i){if(!this.isBatchEditMode()||i)return e.prototype._processRemoveCore.call(this,t,n,i)},p._processRemoveIfError=function(t,n){if(!this.isBatchEditMode())return e.prototype._processRemoveIfError.call(this,t,n)},p._beforeFocusElementInRow=function(t){e.prototype._beforeFocusElementInRow.call(this,t);var n=t>=0?t:0,i=this.getFirstEditableColumnIndex();i>=0&&this.editCell(n,i)},h}(e)}},views:{rowsView:{_createTable:function(){var e=this.callBase.apply(this,arguments),t=this._editingController;return t.isCellOrBatchEditMode()&&this.option("editing.allowUpdating")&&c.default.on(e,(0,p.addNamespace)(h.default.name,"dxDataGridRowsView"),"td:not(.".concat(g.EDITOR_CELL_CLASS,")"),this.createAction((function(){t.isEditing()&&t.closeEditCell()}))),e},_createRow:function(e){var t=this.callBase.apply(this,arguments);if(e){var n=this._editingController,i=!!e.removed;n.isBatchEditMode()&&i&&t.addClass(g.ROW_REMOVED)}return t}},headerPanel:{isVisible:function(){var e=this.getController("editing").option("editing");return this.callBase()||e&&(e.allowUpdating||e.allowDeleting)&&e.mode===g.EDIT_MODE_BATCH}}}}};t.editingCellBasedModule=C},12959:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.editingFormBasedModule=void 0;var i=C(n(70974)),o=C(n(6909)),r=C(n(94965)),a=n(48152),l=n(74460),s=n(12907),d=n(65102),u=n(96993),c=n(49859),h=C(n(38608)),f=C(n(17154)),p=C(n(55721)),g=C(n(50278)),m=C(n(93334)),_=n(32019),v=n(28280);function C(e){return e&&e.__esModule?e:{default:e}}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}var y={extenders:{controllers:{editing:function(e){return function(e){var t,n;function C(){return e.apply(this,arguments)||this}n=e,(t=C).prototype=Object.create(n.prototype),t.prototype.constructor=t,w(t,n);var y=C.prototype;return y.init=function(){this._editForm=null,this._updateEditFormDeferred=null,e.prototype.init.call(this)},y.isFormOrPopupEditMode=function(){return this.isPopupEditMode()||this.isFormEditMode()},y.isPopupEditMode=function(){return this.option("editing.mode")===_.EDIT_MODE_POPUP},y.isFormEditMode=function(){return this.option("editing.mode")===_.EDIT_MODE_FORM},y.getFirstEditableColumnIndex=function(){var t=this._firstFormItem;if(this.isFormEditMode()&&t){var n=this.option(_.EDITING_EDITROWKEY_OPTION_NAME),i=this._dataController.getRowIndexByKey(n),o=this._rowsView.getCellElements(i);return this._rowsView._getEditFormEditorVisibleIndex(o,t.column)}return e.prototype.getFirstEditableColumnIndex.call(this)},y.getEditFormRowIndex=function(){return this.isFormOrPopupEditMode()?this._getVisibleEditRowIndex():e.prototype.getEditFormRowIndex.call(this)},y._isEditColumnVisible=function(){var t=e.prototype._isEditColumnVisible.call(this),n=this.option("editing");return this.isFormOrPopupEditMode()&&n.allowUpdating||t},y._handleDataChanged=function(t){var n,i;if(this.isPopupEditMode()){var o=this.option("editing.editRowKey"),r=null===(n=null==t?void 0:t.items)||void 0===n?void 0:n.some((function(e){return(0,a.equalByValue)(e.key,o)})),l=(null===(i=t.changeTypes)||void 0===i?void 0:i.length)&&t.changeTypes.every((function(e){return"insert"===e}));("refresh"===t.changeType||r&&t.isOptionChanged)&&!l&&this._repaintEditPopup()}e.prototype._handleDataChanged.call(this,t)},y.getPopupContent=function(){var e,t=null===(e=this._editPopup)||void 0===e?void 0:e.option("visible");if(this.isPopupEditMode()&&t)return this._$popupContent},y._showAddedRow=function(t){this.isPopupEditMode()?this._showEditPopup(t):e.prototype._showAddedRow.call(this,t)},y._cancelEditDataCore=function(){e.prototype._cancelEditDataCore.call(this),this.isPopupEditMode()&&this._hideEditPopup()},y._updateEditRowCore=function(t,n,i){var o,r=this._editForm;this.isPopupEditMode()?this.option("repaintChangesOnly")?(null===(o=t.update)||void 0===o||o.call(t,t),this._rowsView.renderDelayedTemplates()):r&&(this._updateEditFormDeferred=(new l.Deferred).done((function(){return r.repaint()})),this._updateLockCount||this._updateEditFormDeferred.resolve()):e.prototype._updateEditRowCore.call(this,t,n,i)},y._showEditPopup=function(t,n){var o=this,a="desktop"!==i.default.current().deviceType,l=this.addWidgetPrefix(_.EDIT_POPUP_CLASS),s=(0,d.extend)({showTitle:!1,fullScreen:a,wrapperAttr:{class:l},toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:this._getSaveButtonConfig()},{toolbar:"bottom",location:"after",widget:"dxButton",options:this._getCancelButtonConfig()}],contentTemplate:this._getPopupEditFormTemplate(t)},this.option(_.EDITING_POPUP_OPTION_NAME));if(!this._editPopup){var u=(0,r.default)("<div>").appendTo(this.component.$element()).addClass(l);this._editPopup=this._createComponent(u,g.default),this._editPopup.on("hiding",this._getEditPopupHiddenHandler()),this._editPopup.on("shown",(function(e){var t;h.default.trigger(e.component.$content().find(_.FOCUSABLE_ELEMENT_SELECTOR).not(".".concat(_.FOCUSABLE_ELEMENT_CLASS)).first(),"focus"),n&&(null===(t=o._editForm)||void 0===t||t.repaint())}))}this._editPopup.option(s),this._editPopup.show(),e.prototype._showEditPopup.call(this,t,n)},y._getPopupEditFormTemplate=function(e){var t=this,n=this.component.getVisibleRows()[e],i={row:n,values:n.values,rowType:n.rowType,key:n.key,rowIndex:e};return this._rowsView._addWatchMethod(i,n),function(e){var n=t.getEditFormTemplate(),o=t._createComponent((0,r.default)("<div>").appendTo(e),m.default);t._$popupContent=(0,r.default)(o.content()),n(t._$popupContent,i,{isPopupForm:!0}),t._rowsView.renderDelayedTemplates(),(0,r.default)(e).parent().attr("aria-label",t.localize("dxDataGrid-ariaEditForm"))}},y._repaintEditPopup=function(){var e,t,n=this._getVisibleEditRowIndex();if(n>=0){var i=null===(e=this._editPopup)||void 0===e?void 0:e.option("animation");null===(t=this._editPopup)||void 0===t||t.option("animation",null),this._showEditPopup(n,!0),void 0!==i&&this._editPopup.option("animation",i)}},y._hideEditPopup=function(){var e;null===(e=this._editPopup)||void 0===e||e.option("visible",!1)},y.optionChanged=function(t){if("editing"===t.name&&this.isFormOrPopupEditMode()){var n=t.fullName;0===n.indexOf(_.EDITING_FORM_OPTION_NAME)?(this._handleFormOptionChange(t),t.handled=!0):0===n.indexOf(_.EDITING_POPUP_OPTION_NAME)&&(this._handlePopupOptionChange(t),t.handled=!0)}e.prototype.optionChanged.call(this,t)},y._handleFormOptionChange=function(e){var t;if(this.isFormEditMode()){var n=this._getVisibleEditRowIndex();n>=0&&this._dataController.updateItems({changeType:"update",rowIndices:[n]})}else(null===(t=this._editPopup)||void 0===t?void 0:t.option("visible"))&&0===e.fullName.indexOf(_.EDITING_FORM_OPTION_NAME)&&this._repaintEditPopup()},y._handlePopupOptionChange=function(e){var t=this._editPopup;if(t){var n=e.fullName.slice(_.EDITING_POPUP_OPTION_NAME.length+1);n?t.option(n,e.value):t.option(e.value)}},y.renderFormEditorTemplate=function(e,t,n,i,o){var a=this,l=this,u=(0,r.default)(i),c=t.column,h=(0,v.getEditorType)(t),f=null==e?void 0:e.row.data,p=n.component,g=n.editorOptions||{},m=g.label,_=g.labelMark,C=g.labelMode,w=(0,d.extend)({},e,{data:f,cellElement:null,isOnForm:!0,item:t,id:p.getItemID(t.name||t.dataField),column:(0,d.extend)({},c,{editorType:h,editorOptions:(0,d.extend)({label:m,labelMark:_,labelMode:C},c.editorOptions,t.editorOptions)}),columnIndex:c.index,setValue:!o&&c.allowEditing&&function(e,t){l.updateFieldValue(w,e,t)}});w.value=c.calculateCellValue(f);var y=this._getFormEditItemTemplate.bind(this)(w,c);return this._rowsView.renderTemplate(u,y,w,!!(0,s.isElementInDom)(u)).done((function(){a._rowsView._updateCell(u,w)})),w},y.getFormEditorTemplate=function(e,t){var n=this,i=this.component.columnOption(t.dataField);return function(o,a){var l,s,d=(0,r.default)(a);null===(s=(l=e.row).watch)||void 0===s||s.call(l,(function(){return i.selector(e.row.data)}),(function(){var i=d.find(".dx-widget").first(),r=i.data("dxValidator"),a=null==r?void 0:r.option();d.contents().remove(),e=n.renderFormEditorTemplate.bind(n)(e,t,o,d),r=(i=d.find(".dx-widget").first()).data("dxValidator"),a&&!r&&i.dxValidator({validationRules:a.validationRules,validationGroup:a.validationGroup,dataGetter:a.dataGetter})})),e=n.renderFormEditorTemplate.bind(n)(e,t,o,d)}},y.getEditFormOptions=function(e){var t,n=this,i=null===(t=this._getValidationGroupsInForm)||void 0===t?void 0:t.call(this,e),r=this.option("editing.form.customizeItem"),a=this.addWidgetPrefix(_.EDIT_FORM_ITEM_CLASS),l=this.option("editing.form.items"),s={};if(l)(0,v.forEachFormItems)(l,(function(e){var t=(null==e?void 0:e.name)||(null==e?void 0:e.dataField);t&&(s[t]=!!e.editorType)}));else{var h=this.getController("columns").getColumns();l=[],(0,u.each)(h,(function(e,t){t.isBand||t.type||l.push({column:t,name:t.name,dataField:t.dataField})}))}return(0,d.extend)({},i,{items:l,formID:"dx-".concat(new o.default),customizeItem:function(t){var i,o=t.name||t.dataField;if((t.column||o)&&(i=t.column||n._columnsController.columnOption(t.name?"name:".concat(t.name):"dataField:".concat(t.dataField))),i){if(t.label=t.label||{},t.label.text=t.label.text||i.caption,"boolean"===i.dataType&&void 0===t.label.visible){var l=n.option("editing.form.labelMode");"floating"!==l&&"static"!==l||(t.label.visible=!0)}t.template=t.template||n.getFormEditorTemplate(e,t),t.column=i,t.isCustomEditorType=s[o],i.formItem&&(0,d.extend)(t,i.formItem),void 0===t.isRequired&&i.validationRules&&(t.isRequired=i.validationRules.some((function(e){return"required"===e.type})),t.validationRules=[]);var u=!(0,c.isDefined)(t.visible)||t.visible;!n._firstFormItem&&u&&(n._firstFormItem=t)}null==r||r.call(n,t),t.cssClass=(0,c.isString)(t.cssClass)?"".concat(t.cssClass," ").concat(a):a}})},y.getEditFormTemplate=function(){var e=this;return function(t,n,i){var o=e.option(_.EDITING_FORM_OPTION_NAME),a=e.getEditFormOptions(n),l=(0,r.default)("<div>").appendTo(t),s=null==i?void 0:i.isPopupForm;if(e._firstFormItem=void 0,s&&l.addClass(e.addWidgetPrefix(_.EDIT_POPUP_FORM_CLASS)),e._editForm=e._createComponent(l,p.default,(0,d.extend)({},o,a)),!s){var u=(0,r.default)("<div>").addClass(e.addWidgetPrefix(_.FORM_BUTTONS_CONTAINER_CLASS)).appendTo(t);e._createComponent((0,r.default)("<div>").appendTo(u),f.default,e._getSaveButtonConfig()),e._createComponent((0,r.default)("<div>").appendTo(u),f.default,e._getCancelButtonConfig())}e._editForm.on("contentReady",(function(){var t;e._rowsView.renderDelayedTemplates(),null===(t=e._editPopup)||void 0===t||t.repaint()}))}},y.getEditForm=function(){return this._editForm},y._endUpdateCore=function(){var e;null===(e=this._updateEditFormDeferred)||void 0===e||e.resolve()},y._beforeEndSaving=function(t){var n;e.prototype._beforeEndSaving.call(this,t),this.isPopupEditMode()&&(null===(n=this._editPopup)||void 0===n||n.hide())},y._processDataItemCore=function(t,n,i,o,r){var a=n.type;this.isPopupEditMode()&&a===_.DATA_EDIT_DATA_INSERT_TYPE&&(t.visible=!1),e.prototype._processDataItemCore.call(this,t,n,i,o,r)},y._editRowFromOptionChangedCore=function(t,n){var i=this.isPopupEditMode();e.prototype._editRowFromOptionChangedCore.call(this,t,n,i),i&&this._showEditPopup(n)},C}(e)},data:{_updateEditItem:function(e){this._editingController.isFormEditMode()&&(e.rowType="detail")},_getChangedColumnIndices:function(e,t,n,i){if(!1!==i||!t.isEditing||!this._editingController.isFormEditMode())return this.callBase.apply(this,arguments)}}},views:{rowsView:{_renderCellContent:function(e,t){"data"===t.rowType&&this._editingController.isPopupEditMode()&&!1===t.row.visible||this.callBase.apply(this,arguments)},getCellElements:function(e){var t=this.callBase(e),n=this._editingController,i=n.getEditForm();return n.getEditFormRowIndex()===e&&t&&i?i.$element().find(".".concat(this.addWidgetPrefix(_.EDIT_FORM_ITEM_CLASS),", .").concat(_.BUTTON_CLASS)):t},_getVisibleColumnIndex:function(e,t,n){if(this._editingController.getEditFormRowIndex()===t&&(0,c.isString)(n)){var i=this._columnsController.columnOption(n);return this._getEditFormEditorVisibleIndex(e,i)}return this.callBase.apply(this,arguments)},_getEditFormEditorVisibleIndex:function(e,t){var n=-1;return(0,u.each)(e,(function(e,i){var o=(0,r.default)(i).find(".dx-field-item-content").data("dx-form-item");if((null==o?void 0:o.column)&&t&&o.column.index===t.index)return n=e,!1})),n},_isFormItem:function(e){var t="detail"===e.rowType||"detailAdaptive"===e.rowType,n="data"===e.rowType&&this._editingController.isPopupEditMode();return(t||n)&&e.item},_updateCell:function(e,t){this._isFormItem(t)?this._formItemPrepared(t,e):this.callBase(e,t)}}}}};t.editingFormBasedModule=y},52274:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.editingRowBasedModule=void 0;var i=n(48152),o=n(32019);function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var a={extenders:{controllers:{editing:function(e){return function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n);var l=a.prototype;return l.isRowEditMode=function(){return this.getEditMode()===o.EDIT_MODE_ROW},l._afterCancelEditData=function(t){var n=this._dataController;this.isRowBasedEditMode()&&t>=0?n.updateItems({changeType:"update",rowIndices:[t,t+1]}):e.prototype._afterCancelEditData.call(this,t)},l._isDefaultButtonVisible=function(t,n){var r=this.isRowBasedEditMode(),a=n.row&&(0,i.equalByValue)(n.row.key,this.option(o.EDITING_EDITROWKEY_OPTION_NAME));if(r)switch(t.name){case"edit":return!a&&this.allowUpdating(n);case"delete":return e.prototype._isDefaultButtonVisible.call(this,t,n)&&!a;case"save":case"cancel":return a;default:return e.prototype._isDefaultButtonVisible.call(this,t,n)}return e.prototype._isDefaultButtonVisible.call(this,t,n)},l.isEditRow=function(e){return this.isRowBasedEditMode()&&this.isEditRowByIndex(e)},l._cancelSaving=function(t){this.isRowBasedEditMode()&&(this.hasChanges()||this._cancelEditDataCore()),e.prototype._cancelSaving.call(this,t)},l._refreshCore=function(t){var n=(null!=t?t:{}).allowCancelEditing;if(this.isRowBasedEditMode()){var i=this.getChanges().filter((function(e){return"update"===e.type})).length>0;this.init(),n&&i&&this._cancelEditDataCore()}e.prototype._refreshCore.call(this,t)},l._isEditColumnVisible=function(){var t=e.prototype._isEditColumnVisible.call(this),n=this.option("editing"),i=this.isRowEditMode(),o=n.allowUpdating||n.allowAdding;return t||i&&o},l._focusEditorIfNeed=function(){var e=this,t=this.getEditMode();if(this._needFocusEditor){if(o.MODES_WITH_DELAYED_FOCUS.includes(t)){var n=this.getFocusedCellInRow(this._getVisibleEditRowIndex());this._delayedInputFocus(n,(function(){n&&e.component.focus(n)}))}this._needFocusEditor=!1}},a}(e)},data:{_getChangedColumnIndices:function(e,t,n,i){if(!this.getController("editing").isRowBasedEditMode()||e.isEditing===t.isEditing)return this.callBase.apply(this,arguments)}}},views:{rowsView:{_createRow:function(e){var t=this.callBase.apply(this,arguments);e&&(this._editingController.isEditRow(e.rowIndex)&&(t.addClass(o.EDIT_ROW),t.removeClass(o.ROW_SELECTED_CLASS),"detail"===e.rowType&&t.addClass(this.addWidgetPrefix(o.EDIT_FORM_CLASS))));return t},_update:function(e){this.callBase(e),"updateSelection"===e.changeType&&this.getTableElements().children("tbody").children(".".concat(o.EDIT_ROW)).removeClass(o.ROW_SELECTED_CLASS)}}}}};t.editingRowBasedModule=a},28280:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getButtonIndex=t.generateNewRowTempKey=t.forEachFormItems=t.createFailureHandler=void 0,t.getButtonName=s,t.getEditorType=t.getEditingTexts=void 0,t.isEditable=function(e){return e&&(e.is("input")||e.is("textarea"))},t.isNewRowTempKey=t.isEditingOrShowEditorAlwaysDataCell=t.isEditingCell=void 0;var i,o=(i=n(6909))&&i.__esModule?i:{default:i},r=n(49859);var a="_DX_KEY_";t.createFailureHandler=function(e){return function(t){var n=t instanceof Error?t:new Error(t&&String(t)||"Unknown error");e.reject(n)}};var l=function(e,t){return t.isEditing||e&&t.column.allowEditing};t.isEditingCell=l;t.isEditingOrShowEditorAlwaysDataCell=function(e,t){var n=!!t.column.command,i=l(e,t),o=!n&&(i||t.column.showEditorAlways);return"data"===t.rowType&&o};t.getEditingTexts=function(e){var t=e.component.option("editing.texts")||{};return{save:t.saveRowChanges,cancel:t.cancelRowChanges,edit:t.editRow,undelete:t.undeleteRow,delete:t.deleteRow,add:t.addRowToNode}};t.generateNewRowTempKey=function(){return"".concat(a).concat(new o.default)};t.isNewRowTempKey=function(e){return"string"==typeof e&&e.startsWith(a)&&44===e.length};function s(e){return(0,r.isObject)(e)?e.name:e}t.getButtonIndex=function(e,t){var n=-1;return e.some((function(e,i){if(s(e)===t)return n=i,!0})),n};t.getEditorType=function(e){var t,n=e.column;return e.isCustomEditorType?e.editorType:null===(t=n.formItem)||void 0===t?void 0:t.editorType};t.forEachFormItems=function e(t,n){t.forEach((function(t){t.items||t.tabs?e(t.items||t.tabs,n):n(t)}))}},15608:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.editorFactoryModule=t.EditorFactory=void 0;var i=_(n(84728)),o=_(n(70175)),r=_(n(94965)),a=_(n(19478)),l=n(65102),s=n(37954),d=n(21620),u=n(82769),c=_(n(38608)),h=_(n(54960)),f=n(6473),p=_(n(71220)),g=_(n(97478)),m=_(n(37028));function _(e){return e&&e.__esModule?e:{default:e}}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}var C="dx-cell-focus-disabled",w="focus-overlay",y="dx-focused",x="dxDataGridEditorFactory",I=(0,f.addNamespace)([h.default.down,"focusin",u.name].join(" "),x),b="dx-hidden",E=function(e){var t,n;function u(){return e.apply(this,arguments)||this}n=e,(t=u).prototype=Object.create(n.prototype),t.prototype.constructor=t,v(t,n);var h=u.prototype;return h._getFocusedElement=function(e){var t=this.option("focusedRowEnabled")?"tr[tabindex]:focus":"tr[tabindex]:not(.dx-data-row):focus",n="td[tabindex]:focus, ".concat(t,", input:focus, textarea:focus, .dx-lookup-field:focus, .dx-checkbox:focus, .dx-switch:focus, .dx-dropdownbutton .dx-buttongroup:focus, .dx-adaptive-item-text:focus"),i=e.find(n);return this.elementIsInsideGrid(i)&&i},h._getFocusCellSelector=function(){return".dx-row > td"},h._updateFocusCore=function(){var e=this.component&&this.component.$element();if(e){var t=this._getFocusedElement(e);if(t&&t.length){var n;if(!t.hasClass(C)&&!t.hasClass("dx-row")){var i=t.closest("".concat(this._getFocusCellSelector(),", .").concat(C));i.get(0)!==t.get(0)&&(n=this._needHideBorder(i),t=i)}if(t.length&&!t.hasClass(C))return void this.focus(t,n)}}this.loseFocus()},h._needHideBorder=function(e){return e.hasClass("dx-editor-inline-block")},h._updateFocus=function(e){var t=this,n=e&&e.event&&(0,r.default)(e.event.target).hasClass(t.addWidgetPrefix(w));t._isFocusOverlay=t._isFocusOverlay||n,clearTimeout(t._updateFocusTimeoutID),t._updateFocusTimeoutID=setTimeout((function(){delete t._updateFocusTimeoutID,t._isFocusOverlay||t._updateFocusCore(),t._isFocusOverlay=!1}))},h._updateFocusOverlaySize=function(e,t){e.hide();var n=i.default.calculate(e,(0,l.extend)({collision:"fit"},t));n.h.oversize>0&&(0,d.setOuterWidth)(e,(0,d.getOuterWidth)(e)-n.h.oversize),n.v.oversize>0&&(0,d.setOuterHeight)(e,(0,d.getOuterHeight)(e)-n.v.oversize),e.show()},h.callbackNames=function(){return["focused"]},h.focus=function(e,t){var n=this;if(void 0===e)return n._$focusedElement;e&&(e.is(n._$focusedElement)||n._$focusedElement&&n._$focusedElement.removeClass(y),n._$focusedElement=e,clearTimeout(n._focusTimeoutID),n._focusTimeoutID=setTimeout((function(){delete n._focusTimeoutID,n.renderFocusOverlay(e,t),e.addClass(y),n.focused.fire(e)})))},h.refocus=function(){var e=this.focus();this.focus(e)},h.renderFocusOverlay=function(e,t){if(m.default.isElementInCurrentGrid(this,e))if(this._$focusOverlay||(this._$focusOverlay=(0,r.default)("<div>").addClass(this.addWidgetPrefix(w))),t)this._$focusOverlay.addClass(b);else if(e.length){var n=a.default.mozilla?"right bottom":"left top",o=e.closest(".".concat(this.addWidgetPrefix("content"))),l=(0,s.getBoundingRect)(e.get(0));this._$focusOverlay.removeClass(b).appendTo(o),(0,d.setOuterHeight)(this._$focusOverlay,l.bottom-l.top+1),(0,d.setOuterWidth)(this._$focusOverlay,l.right-l.left+1);var u={precise:!0,my:n,at:n,of:e,boundary:o.length&&o};this._updateFocusOverlaySize(this._$focusOverlay,u),i.default.setup(this._$focusOverlay,u),this._$focusOverlay.css("visibility","visible")}},h.resize=function(){var e=this._$focusedElement;e&&this.focus(e)},h.loseFocus=function(){this._$focusedElement&&this._$focusedElement.removeClass(y),this._$focusedElement=null,this._$focusOverlay&&this._$focusOverlay.addClass(b)},h.init=function(){this.createAction("onEditorPreparing",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this.createAction("onEditorPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this._updateFocusHandler=this._updateFocusHandler||this.createAction(this._updateFocus.bind(this)),this._subscribedContainerRoot=this._getContainerRoot(),c.default.on(this._subscribedContainerRoot,I,this._updateFocusHandler),this._attachContainerEventHandlers()},h._getContainerRoot=function(){var e,t=null===(e=this.component)||void 0===e?void 0:e.$element(),n=o.default.getRootNode(null==t?void 0:t.get(0));return n.nodeType!==Node.DOCUMENT_FRAGMENT_NODE||n.host?n:o.default.getDocument()},h._attachContainerEventHandlers=function(){var e=this,t=e.component&&e.component.$element();t&&c.default.on(t,(0,f.addNamespace)("keydown",x),(function(t){"tab"===(0,f.normalizeKeyName)(t)&&e._updateFocusHandler(t)}))},h.dispose=function(){clearTimeout(this._focusTimeoutID),clearTimeout(this._updateFocusTimeoutID),c.default.off(this._subscribedContainerRoot,I,this._updateFocusHandler)},u}(g.default.ViewController.inherit(p.default));t.EditorFactory=E;var S={defaultOptions:function(){return{}},controllers:{editorFactory:E}};t.editorFactoryModule=S},12787:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.errorHandlingModule=void 0;var i=s(n(94965)),o=n(96993),r=n(82769),a=s(n(38608)),l=s(n(97478));function s(e){return e&&e.__esModule?e:{default:e}}var d="dx-error-row",u="dx-error-message",c={defaultOptions:function(){return{errorRowEnabled:!0}},controllers:{errorHandling:l.default.ViewController.inherit({init:function(){this._columnHeadersView=this.getView("columnHeadersView"),this._rowsView=this.getView("rowsView")},_createErrorRow:function(e,t){var n,l,s=this,u=this._renderErrorMessage(e);return t?(n=(0,i.default)("<tr>").addClass(d),l=(0,i.default)("<div>").addClass("dx-closebutton").addClass(s.addWidgetPrefix("action")),a.default.on(l,r.name,s.createAction((function(e){var n,r=e.event,a=(0,i.default)(r.currentTarget).closest(".".concat(d)).index();r.stopPropagation(),(0,o.each)(t,(function(e,t){n=(0,i.default)(t).children("tbody").children("tr").eq(a),s.removeErrorRow(n)})),s.getController("resizing")&&s.getController("resizing").fireContentReadyAction()}))),(0,i.default)("<td>").attr({colSpan:s.getController("columns").getVisibleColumns().length,role:"presentation"}).prepend(l).append(u).appendTo(n),n):u},_renderErrorMessage:function(e){var t=e.url?e.message.replace(e.url,""):e.message||e,n=(0,i.default)("<div>").addClass(u).text(t);return e.url&&(0,i.default)("<a>").attr("href",e.url).text(e.url).appendTo(n),n},renderErrorRow:function(e,t,n){var r,a,l=this;if(n)return n.find(".".concat(u)).remove(),r=l._createErrorRow(e),n.prepend(r),r;var s=t>=0||!l._columnHeadersView.isVisible()?l._rowsView:l._columnHeadersView,d=s.getTableElements();(0,o.each)(d,(function(n,o){if(r=l._createErrorRow(e,d),a=a||r,t>=0){var u=s._getRowElements((0,i.default)(o)).eq(t);l.removeErrorRow(u.next()),r.insertAfter(u)}else{var c=(0,i.default)(o).children("tbody"),h=c.children("tr");l._columnHeadersView.isVisible()?(l.removeErrorRow(h.last()),(0,i.default)(o).append(r)):(l.removeErrorRow(h.first()),c.first().prepend(r))}}));var c=l.getController("resizing");return c&&c.fireContentReadyAction(),a},removeErrorRow:function(e){if(!e){var t=this._columnHeadersView&&this._columnHeadersView.element();if(!(e=t&&t.find(".".concat(d)))||!e.length){var n=this._rowsView.element();e=n&&n.find(".".concat(d))}}e&&e.hasClass(d)&&e.remove()},optionChanged:function(e){if("errorRowEnabled"===e.name)e.handled=!0;else this.callBase(e)}})},extenders:{controllers:{data:{init:function(){var e=this,t=e.getController("errorHandling");e.callBase(),e.dataErrorOccurred.add((function(n,i){e.option("errorRowEnabled")&&t.renderErrorRow(n,void 0,i)})),e.changed.add((function(t){if(!t||"loadError"!==t.changeType){var n=e.getController("errorHandling"),i=e.getController("editing");i&&!i.hasChanges()&&n&&n.removeErrorRow()}}))}}}}};t.errorHandlingModule=c},85848:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.filterBuilderModule=void 0;var i=u(n(94965)),o=n(65102),r=u(n(63585)),a=u(n(38029)),l=u(n(50278)),s=u(n(55629)),d=n(54839);function u(e){return e&&e.__esModule?e:{default:e}}var c={defaultOptions:function(){return{filterBuilder:{groupOperationDescriptions:{and:r.default.format("dxFilterBuilder-and"),or:r.default.format("dxFilterBuilder-or"),notAnd:r.default.format("dxFilterBuilder-notAnd"),notOr:r.default.format("dxFilterBuilder-notOr")},filterOperationDescriptions:{between:r.default.format("dxFilterBuilder-filterOperationBetween"),equal:r.default.format("dxFilterBuilder-filterOperationEquals"),notEqual:r.default.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:r.default.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:r.default.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:r.default.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:r.default.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:r.default.format("dxFilterBuilder-filterOperationStartsWith"),contains:r.default.format("dxFilterBuilder-filterOperationContains"),notContains:r.default.format("dxFilterBuilder-filterOperationNotContains"),endsWith:r.default.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:r.default.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:r.default.format("dxFilterBuilder-filterOperationIsNotBlank")}},filterBuilderPopup:{}}},views:{filterBuilderView:u(n(97478)).default.View.inherit({_renderCore:function(){this._updatePopupOptions()},_updatePopupOptions:function(){this.option("filterBuilderPopup.visible")?this._initPopup():this._filterBuilderPopup&&this._filterBuilderPopup.hide()},_disposePopup:function(){this._filterBuilderPopup&&(this._filterBuilderPopup.dispose(),this._filterBuilderPopup=void 0),this._filterBuilder&&(this._filterBuilder.dispose(),this._filterBuilder=void 0)},_initPopup:function(){var e=this;e._disposePopup(),e._filterBuilderPopup=e._createComponent(e.element(),l.default,(0,o.extend)({title:r.default.format("dxDataGrid-filterBuilderPopupTitle"),contentTemplate:function(t){return e._getPopupContentTemplate(t)},onOptionChanged:function(t){"visible"===t.name&&e.option("filterBuilderPopup.visible",t.value)},toolbarItems:e._getPopupToolbarItems()},e.option("filterBuilderPopup"),{onHidden:function(){(0,d.restoreFocus)(e),e._disposePopup()}}))},_getPopupContentTemplate:function(e){var t=(0,i.default)(e),n=(0,i.default)("<div>").appendTo((0,i.default)(e));this._filterBuilder=this._createComponent(n,a.default,(0,o.extend)({value:this.option("filterValue"),fields:this.getController("columns").getFilteringColumns()},this.option("filterBuilder"),{customOperations:this.getController("filterSync").getCustomFilterOperations()})),this._createComponent(t,s.default,{direction:"both"})},_getPopupToolbarItems:function(){var e=this;return[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:r.default.format("OK"),onClick:function(){var t=e._filterBuilder.option("value");e.option("filterValue",t),e._filterBuilderPopup.hide()}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:r.default.format("Cancel"),onClick:function(){e._filterBuilderPopup.hide()}}}]},optionChanged:function(e){switch(e.name){case"filterBuilder":case"filterBuilderPopup":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}}})}};t.filterBuilderModule=c},43070:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.anyOf=function(e){return(0,r.extend)(c(e),{name:"anyof",icon:"selectall",caption:l.default.format("dxFilterBuilder-filterOperationAnyOf")})},t.noneOf=function(e){var t=c(e);return(0,r.extend)({},t,{calculateFilterExpression:function(e,n,i){var o=t.calculateFilterExpression(e,n,i);return o&&0!==o.length?"!"===o[0]?o:["!",o]:null},name:"noneof",icon:"unselectall",caption:l.default.format("dxFilterBuilder-filterOperationNoneOf")})};var i=u(n(94965)),o=n(74460),r=n(65102),a=n(81704),l=u(n(63585)),s=n(31932),d=u(n(47625));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=function(e,t){return t?"".concat(t,"/").concat(e):e},n=e&&e.getController("headerFilter");return{dataTypes:["string","date","datetime","number","boolean","object"],calculateFilterExpression:function(e,t,n){var i=[],o=e.length-1;return e&&e.forEach((function(e,r){if((0,s.isCondition)(e)||(0,s.isGroup)(e)){var a=(0,s.getFilterExpression)(e,n,[],"headerFilter");i.push(a)}else{var l=(0,s.getFilterExpression)([t.dataField,"=",e],n,[],"headerFilter");i.push(l)}r!==o&&i.push("or")})),1===i.length?i[0]:i},editorTemplate:function(t,o){var a=(0,i.default)("<div>").addClass("dx-filterbuilder-item-value-text").appendTo(o),l=(0,r.extend)(!0,{},e.columnOption(t.field.dataField));return(0,s.renderValueText)(a,t.text&&t.text.split("|")),l.filterType="include",l.filterValues=t.value?t.value.slice():[],n.showHeaderFilterMenuBase({columnElement:a,column:l,apply:function(){var e;e=this.filterValues,t.setValue(e),n.hideHeaderFilterMenu(),t.closeEditor()},onHidden:function(){t.closeEditor()},isFilterBuilder:!0}),o},customizeText:function(i,l){l=l||{};var s=i.value,u=e.columnOption(i.field.dataField),c=u&&u.headerFilter,h=u&&u.lookup,f=l.values||[s];if(c&&c.dataSource||h&&h.dataSource){var p=new o.Deferred,g=l.items||new o.Deferred;if(!l.items){u=(0,r.extend)({},u,{filterType:"include",filterValues:f});var m=n.getDataSource(u);m.paginate=!1;var _=new a.DataSource(m),v=_.store().key();if(v){var C=l.values;if(C&&C.length>1){var w=C.reduce((function(e,t){return e.length&&e.push("or"),e.push([v,"=",t]),e}),[]);_.filter(w)}else _.filter([v,"=",i.value])}else i.field.calculateDisplayValue&&d.default.log("W1017");l.items=g,_.load().done(g.resolve)}return g.done((function(e){var n=f.indexOf(i.value);p.resolve(function e(n,i){var o=[];return n.forEach((function(n){if(n.items){var r=e(n.items,t(n.text,i));o=o.concat(r)}n.selected&&o.push(t(n.text,i))})),o}(e,null)[n])})),p}return n.getHeaderItemText(s,u,0,e.option("headerFilter"))}}}},79663:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.filterPanelModule=void 0;var i=p(n(94965)),o=n(74460),r=n(10117),a=n(49859),l=p(n(38608)),s=p(n(63585)),d=p(n(98800)),u=n(31932),c=n(88297),h=p(n(97478)),f=p(n(37028));function p(e){return e&&e.__esModule?e:{default:e}}var g="filter-panel",m="".concat(g,"-text"),_="".concat(g,"-checkbox"),v="".concat(g,"-clear-filter"),C="".concat(g,"-left"),w={defaultOptions:function(){return{filterPanel:{visible:!1,filterEnabled:!0,texts:{createFilter:s.default.format("dxDataGrid-filterPanelCreateFilter"),clearFilter:s.default.format("dxDataGrid-filterPanelClearFilter"),filterEnabledHint:s.default.format("dxDataGrid-filterPanelFilterEnabledHint")}}}},views:{filterPanelView:h.default.View.inherit({isVisible:function(){return this.option("filterPanel.visible")&&this.getController("data").dataSource()},init:function(){var e=this;this.getController("data").dataSourceChanged.add((function(){return e.render()})),this._columnsController=this.getController("columns")},_renderCore:function(){var e=this.element();if(e.empty(),!!this._columnsController.getColumns().length){e.addClass(this.addWidgetPrefix(g));var t=(0,i.default)("<div>").addClass(this.addWidgetPrefix(C)).appendTo(e);this._renderFilterBuilderText(e,t)}},_renderFilterBuilderText:function(e,t){var n=this._getFilterElement(),i=this._getTextElement();if(this.option("filterValue")||this._filterValueBuffer){var o=this._getCheckElement(),r=this._getRemoveButtonElement();return t.append(o).append(n).append(i),void e.append(r)}t.append(n).append(i)},_getCheckElement:function(){var e=this,t=(0,i.default)("<div>").addClass(this.addWidgetPrefix(_));return e._createComponent(t,d.default,{value:e.option("filterPanel.filterEnabled"),onValueChanged:function(t){e.option("filterPanel.filterEnabled",t.value)}}),t.attr("title",this.option("filterPanel.texts.filterEnabledHint")),t},_getFilterElement:function(){var e=this,t=(0,i.default)("<div>").addClass("dx-icon-filter");return l.default.on(t,"click",(function(){return e._showFilterBuilder()})),(0,c.registerKeyboardAction)("filterPanel",e,t,void 0,(function(){return e._showFilterBuilder()})),e._addTabIndexToElement(t),t},_getTextElement:function(){var e,t=this,n=(0,i.default)("<div>").addClass(t.addWidgetPrefix(m)),r=t.option("filterValue");return r?(0,o.when)(t.getFilterText(r,t.getController("filterSync").getCustomFilterOperations())).done((function(e){var i=t.option("filterPanel.customizeText");if(i){var o=i({component:t.component,filterValue:r,text:e});"string"==typeof o&&(e=o)}n.text(e)})):(e=t.option("filterPanel.texts.createFilter"),n.text(e)),l.default.on(n,"click",(function(){return t._showFilterBuilder()})),(0,c.registerKeyboardAction)("filterPanel",t,n,void 0,(function(){return t._showFilterBuilder()})),t._addTabIndexToElement(n),n},_showFilterBuilder:function(){this.option("filterBuilderPopup.visible",!0)},_getRemoveButtonElement:function(){var e=this,t=function(){return e.option("filterValue",null)},n=(0,i.default)("<div>").addClass(e.addWidgetPrefix(v)).text(e.option("filterPanel.texts.clearFilter"));return l.default.on(n,"click",t),(0,c.registerKeyboardAction)("filterPanel",this,n,void 0,t),e._addTabIndexToElement(n),n},_addTabIndexToElement:function(e){if(!this.option("useLegacyKeyboardNavigation")){var t=this.option("tabindex")||0;e.attr("tabindex",t)}},optionChanged:function(e){switch(e.name){case"filterValue":this._invalidate(),this.option("filterPanel.filterEnabled",!0),e.handled=!0;break;case"filterPanel":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}},_getConditionText:function(e,t,n){var i="[".concat(e,"] ").concat(t);return(0,a.isDefined)(n)&&(i+=n),i},_getValueMaskedText:function(e){return Array.isArray(e)?"('".concat(e.join("', '"),"')"):" '".concat(e,"'")},_getValueText:function(e,t,n){var i=this,r=new o.Deferred,l=t&&t.customizeText;if((0,a.isDefined)(n)||l)if(!l&&e.lookup)(0,u.getCurrentLookupValueText)(e,n,(function(e){r.resolve(i._getValueMaskedText(e))}));else{var s=Array.isArray(n)?n:f.default.getDisplayValue(e,n,null);(0,o.when)((0,u.getCurrentValueText)(e,s,t,"filterPanel")).done((function(e){r.resolve(i._getValueMaskedText(e))}))}else r.resolve("");return r.promise()},getConditionText:function(e,t){var n,i=this,a=e[1],l=new o.Deferred,s=(0,u.getCustomOperation)(t.customOperations,a),d=(0,u.getField)(e[0],t.columns),c=d.caption||"",h=e[2];return n=s?s.caption||(0,r.captionize)(s.name):null===h?(0,u.getCaptionByOperation)("="===a?"isblank":"isnotblank",t.filterOperationDescriptions):(0,u.getCaptionByOperation)(a,t.filterOperationDescriptions),this._getValueText(d,s,h).done((function(e){l.resolve(i._getConditionText(c,n,e))})),l},getGroupText:function(e,t,n){var i=this,r=new o.Deferred,a=[],l=(0,u.getGroupValue)(e);return e.forEach((function(e){(0,u.isCondition)(e)?a.push(i.getConditionText(e,t)):(0,u.isGroup)(e)&&a.push(i.getGroupText(e,t,!0))})),o.when.apply(this,a).done((function(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];if(l.startsWith("!")){var s=t.groupOperationDescriptions["not".concat(l.substring(1,2).toUpperCase()).concat(l.substring(2))].split(" ");e="".concat(s[0]," ").concat(o[0])}else e=o.join(" ".concat(t.groupOperationDescriptions[l]," "));n&&(e="(".concat(e,")")),r.resolve(e)})),r},getFilterText:function(e,t){var n={customOperations:t,columns:this.getController("columns").getFilteringColumns(),filterOperationDescriptions:this.option("filterBuilder.filterOperationDescriptions"),groupOperationDescriptions:this.option("filterBuilder.groupOperationDescriptions")};return(0,u.isCondition)(e)?this.getConditionText(e,n):this.getGroupText(e,n)}})},extenders:{controllers:{data:{optionChanged:function(e){if("filterPanel"===e.name)this._applyFilter(),e.handled=!0;else this.callBase(e)}}}}};t.filterPanelModule=w},60686:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.filterRowModule=void 0;var i=v(n(94965)),o=n(48152),r=n(65102),a=n(96993),l=n(21620),s=n(49859),d=v(n(38608)),u=n(6473),c=v(n(63585)),h=v(n(69426)),f=v(n(14265)),p=v(n(75568)),g=n(54839),m=v(n(97478)),_=v(n(37028));function v(e){return e&&e.__esModule?e:{default:e}}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},C.apply(this,arguments)}var w={"=":"filter-operation-equals","<>":"filter-operation-not-equals","<":"filter-operation-less","<=":"filter-operation-less-equal",">":"filter-operation-greater",">=":"filter-operation-greater-equal",default:"filter-operation-default",notcontains:"filter-operation-not-contains",contains:"filter-operation-contains",startswith:"filter-operation-starts-with",endswith:"filter-operation-ends-with",between:"filter-operation-between"},y={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",between:"between"},x="filter-row",I="filter-range-overlay",b="filter-range-start",E="dx-menu",S="dx-editor-with-menu",O="dx-editor-container",T="dx-editor-cell",D="dx-highlight-outline",R="dx-focused",F="dx-filter-range-content",A="dx-filter-modified",P="input:not([type='hidden'])",V=["date","datetime","number"],B=c.default.format("dxDataGrid-ariaSearchBox");function M(e){return"onClick"===e.option("filterRow.applyFilter")}var k=function(e){var t=e&&e.children(),n=t&&t.data("dxComponents"),i=n&&n.length&&t.data(n[0]);return i instanceof h.default?i:null},L=function(){var e=function(e,n){var i="",o="",r=t(e,n),a=_.default.getFormatOptionsByColumn(n,"filterRow");return Array.isArray(r)?(i=_.default.formatValue(r[0],a),""!==(o=_.default.formatValue(r[1],a))&&(i+=" - ".concat(o))):(0,s.isDefined)(r)&&(i=_.default.formatValue(r,a)),i};function t(e,t){if(t)return M(e)&&void 0!==t.bufferedFilterValue?t.bufferedFilterValue:t.filterValue}var n=function(e,t){if(t)return M(e)&&void 0!==t.bufferedSelectedFilterOperation?t.bufferedSelectedFilterOperation:t.selectedFilterOperation},h=function(e,i,o){var r=e._columnsController.columnOption(i),a=t(e,r),l=o.closest(".".concat(e.addWidgetPrefix(I))).length,s=o.hasClass(e.addWidgetPrefix(b));return a&&Array.isArray(a)&&"between"===n(e,r)?s?a[0]:a[1]:!l&&function(e,t){return!(t&&V.includes(t.dataType)&&Array.isArray(e))&&void 0!==e}(a,r)?a:null};return{_updateEditorValue:function(e,t){var n=k(t);n&&n.option("value",h(this,e.index,t))},_columnOptionChanged:function(t){var o,r,a,l,s=t.optionNames;if(_.default.checkChanges(s,["filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation","filterValues","filterType"])&&void 0!==t.columnIndex){var d=this._columnsController.getVisibleIndex(t.columnIndex),u=this._columnsController.columnOption(t.columnIndex);if(r=(o=this._getCellElement(this.element().find(".".concat(this.addWidgetPrefix(x))).index(),d)||(0,i.default)()).find(".".concat(O)).first(),s.filterValue||s.bufferedFilterValue){this._updateEditorValue(u,r);var c=o.find(".".concat(this.addWidgetPrefix(I))).data("dxOverlay");c&&(a=c.$content().find(".".concat(O)),this._updateEditorValue(u,a.first()),this._updateEditorValue(u,a.last())),c&&c.option("visible")||this._updateFilterRangeContent(o,e(this,u))}(s.selectedFilterOperation||s.bufferedSelectedFilterOperation)&&d>=0&&u&&(l=o.find(".".concat(E))).length&&(this._updateFilterOperationChooser(l,u,r),"between"===n(this,u)?this._renderFilterRangeContent(o,u):r.find(".".concat(F)).length&&(this._renderEditor(r,this._getEditorOptions(r,u)),this._hideFilterRange()))}else this.callBase(t)},_renderCore:function(){return this._filterRangeOverlayInstance=null,this.callBase.apply(this,arguments)},_resizeCore:function(){this.callBase.apply(this,arguments),this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.repaint()},isFilterRowVisible:function(){return this._isElementVisible(this.option("filterRow"))},isVisible:function(){return this.callBase()||this.isFilterRowVisible()},init:function(){this.callBase(),this._applyFilterViewController=this.getController("applyFilter")},_initFilterRangeOverlay:function(t,o){var r=this,a={},l=t.find(".dx-editor-container"),s=r.addWidgetPrefix(I),c=(0,i.default)("<div>").addClass(s).appendTo(t);return r._createComponent(c,p.default,{height:"auto",shading:!1,showTitle:!1,focusStateEnabled:!1,hideOnOutsideClick:!0,wrapperAttr:{class:s},animation:!1,position:{my:"top",at:"top",of:l.length&&l||t,offset:"0 -1"},contentTemplate:function(e){var n,l=(0,i.default)("<div>").addClass("".concat(O," ").concat(r.addWidgetPrefix(b))).appendTo(e);return o=r._columnsController.columnOption(o.index),(n=r._getEditorOptions(l,o)).sharedData=a,r._renderEditor(l,n),d.default.on(l.find(P),"keydown",(function(e){var n=t.find("[tabindex]").not(e.target).first();"tab"===(0,u.normalizeKeyName)(e)&&e.shiftKey&&(e.preventDefault(),r._hideFilterRange(),n.length||(n=t.prev().find("[tabindex]").last()),d.default.trigger(n,"focus"))})),l=(0,i.default)("<div>").addClass("".concat(O," ").concat(r.addWidgetPrefix("filter-range-end"))).appendTo(e),(n=r._getEditorOptions(l,o)).sharedData=a,r._renderEditor(l,n),d.default.on(l.find(P),"keydown",(function(e){"tab"!==(0,u.normalizeKeyName)(e)||e.shiftKey||(e.preventDefault(),r._hideFilterRange(),d.default.trigger(t.next().find("[tabindex]").first(),"focus"))})),(0,i.default)(e).addClass(r.getWidgetContainerClass())},onShown:function(e){var t=e.component.$content().find(".".concat(O)).first();d.default.trigger(t.find(P),"focus")},onHidden:function(){o=r._columnsController.columnOption(o.index),t.find(".".concat(E)).parent().addClass(S),"between"===n(r,o)&&(r._updateFilterRangeContent(t,e(r,o)),r.component.updateDimensions())}})},_updateFilterRangeOverlay:function(e){var t=this._filterRangeOverlayInstance;t&&t.option(e)},_showFilterRange:function(e,t){var n=e.children(".".concat(this.addWidgetPrefix(I))),i=n.length&&n.data("dxOverlay");!i&&t&&(i=this._initFilterRangeOverlay(e,t)),i.option("visible")||(this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.hide(),this._filterRangeOverlayInstance=i,this._updateFilterRangeOverlay({width:(0,l.getOuterWidth)(e,!0)+1}),this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.show())},_hideFilterRange:function(){var e=this._filterRangeOverlayInstance;e&&e.hide()},getFilterRangeOverlayInstance:function(){return this._filterRangeOverlayInstance},_createRow:function(e){var t=this,n=this.callBase(e);return"filter"===e.rowType&&(n.addClass(this.addWidgetPrefix(x)),this.option("useLegacyKeyboardNavigation")||d.default.on(n,"keydown",(function(e){return(0,g.selectView)("filterRow",t,e)}))),n},_getRows:function(){var e=this.callBase();return this.isFilterRowVisible()&&e.push({rowType:"filter"}),e},_renderFilterCell:function(e,t){var o=t.column,r=(0,i.default)(e);this.component.option("showColumnHeaders")&&this.setAria("describedby",o.headerId,r),this.setAria("label",c.default.format("dxDataGrid-ariaFilterCell"),r),r.addClass(T);var a=(0,i.default)("<div>").appendTo(r),l=(0,i.default)("<div>").addClass(O).appendTo(a);if("between"===n(this,o))this._renderFilterRangeContent(r,o);else{var s=this._getEditorOptions(l,o);this._renderEditor(l,s)}var d=o.alignment;d&&"center"!==d&&r.find(P).first().css("textAlign",o.alignment),o.filterOperations&&o.filterOperations.length&&this._renderFilterOperationChooser(a,o,l)},_renderCellContent:function(e,t){var n=this,i=t.column;if("filter"===t.rowType)if(i.command)e.html("&nbsp;");else if(i.allowFiltering)return void n.renderTemplate(e,n._renderFilterCell.bind(n),t).done((function(){n._updateCell(e,t)}));this.callBase.apply(this,arguments)},_getEditorOptions:function(e,i){var o=this,a={editorOptions:{inputAttr:o._getFilterInputAccessibilityAttributes(i)}},l=(0,r.extend)(a,i,{value:h(o,i.index,e),parentType:"filterRow",showAllText:o.option("filterRow.showAllText"),updateValueTimeout:"onClick"===o.option("filterRow.applyFilter")?0:700,width:null,setValue:function(r,a){!function(e,i){var o=""===i.value?null:i.value,r=i.container,a=e._columnsController.columnOption(i.column.index),l=h(e,a.index,r);if((0,s.isDefined)(l)||(0,s.isDefined)(o)){e._applyFilterViewController.setHighLight(r,l!==o);var d=M(e)?"bufferedFilterValue":"filterValue",u=function(e,i,o,r){if("between"===n(e,o)){var a=t(e,o);return r.hasClass(e.addWidgetPrefix(b))?[i,Array.isArray(a)?a[1]:void 0]:[Array.isArray(a)?a[0]:a,i]}return i}(e,o,a,r),c="between"===n(e,a),f=i.notFireEvent||c&&Array.isArray(u)&&u.includes(void 0);e._columnsController.columnOption(a.index,d,u,f)}}(o,{column:i,value:r,container:e,notFireEvent:a})}});return"between"===n(o,i)&&(e.hasClass(o.addWidgetPrefix(b))?l.placeholder=o.option("filterRow.betweenStartText"):l.placeholder=o.option("filterRow.betweenEndText")),l},_getFilterInputAccessibilityAttributes:function(e){var t=c.default.format("dxDataGrid-ariaFilterCell");return this.component.option("showColumnHeaders")?{"aria-label":t,"aria-describedby":e.headerId}:{"aria-label":t}},_renderEditor:function(e,t){e.empty();var n=(0,i.default)("<div>").appendTo(e),o=this.getController("editorFactory"),r=this.getController("data").dataSource(),a=this.getController("applyFilter");if(t.lookup&&this.option("syncLookupFilterValues")){a.setCurrentColumnForFiltering(t);var l=this.getController("data").getCombinedFilter();a.setCurrentColumnForFiltering(null);var s=_.default.getWrappedLookupDataSource(t,r,l),d=C(C({},t),{lookup:C(C({},t.lookup),{dataSource:s})});return o.createEditor(n,d)}return o.createEditor(n,t)},_renderFilterRangeContent:function(t,n){var o=this,r=t.find(".".concat(O)).first();r.empty();var a=(0,i.default)("<div>").addClass(F).attr("tabindex",this.option("tabIndex"));d.default.on(a,"focusin",(function(){o._showFilterRange(t,n)})),a.appendTo(r),o._updateFilterRangeContent(t,e(o,n))},_updateFilterRangeContent:function(e,t){var n=e.find(".".concat(F));n.length&&(""===t?n.html("&nbsp;"):n.text(t))},_updateFilterOperationChooser:function(e,t,o){var r,a=this,l=this,s=function(){var t=f.default.getInstance(e);t&&t.option("focusedElement",null),r&&l._focusEditor(o)};l._createComponent(e,f.default,{integrationOptions:{},activeStateEnabled:!1,selectionMode:"single",cssClass:"".concat(l.getWidgetContainerClass()," ").concat("dx-cell-focus-disabled"," ").concat("dx-filter-menu"),showFirstSubmenuMode:"onHover",hideSubmenuOnMouseLeave:!0,items:[{disabled:!(t.filterOperations&&t.filterOperations.length),icon:w[n(l,t)||"default"],selectable:!1,items:l._getFilterOperationMenuItems(t)}],onItemRendered:function(e){var t=e.itemElement;a.setAria("label",B,(0,i.default)(t))},onItemClick:function(e){var i=e.itemData.name,r=n(l,t),a=!1,s=M(l),d={};if(!(e.itemData.items||i&&i===r)){if(i?(d[s?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=i,"between"!==i&&"between"!==r||(a="between"===i,d[s?"bufferedFilterValue":"filterValue"]=null)):(d[s?"bufferedFilterValue":"filterValue"]=null,d[s?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=t.defaultSelectedFilterOperation||null),l._columnsController.columnOption(t.index,d),l._applyFilterViewController.setHighLight(o,!0),!i){var u=k(o);u&&"dxDateBox"===u.NAME&&!u.option("isValid")&&(u.reset(),u.option("isValid",!0))}a?l._showFilterRange(o.closest(".".concat(T)),t):l._focusEditor(o)}},onSubmenuShowing:function(){r=l._isEditorFocused(o),l.getController("editorFactory").loseFocus()},onSubmenuHiding:function(){d.default.trigger(e,"blur"),s()},onContentReady:function(t){d.default.on(e,"blur",(function(){t.component._hideSubmenuAfterTimeout(),s()}))},rtlEnabled:l.option("rtlEnabled")})},_isEditorFocused:function(e){return e.hasClass(R)||e.parents(".".concat(R)).length},_focusEditor:function(e){this.getController("editorFactory").focus(e),d.default.trigger(e.find(P),"focus")},_renderFilterOperationChooser:function(e,t,n){var o;this.option("filterRow.showOperationChooser")&&(e.addClass(S),o=(0,i.default)("<div>").prependTo(e),this._updateFilterOperationChooser(o,t,n))},_getFilterOperationMenuItems:function(e){var t=this,i=[{}],o=t.option("filterRow"),r=o&&o.operationDescriptions||{};if(e.filterOperations&&e.filterOperations.length){var l=e.filterOperations.filter((function(e){return(0,s.isDefined)(y[e])}));(i=(0,a.map)(l,(function(i){var o=y[i];return{name:i,selected:(n(t,e)||e.defaultFilterOperation)===i,text:r[o],icon:w[i]}}))).push({name:null,text:o&&o.resetOperationText,icon:w.default})}return i},_handleDataChanged:function(e){var t,n,i;this.callBase.apply(this,arguments),((null===(t=e.operationTypes)||void 0===t?void 0:t.filtering)||(null===(n=e.operationTypes)||void 0===n?void 0:n.fullReload))&&this.updateLookupDataSource(null===(i=e.operationTypes)||void 0===i?void 0:i.filtering)},updateLookupDataSource:function(e){var t=this;if(this.option("syncLookupFilterValues")&&this.element()){var n=this._columnsController.getVisibleColumns(),i=this._dataController.dataSource(),r=this._applyFilterViewController,a=this.element().find(".".concat(this.addWidgetPrefix(x))).index();-1!==a&&n.forEach((function(n,l){if(n.lookup&&n.calculateCellValue===n.defaultCalculateCellValue){var s=t._getCellElement(a,l),d=k(null==s?void 0:s.find(".dx-editor-container"));if(d){r.setCurrentColumnForFiltering(n);var u=t._dataController.getCombinedFilter()||null;r.setCurrentColumnForFiltering(null);var c=d.option("dataSource");if(!e||!(0,o.equalByValue)(c.__dataGridSourceFilter,u)){var h=_.default.getWrappedLookupDataSource(n,i,u);d.option("dataSource",h)}}}}))}},optionChanged:function(e){switch(e.name){case"filterRow":case"showColumnLines":this._invalidate(!0,!0),e.handled=!0;break;case"syncLookupFilterValues":e.value?this.updateLookupDataSource():this.render(),e.handled=!0;break;default:this.callBase(e)}}}}(),N={skipCalculateColumnFilters:function(){return!1},_calculateAdditionalFilter:function(){if(this.skipCalculateColumnFilters())return this.callBase();var e=[this.callBase()],t=this._columnsController.getVisibleColumns(null,!0),n=this.getController("applyFilter");return(0,a.each)(t,(function(){var t,i=(null===(t=n.getCurrentColumnForFiltering())||void 0===t?void 0:t.index)===this.index;if(this.allowFiltering&&this.calculateFilterExpression&&(0,s.isDefined)(this.filterValue)&&!i){var o=this.createFilterExpression(this.filterValue,this.selectedFilterOperation||this.defaultFilterOperation,"filterRow");e.push(o)}})),_.default.combineFilters(e)}},H={defaultOptions:function(){return{syncLookupFilterValues:!0,filterRow:{visible:!1,showOperationChooser:!0,showAllText:c.default.format("dxDataGrid-filterRowShowAllText"),resetOperationText:c.default.format("dxDataGrid-filterRowResetOperationText"),applyFilter:"auto",applyFilterText:c.default.format("dxDataGrid-applyFilterText"),operationDescriptions:{equal:c.default.format("dxDataGrid-filterRowOperationEquals"),notEqual:c.default.format("dxDataGrid-filterRowOperationNotEquals"),lessThan:c.default.format("dxDataGrid-filterRowOperationLess"),lessThanOrEqual:c.default.format("dxDataGrid-filterRowOperationLessOrEquals"),greaterThan:c.default.format("dxDataGrid-filterRowOperationGreater"),greaterThanOrEqual:c.default.format("dxDataGrid-filterRowOperationGreaterOrEquals"),startsWith:c.default.format("dxDataGrid-filterRowOperationStartsWith"),contains:c.default.format("dxDataGrid-filterRowOperationContains"),notContains:c.default.format("dxDataGrid-filterRowOperationNotContains"),endsWith:c.default.format("dxDataGrid-filterRowOperationEndsWith"),between:c.default.format("dxDataGrid-filterRowOperationBetween"),isBlank:c.default.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:c.default.format("dxFilterBuilder-filterOperationIsNotBlank")},betweenStartText:c.default.format("dxDataGrid-filterRowOperationBetweenStartText"),betweenEndText:c.default.format("dxDataGrid-filterRowOperationBetweenEndText")}}},controllers:{applyFilter:m.default.ViewController.inherit({_getHeaderPanel:function(){return this._headerPanel||(this._headerPanel=this.getView("headerPanel")),this._headerPanel},setHighLight:function(e,t){M(this)&&(e&&e.toggleClass(D,t)&&e.closest(".".concat(T)).toggleClass(A,t),this._getHeaderPanel().enableApplyButton(t))},applyFilter:function(){var e=this.getController("columns"),t=e.getColumns();e.beginUpdate();for(var n=0;n<t.length;n++){var i=t[n];void 0!==i.bufferedFilterValue&&(e.columnOption(n,"filterValue",i.bufferedFilterValue),i.bufferedFilterValue=void 0),void 0!==i.bufferedSelectedFilterOperation&&(e.columnOption(n,"selectedFilterOperation",i.bufferedSelectedFilterOperation),i.bufferedSelectedFilterOperation=void 0)}e.endUpdate(),this.removeHighLights()},removeHighLights:function(){if(M(this)){var e=this.getView("columnHeadersView").element();e.find(".".concat(this.addWidgetPrefix(x)," .").concat(D)).removeClass(D),e.find(".".concat(this.addWidgetPrefix(x)," .").concat(A)).removeClass(A),this._getHeaderPanel().enableApplyButton(!1)}},setCurrentColumnForFiltering:function(e){this._currentColumn=e},getCurrentColumnForFiltering:function(){return this._currentColumn}})},extenders:{controllers:{data:N,columnsResizer:{_startResizing:function(){var e=this;if(e.callBase.apply(e,arguments),e.isResizing()){var t=e._columnHeadersView.getFilterRangeOverlayInstance();if(t){var n=t.$element().closest("td").index();n!==e._targetPoint.columnIndex&&n!==e._targetPoint.columnIndex+1||t.$content().hide()}}},_endResizing:function(){var e,t=this;if(t.isResizing()){var n=t._columnHeadersView.getFilterRangeOverlayInstance();n&&(e=n.$element().closest("td"),t._columnHeadersView._updateFilterRangeOverlay({width:(0,l.getOuterWidth)(e,!0)+1}),n.$content().show())}t.callBase.apply(t,arguments)}},editing:{updateFieldValue:function(e){return e.column.lookup&&(this._needUpdateLookupDataSource=!0),this.callBase.apply(this,arguments)},_afterSaveEditData:function(e){var t;return this._needUpdateLookupDataSource&&!e&&(null===(t=this.getView("columnHeadersView"))||void 0===t||t.updateLookupDataSource()),this._needUpdateLookupDataSource=!1,this.callBase.apply(this,arguments)},_afterCancelEditData:function(){return this._needUpdateLookupDataSource=!1,this.callBase.apply(this,arguments)}}},views:{columnHeadersView:L,headerPanel:{_getToolbarItems:function(){var e=this.callBase();return this._prepareFilterItem(e).concat(e)},_prepareFilterItem:function(){var e=this,t=[];if(e._isShowApplyFilterButton()){var n=e.option("filterRow.applyFilterText"),o={widget:"dxButton",options:{icon:"apply-filter",disabled:!e._columnsController.getColumns().filter((function(e){return void 0!==e.bufferedFilterValue})).length,onClick:function(){e._applyFilterViewController.applyFilter()},hint:n,text:n,onInitialized:function(t){(0,i.default)(t.element).addClass(e._getToolbarButtonClass("dx-apply-button"))}},showText:"inMenu",name:"applyFilterButton",location:"after",locateInMenu:"auto",sortIndex:10};t.push(o)}return t},_isShowApplyFilterButton:function(){var e=this.option("filterRow");return e&&e.visible&&"onClick"===e.applyFilter},init:function(){this.callBase(),this._dataController=this.getController("data"),this._applyFilterViewController=this.getController("applyFilter")},enableApplyButton:function(e){this.setToolbarItemDisabled("applyFilterButton",!e)},isVisible:function(){return this.callBase()||this._isShowApplyFilterButton()},optionChanged:function(e){"filterRow"===e.name?(this._invalidate(),e.handled=!0):this.callBase(e)}}}}};t.filterRowModule=H},83150:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.filterSyncModule=void 0;var i=n(49859),o=n(31932),r=u(n(2583)),a=u(n(47625)),l=u(n(97478)),s=u(n(37028)),d=n(43070);function u(e){return e&&e.__esModule?e:{default:e}}var c=["=","<>","<","<=",">",">=","notcontains","contains","startswith","endswith","between"],h="include",f="exclude";function p(e){return e.name||e.dataField}var g,m,_,v,C,w,y={defaultOptions:function(){return{filterValue:null,filterSyncEnabled:"auto"}},controllers:{filterSync:l.default.Controller.inherit((g=function(){return{filterType:h,filterValues:void 0}},m=function(e){var t=e.filterValues||[];return!r.default.getGroupInterval(e)&&!(e.headerFilter&&e.headerFilter.dataSource)||1===t.length&&null===t[0]},_=function(e){var t=e.filterValue;if((0,i.isDefined)(t)){var n=e.selectedFilterOperation||e.defaultFilterOperation||(0,o.getDefaultOperation)(e);return[p(e),n,e.filterValue]}return null},v=function(e){var t,n,i=e.filterValues;return i?(1===i.length&&m(e)&&!Array.isArray(i[0])?(t=e.filterType===f?"<>":"=",n=i[0]):(t=e.filterType===f?"noneof":"anyof",n=i),[p(e),t,n]):null},C=function(e,t,n){var i=function(e,t){if(!e)return g();var n,i=e[1],o=e[2],r=Array.isArray(o);if(!r&&!m(t))return g();switch(i){case"anyof":case"=":n=h;break;case"noneof":case"<>":n=f;break;default:return g()}return{filterType:n,filterValues:r?o:[o]}}(n,t);e.columnOption(p(t),i)},w=function(e,t,n){var o,r=null==n?void 0:n[1],a=null==n?void 0:n[2],l=t.filterOperations||t.defaultFilterOperations;(!l||l.indexOf(r)>=0||r===t.defaultFilterOperation)&&c.includes(r)&&null!==a?(r!==t.defaultFilterOperation||(0,i.isDefined)(t.selectedFilterOperation)||(r=t.selectedFilterOperation),o={filterValue:a,selectedFilterOperation:r}):o={filterValue:void 0,selectedFilterOperation:void 0},e.columnOption(p(t),o)},{syncFilterValue:function(){var e=this,t=e.getController("columns"),n=t.getFilteringColumns();this._skipSyncColumnOptions=!0,n.forEach((function(n){var r=(0,o.getMatchedConditions)(e.option("filterValue"),p(n));if(1===r.length){var a=r[0];C(t,n,a),w(t,n,a)}else(0,i.isDefined)(n.filterValues)&&C(t,n,null),(0,i.isDefined)(n.filterValue)&&w(t,n,null)})),this._skipSyncColumnOptions=!1},_initSync:function(){var e=this.getController("columns").getColumns(),t=this.getController("data"),n=t.pageIndex();if(function(e){e.forEach((function(e){var t=p(e);if(!(0,i.isDefined)(t)&&e.allowFiltering)throw new a.default.Error("E1049",e.caption)}))}(e),!this.option("filterValue")){var o=this.getController("columns").getFilteringColumns(),r=this.getFilterValueFromColumns(o);this.option("filterValue",r)}this.syncFilterValue(),t.pageIndex(n)},init:function(){var e=this,t=this.getController("data");t.isFilterSyncActive()&&(this.getController("columns").isAllDataTypesDefined()?this._initSync():t.dataSourceChanged.add((function(){return e._initSync()})))},_getSyncFilterRow:function(e,t){var n=_(t);return(0,i.isDefined)(n)?(0,o.syncFilters)(e,n):(0,o.removeFieldConditionsFromFilter)(e,p(t))},_getSyncHeaderFilter:function(e,t){var n=v(t);return n?(0,o.syncFilters)(e,n):(0,o.removeFieldConditionsFromFilter)(e,p(t))},getFilterValueFromColumns:function(e){if(!this.getController("data").isFilterSyncActive())return null;var t=["and"];return e&&e.forEach((function(e){var n=v(e),i=_(e);n&&(0,o.addItem)(n,t),i&&(0,o.addItem)(i,t)})),(0,o.getNormalizedFilter)(t)},syncFilterRow:function(e){this.option("filterValue",this._getSyncFilterRow(this.option("filterValue"),e))},syncHeaderFilter:function(e){this.option("filterValue",this._getSyncHeaderFilter(this.option("filterValue"),e))},getCustomFilterOperations:function(){var e=this.option("filterBuilder.customOperations")||[];return[(0,d.anyOf)(this.component),(0,d.noneOf)(this.component)].concat(e)},publicMethods:function(){return["getCustomFilterOperations"]}}))},extenders:{controllers:{data:{isFilterSyncActive:function(){var e=this.option("filterSyncEnabled");return"auto"===e?this.option("filterPanel.visible"):e},skipCalculateColumnFilters:function(){var e=this.getController("filterSync");return((0,i.isDefined)(this.option("filterValue"))||e._skipSyncColumnOptions)&&this.isFilterSyncActive()},_calculateAdditionalFilter:function(){if(!1===this.option("filterPanel.filterEnabled"))return this.callBase();var e=[this.callBase()],t=this.getController("columns").getFilteringColumns(),n=this.option("filterValue");if(this.isFilterSyncActive()){var r=this.getController("headerFilter").getCurrentColumn(),a=this.getController("applyFilter").getCurrentColumnForFiltering(),l=r||a;(r||(0,i.isDefined)(null==a?void 0:a.filterValue))&&n&&(n=(0,o.removeFieldConditionsFromFilter)(n,p(l)))}var d=this.getController("filterSync").getCustomFilterOperations(),u=(0,o.getFilterExpression)(n,t,d,"filterBuilder");return u&&e.push(u),s.default.combineFilters(e)},_parseColumnPropertyName:function(e){var t=e.match(/.*\.(.*)/);return t?t[1]:null},clearFilter:function(e){this.component.beginUpdate(),arguments.length>0?("filterValue"===e&&this.option("filterValue",null),this.callBase(e)):(this.option("filterValue",null),this.callBase()),this.component.endUpdate()},optionChanged:function(e){switch(e.name){case"filterValue":this._applyFilter(),this.isFilterSyncActive()&&this.getController("filterSync").syncFilterValue(),e.handled=!0;break;case"filterSyncEnabled":e.handled=!0;break;case"columns":if(this.isFilterSyncActive()){var t=this.getController("columns").getColumnByPath(e.fullName),n=this.getController("filterSync");if(t&&!n._skipSyncColumnOptions){var i=this._parseColumnPropertyName(e.fullName);n._skipSyncColumnOptions=!0,"filterType"===i?f!==e.value&&f!==e.previousValue||n.syncHeaderFilter(t):"filterValues"===i?n.syncHeaderFilter(t):["filterValue","selectedFilterOperation"].includes(i)&&n.syncFilterRow(t,t.filterValue),n._skipSyncColumnOptions=!1}}this.callBase(e);break;default:this.callBase(e)}}}},views:{columnHeadersView:{_isHeaderFilterEmpty:function(e){return this.getController("data").isFilterSyncActive()?!(0,o.filterHasField)(this.option("filterValue"),p(e)):this.callBase(e)},_needUpdateFilterIndicators:function(){return!this.getController("data").isFilterSyncActive()},optionChanged:function(e){"filterValue"===e.name?this._updateHeaderFilterIndicators():this.callBase(e)}}}}};t.filterSyncModule=y},97104:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.focusModule=void 0;var i=h(n(94965)),o=n(48152),r=n(74460),a=n(96993),l=n(49859),s=n(28280),d=h(n(97478)),u=h(n(37028)),c=n(76605);function h(e){return e&&e.__esModule?e:{default:e}}var f="dx-row-focused",p=".dx-row.".concat(f),g="dx-cell-focus-disabled",m={defaultOptions:function(){return{focusedRowEnabled:!1,autoNavigateToFocusedRow:!0,focusedRowKey:null,focusedRowIndex:-1,focusedColumnIndex:-1}},controllers:{focus:d.default.ViewController.inherit({init:function(){this._dataController=this.getController("data"),this._keyboardController=this.getController("keyboardNavigation"),this.component._optionsByReference.focusedRowKey=!0},optionChanged:function(e){var t=e.name,n=e.value,i=e.previousValue;switch(t){case"focusedRowIndex":this._focusRowByIndex(n),this._keyboardController._fireFocusedRowChanged(),e.handled=!0;break;case"focusedRowKey":if(Array.isArray(n)&&JSON.stringify(n)===JSON.stringify(i))return;this._focusRowByKey(n),this._keyboardController._fireFocusedRowChanged(),e.handled=!0;break;case"focusedColumnIndex":case"focusedRowEnabled":case"autoNavigateToFocusedRow":e.handled=!0;break;default:this.callBase(e)}},isAutoNavigateToFocusedRow:function(){return"infinite"!==this.option("scrolling.mode")&&this.option("autoNavigateToFocusedRow")},_focusRowByIndex:function(e,t){this.option("focusedRowEnabled")&&((e=void 0!==e?e:this.option("focusedRowIndex"))<0?this.isAutoNavigateToFocusedRow()&&this._resetFocusedRow():this._focusRowByIndexCore(e,t))},_focusRowByIndexCore:function(e,t){var n=this,i=this.getController("data"),o=i.pageSize(),a=function(){if(n._isValidFocusedRowIndex(e)){var o=e-i.getRowIndexOffset(!0);if(!t||t.paging&&!t.filtering){var r=i._getLastItemIndex();o=Math.min(o,r)}var a=i.getKeyByRowIndex(o,!0);(0,l.isDefined)(a)&&!n.isRowFocused(a)&&n.option("focusedRowKey",a)}};if(o>=0)if(this._isLocalRowIndex(e))a();else{var s=Math.floor(e/i.pageSize());(0,r.when)(i.pageIndex(s),i.waitReady()).done((function(){a()}))}},_isLocalRowIndex:function(e){var t=this.getController("data");if(this.getController("keyboardNavigation")._isVirtualScrolling()){var n=Math.floor(e/t.pageSize()),i=t.virtualItemsCount(),o=i?i.begin:-1,r=t.getVisibleRows().length+t.getRowIndexOffset(),a=Math.ceil(r/t.pageSize());return o<=e&&a>n}return!0},_setFocusedRowKeyByIndex:function(e){var t=this.getController("data");if(this._isValidFocusedRowIndex(e)){var n=Math.min(e-t.getRowIndexOffset(),t.items().length-1),i=t.getKeyByRowIndex(n);(0,l.isDefined)(i)&&!this.isRowFocused(i)&&this.option("focusedRowKey",i)}},_focusRowByKey:function(e){(0,l.isDefined)(e)?this._navigateToRow(e,!0):this._resetFocusedRow()},_resetFocusedRow:function(){var e=this.option("focusedRowKey"),t=(0,l.isDefined)(e);if(t||!(this.option("focusedRowIndex")<0)){var n=this.getController("keyboardNavigation");t&&this.option("focusedRowKey",null),n.setFocusedRowIndex(-1),this.option("focusedRowIndex",-1),this.getController("data").updateItems({changeType:"updateFocusedRow",focusedRowKey:null}),n._fireFocusedRowChanged(void 0,-1)}},_isValidFocusedRowIndex:function(e){var t=this.getController("data").getVisibleRows()[e];return!t||"data"===t.rowType||"group"===t.rowType},publicMethods:function(){return["navigateToRow","isRowFocused"]},navigateToRow:function(e){return this.isAutoNavigateToFocusedRow()||this.option("focusedRowIndex",-1),this._navigateToRow(e)},_navigateToRow:function(e,t){var n=this,i=n.getController("data"),o=n.isAutoNavigateToFocusedRow(),a=new r.Deferred;if(void 0===e||!i.dataSource())return a.reject().promise();var l=n.getFocusedRowIndexByKey(e);return!o&&t||l>=0?n._navigateTo(e,a,t):i.getPageIndexByKey(e).done((function(o){o<0?a.resolve(-1):o===i.pageIndex()?i.reload().done((function(){n.isRowFocused(e)&&i.getRowIndexByKey(e)>=0?a.resolve(n.getFocusedRowIndexByKey(e)):n._navigateTo(e,a,t)})).fail(a.reject):i.pageIndex(o).done((function(){n._navigateTo(e,a,t)})).fail(a.reject)})).fail(a.reject),a.promise()},_navigateTo:function(e,t,n){var i=this.getController("data").getRowIndexByKey(e),o=u.default.isVirtualRowRendering(this);this.isAutoNavigateToFocusedRow()&&o&&i<0?this._navigateToVirtualRow(e,t,n):this._navigateToVisibleRow(e,t,n)},_navigateToVisibleRow:function(e,t,n){if(n)this._triggerUpdateFocusedRow(e,t);else{var i=this.getFocusedRowIndexByKey(e);this.getView("rowsView").scrollToRowElement(e,t).done((function(){t.resolve(i)}))}},_navigateToVirtualRow:function(e,t,n){var i=this,o=this.getController("data"),r=o._rowsScrollController,a=u.default.getIndexByKey(e,o.items(!0)),l=this.getView("rowsView").getScrollable();if(r&&l&&a>=0){var s=a+o.getRowIndexOffset(!0),d=r.getItemOffset(s);this.component.on("contentReady",(function r(){o.totalCount()&&!o.items().length||(i.component.off("contentReady",r),n?i._triggerUpdateFocusedRow(e,t):t.resolve(s))})),this.getView("rowsView").scrollTopPosition(d)}else t.resolve(-1)},_triggerUpdateFocusedRow:function(e,t){var n,i=this,o=this.getController("data"),a=this.getFocusedRowIndexByKey(e);this._isValidFocusedRowIndex(a)?(this.option("focusedRowEnabled")?o.updateItems({changeType:"updateFocusedRow",focusedRowKey:e}):n=this.getView("rowsView").scrollToRowElement(e),(0,r.when)(n).done((function(){i.getController("keyboardNavigation").setFocusedRowIndex(a),t&&t.resolve(a)}))):t&&t.resolve(-1)},getFocusedRowIndexByKey:function(e){var t=this.getController("data"),n=t.getRowIndexByKey(e,!0);return n>=0?n+t.getRowIndexOffset(!0):-1},_focusRowByKeyOrIndex:function(){var e=this,t=this.option("focusedRowKey"),n=this.option("focusedRowIndex"),i=this.getController("keyboardNavigation"),o=this.getController("data");if((0,l.isDefined)(t)){var r=o.getRowIndexByKey(t);r>=0?(i._isVirtualScrolling()&&(n=r+o.getRowIndexOffset()),i.setFocusedRowIndex(n),this._triggerUpdateFocusedRow(t)):this._navigateToRow(t,!0).done((function(t){n>=0&&t<0?e._focusRowByIndex():n<0&&t>=0&&i.setFocusedRowIndex(t)}))}else n>=0&&this.getController("focus")._focusRowByIndex(n)},isRowFocused:function(e){var t=this.option("focusedRowKey");if((0,l.isDefined)(t))return(0,o.equalByValue)(e,this.option("focusedRowKey"))},updateFocusedRow:function(e){var t,n,o=e.focusedRowKey,r=this,l=r._dataController.getRowIndexByKey(o),s=r.getView("rowsView");(0,a.each)(s.getTableElements(),(function(e,o){var a=0===e;t=(0,i.default)(o),r._clearPreviousFocusedRow(t,l);var s=r._prepareFocusedRow({changedItem:r._dataController.getVisibleRows()[l],$tableElement:t,focusedRowIndex:l});a&&(n=s)})),n&&s.scrollToElementVertically(n)},_clearPreviousFocusedRow:function(e,t){var n=this,o=e.find(p).filter((function(t,o){var r=(0,i.default)(o).closest(".".concat(n.addWidgetPrefix("table")));return e.is(r)}));o.removeClass(f).removeClass(g).removeAttr("tabindex"),o.children("td").removeAttr("tabindex"),0!==t&&(0,i.default)(this.getView("rowsView").getRowElement(0)).removeClass(g).removeAttr("tabIndex")},_prepareFocusedRow:function(e){var t,n=e.changedItem;if(n&&("data"===n.rowType||"group"===n.rowType)){var o=e.focusedRowIndex,r=e.$tableElement,a=this.option("tabindex")||0,l=this.getView("rowsView");(t=(0,i.default)(l._getRowElements(r).eq(o))).addClass(f).attr("tabindex",a)}return t}})},extenders:{controllers:{keyboardNavigation:{init:function(){var e=this.option("focusedRowIndex"),t=this.option("focusedColumnIndex");this.createAction("onFocusedRowChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedRowChanged",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanged",{excludeValidators:["disabled","readOnly"]}),this.callBase(),this.setRowFocusType(),this._focusedCellPosition={},(0,l.isDefined)(e)&&e>=0&&(this._focusedCellPosition.rowIndex=e),(0,l.isDefined)(t)&&t>=0&&(this._focusedCellPosition.columnIndex=t)},setFocusedRowIndex:function(e){this.callBase(e),this.option("focusedRowIndex",e)},setFocusedColumnIndex:function(e){this.callBase(e),this.option("focusedColumnIndex",e)},_escapeKeyHandler:function(e,t){!t&&this.option("focusedRowEnabled")?this.isCellFocusType()&&(this.setRowFocusType(),this._focus(this._getCellElementFromTarget(e.originalEvent.target),!0)):this.callBase(e,t)},_updateFocusedCellPosition:function(e,t){var n=this.callBase(e,t);n&&n.columnIndex>=0&&this._fireFocusedCellChanged(e)}},editorFactory:{renderFocusOverlay:function(e,t){var n,i=this.getController("keyboardNavigation"),o=this.option("focusedRowEnabled"),r=this.getController("editing");if(o&&(null==i?void 0:i.isRowFocusType())&&!r.isEditing()){if(o){"row"===i._getElementType(e)&&!e.hasClass(f)&&(n=i.getFirstValidCellInRow(e),i.focus(n))}}else this.callBase(e,t)}},columns:{getSortDataSourceParameters:function(e,t){var n=this,i=this.callBase.apply(this,arguments),o=this.getController("data"),r=o._dataSource,a=o.store(),l=a&&a.key(),s=r&&r.remoteOperations()||{},d=Object.keys(s).every((function(e){return!s[e]}));if(l&&(this.option("focusedRowEnabled")&&!1!==this.getController("focus").isAutoNavigateToFocusedRow()||t)){var u=(l=Array.isArray(l)?l:[l]).filter((function(e){return!n.columnOption(e,"sortOrder")}));u.length&&(i=i||[],d?i.push({selector:r.getDataIndexGetter(),desc:!1}):u.forEach((function(e){return i.push({selector:e,desc:!1})})))}return i}},data:{_applyChange:function(e){if(!e||"updateFocusedRow"!==e.changeType)return this.callBase.apply(this,arguments)},_fireChanged:function(e){if(this.callBase(e),this.option("focusedRowEnabled")&&this._dataSource){var t="update"===e.changeType&&e.repaintChangesOnly&&e.changeTypes&&e.changeTypes.indexOf("remove")>=0;"refresh"===e.changeType&&e.items.length||t?(this._updatePageIndexes(),this._updateFocusedRow(e)):"append"===e.changeType||"prepend"===e.changeType?this._updatePageIndexes():"update"===e.changeType&&e.repaintChangesOnly&&this._updateFocusedRow(e)}},_updatePageIndexes:function(){var e=this._lastRenderingPageIndex||0,t=this._rowsScrollController?this._rowsScrollController.pageIndex():0;this._lastRenderingPageIndex=t,this._isPagingByRendering=t!==e},isPagingByRendering:function(){return this._isPagingByRendering},_updateFocusedRow:function(e){var t=e.operationTypes||{},n=this.getController("focus"),i=t.reload,o=t.fullReload,r=t.pageIndex,a=t.paging,s=this.getController("keyboardNavigation")._isVirtualScrolling(),d=a&&!s,u=this.option("focusedRowKey"),c=n.isAutoNavigateToFocusedRow();if(i&&!1===r&&!o&&(0,l.isDefined)(u))n._navigateToRow(u,!0).done((function(e){e<0&&n._focusRowByIndex(void 0,t)}));else if(d&&c){var h=this.getRowIndexByKey(u),f=this.option("focusedRowIndex");!(f>=0)||!(f===h)&&h>=0||n._focusRowByIndex(f,t)}else d&&!c&&this.getRowIndexByKey(u)<0?this.option("focusedRowIndex",-1):t.fullReload&&n._focusRowByKeyOrIndex()},getPageIndexByKey:function(e){var t=this,n=new r.Deferred;return t.getGlobalRowIndexByKey(e).done((function(e){n.resolve(e>=0?Math.floor(e/t.pageSize()):-1)})).fail(n.reject),n.promise()},getGlobalRowIndexByKey:function(e){return this._dataSource.group()?this._calculateGlobalRowIndexByGroupedData(e):this._calculateGlobalRowIndexByFlatData(e)},_calculateGlobalRowIndexByFlatData:function(e,t,n){var i=this,o=new r.Deferred,a=i._dataSource;if(Array.isArray(e)||(0,s.isNewRowTempKey)(e))return o.resolve(-1).promise();var l=i._generateFilterByKey(e);return a.load({filter:i._concatWithCombinedFilter(l),skip:0,take:1}).done((function(r){r.length>0?(l=i._generateOperationFilterByKey(e,r[0],n),a.load({filter:i._concatWithCombinedFilter(l,t),skip:0,take:1,requireTotalCount:!0}).done((function(e,t){o.resolve(t.totalCount)}))):o.resolve(-1)})),o.promise()},_concatWithCombinedFilter:function(e,t){var n=this.getCombinedFilter();return u.default.combineFilters([e,n,t])},_generateBooleanFilter:function(e,t,n){var i=n.desc;switch(!0){case!1===t&&i:return[e,"=",!0];case!1===t&&!i:return[e,"=",null];case!0===t&&!i:case!(0,l.isBoolean)(t)&&i:return[e,"<>",t];default:return}},_generateOperationFilterByKey:function(e,t,n){var i=this,o=i.option("dateSerializationFormat"),r=i._dataSource.remoteOperations().filtering,a=i._generateFilterByKey(e,"<"),s=i._columnsController.getSortDataSourceParameters(!r,!0);if(n){var d=i._columnsController.getGroupDataSourceParameters(!r);d&&(s=s?d.concat(s):d)}return s&&s.slice().reverse().forEach((function(e){var n=e.selector,s=e.desc,d=e.compare,u=c.UiGridCoreFocusUtils.getSortFilterValue(e,t,{isRemoteFiltering:r,dateSerializationFormat:o,getSelector:function(e){return i._columnsController.columnOption(e,"selector")}}),h=u.getter,f=u.rawValue,p=u.safeValue;if(a=[[n,"=",p],"and",a],null===f||(0,l.isBoolean)(f)){var g=i._generateBooleanFilter(n,p,s);g&&(a=[g,"or",a])}else{var m,_=s?">":"<";d?m=function(e){return"<"===_?d(f,h(e))>=1:d(f,h(e))<=-1}:(m=[n,_,p],s||(m=[m,"or",[n,"=",null]])),a=[m,"or",a]}})),a},_generateFilterByKey:function(e,t){var n=this._dataSource.key(),i=[];if(t||(t="="),Array.isArray(n))for(var o=0;o<n.length;++o){var r=e[n[o]];r&&(i.length>0&&i.push("and"),i.push([n[o],t,r]))}else i=[n,t,e];return i},_getLastItemIndex:function(){return this.items(!0).length-1}},editing:{_deleteRowCore:function(e){var t=this,n=this.callBase.apply(this,arguments),i=this.getController("data"),o=i.getKeyByRowIndex(e);n.done((function(){var e=i.getRowIndexByKey(o),n=i.getVisibleRows();-1!==e||n.length||t.getController("focus")._resetFocusedRow()}))}}},views:{rowsView:{_createRow:function(e){var t=this.callBase.apply(this,arguments);return this.option("focusedRowEnabled")&&e&&this.getController("focus").isRowFocused(e.key)&&t.addClass(f),t},_checkRowKeys:function(e){if(this.callBase.apply(this,arguments),this.option("focusedRowEnabled")&&this.option("dataSource")){var t=this._dataController.store();t&&!t.key()&&this._dataController.fireError("E1042","Row focusing")}},_update:function(e){"updateFocusedRow"===e.changeType?this.option("focusedRowEnabled")&&this.getController("focus").updateFocusedRow(e):this.callBase(e)},updateFocusElementTabIndex:function(e,t){this.option("focusedRowEnabled")?this._setFocusedRowElementTabIndex(t):this.callBase(e)},_setFocusedRowElementTabIndex:function(e){var t=this,n=this.option("focusedRowKey"),i=this.option("tabIndex")||0,o=this._dataController,r=this._columnsController,a=o.getRowIndexByKey(n),s=this.option("focusedColumnIndex"),d=this._findRowElementForTabIndex();if((0,l.isDefined)(this._scrollToFocusOnResize)||(this._scrollToFocusOnResize=function(){t.scrollToElementVertically(t._findRowElementForTabIndex()),t.resizeCompleted.remove(t._scrollToFocusOnResize)}),d.attr("tabIndex",i),a>=0&&!e&&(s<0&&(s=0),a+=o.getRowIndexOffset(),s+=r.getColumnIndexOffset(),this.getController("keyboardNavigation").setFocusedCellPosition(a,s),this.getController("focus").isAutoNavigateToFocusedRow())){var u=o.dataSource(),c=u&&u.operationTypes();!c||c.paging||o.isPagingByRendering()||(this.resizeCompleted.remove(this._scrollToFocusOnResize),this.resizeCompleted.add(this._scrollToFocusOnResize))}},_findRowElementForTabIndex:function(){var e=this.option("focusedRowKey"),t=this._dataController.getRowIndexByKey(e);return(0,i.default)(this.getRowElement(t>=0?t:0))},scrollToRowElement:function(e){var t=this.getController("data").getRowIndexByKey(e),n=(0,i.default)(this.getRow(t));return this.scrollToElementVertically(n)},scrollToElementVertically:function(e){var t=this.getScrollable();if(t&&e.length){var n=t.getScrollElementPosition(e,"vertical");return this.scrollTopPosition(n)}return(new r.Deferred).resolve()},scrollTopPosition:function(e){var t=new r.Deferred,n=this.getScrollable();if(n&&e!==n.scrollTop())return n.on("scroll",(function e(){n.off("scroll",e),t.resolve()})),this._dataController.resetFilterApplying(),n.scrollTo({top:e}),t.promise();return t.resolve()}}}}};t.focusModule=m},76605:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UiGridCoreFocusUtils=void 0;var i,o=(i=n(88739))&&i.__esModule?i:{default:i},r=n(49859);var a={getSortFilterValue:function(e,t,n){var i=n.isRemoteFiltering,a=n.dateSerializationFormat,l=n.getSelector,s=e.selector,d=(0,r.isFunction)(s)?s:l(s),u=d?d(t):t[s];return{getter:d,rawValue:u,safeValue:i&&(0,r.isDate)(u)?o.default.serializeDate(u,a):u}}};t.UiGridCoreFocusUtils=a},32463:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.headerFilterModule=void 0,t.invertFilterExpression=function(e){return["!",e]};var i=n(14928),o=n(74460),r=n(65102),a=n(96993),l=n(37954),s=n(49859),d=n(73116),u=y(n(1344)),c=y(n(98241)),h=n(82769),f=y(n(38608)),p=y(n(56335)),g=y(n(63585)),m=n(54839),_=y(n(2583)),v=y(n(97478)),C=y(n(37028)),w=n(71370);function y(e){return e&&e.__esModule?e:{default:e}}function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},x.apply(this,arguments)}var I={month:function(e){return p.default.getMonthNames()[e-1]},quarter:function(e){return p.default.format(new Date(2e3,3*e-1),"quarter")}};function b(e,t,n){return t=t||[],n=n||[],e.forEach((function(e){if((0,s.isDefined)(e.key)){var i=1===t.length;if(t.push(i?e.key-1:e.key),e.items)b(e.items,t,n);else{var o=new Date(Date.UTC.apply(Date,t));n.push(o)}t.pop()}else n.push(null)})),n}function E(e,t){var n=b(e),i=(0,u.default)(n),o=C.default.getHeaderFilterGroupParameters(x(x({},t),{calculateCellValue:function(e){return e}}));return c.default.queryByOptions(i,{group:o}).toArray()}var S=v.default.ViewController.inherit({init:function(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._headerFilterView=this.getView("headerFilterView")},_updateSelectedState:function(e,t){for(var n=e.length,i="exclude"===t.filterType;n--;){var o=e[n];"items"in e[n]&&this._updateSelectedState(e[n].items,t),(0,w.updateHeaderFilterItemSelectionState)(o,C.default.getIndexByKey(e[n].value,t.filterValues,null)>-1,i)}},_normalizeGroupItem:function(e,t,n){var i,o,a=n.path,l=n.valueSelector,d=n.displaySelector,u=n.column;return l&&d?(i=l(e),o=d(e)):o=i=e.key,e=(0,s.isObject)(e)?(0,r.extend)({},e):{},a.push(i),1===a.length?e.value=a[0]:e.value=a.join("/"),e.text=this.getHeaderItemText(o,u,t,n.headerFilterOptions),e},getHeaderItemText:function(e,t,n,i){var o=C.default.formatValue(e,function(e,t,n){var i=_.default.getGroupInterval(t),o=C.default.getFormatOptionsByColumn(t,"headerFilter");return i&&(o.groupInterval=i[n],C.default.isDateType(t.dataType)?o.format=I[i[n]]:"number"===t.dataType&&(o.getDisplayFormat=function(){var o={format:t.format,target:"headerFilter"},r=C.default.formatValue(e,o),a=e+i[n],l=C.default.formatValue(a,o);return r&&l?"".concat(r," - ").concat(l):""})),o}(e,t,n));return o||(o=i.texts.emptyValue),o},_processGroupItems:function(e,t,n,o){var r,a,l=o.column.lookup,d=o.level;n=n||[],t=t||0,l&&(r=(0,i.compileGetter)(l.displayExpr),a=(0,i.compileGetter)(l.valueExpr));for(var u=0;u<e.length;u++)e[u]=this._normalizeGroupItem(e[u],t,{column:o.column,headerFilterOptions:o.headerFilterOptions,displaySelector:r,valueSelector:a,path:n}),"items"in e[u]&&(t!==d&&(0,s.isDefined)(e[u].value)?this._processGroupItems(e[u].items,t+1,n,o):delete e[u].items),n.pop()},getDataSource:function(e){var t,n=this._dataController.dataSource(),i=null==n?void 0:n.remoteOperations().grouping,r=C.default.getHeaderFilterGroupParameters(e,i),a=null===(t=e.headerFilter)||void 0===t?void 0:t.dataSource,l=this.option("headerFilter"),u=!1,c={component:this.component};if(n){if((0,s.isDefined)(a)&&!(0,s.isFunction)(a))c.dataSource=(0,d.normalizeDataSourceOptions)(a);else if(e.lookup)if(u=!0,this.option("syncLookupFilterValues")){this._currentColumn=e;var h=this._dataController.getCombinedFilter();this._currentColumn=null,c.dataSource=C.default.getWrappedLookupDataSource(e,n,h)}else c.dataSource=C.default.normalizeLookupDataSource(e.lookup);else{var f=Array.isArray(r)?r.length-1:0;this._currentColumn=e;var p=this._dataController.getCombinedFilter();this._currentColumn=null,c.dataSource={filter:p,group:r,useDefaultSearch:!0,load:function(t){var r=new o.Deferred;return t.dataField=e.dataField||e.name,n.load(t).done((function(t){var n;i&&("Z"===(null==(n=e.serializationFormat)?void 0:n.slice(-1))||"'Z'"===(null==n?void 0:n.slice(-3)))&&f>3&&(t=E(t,e)),m._processGroupItems(t,null,null,{level:f,column:e,headerFilterOptions:l}),r.resolve(t)})).fail(r.reject),r}}}(0,s.isFunction)(a)&&a.call(e,c);var g=c.dataSource.postProcess,m=this;return c.dataSource.postProcess=function(t){var n=t;return u&&(n=n.filter((function(t){return null!==t[e.lookup.valueExpr]})),0!==this.pageIndex()||this.searchValue()||(n=n.slice(0)).unshift(null),m._processGroupItems(n,null,null,{level:0,column:e,headerFilterOptions:l})),n=g&&g.call(this,n)||n,m._updateSelectedState(n,e),n},c.dataSource}},getCurrentColumn:function(){return this._currentColumn},showHeaderFilterMenu:function(e,t){var n=this._columnsController,i=(0,r.extend)(!0,{},this._columnsController.getColumns()[e]);if(i){var o=n.getVisibleIndex(e),a=t?this.getView("headerPanel"):this.getView("columnHeadersView"),l=l||a.getColumnElements().eq(t?i.groupIndex:o);this.showHeaderFilterMenuBase({columnElement:l,column:i,applyFilter:!0,apply:function(){n.columnOption(e,{filterValues:this.filterValues,filterType:this.filterType})}})}},showHeaderFilterMenuBase:function(e){var t=this,n=this,i=e.column;if(i){var o=_.default.getGroupInterval(i),a=n._dataController.dataSource(),l=a&&a.remoteOperations().filtering,s=e.onHidden;(0,r.extend)(e,i,{type:o&&o.length>1?"tree":"list",remoteFiltering:l,onShowing:function(t){var i=t.component.$overlayContent().dxResizable("instance");i&&i.option("onResizeEnd",(function(t){var i=n.getController("columns"),o=i.columnOption(e.dataField,"headerFilter");(o=o||{}).width=t.width,o.height=t.height,i.columnOption(e.dataField,"headerFilter",o,!0)}))},onHidden:function(){null==s||s(),(0,m.restoreFocus)(t)}}),e.dataSource=n.getDataSource(e),e.isFilterBuilder&&(e.dataSource.filter=null,e.alignment="right"),n._headerFilterView.showHeaderFilterMenu(e.columnElement,e)}},hideHeaderFilterMenu:function(){this._headerFilterView.hideHeaderFilterMenu()}}),O=(0,r.extend)({},w.headerFilterMixin,{_renderCellContent:function(e,t){var n,i=this,o=t.column;!o.command&&(0,w.allowHeaderFiltering)(o)&&i.option("headerFilter.visible")&&"header"===t.rowType&&(n=i._applyColumnState({name:"headerFilter",rootElement:e,column:o,showColumnLines:i.option("showColumnLines")}))&&i._subscribeToIndicatorEvent(n,o,"headerFilter"),this.callBase.apply(this,arguments)},_subscribeToIndicatorEvent:function(e,t,n){var i=this;"headerFilter"===n&&f.default.on(e,h.name,this.createAction((function(n){n.event.stopPropagation(),(0,m.saveFocusedElementInfo)(e,i),i.getController("headerFilter").showHeaderFilterMenu(t.index,!1)})))},_updateIndicator:function(e,t,n){var i=this.callBase(e,t,n);i&&this._subscribeToIndicatorEvent(i,t,n)},_updateHeaderFilterIndicators:function(){this.option("headerFilter.visible")&&this._updateIndicators("headerFilter")},_needUpdateFilterIndicators:function(){return!0},_columnOptionChanged:function(e){var t=e.optionNames;C.default.checkChanges(t,["filterValues","filterType"])?this._needUpdateFilterIndicators()&&this._updateHeaderFilterIndicators():this.callBase(e)}}),T=(0,r.extend)({},w.headerFilterMixin,{_createGroupPanelItem:function(e,t){var n,i=this,o=i.callBase.apply(i,arguments);return!t.command&&(0,w.allowHeaderFiltering)(t)&&i.option("headerFilter.visible")&&(n=i._applyColumnState({name:"headerFilter",rootElement:o,column:{alignment:(0,l.getDefaultAlignment)(i.option("rtlEnabled")),filterValues:t.filterValues,allowHeaderFiltering:!0},showColumnLines:!0}))&&f.default.on(n,h.name,i.createAction((function(e){e.event.stopPropagation(),i.getController("headerFilter").showHeaderFilterMenu(t.index,!0)}))),o}});var D={skipCalculateColumnFilters:function(){return!1},_calculateAdditionalFilter:function(){if(this.skipCalculateColumnFilters())return this.callBase();var e=[this.callBase()],t=this._columnsController.getVisibleColumns(null,!0),n=this.getController("headerFilter").getCurrentColumn();return(0,a.each)(t,(function(t,i){var o;if((!n||n.index!==i.index)&&(0,w.allowHeaderFiltering)(i)&&i.calculateFilterExpression&&Array.isArray(i.filterValues)&&i.filterValues.length){var r=[];(0,a.each)(i.filterValues,(function(e,t){Array.isArray(t)?o=t:(i.deserializeValue&&!C.default.isDateType(i.dataType)&&"number"!==i.dataType&&(t=i.deserializeValue(t)),o=i.createFilterExpression(t,"=","headerFilter")),o&&(o.columnIndex=i.index),r.push(o)})),r=C.default.combineFilters(r,"or"),e.push("exclude"===i.filterType?["!",r]:r)}})),C.default.combineFilters(e)}},R={defaultOptions:function(){return{syncLookupFilterValues:!0,headerFilter:{visible:!1,width:252,height:325,allowSelectAll:!0,search:{enabled:!1,timeout:500,mode:"contains",editorOptions:{}},texts:{emptyValue:g.default.format("dxDataGrid-headerFilterEmptyValue"),ok:g.default.format("dxDataGrid-headerFilterOK"),cancel:g.default.format("dxDataGrid-headerFilterCancel")}}}},controllers:{headerFilter:S},views:{headerFilterView:w.HeaderFilterView},extenders:{controllers:{data:D},views:{columnHeadersView:O,headerPanel:T}}};t.headerFilterModule=R},71370:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.headerFilterMixin=t.allowHeaderFiltering=t.HeaderFilterView=void 0,t.updateHeaderFilterItemSelectionState=function(e,t,n){if(t^n){if(e.selected=!0,n&&e.items)for(var i=0;i<e.items.length;i++)if(!e.items[i].selected){e.selected=void 0;break}}else(n||e.selected)&&(e.selected=!1,m(e.items))},n(88865),n(3227);var i=f(n(94965)),o=n(65102),r=n(96993),a=n(49859),l=f(n(63585)),s=f(n(63423)),d=f(n(50278)),u=f(n(27447)),c=f(n(97478)),h=f(n(37028));function f(e){return e&&e.__esModule?e:{default:e}}var p="dx-header-filter",g="dx-header-filter-menu";function m(e){e=e||[];for(var t=0;t<e.length;t++)e[t].selected=!1,m(e[t].items)}function _(e){var t="dxTreeView"===e.NAME?".dx-treeview-select-all-item":".dx-list-select-all-checkbox";return e.$element().find(t).dxCheckBox("instance")}function v(e,t){if(!e.component.option("searchValue")){var n=_(e.component);n&&t&&t.length&&n.option("value",void 0)}}var C=c.default.View.inherit({getPopupContainer:function(){return this._popupContainer},getListComponent:function(){return this._listComponent},applyHeaderFilter:function(e){var t=this.getListComponent(),n=t.option("searchValue"),i=_(t),o=[];!n&&!e.isFilterBuilder&&(null==i?void 0:i.option("value"))?("tree"===e.type&&(e.filterType="exclude"),Array.isArray(e.filterValues)&&(e.filterValues=[])):"tree"===e.type&&(e.filterType&&(e.filterType="include"),function e(i,o,a){(0,r.each)(o,(function(o,r){if(void 0!==r.selected&&!!r.selected^a){var l=t._getNode(r),s=t._hasChildren(l)&&r.items&&r.items.some((function(e){return e.selected}));if(!n||!s)return void i.push(r.value)}r.items&&r.items.length&&e(i,r.items,a)}))}(o,t.option("items"),!1),e.filterValues=o),e.filterValues&&!e.filterValues.length&&(e.filterValues=null),e.apply(),this.hideHeaderFilterMenu()},showHeaderFilterMenu:function(e,t){if(t){this._initializePopupContainer(t);var n=this.getPopupContainer();this.hideHeaderFilterMenu(),this.updatePopup(e,t),n.show()}},hideHeaderFilterMenu:function(){var e=this.getPopupContainer();e&&e.hide()},updatePopup:function(e,t){var n=this.option("showColumnLines"),i="right"===t.alignment^!n?"left":"right";this._popupContainer.setAria({role:"dialog",label:l.default.format("dxDataGrid-headerFilterLabel")}),this._popupContainer&&(this._cleanPopupContent(),this._popupContainer.option("position",{my:"".concat(i," top"),at:"".concat(i," bottom"),of:e,collision:"fit fit"}))},_getSearchExpr:function(e,t){var n=e.lookup,i=e.useDefaultSearchExpr,o=t.dataSource,r=t.search.searchExpr;if(r)return r;if(i||(0,a.isDefined)(o)&&!(0,a.isFunction)(o))return"text";if(n)return n.displayExpr||"this";if(e.dataSource){var l=e.dataSource.group;if(Array.isArray(l)&&l.length>0)return l[0].selector;if((0,a.isFunction)(l)&&!e.remoteFiltering)return l}return e.dataField||e.selector},_cleanPopupContent:function(){this._popupContainer&&this._popupContainer.$content().empty()},_initializePopupContainer:function(e){var t=this,n=t.element(),i=this._normalizeHeaderFilterOptions(e),o=i.height,r={width:i.width,height:o,visible:!1,shading:!1,showTitle:!1,showCloseButton:!1,hideOnParentScroll:!1,dragEnabled:!1,hideOnOutsideClick:!0,wrapperAttr:{class:g},focusStateEnabled:!1,toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:i.texts.ok,onClick:function(){t.applyHeaderFilter(e)}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:i.texts.cancel,onClick:function(){t.hideHeaderFilterMenu()}}}],resizeEnabled:!0,onShowing:function(n){n.component.$content().parent().addClass("dx-dropdowneditor-overlay"),t._initializeListContainer(e,i),e.onShowing&&e.onShowing(n)},onShown:function(){t.getListComponent().focus()},onHidden:e.onHidden,onInitialized:function(e){var t=e.component;t.option("animation",t._getDefaultOptions().animation)}};(0,a.isDefined)(t._popupContainer)?t._popupContainer.option(r):t._popupContainer=t._createComponent(n,d.default,r)},_initializeListContainer:function(e,t){var n=this,a=n._popupContainer.$content(),l=!e.isFilterBuilder&&t.allowSelectAll,d={searchEnabled:t.search.enabled,searchTimeout:t.search.timeout,searchEditorOptions:t.search.editorOptions,searchMode:t.search.mode||"",dataSource:e.dataSource,onContentReady:function(){n.renderCompleted.fire()},itemTemplate:function(t,n,o){var r=(0,i.default)(o);return e.encodeHtml?r.text(t.text):r.html(t.text)}};function c(t){"searchValue"===t.fullName&&l&&!1!==n.option("headerFilter.hideSelectAllOnSearch")&&("tree"===e.type?t.component.option("showCheckBoxesMode",t.value?"normal":"selectAll"):t.component.option("selectionMode",t.value?"multiple":"all"))}"tree"===e.type?n._listComponent=n._createComponent((0,i.default)("<div>").appendTo(a),u.default,(0,o.extend)(d,{showCheckBoxesMode:l?"selectAll":"normal",onOptionChanged:c,keyExpr:"id"})):n._listComponent=n._createComponent((0,i.default)("<div>").appendTo(a),s.default,(0,o.extend)(d,{searchExpr:n._getSearchExpr(e,t),pageLoadMode:"scrollBottom",showSelectionControls:!0,selectionMode:l?"all":"multiple",onOptionChanged:c,onSelectionChanged:function(t){var n=t.component.option("items"),i=t.component.option("selectedItems");if(!t.component._selectedItemsUpdating&&!t.component.option("searchValue")&&!e.isFilterBuilder){var o=e.filterValues||[],a="exclude"===e.filterType;0===i.length&&n.length&&(o.length<=1||a&&o.length===n.length-1)?(e.filterType="include",e.filterValues=[]):i.length===n.length&&(e.filterType="exclude",e.filterValues=[])}(0,r.each)(n,(function(t,n){var o=h.default.getIndexByKey(n,i,null)>=0;if(!!n.selected!==o){n.selected=o,e.filterValues=e.filterValues||[];var r=h.default.getIndexByKey(n.value,e.filterValues,null);r>=0&&e.filterValues.splice(r,1),o^"exclude"===e.filterType&&e.filterValues.push(n.value)}})),v(t,e.filterValues)},onContentReady:function(t){var n=t.component,i=n.option("items"),o=[];(0,r.each)(i,(function(){this.selected&&o.push(this)})),n._selectedItemsUpdating=!0,n.option("selectedItems",o),n._selectedItemsUpdating=!1,v(t,e.filterValues)}}))},_normalizeHeaderFilterOptions:function(e){var t=this.option("headerFilter")||{},n=e.headerFilter||{},i={search:{enabled:t.allowSearch,timeout:t.searchTimeout}},r={search:{enabled:n.allowSearch,mode:n.searchMode,timeout:n.searchTimeout}};return(0,o.extend)(!0,{},t,i,n,r)},_renderCore:function(){this.element().addClass(g)}});t.HeaderFilterView=C;var w=function(e){return(0,a.isDefined)(e.allowHeaderFiltering)?e.allowHeaderFiltering:e.allowFiltering};t.allowHeaderFiltering=w;var y={_applyColumnState:function(e){var t,n=e.rootElement,i=e.column;if("headerFilter"===e.name){if(n.find(".".concat(p)).remove(),w(i)){t=this.callBase(e).toggleClass("dx-header-filter-empty",this._isHeaderFilterEmpty(i)),this.option("useLegacyKeyboardNavigation")||t.attr("tabindex",this.option("tabindex")||0);var o=l.default.format("dxDataGrid-headerFilterIndicatorLabel",i.caption);t.attr("aria-label",o),t.attr("aria-haspopup","dialog"),t.attr("role","button")}return t}return this.callBase(e)},_isHeaderFilterEmpty:function(e){return!e.filterValues||!e.filterValues.length},_getIndicatorClassName:function(e){return"headerFilter"===e?p:this.callBase(e)},_renderIndicator:function(e){var t=e.container,n=e.indicator;if("headerFilter"===e.name){var i=this.option("rtlEnabled");if(t.children().length&&(!i&&"right"===e.columnAlignment||i&&"left"===e.columnAlignment))return void t.prepend(n)}this.callBase(e)},optionChanged:function(e){if("headerFilter"===e.name){var t="columnHeadersView"===this.name;this._invalidate(t,t),e.handled=!0}else this.callBase(e)}};t.headerFilterMixin=y},14622:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.headerPanelModule=void 0;var i=u(n(94965)),o=n(14928),r=n(65102),a=n(49859),l=u(n(63585)),s=u(n(55327)),d=n(79397);function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},c.apply(this,arguments)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var f="toolbar-button",p=["addRowButton","applyFilterButton","columnChooserButton","exportButton","groupPanel","revertButton","saveButton","searchPanel"],g={defaultOptions:function(){return{}},views:{headerPanel:function(e){var t,n;function d(){return e.apply(this,arguments)||this}n=e,(t=d).prototype=Object.create(n.prototype),t.prototype.constructor=t,h(t,n);var u=d.prototype;return u._getToolbarItems=function(){return[]},u._getButtonContainer=function(){return(0,i.default)("<div>").addClass(this.addWidgetPrefix(f))},u._getToolbarButtonClass=function(e){var t=e?" ".concat(e):"";return this.addWidgetPrefix(f)+t},u._getToolbarOptions=function(){var e=this.option("toolbar"),t={toolbarOptions:{items:this._getToolbarItems(),visible:null==e?void 0:e.visible,disabled:null==e?void 0:e.disabled,onItemRendered:function(e){var t=e.itemData.onItemRendered;t&&t(e)}}},n=null==e?void 0:e.items;if(t.toolbarOptions.items=this._normalizeToolbarItems(t.toolbarOptions.items,n),this.executeAction("onToolbarPreparing",t),t.toolbarOptions&&!(0,a.isDefined)(t.toolbarOptions.visible)){var i=t.toolbarOptions.items;t.toolbarOptions.visible=!!(null==i?void 0:i.length)}return t.toolbarOptions},u._normalizeToolbarItems=function(e,t){e.forEach((function(e){if(!p.includes(e.name))throw new Error("Default toolbar item '".concat(e.name,"' is not added to DEFAULT_TOOLBAR_ITEM_NAMES"))}));var n={location:"after"},i=Array.isArray(t);if(!(0,a.isDefined)(t))return e;i||(t=[t]);var o={};e.forEach((function(e){o[e.name]=e}));var l=t.map((function(e){return(0,a.isString)(e)&&(e={name:e}),(0,a.isDefined)(e.name)&&((0,a.isDefined)(o[e.name])?e=(0,r.extend)(!0,{},o[e.name],e):p.includes(e.name)&&(e=c(c({},e),{visible:!1}))),(0,r.extend)(!0,{},n,e)}));return i?l:l[0]},u._renderCore=function(){if(this._toolbar)this._toolbar.option(this._toolbarOptions);else{var e=this.element();e.addClass(this.addWidgetPrefix("header-panel"));var t=l.default.format(this.component.NAME+"-ariaToolbar"),n=(0,i.default)("<div>").attr("aria-label",t).appendTo(e);this._toolbar=this._createComponent(n,s.default,this._toolbarOptions)}},u._columnOptionChanged=function(){},u._handleDataChanged=function(){this._requireReady&&this.render()},u._isDisabledDefinedByUser=function(e){var t,n=null===(t=this.option("toolbar"))||void 0===t?void 0:t.items,i=null==n?void 0:n.find((function(t){return(null==t?void 0:t.name)===e}));return(0,a.isDefined)(null==i?void 0:i.disabled)},u.init=function(){e.prototype.init.call(this),this.createAction("onToolbarPreparing",{excludeValidators:["disabled","readOnly"]})},u.render=function(){this._toolbarOptions=this._getToolbarOptions(),e.prototype.render.apply(this,arguments)},u.setToolbarItemDisabled=function(e,t){var n,i=this._toolbar,o=this._isDisabledDefinedByUser(e);if(i&&!o){var r=(null!==(n=i.option("items"))&&void 0!==n?n:[]).findIndex((function(t){return t.name===e}));if(!(r<0)){var a=i.option("items[".concat(r,"]"));i.option("items[".concat(r,"].disabled"),t),a.options&&i.option("items[".concat(r,"].options.disabled"),t)}}},u.updateToolbarDimensions=function(){var e;null===(e=this._toolbar)||void 0===e||e.updateDimensions()},u.getHeaderPanel=function(){return this.element()},u.getHeight=function(){return this.getElementHeight()},u.optionChanged=function(t){if("onToolbarPreparing"===t.name&&(this._invalidate(),t.handled=!0),"toolbar"===t.name&&(t.handled=!0,this._toolbar)){var n=(0,o.getPathParts)(t.fullName),i=t.fullName.replace(/^toolbar\./,"");if(1===n.length){var r=this._getToolbarOptions();this._toolbar.option(r)}else if("items"===n[1])if(2===n.length){var a=this._getToolbarOptions();this._toolbar.option("items",a.items)}else if(3===n.length){var l=this._normalizeToolbarItems(this._getToolbarItems(),t.value);this._toolbar.option(i,l)}else n.length>=4&&this._toolbar.option(i,t.value);else this._toolbar.option(i,t.value)}e.prototype.optionChanged.call(this,t)},u.isVisible=function(){return!(!this._toolbarOptions||!this._toolbarOptions.visible)},u.allowDragging=function(){},u.hasGroupedColumns=function(){},d}(d.ColumnsView)},extenders:{controllers:{resizing:{_updateDimensionsCore:function(){this.callBase.apply(this,arguments),this.getView("headerPanel").updateToolbarDimensions()}}}}};t.headerPanelModule=g},76532:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WIDGET_CLASS=t.VIRTUAL_ROW_CLASS=t.ROW_CLASS=t.ROWS_VIEW_CLASS=t.REVERT_BUTTON_CLASS=t.NON_FOCUSABLE_ELEMENTS_SELECTOR=t.MASTER_DETAIL_ROW_CLASS=t.MASTER_DETAIL_CELL_CLASS=t.INTERACTIVE_ELEMENTS_SELECTOR=t.HEADER_ROW_CLASS=t.GROUP_ROW_CLASS=t.GROUP_FOOTER_CLASS=t.FUNCTIONAL_KEYS=t.FREESPACE_ROW_CLASS=t.FOCUS_TYPE_ROW=t.FOCUS_TYPE_CELL=t.FOCUS_STATE_CLASS=t.FOCUSED_CLASS=t.FAST_EDITING_DELETE_KEY=t.EDIT_MODE_FORM=t.EDIT_FORM_ITEM_CLASS=t.EDIT_FORM_CLASS=t.EDITOR_CELL_CLASS=t.DROPDOWN_EDITOR_OVERLAY_CLASS=t.DATEBOX_WIDGET_NAME=t.DATA_ROW_CLASS=t.COMMAND_SELECT_CLASS=t.COMMAND_EXPAND_CLASS=t.COMMAND_EDIT_CLASS=t.COMMAND_CELL_SELECTOR=t.COLUMN_HEADERS_VIEW=t.CELL_FOCUS_DISABLED_CLASS=t.ATTRIBUTES=void 0;t.ATTRIBUTES={ariaColIndex:"aria-colindex",dragCell:"dx-drag-cell"};t.ROWS_VIEW_CLASS="rowsview";t.EDIT_FORM_CLASS="edit-form";t.GROUP_FOOTER_CLASS="group-footer";t.ROW_CLASS="dx-row";t.DATA_ROW_CLASS="dx-data-row";t.GROUP_ROW_CLASS="dx-group-row";t.HEADER_ROW_CLASS="dx-header-row";t.EDIT_FORM_ITEM_CLASS="edit-form-item";t.MASTER_DETAIL_ROW_CLASS="dx-master-detail-row";t.FREESPACE_ROW_CLASS="dx-freespace-row";t.VIRTUAL_ROW_CLASS="dx-virtual-row";t.MASTER_DETAIL_CELL_CLASS="dx-master-detail-cell";t.EDITOR_CELL_CLASS="dx-editor-cell";t.DROPDOWN_EDITOR_OVERLAY_CLASS="dx-dropdowneditor-overlay";t.COMMAND_EXPAND_CLASS="dx-command-expand";t.COMMAND_SELECT_CLASS="dx-command-select";t.COMMAND_EDIT_CLASS="dx-command-edit";t.COMMAND_CELL_SELECTOR="[class^=dx-command]";t.CELL_FOCUS_DISABLED_CLASS="dx-cell-focus-disabled";t.DATEBOX_WIDGET_NAME="dxDateBox";t.FOCUS_STATE_CLASS="dx-state-focused";t.WIDGET_CLASS="dx-widget";t.REVERT_BUTTON_CLASS="dx-revert-button";t.FOCUSED_CLASS="dx-focused";t.FAST_EDITING_DELETE_KEY="delete";var n='\n  input:not([type="hidden"]):not([disabled]),\n  textarea:not([disabled]),\n  a:not([disabled]),\n  select:not([disabled]),\n  button:not([disabled]),\n  [tabindex]:not([disabled]),\n  .dx-checkbox:not([disabled])\n';t.INTERACTIVE_ELEMENTS_SELECTOR=n;var i="".concat(n,", .dx-dropdowneditor-icon");t.NON_FOCUSABLE_ELEMENTS_SELECTOR=i;t.EDIT_MODE_FORM="form";t.FOCUS_TYPE_ROW="row";t.FOCUS_TYPE_CELL="cell";t.COLUMN_HEADERS_VIEW="columnHeadersView";t.FUNCTIONAL_KEYS=["shift","control","alt"]},95465:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GridCoreKeyboardNavigationDom=void 0;var i=n(76532),o={isDragCell:function(e){return void 0!==e.attr(i.ATTRIBUTES.dragCell)},getCellToFocus:function(e,t){return e.filter("[".concat(i.ATTRIBUTES.ariaColIndex,'="').concat(t+1,'"]:not([').concat(i.ATTRIBUTES.dragCell,"])")).first()}};t.GridCoreKeyboardNavigationDom=o},66822:(e,t,n)=>{function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.keyboardNavigationModule=t.KeyboardNavigationController=void 0;var o=n(48152),r=O(n(70175)),a=n(26391),l=O(n(94965)),s=O(n(19478)),d=n(74460),u=n(21620),c=n(49859),h=n(82769),f=O(n(38608)),p=O(n(54960)),g=n(64300),m=n(6473),_=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(54839)),v=n(87976),C=n(27529),w=n(32019),y=O(n(97478)),x=O(n(37028)),I=n(76532),b=n(95465),E=n(52403);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e){return e&&e.__esModule?e:{default:e}}function T(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}var F=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,R(t,n);var o=i.prototype;return o.init=function(){var e,t;this._dataController=this.getController("data"),this._selectionController=this.getController("selection"),this._editingController=this.getController("editing"),this._headerPanel=this.getView("headerPanel"),this._rowsView=this.getView("rowsView"),this._columnsController=this.getController("columns"),this._editorFactory=this.getController("editorFactory"),this._focusController=this.getController("focus"),this._memoFireFocusedCellChanged=(0,C.memoize)(this._memoFireFocusedCellChanged.bind(this),{compareType:"value"}),this._memoFireFocusedRowChanged=(0,C.memoize)(this._memoFireFocusedRowChanged.bind(this),{compareType:"value"}),this.focusedHandlerWithContext=this.focusedHandlerWithContext||this.focusedHandler.bind(this),this.renderCompletedWithContext=this.renderCompletedWithContext||this.renderCompleted.bind(this),this.rowsViewFocusHandlerContext=this.rowsViewFocusHandlerContext||this.rowsViewFocusHandler.bind(this),this._updateFocusTimeout=null,this._fastEditingStarted=!1,this._focusedCellPosition={},this._canceledCellPosition=null,this.isKeyboardEnabled()?(_.subscribeVisibilityChange(),null===(e=this._editorFactory)||void 0===e||e.focused.add(this.focusedHandlerWithContext),this.createAction("onKeyDown")):(_.unsubscribeVisibilityChange(),null===(t=this._editorFactory)||void 0===t||t.focused.remove(this.focusedHandlerWithContext)),this.initViewHandlers(),this.initDocumentHandlers()},o.focusedHandler=function(e){this.setupFocusedView(),this._isNeedScroll&&e.is(":visible")&&this._focusedView&&this._focusedView.getScrollable&&(this._focusedView._scrollToElement(e),this._isNeedScroll=!1)},o.rowsViewFocusHandler=function(e){var t,n=(0,l.default)(e.target),i=(0,l.default)(e.relatedTarget).closest(this._rowsView.element()).length,o=n.is("a");if(e.relatedTarget&&o&&!i&&this._isEventInCurrentGrid(e)){var r=this._getFocusedCell();r=(0,E.isElementDefined)(r)?r:this._rowsView.getCellElements(0).filter("[tabindex]").eq(0),n.closest(r).length||(e.preventDefault(),f.default.trigger(r,"focus"))}var a=n.is("td"),s=(null!==(t=this.option("focusedRowIndex"))&&void 0!==t?t:-1)<0;a&&s&&this._updateFocusedCellPosition(n)},o.subscribeToRowsViewFocusEvent=function(){var e,t=null===(e=this._rowsView)||void 0===e?void 0:e.element();f.default.on(t,"focusin",this.rowsViewFocusHandlerContext)},o.unsubscribeFromRowsViewFocusEvent=function(){var e,t=null===(e=this._rowsView)||void 0===e?void 0:e.element();f.default.off(t,"focusin",this.rowsViewFocusHandlerContext)},o.renderCompleted=function(e){var t=this._rowsView.element(),n=!e||"refresh"===e.changeType,i=this._focusedView&&this._focusedView.name===this._rowsView.name,o=e&&("append"===e.changeType||"prepend"===e.changeType),a=(0,l.default)(r.default.getRootNode(t.get&&t.get(0))).find(":focus"),s=!a.length||a.closest(t).length;this.unsubscribeFromRowsViewFocusEvent(),this.subscribeToRowsViewFocusEvent(),this.initPointerEventHandler(),this.initKeyDownHandler(),this._setRowsViewAttributes(),i&&s&&(this._isNeedFocus?!o:this._isHiddenFocus&&n&&!(null==e?void 0:e.virtualColumnsScrolling))&&this._updateFocus(!0)},o.initViewHandlers=function(){var e,t;this.unsubscribeFromRowsViewFocusEvent(),this.unsubscribeFromPointerEvent(),this.unsubscribeFromKeyDownEvent(),null===(t=null===(e=this._rowsView)||void 0===e?void 0:e.renderCompleted)||void 0===t||t.remove(this.renderCompletedWithContext),this.isKeyboardEnabled()&&this._rowsView.renderCompleted.add(this.renderCompletedWithContext)},o.initDocumentHandlers=function(){var e=this,t=r.default.getDocument();this._documentClickHandler=this._documentClickHandler||this.createAction((function(t){var n=(0,l.default)(t.event.target),i=e._isEventInCurrentGrid(t.event)&&n.closest(".".concat(e.addWidgetPrefix(I.ROWS_VIEW_CLASS))).length,o=n.closest(".".concat(I.DROPDOWN_EDITOR_OVERLAY_CLASS)).length,r=e.getController("columnsResizer"),a=!!r&&r.isResizing();i||o||a||(!(!!e._focusedView&&n.parents().filter(e._focusedView.element()).length>0)&&e._resetFocusedCell(!0),e._resetFocusedView())})),f.default.off(t,(0,m.addNamespace)(p.default.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler),this.isKeyboardEnabled()&&f.default.on(t,(0,m.addNamespace)(p.default.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler)},o._setRowsViewAttributes=function(){var e=this._getRowsViewElement();!this._dataController.getVisibleRows().length&&this._applyTabIndexToElement(e)},o.unsubscribeFromPointerEvent=function(){var e=(0,E.isMobile)()?h.name:p.default.down,t=this._getRowsViewElement();this._pointerEventAction&&f.default.off(t,(0,m.addNamespace)(e,"dxDataGridKeyboardNavigation"),this._pointerEventAction)},o.subscribeToPointerEvent=function(){var e=(0,E.isMobile)()?h.name:p.default.down,t=this._getRowsViewElement(),n=".".concat(w.ROW_CLASS," > td, .").concat(w.ROW_CLASS);f.default.on(t,(0,m.addNamespace)(e,"dxDataGridKeyboardNavigation"),n,this._pointerEventAction)},o.initPointerEventHandler=function(){this._pointerEventAction=this._pointerEventAction||this.createAction(this._pointerEventHandler),this.unsubscribeFromPointerEvent(),this.subscribeToPointerEvent()},o.unsubscribeFromKeyDownEvent=function(){g.keyboard.off(this._keyDownListener)},o.subscribeToKeyDownEvent=function(){var e=this,t=this._getRowsViewElement();this._keyDownListener=g.keyboard.on(t,null,(function(t){return e._keyDownHandler(t)}))},o.initKeyDownHandler=function(){this._keyDownListener&&this.unsubscribeFromKeyDownEvent(),this.subscribeToKeyDownEvent()},o.dispose=function(){e.prototype.dispose.call(this),this._resetFocusedView(),g.keyboard.off(this._keyDownListener),f.default.off(r.default.getDocument(),(0,m.addNamespace)(p.default.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler),clearTimeout(this._updateFocusTimeout),_.unsubscribeVisibilityChange()},o.optionChanged=function(t){switch(t.name){case"keyboardNavigation":case"useLegacyKeyboardNavigation":this.init(),t.handled=!0;break;default:e.prototype.optionChanged.call(this,t)}},o.isRowFocusType=function(){return this.focusType===I.FOCUS_TYPE_ROW},o.isCellFocusType=function(){return this.focusType===I.FOCUS_TYPE_CELL},o.setRowFocusType=function(){this.option("focusedRowEnabled")&&(this.focusType=I.FOCUS_TYPE_ROW)},o.setCellFocusType=function(){this.focusType=I.FOCUS_TYPE_CELL},o._keyDownHandler=function(e){var t,n=!0;this._isNeedFocus=!0,this._isNeedScroll=!0;var i=this._processOnKeyDown(e),o=null===(t=this._editingController)||void 0===t?void 0:t.isEditing(),r=e.originalEvent;if(r.isDefaultPrevented())return this._isNeedFocus=!1,void(this._isNeedScroll=!1);if(!I.FUNCTIONAL_KEYS.includes(e.keyName)&&this._updateFocusedCellPositionByTarget(r.target),!i){switch(e.keyName){case"leftArrow":case"rightArrow":this._leftRightKeysHandler(e,o),i=!0;break;case"upArrow":case"downArrow":e.ctrl?_.selectView("rowsView",this,r):this._upDownKeysHandler(e,o),i=!0;break;case"pageUp":case"pageDown":this._pageUpDownKeyHandler(e),i=!0;break;case"space":i=this._spaceKeyHandler(e,o);break;case"A":(0,m.isCommandKeyPressed)(e.originalEvent)?(this._ctrlAKeyHandler(e,o),i=!0):i=this._beginFastEditing(e.originalEvent);break;case"tab":this._tabKeyHandler(e,o),i=!0;break;case"enter":this._enterKeyHandler(e,o),i=!0;break;case"escape":this._escapeKeyHandler(e,o),i=!0;break;case"F":(0,m.isCommandKeyPressed)(e.originalEvent)?(this._ctrlFKeyHandler(e),i=!0):i=this._beginFastEditing(e.originalEvent);break;case"F2":this._f2KeyHandler(),i=!0;break;case"del":case"backspace":this._isFastEditingAllowed()&&!this._isFastEditingStarted()&&(i=this._beginFastEditing(r,!0))}i||this._beginFastEditing(r)||(this._isNeedFocus=!1,this._isNeedScroll=!1,n=!1),n&&r.stopPropagation()}},o._processOnKeyDown=function(e){var t=e.originalEvent,n={handled:!1,event:t};return this.executeAction("onKeyDown",n),e.ctrl=t.ctrlKey,e.alt=t.altKey,e.shift=t.shiftKey,!!n.handled},o._closeEditCell=function(){var e=this;setTimeout((function(){e._editingController.closeEditCell()}))},o._leftRightKeysHandler=function(e,t){var n=this.getVisibleRowIndex(),i=e.originalEvent,o=this._focusedView&&this._focusedView.getRow(n),r=this._getDirectionCodeByKey(e.keyName),a=this._isFastEditingStarted();if((!t||a)&&(0,E.isDataRow)(o)){this.setCellFocusType(),a&&this._closeEditCell(),this._isVirtualColumnRender()&&this._processVirtualHorizontalPosition(r);var l=this._getNextCell(r);(0,E.isElementDefined)(l)&&this._arrowKeysHandlerFocusCell(i,l,r),i&&i.preventDefault()}},o._upDownKeysHandler=function(e,t){var n,i,o=this.getVisibleRowIndex(),r=this._focusedView&&this._focusedView.getRow(o),a=e.originalEvent,l="upArrow"===e.keyName,s=this._dataController.dataSource(),d=null===(i=null===(n=this._editingController)||void 0===n?void 0:n.isEditRowByIndex)||void 0===i?void 0:i.call(n,o),c=this._isFastEditingStarted();if((!d||!t||c)&&r&&!(0,E.isDetailRow)(r)){if(c&&this._closeEditCell(),!this._navigateNextCell(a,e.keyName)&&this._isVirtualRowRender()&&l&&s&&!s.isLoading()){var h=(0,u.getOuterHeight)(r),f=this._focusedCellPosition.rowIndex-1;this._scrollBy(0,-h,f,a)}a&&a.preventDefault()}},o._pageUpDownKeyHandler=function(e){var t=this._dataController.pageIndex(),n=this._dataController.pageCount(),i=this.option("paging.enabled"),o="pageUp"===e.keyName,r=o?-1:1,a=this._rowsView.getScrollable();i&&!this._isVirtualScrolling()?(o?t>0:t<n-1)&&!this._isVirtualScrolling()&&(this._dataController.pageIndex(t+r),e.originalEvent.preventDefault()):a&&(0,u.getHeight)(a.container())<(0,u.getHeight)(a.$content())&&(this._scrollBy(0,(0,u.getHeight)(a.container())*r),e.originalEvent.preventDefault())},o._spaceKeyHandler=function(e,t){var n=this.getVisibleRowIndex(),i=(0,l.default)(e.originalEvent&&e.originalEvent.target);if(this.option("selection")&&"none"!==this.option("selection").mode&&!t){var o="row"===this._getElementType(i)&&this.isRowFocusType()&&(0,E.isDataRow)(i);return i.hasClass(I.COMMAND_SELECT_CLASS)&&"onClick"===this.option("selection.showCheckBoxesMode")&&this._selectionController.startSelectionWithCheckboxes(),!!(o||i.parent().hasClass(I.DATA_ROW_CLASS)||i.hasClass(this.addWidgetPrefix(I.ROWS_VIEW_CLASS)))&&(this._selectionController.changeItemSelection(n,{shift:e.shift,control:e.ctrl}),e.originalEvent.preventDefault(),!0)}return this._beginFastEditing(e.originalEvent)},o._ctrlAKeyHandler=function(e,t){t||e.alt||"multiple"!==this.option("selection.mode")||!this.option("selection.allowSelectAll")||(this._selectionController.selectAll(),e.originalEvent.preventDefault())},o._tabKeyHandler=function(e,t){var n=this.option("editing"),i=e.shift?"previous":"next",o=!((0,c.isDefined)(this._focusedCellPosition)&&!(0,c.isEmptyObject)(this._focusedCellPosition))||!e.shift&&this._isLastValidCell(this._focusedCellPosition)||e.shift&&this._isFirstValidCell(this._focusedCellPosition),r=e.originalEvent.target,a=this._focusedView&&this._focusedView.element();if(!this._handleTabKeyOnMasterDetailCell(r,i)){if((0,l.default)(a).addClass(I.FOCUS_STATE_CLASS),n&&r&&!o)if((0,l.default)(r).hasClass(this.addWidgetPrefix(I.ROWS_VIEW_CLASS))&&this._resetFocusedCell(),this._isVirtualColumnRender()&&this._processVirtualHorizontalPosition(i),t){if(!this._editingCellTabHandler(e,i))return}else this._targetCellTabHandler(e,i)&&(o=!0);o?(this._editorFactory.loseFocus(),this._editingController.isEditing()&&!this._isRowEditMode()&&(this._resetFocusedCell(!0),this._resetFocusedView(),this._closeEditCell())):e.originalEvent.preventDefault()}},o._getMaxHorizontalOffset=function(){var e=this.component.getScrollable();return e?e.scrollWidth()-(0,u.getWidth)(this._rowsView.element()):0},o._isColumnRendered=function(e){var t=this._columnsController.getVisibleColumns(null,!0),n=this._columnsController.getVisibleColumns(),i=t[e],o=!1;return i&&(o=n.indexOf(i)>=0),o},o._isFixedColumn=function(e){var t=this._columnsController.getVisibleColumns(null,!0)[e];return!!t&&!!t.fixed},o._isColumnVirtual=function(e){var t=e-this._columnsController.getColumnIndexOffset(),n=this._columnsController.getVisibleColumns()[t];return!!n&&"virtual"===n.command},o._processVirtualHorizontalPosition=function(e){var t,n=this.component.getScrollable(),i=this.getColumnIndex(),o=0,r=!1;switch(e){case"next":case"nextInRow":var a=this._getVisibleColumnCount();t=i+1,o=this.option("rtlEnabled")?this._getMaxHorizontalOffset():0,r="next"===e?a===t||this._isFixedColumn(i)&&!this._isColumnRendered(t):a>t&&this._isFixedColumn(i)&&!this._isColumnRendered(t);break;case"previous":case"previousInRow":if(t=i-1,o=this.option("rtlEnabled")?0:this._getMaxHorizontalOffset(),"previous"===e){var l=this._columnsController.getColumnIndexOffset();r=t<0&&0===l||this._isFixedColumn(i)&&!this._isColumnRendered(t)}else r=t>=0&&this._isFixedColumn(i)&&!this._isColumnRendered(t)}r?n.scrollTo({left:o}):(0,c.isDefined)(t)&&(0,c.isDefined)(e)&&this._isColumnVirtual(t)&&0!==(o=this._getHorizontalScrollPositionOffset(e))&&n.scrollBy({left:o,top:0})},o._getHorizontalScrollPositionOffset=function(e){var t=0,n=this._getCell(this._focusedCellPosition),i=n&&(0,u.getOuterWidth)(n);if(i>0){var o=this.option("rtlEnabled")?-1:1;t="nextInRow"===e||"next"===e?i*o:i*o*-1}return t},o._editingCellTabHandler=function(e,t){var n,i=e.originalEvent.target,o=this._getCellElementFromTarget(i),r=e.originalEvent,a=this._getElementType(i);if(o.is(I.COMMAND_CELL_SELECTOR))return!this._targetCellTabHandler(e,t);this._updateFocusedCellPosition(o);var l=this._getNextCellByTabKey(r,t,a);if(!(o=l.$cell)||this._handleTabKeyOnMasterDetailCell(o,t))return!1;var s=this._columnsController,d=this._rowsView.getCellIndex(o)+s.getColumnIndexOffset(),u=s.getVisibleColumns(null,!0)[d],c=o.parent(),h=this._getRowIndex(c),f=this._dataController.items()[h],p=this._editingController;if(u&&u.allowEditing){var g=!f||"data"===f.rowType;n=p.allowUpdating({row:f})?g:f&&f.isNewRow}return n||this._closeEditCell(),this._focusCell(o,!l.isHighlighted)&&(!this._isRowEditMode()&&n?this._editFocusedCell():this._focusInteractiveElement(o,e.shift)),!0},o._targetCellTabHandler=function(e,t){var n=e.originalEvent,i=n.target,o=this._getElementType(i),r=this._getCellElementFromTarget(i),a="cell"===o&&this._getInteractiveElement(r,!e.shift),s=!1;if(!(0,E.isEditorCell)(this,r)&&(null==a?void 0:a.length)&&i!==a.get(0))s=!0;else{void 0===this._focusedCellPosition.rowIndex&&(0,l.default)(i).hasClass(w.ROW_CLASS)&&this._updateFocusedCellPosition(r),o=this._getElementType(i),this.isRowFocusType()&&(this.setCellFocusType(),"row"===o&&(0,E.isDataRow)((0,l.default)(i))&&(i=this.getFirstValidCellInRow((0,l.default)(i)),o=this._getElementType(i)));var d=this._getNextCellByTabKey(n,t,o);if(!(r=d.$cell))return!1;if(!(r=this._checkNewLineTransition(n,r)))return!1;this._focusCell(r,!d.isHighlighted),(0,E.isEditorCell)(this,r)||this._focusInteractiveElement(r,e.shift)}return s},o._getNextCellByTabKey=function(e,t,n){var i=this._getNextCell(t,n),o=i&&this._fireFocusedCellChanging(e,i,!0);return!o||o.cancel?{}:(o.$newCellElement&&(i=o.$newCellElement),{$cell:i,isHighlighted:o.isHighlighted})},o._checkNewLineTransition=function(e,t){var n=this.getVisibleRowIndex(),i=t.parent();if(n!==this._getRowIndex(i)){var o=this._getCellPosition(t),r=this._fireFocusedRowChanging(e,i);if(r.cancel)return;r.rowIndexChanged&&o&&(this.setFocusedColumnIndex(o.columnIndex),t=this._getFocusedCell())}return t},o._enterKeyHandler=function(e,t){var n=this._getFocusedCell(),i=this.getVisibleRowIndex(),o=this._focusedView&&this._focusedView.getRow(i);if(this.option("grouping.allowCollapsing")&&(0,E.isGroupRow)(o)||this.option("masterDetail.enabled")&&n&&n.hasClass(I.COMMAND_EXPAND_CLASS)){var r=this._dataController.getKeyByRowIndex(i),a=this._dataController.items()[i];void 0!==r&&a&&a.data&&!a.data.isContinuation&&this._dataController.changeRowExpand(r)}else this._processEnterKeyForDataCell(e,t)},o._processEnterKeyForDataCell=function(e,t){var n=this._getEnterKeyDirection(e),i=this._allowEditingOnEnterKey();t||!i&&n?(this._handleEnterKeyEditingCell(e.originalEvent),"next"===n||"previous"===n?this._targetCellTabHandler(e,n):"upArrow"!==n&&"downArrow"!==n||this._navigateNextCell(e.originalEvent,n)):i&&this._startEditing(e)},o._getEnterKeyDirection=function(e){var t=this.option("keyboardNavigation.enterKeyDirection"),n=e.shift;return"column"===t?n?"upArrow":"downArrow":"row"===t?n?"previous":"next":void 0},o._handleEnterKeyEditingCell=function(e){var t=e.target,n=this._getCellElementFromTarget(t),i=this._isRowEditMode();this._updateFocusedCellPosition(n),i?(this._focusEditFormCell(n),setTimeout(this._editingController.saveEditData.bind(this._editingController))):(f.default.trigger((0,l.default)(t),"change"),this._closeEditCell(),e.preventDefault())},o._escapeKeyHandler=function(e,t){var n=this._getCellElementFromTarget(e.originalEvent.target);t&&(this._updateFocusedCellPosition(n),this._isRowEditMode()?(this._focusEditFormCell(n),this._editingController.cancelEditData(),0===this._dataController.items().length&&(this._resetFocusedCell(),this._editorFactory.loseFocus())):"cell"===this._editingController.getEditMode()?this._editingController.cancelEditData():this._closeEditCell(),e.originalEvent.preventDefault())},o._ctrlFKeyHandler=function(e){if(this.option("searchPanel.visible")){var t=this._headerPanel.getSearchTextEditor();t&&(t.focus(),e.originalEvent.preventDefault())}},o._f2KeyHandler=function(){var e=this._editingController.isEditing(),t=this.getVisibleRowIndex(),n=this._focusedView&&this._focusedView.getRow(t);!e&&(0,E.isDataRow)(n)&&this._startEditing()},o._navigateNextCell=function(e,t){var n=this._getNextCell(t),i=this._getDirectionCodeByKey(t);return!!(n&&this._isCellValid(n))&&this._arrowKeysHandlerFocusCell(e,n,i)},o._arrowKeysHandlerFocusCell=function(e,t,n){var i="prevRow"===n||"nextRow"===n,o=this._fireFocusChangingEvents(e,t,i,!0);return t=o.$newCellElement,!(o.cancel||!this._isCellValid(t))&&(this._focus(t,!o.isHighlighted),!0)},o._beginFastEditing=function(e,t){if(!this._isFastEditingAllowed()||e.altKey||e.ctrlKey||this._editingController.isEditing())return!1;if(t)this._startEditing(e,I.FAST_EDITING_DELETE_KEY);else{var n=e.key,i=e.keyCode||e.which,o=n||i&&String.fromCharCode(i);!o||1!==o.length&&o!==I.FAST_EDITING_DELETE_KEY||this._startEditing(e,o)}return!0},o._pointerEventHandler=function(e){var t,n=e.event||e,i=(0,l.default)(n.currentTarget),o=null===(t=this._rowsView)||void 0===t?void 0:t.element(),r=i.parent(),a=(0,l.default)(n.target).is(I.INTERACTIVE_ELEMENTS_SELECTOR),s=!!(0,l.default)(n.target).closest(".".concat(I.REVERT_BUTTON_CLASS)).length,d=i.hasClass(I.COMMAND_EXPAND_CLASS);this._isEventInCurrentGrid(n)&&(s||!this._isCellValid(i,!a)&&!d?i.is("td")&&this._resetFocusedCell():(i=this._isInsideEditForm(i)?(0,l.default)(n.target):i,this._focusView(),(0,l.default)(o).removeClass(I.FOCUS_STATE_CLASS),r.hasClass(I.FREESPACE_ROW_CLASS)?(this._updateFocusedCellPosition(i),this._applyTabIndexToElement(this._focusedView.element()),this._focusedView.focus(!0)):this._isMasterDetailCell(i)?this._updateFocusedCellPosition(i):this._clickTargetCellHandler(n,i)))},o._clickTargetCellHandler=function(e,t){var n=this._rowsView.getCellIndex(t),i=this._columnsController.getVisibleColumns()[n],o=this._isCellEditMode();this.setCellFocusType();var r=this._fireFocusChangingEvents(e,t,!0);if(t=r.$newCellElement,r.cancel)this.setRowFocusType(),this.setFocusedRowIndex(r.prevRowIndex),this._editingController.isEditing()&&o&&this._closeEditCell();else{if(r.resetFocusedRow)return void this.getController("focus")._resetFocusedRow();if(r.rowIndexChanged&&(t=this._getFocusedCell()),r.isHighlighted||o||this.setRowFocusType(),this._updateFocusedCellPosition(t),this._allowRowUpdating()&&o&&i&&i.allowEditing)this._isNeedFocus=!1,this._isHiddenFocus=!1;else{t=this._getFocusedCell();var a=e&&(0,l.default)(e.target).closest("".concat(I.NON_FOCUSABLE_ELEMENTS_SELECTOR,", td")),s=a&&a.not(t).is(I.NON_FOCUSABLE_ELEMENTS_SELECTOR),d=!(!!i&&!i.command&&t.hasClass(w.EDITOR_CELL_CLASS))&&(!r.isHighlighted||s);this._focus(t,d,s)}}},o._allowRowUpdating=function(){var e=this.getVisibleRowIndex(),t=this._dataController.items()[e];return this._editingController.allowUpdating({row:t},"click")},o.focus=function(e){var t,n=this.option("focusedRowEnabled"),i=this._isCellElement((0,l.default)(e));e||(t=".dx-datagrid-rowsview .dx-row[tabindex]",n||(t+=", .dx-datagrid-rowsview .dx-row > td[tabindex]"),e=this.component.$element().find(t).first()),e&&this._focusElement((0,l.default)(e),i)},o.getFocusedView=function(){return this._focusedView},o.setupFocusedView=function(){this.isKeyboardEnabled()&&!(0,c.isDefined)(this._focusedView)&&this._focusView()},o._focusElement=function(e,t){var n=(0,l.default)(this._getRowsViewElement()),i=e.closest(n),o=this.isRowFocusType(),r={};!i.length||this._isCellElement(e)&&!this._isCellValid(e)||(this._focusView(),this._isNeedFocus=!0,this._isNeedScroll=!0,(this._isCellElement(e)||(0,E.isGroupRow)(e))&&(this.setCellFocusType(),e=(r=this._fireFocusChangingEvents(null,e,!0,t)).$newCellElement,o&&!r.isHighlighted&&this.setRowFocusType()),r.cancel||(this._focus(e,!r.isHighlighted),this._focusInteractiveElement(e)))},o._getFocusedViewByElement=function(e){var t=this.getFocusedView(),n=t&&(0,l.default)(t.element());return e&&0!==e.closest(n).length},o._focusView=function(){this._focusedView=this._rowsView},o._resetFocusedView=function(){this.setRowFocusType(),this._focusedView=null},o._focusInteractiveElement=function(e,t){if(e){var n=this._getInteractiveElement(e,t);x.default.focusAndSelectElement(this,n)}},o._focus=function(e,t,n){var i=e&&!e.hasClass(w.ROW_CLASS)?e.closest(".".concat(w.ROW_CLASS)):e;if(!i||!(0,E.isNotFocusedRow)(i)){var o,r=this._focusedView,a=r&&r.element();this._isHiddenFocus=t;var l=(0,E.isGroupRow)(i)||(0,E.isGroupFooterRow)(i)||this.isRowFocusType();l?(o=i,r&&this.setFocusedRowIndex(this._getRowIndex(i))):this._isCellElement(e)&&(o=e,this._updateFocusedCellPosition(e)),o&&(a&&a.find(".dx-row[tabindex], .dx-row > td[tabindex]").not(o).removeClass(I.CELL_FOCUS_DISABLED_CLASS).removeClass(I.FOCUSED_CLASS).removeAttr("tabindex"),f.default.one(o,"blur",(function(e){e.relatedTarget&&o.removeClass(I.CELL_FOCUS_DISABLED_CLASS).removeClass(I.FOCUSED_CLASS)})),n||(this._applyTabIndexToElement(o),f.default.trigger(o,"focus")),t?(o.addClass(I.CELL_FOCUS_DISABLED_CLASS),l&&e.addClass(I.CELL_FOCUS_DISABLED_CLASS)):this._editorFactory.focus(o))}},o._updateFocus=function(e){var t=this;this._updateFocusTimeout=setTimeout((function(){if(t._needFocusEditingCell())t._editingController._focusEditingCell();else{var n=t._getFocusedCell(),i=t._editingController.isEditing();if(!t._isMasterDetailCell(n)||t._isRowEditMode()){if(t._hasSkipRow(n.parent())){var o=t._focusedCellPosition&&t._focusedCellPosition.rowIndex>0?"upArrow":"downArrow";n=t._getNextCell(o)}if((0,E.isElementDefined)(n))if(n.is("td")||n.hasClass(t.addWidgetPrefix(I.EDIT_FORM_ITEM_CLASS))){var r=n.is(I.COMMAND_CELL_SELECTOR),a=n.find(":focus"),l=(0,E.isElementDefined)(a);if(!e&&r||!t._editorFactory.focus())l||!t._isNeedFocus&&!t._isHiddenFocus||t._focus(n,t._isHiddenFocus);else{if(r&&l)return void x.default.focusAndSelectElement(t,a);!l&&t._focus(n)}i&&t._focusInteractiveElement.bind(t)(n)}else f.default.trigger(n,"focus")}}}))},o._needFocusEditingCell=function(){var e=this._editingController.getEditMode()===w.EDIT_MODE_CELL,t=this._editingController.getEditMode()===w.EDIT_MODE_BATCH,n=e&&this._editingController.hasChanges(),i=t&&this._editingController.isNewRowInEditMode(),o=this._getFocusedCell();return(0===o.children().length||o.find(w.FOCUSABLE_ELEMENT_SELECTOR).length>0)&&(n||i)},o._getFocusedCell=function(){return(0,l.default)(this._getCell(this._focusedCellPosition))},o._updateFocusedCellPositionByTarget=function(e){var t;if("row"===this._getElementType(e)&&(0,c.isDefined)(null===(t=this._focusedCellPosition)||void 0===t?void 0:t.columnIndex)){var n=(0,l.default)(e);this._focusedView&&(0,E.isGroupRow)(n)&&this.setFocusedRowIndex(this._getRowIndex(n))}else this._updateFocusedCellPosition(this._getCellElementFromTarget(e))},o._updateFocusedCellPosition=function(e,t){var n=this._getCellPosition(e,t);return n&&(!e.length||n.rowIndex>=0&&n.columnIndex>=0)&&this.setFocusedCellPosition(n.rowIndex,n.columnIndex),n},o._getFocusedColumnIndexOffset=function(e){var t=0,n=this._columnsController.getVisibleColumns()[e];return n&&n.fixed?t=this._getFixedColumnIndexOffset(n):e>=0&&(t=this._columnsController.getColumnIndexOffset()),t},o._getFixedColumnIndexOffset=function(e){return(0,E.isFixedColumnIndexOffsetRequired)(this,e)?this._getVisibleColumnCount()-this._columnsController.getVisibleColumns().length:0},o._getCellPosition=function(e,t){var n,i=(0,E.isElementDefined)(e)&&e.closest("tr");if((0,E.isElementDefined)(i)){var o=this._getRowIndex(i);return n=this._rowsView.getCellIndex(e,o),n+=this._getFocusedColumnIndexOffset(n),t&&(n="previous"===t?n-1:n+1,n=this._applyColumnIndexBoundaries(n)),{rowIndex:o,columnIndex:n}}},o._focusCell=function(e,t){if(this._isCellValid(e))return this._focus(e,t),!0},o._focusEditFormCell=function(e){e.hasClass(I.MASTER_DETAIL_CELL_CLASS)&&this._editorFactory.focus(e,!0)},o._resetFocusedCell=function(e){var t,n=this._getFocusedCell();(0,E.isElementDefined)(n)&&n.removeAttr("tabindex"),this._isNeedFocus=!1,this._isNeedScroll=!1,this._focusedCellPosition={},clearTimeout(this._updateFocusTimeout),null===(t=this._focusedView)||void 0===t||t.renderFocusState({preventScroll:e})},o.restoreFocusableElement=function(e,t){var n,i,o=(0,c.isDefined)(e),r=this._rowsView.element(),a=this._focusedCellPosition.columnIndex,l=this._dataController.getRowIndexOffset();e=o?e:this._rowsView.getTopVisibleItemIndex()+l,o?(i=this._rowsView.getRow(e-l),!(n=this._fireFocusedRowChanging(t,i)).cancel&&n.rowIndexChanged&&(e=n.newRowIndex)):(this._editorFactory.loseFocus(),this._applyTabIndexToElement(r),f.default.trigger(r,"focus")),o&&n.cancel||this.setFocusedCellPosition(e,a),o&&this._updateFocus()},o._getNewPositionByCode=function(e,t,n){var i=e.columnIndex,o=e.rowIndex;if(void 0===e.rowIndex&&"next"===n)return{columnIndex:0,rowIndex:0};switch(n){case"nextInRow":case"next":i<this._getVisibleColumnCount()-1&&"row"!==t&&this._hasValidCellAfterPosition({columnIndex:i,rowIndex:o})?i++:this._isLastRow(o)||"next"!==n||(i=0,o++);break;case"previousInRow":case"previous":i>0&&"row"!==t&&this._hasValidCellBeforePosition({columnIndex:i,rowIndex:o})?i--:o>0&&"previous"===n&&(o--,i=this._getVisibleColumnCount()-1);break;case"upArrow":o=o>0?o-1:o;break;case"downArrow":o=this._isLastRow(o)?o:o+1}return{columnIndex:i,rowIndex:o}},o.setFocusedCellPosition=function(e,t){this.setFocusedRowIndex(e),this.setFocusedColumnIndex(t)},o.setFocusedRowIndex=function(e){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.rowIndex=e},o.setFocusedColumnIndex=function(e){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.columnIndex=e},o.getRowIndex=function(){return this._focusedCellPosition?this._focusedCellPosition.rowIndex:-1},o.getColumnIndex=function(){return this._focusedCellPosition?this._focusedCellPosition.columnIndex:-1},o.getVisibleRowIndex=function(){var e,t=null===(e=this._focusedCellPosition)||void 0===e?void 0:e.rowIndex;return!(0,c.isDefined)(t)||t<0?-1:t-this._dataController.getRowIndexOffset()},o.getVisibleColumnIndex=function(){var e,t=null===(e=this._focusedCellPosition)||void 0===e?void 0:e.columnIndex;return(0,c.isDefined)(t)?t-this._columnsController.getColumnIndexOffset():-1},o._applyColumnIndexBoundaries=function(e){var t=this._getVisibleColumnCount();return e<0?e=0:e>=t&&(e=t-1),e},o._isCellByPositionValid=function(e){var t=(0,l.default)(this._getCell(e));return this._isCellValid(t)},o._isLastRow=function(e){var t=this._dataController;return this._isVirtualRowRender()?e>=t.getMaxRowIndex():e===Math.max.apply(Math,T(t.items().map((function(e,t){return!1!==e.visible?t:-1}))))},o._isFirstValidCell=function(e){var t=!1;return 0===e.rowIndex&&e.columnIndex>=0&&(t=t||!this._hasValidCellBeforePosition(e)),t},o._hasValidCellBeforePosition=function(e){for(var t=e.columnIndex,n=!1;t>0&&!n;){var i={columnIndex:--t,rowIndex:e.rowIndex};n=this._isCellByPositionValid(i)}return n},o._hasValidCellAfterPosition=function(e){for(var t=e.columnIndex,n=!1,i=this._getVisibleColumnCount();t<i-1&&!n;){var o={columnIndex:++t,rowIndex:e.rowIndex};n=this._isCellByPositionValid(o)}return n},o._isLastValidCell=function(e){var t=e.columnIndex>=0?e.columnIndex+1:0,n=e.rowIndex,i={columnIndex:t,rowIndex:n},o=this._dataController.getVisibleRows(),r=o&&o[n];return!!this._isLastRow(n)&&(!!(r&&"group"===r.rowType&&e.columnIndex>0)||(e.columnIndex===this._getVisibleColumnCount()-1||!this._isCellByPositionValid(i)&&this._isLastValidCell(i)))},o._isCellValid=function(e,t){if((0,E.isElementDefined)(e)){var n=e.parent(),i=this._columnsController,o=this._rowsView.getCellIndex(e)+i.getColumnIndexOffset(),r=i.getVisibleColumns(null,!0)[o],a=this._getVisibleColumnCount(),l=this._editingController,s=(0,E.isDetailRow)(n),d=r&&r.showWhenGrouped,u=r&&!e.hasClass(I.COMMAND_EXPAND_CLASS)&&(0,E.isDataRow)(n);if(b.GridCoreKeyboardNavigationDom.isDragCell(e))return!1;if(this._isMasterDetailCell(e))return!0;if(a>o&&(!s&&r&&(!(0,c.isDefined)(r.groupIndex)||d&&u)||parseInt(e.attr("colspan"),10)>1)){var h=this._dataController.items(),f=this._rowsView.getRowIndex(n),p=h[f],g=l&&this._isCellEditMode()&&l.isEditing(),m=l&&l.isEditRow(f),_=m||g;return r.command?this._isLegacyNavigation()?!_&&"expand"===r.command:!g&&(m?"select"!==r.command:!_):(!g||!p||"data"===p.rowType)&&(!_||r.allowEditing||t)}}},o.getFirstValidCellInRow=function(e,t){for(var n,i,o=e.find("> td"),r=t=t||0;r<o.length;++r)if(n=o.eq(r),this._isCellValid(n)){i=n;break}return i},o._getNextCell=function(e,t,n){var i,o,r=n||this._focusedCellPosition,a=this.isRowFocusType(),s=a||["next","previous"].includes(e);if(this._focusedView&&r){var d=this._getNewPositionByCode(r,t,e);i=(0,l.default)(this._getCell(d));var u="previous"===e?this._isFirstValidCell(d):this._isLastValidCell(d);if((0,E.isElementDefined)(i)&&!this._isCellValid(i)&&this._isCellInRow(d,s)&&!u&&(i=a?this.getFirstValidCellInRow(i.parent(),d.columnIndex):this._getNextCell(e,"cell",d)),o=(0,E.isElementDefined)(i)&&i.parent(),this._hasSkipRow(o)){var c=this._getRowIndex(o);if(this._isLastRow(c))return null;i=this._getNextCell(e,"row",{columnIndex:r.columnIndex,rowIndex:c})}return(0,E.isElementDefined)(i)?i:null}return null},o._startEditing=function(e,t){var n=this._focusedCellPosition,i=this.getVisibleRowIndex(),o=this.getVisibleColumnIndex(),r=this._dataController.items()[i],a=this._columnsController.getVisibleColumns()[o];this._isAllowEditing(r,a)&&(this._isRowEditMode()?this._editingController.editRow(i):n&&this._startEditCell(e,t))},o._isAllowEditing=function(e,t){return this._editingController.allowUpdating({row:e})&&t&&t.allowEditing},o._editFocusedCell=function(){var e=this.getVisibleRowIndex(),t=this.getVisibleColumnIndex();return this._editingController.editCell(e,t)},o._startEditCell=function(e,t){var n=this;this._fastEditingStarted=(0,c.isDefined)(t);var i=this._editFocusedCell(),o=(0,c.isDeferred)(i);if(this._isFastEditingStarted()&&(o||i)){var r=o&&t===I.FAST_EDITING_DELETE_KEY?"":t,a=o?i:(0,d.Deferred)().resolve(),l=this._rowsView.waitAsyncTemplates(!0);(0,d.when)(a,l).done((function(){n._editingCellHandler(e,r)}))}},o._editingCellHandler=function(e,t){var n,i,o=this._getFocusedCell().find(I.INTERACTIVE_ELEMENTS_SELECTOR).eq(0),r=o.get(0);if(r){var a=(0,m.createEvent)(e,{type:"keydown",target:r}),l=(0,m.createEvent)(e,{type:"keypress",target:r}),d=(0,m.createEvent)(e,{type:"input",target:r});if(d.originalEvent&&(d.originalEvent=(0,m.createEvent)(d.originalEvent,{data:t})),null===(i=(n=r).select)||void 0===i||i.call(n),f.default.trigger(o,a),!a.isDefaultPrevented()&&(f.default.trigger(o,l),!l.isDefaultPrevented())){var u=s.default.mozilla?25:0;setTimeout((function(){o.val(t);var e=o.closest(".".concat(I.WIDGET_CLASS));f.default.off(e,"focusout"),f.default.one(e,"focusout",(function(){f.default.trigger(o,"change")})),f.default.trigger(o,d)}),u)}}},o._fireFocusChangingEvents=function(e,t,n,i){var o,r={},a=null!==(o=this._getCellPosition(t))&&void 0!==o?o:{};return this.isCellFocusType()&&((r=this._fireFocusedCellChanging(e,t,i)).cancel||(a.columnIndex=r.newColumnIndex,a.rowIndex=r.newRowIndex,i=r.isHighlighted,t=(0,l.default)(this._getCell(a)))),!r.cancel&&n&&t&&((r=this._fireFocusedRowChanging(e,t.parent())).cancel||(a.rowIndex=r.newRowIndex,r.isHighlighted=i)),r.$newCellElement=(0,l.default)(this._getCell(a)),r.$newCellElement.length||(r.$newCellElement=t),r},o._fireFocusedCellChanging=function(e,t,n){var i=this.option("focusedColumnIndex"),o=this.option("focusedRowIndex"),r=this._getCellPosition(t),a=r?r.columnIndex:-1,s=r?r.rowIndex:-1,d={cellElement:t,prevColumnIndex:i,prevRowIndex:o,newColumnIndex:a,newRowIndex:s,rows:this._dataController.getVisibleRows(),columns:this._columnsController.getVisibleColumns(),event:e,isHighlighted:n||!1,cancel:!1};return this._canceledCellPosition=null,this.executeAction("onFocusedCellChanging",d),d.newColumnIndex===a&&d.newRowIndex===s||(d.$newCellElement=(0,l.default)(this._getCell({columnIndex:d.newColumnIndex,rowIndex:d.newRowIndex}))),d.cancel&&(this._canceledCellPosition={rowIndex:s,columnIndex:a}),d},o._fireFocusedCellChanged=function(e){var t=this._rowsView.getCellIndex(e),n=null==e?void 0:e.parent().data("options"),i=null==n?void 0:n.key;this._memoFireFocusedCellChanged(i,t)},o._memoFireFocusedCellChanged=function(e,t){var n=this._getFocusedCell(),i=this._getRowIndex(null==n?void 0:n.parent()),o=Math.min(i-this._dataController.getRowIndexOffset(),this._dataController.items().length-1);if(!this._editingController.isEditCell(o,t)){var r=this._dataController.items()[o],l=this._columnsController.getVisibleColumns()[t];this.executeAction("onFocusedCellChanged",{cellElement:n?(0,a.getPublicElement)(n):void 0,columnIndex:t,rowIndex:i,row:r,column:l})}},o._fireFocusedRowChanging=function(e,t){var n=this._getRowIndex(t),i=this.option("focusedRowIndex"),o=this._dataController.loadingOperationTypes(),r={rowElement:t,prevRowIndex:i,newRowIndex:n,event:e,rows:this._dataController.getVisibleRows(),cancel:!1};return!this._dataController||this._dataController.isLoading()&&(o.reload||o.paging)?(r.cancel=!0,r):(this.option("focusedRowEnabled")&&(this.executeAction("onFocusedRowChanging",r),r.cancel||r.newRowIndex===n||(r.resetFocusedRow=r.newRowIndex<0,r.resetFocusedRow||this.setFocusedRowIndex(r.newRowIndex),r.rowIndexChanged=!0)),r)},o._fireFocusedRowChanged=function(){var e,t=this.option("focusedRowEnabled"),n=this.option("focusedRowKey"),i=null===(e=this._focusController)||void 0===e?void 0:e.getFocusedRowIndexByKey(n);!t||(0,c.isDefined)(n)&&i<0||this._memoFireFocusedRowChanged(n,i)},o._memoFireFocusedRowChanged=function(e,t){var n=t-this._dataController.getRowIndexOffset();this.executeAction("onFocusedRowChanged",{rowElement:t<0?void 0:this._rowsView.getRowElement(n),rowIndex:t,row:t<0?void 0:this._dataController.getVisibleRows()[n]})},o._isEventInCurrentGrid=function(e){return x.default.isElementInCurrentGrid(this,(0,l.default)(e.target))},o._isRowEditMode=function(){var e=this._editingController.getEditMode();return e===w.EDIT_MODE_ROW||e===w.EDIT_MODE_FORM},o._isCellEditMode=function(){var e=this._editingController.getEditMode();return e===w.EDIT_MODE_CELL||e===w.EDIT_MODE_BATCH},o._isFastEditingAllowed=function(){return this._isCellEditMode()&&this.option("keyboardNavigation.editOnKeyPress")},o._getInteractiveElement=function(e,t){var n=e.find(I.INTERACTIVE_ELEMENTS_SELECTOR).filter(":visible");return t?n.last():n.first()},o._applyTabIndexToElement=function(e){var t=this.option("tabIndex")||0;e.attr("tabindex",(0,c.isDefined)(t)?t:0)},o._getCell=function(e){if(this._focusedView&&e){var t=this._dataController.getRowIndexOffset(),n=this._columnsController.getVisibleColumns(null,!0)[e.columnIndex],i=n&&n.fixed?this._getFixedColumnIndexOffset(n):this._columnsController.getColumnIndexOffset(),o=e.rowIndex>=0?e.rowIndex-t:-1,r=e.columnIndex>=0?e.columnIndex-i:-1;return this._focusedView.getCell({rowIndex:o,columnIndex:r})}},o._getRowIndex=function(e){var t=this._rowsView.getRowIndex(e);return t>=0&&(t+=this._dataController.getRowIndexOffset()),t},o._hasSkipRow=function(e){var t=e&&e.get(0);return t&&("none"===t.style.display||(0,E.isDetailRow)(e)&&!e.hasClass(this.addWidgetPrefix(w.EDIT_FORM_CLASS)))},o._allowEditingOnEnterKey=function(){return"startEdit"===this.option("keyboardNavigation.enterKeyAction")},o._isLegacyNavigation=function(){return this.option("useLegacyKeyboardNavigation")},o._getDirectionCodeByKey=function(e){var t;switch(e){case"upArrow":t="prevRow";break;case"downArrow":t="nextRow";break;case"leftArrow":t=this.option("rtlEnabled")?"nextInRow":"previousInRow";break;case"rightArrow":t=this.option("rtlEnabled")?"previousInRow":"nextInRow"}return t},o._isVirtualScrolling=function(){var e=this.option("scrolling.mode");return"virtual"===e||"infinite"===e},o._isVirtualRowRender=function(){return this._isVirtualScrolling()||x.default.isVirtualRowRendering(this)},o._isVirtualColumnRender=function(){return"virtual"===this.option("scrolling.columnRenderingMode")},o._scrollBy=function(e,t,n,i){var o=this,r=this._rowsView.getScrollable();return o._focusedCellPosition&&r.on("scroll",(function e(){r.off("scroll",e),setTimeout(o.restoreFocusableElement.bind(o,n,i))})),r.scrollBy({left:e,top:t})},o._isInsideEditForm=function(e){var t=(0,l.default)(e).closest(".".concat(this.addWidgetPrefix(w.EDIT_FORM_CLASS)));return t.length&&this.elementIsInsideGrid(t)},o._isMasterDetailCell=function(e){var t=(0,l.default)(e).closest(".".concat(I.MASTER_DETAIL_CELL_CLASS));return t.length&&this.elementIsInsideGrid(t)},o._processNextCellInMasterDetail=function(e,t){!this._isInsideEditForm(e)&&e&&this._applyTabIndexToElement(e)},o._handleTabKeyOnMasterDetailCell=function(e,t){if(this._isMasterDetailCell(e)){this._updateFocusedCellPosition((0,l.default)(e),t);var n=this._getNextCell(t,"row");return this._processNextCellInMasterDetail(n,(0,l.default)(e)),!0}return!1},o._getElementType=function(e){return(0,l.default)(e).is("tr")?"row":"cell"},o._isFastEditingStarted=function(){return this._isFastEditingAllowed()&&this._fastEditingStarted},o._getVisibleColumnCount=function(){return this._columnsController.getVisibleColumns(null,!0).length},o._isCellInRow=function(e,t){var n=e.columnIndex,i=this._getVisibleColumnCount();return t?n>=0&&n<=i-1:n>0&&n<i-1},o._isCellElement=function(e){return e.length&&"TD"===e[0].tagName},o._getCellElementFromTarget=function(e){var t=this._getElementType(e),n=(0,l.default)(e);return"cell"===t?n.closest(".".concat(w.ROW_CLASS," > td")):n.children().not(".".concat(I.COMMAND_EXPAND_CLASS)).first()},o._getRowsViewElement=function(){var e;return null===(e=this._rowsView)||void 0===e?void 0:e.element()},o.isKeyboardEnabled=function(){return this.option("keyboardNavigation.enabled")},o._processCanceledEditCellPosition=function(e,t){if(this._canceledCellPosition){var n=this._canceledCellPosition.rowIndex===e&&this._canceledCellPosition.columnIndex===t;return this._canceledCellPosition=null,n}},o.updateFocusedRowIndex=function(){var e=this._dataController,t=this.getVisibleRowIndex(),n=e.items(),i=n.length?n.length-1:-1,o=e.getRowIndexOffset();i>=0&&t>i&&this.setFocusedRowIndex(i+o)},i}(y.default.ViewController);t.KeyboardNavigationController=F;var A={defaultOptions:function(){return{useLegacyKeyboardNavigation:!1,keyboardNavigation:{enabled:!0,enterKeyAction:"startEdit",enterKeyDirection:"none",editOnKeyPress:!1}}},controllers:{keyboardNavigation:F},extenders:{views:{rowsView:{_rowClick:function(e){var t=this.getController("editing").getEditRowIndex(),n=this.getController("keyboardNavigation"),i=n.isKeyboardEnabled();t===e.rowIndex&&n.setCellFocusType(),((0,E.isMobile)()||!i)&&this.option("focusedRowEnabled")&&this._triggerPointerDownEventHandler(e,!i),this.callBase.apply(this,arguments)},_triggerPointerDownEventHandler:function(e,t){var n=e.event.originalEvent;if(n){var i=this.getController("keyboardNavigation"),o=(0,l.default)(n.target),r=this.getCellIndex(o),a=this.getController("columns").getVisibleColumns()[r],s=this.getController("data").items()[e.rowIndex];if(i._isAllowEditing(s,a)||t){var d=(0,m.createEvent)(n,{currentTarget:n.target});i._pointerEventHandler(d)}}},renderFocusState:function(e){var t=null!=e?e:{},n=t.preventScroll,i=t.pageSizeChanged,o=this.getController("keyboardNavigation"),r=this.element();r&&!(0,v.focused)(r)&&r.attr("tabindex",null),i&&o.updateFocusedRowIndex();var a=o.getVisibleRowIndex();(!(0,c.isDefined)(a)||a<0)&&(a=0);var l=this.getCellElements(a);o.isKeyboardEnabled()&&(null==l?void 0:l.length)&&this.updateFocusElementTabIndex(l,n)},updateFocusElementTabIndex:function(e){var t=this.getController("keyboardNavigation"),n=e.eq(0).parent();if((0,E.isGroupRow)(n))t._applyTabIndexToElement(n);else{var i=t.getColumnIndex();(!(0,c.isDefined)(i)||i<0)&&(i=0),this._updateFocusedCellTabIndex(e,i)}},_updateFocusedCellTabIndex:function(e,t){var n=this.getController("keyboardNavigation"),i=e?e.length:-1,o=function(e){var t=n._isMasterDetailCell(e),i=n._isCellValid(e);if(!t&&i&&n._isCellElement(e))return n._applyTabIndexToElement(e),n.setCellFocusType(),!0},r=b.GridCoreKeyboardNavigationDom.getCellToFocus(e,t);if(r.length)o(r);else{i<=t&&(t=i-1);for(var a=t;a<i&&!o((0,l.default)(e[a]));++a);}},renderDelayedTemplates:function(e){this.callBase.apply(this,arguments),this._renderFocusByChange(e)},_renderFocusByChange:function(e){var t=null!=e?e:{},n=t.operationTypes,i=t.repaintChangesOnly,o=null!=n?n:{},r=o.fullReload,a=o.pageSize;if(!e||!i||r||a){var l=(0,E.shouldPreventScroll)(this);this.renderFocusState({preventScroll:l,pageSizeChanged:a})}},_renderCore:function(e){var t=this.callBase.apply(this,arguments);return this._renderFocusByChange(e),t},_editCellPrepared:function(e){var t=this._getEditorInstance(e),n=this.getController("keyboardNavigation"),i=n&&n._isFastEditingStarted();t&&i&&this._handleEditingNavigationMode(t),this.callBase.apply(this,arguments)},_handleEditingNavigationMode:function(e){["downArrow","upArrow"].forEach((function(t){var n=e._supportedKeys()[t];e.registerKeyHandler(t,(function(t){if("true"===e._input().attr("aria-expanded"))return n&&n.call(e,t)}))})),e.registerKeyHandler("leftArrow",o.noop),e.registerKeyHandler("rightArrow",o.noop),e.NAME===I.DATEBOX_WIDGET_NAME&&e.option("useMaskBehavior")&&e.registerKeyHandler("enter",o.noop)},_getEditorInstance:function(e){var t=e.find(".dx-texteditor").eq(0);return x.default.getWidgetInstance(t)}}},controllers:{editing:{editCell:function(e,t){var n=this.getController("keyboardNavigation");if(n._processCanceledEditCellPosition(e,t))return!1;var i=this.callBase(e,t);return i&&n.setupFocusedView(),i},editRow:function(e){var t=this.getController("keyboardNavigation"),n=t.getVisibleColumnIndex(),i=this._columnsController.getVisibleColumns()[n];(i&&i.type||this.option("editing.mode")===w.EDIT_MODE_FORM)&&t._resetFocusedCell(),this.callBase(e)},addRow:function(e){var t=this.getController("keyboardNavigation");return t.setupFocusedView(),t.setCellFocusType(),this.callBase.apply(this,arguments)},getFocusedCellInRow:function(e){var t=this.getController("keyboardNavigation"),n=this.callBase(e),i=this._dataController.getRowIndexOffset(),o=t._focusedCellPosition.rowIndex-i;if(t.isKeyboardEnabled()&&o===e){var r=t._getFocusedCell();(0,E.isElementDefined)(r)&&!r.hasClass(I.COMMAND_EDIT_CLASS)&&(n=r)}return n},_processCanceledEditingCell:function(){var e=this;this.closeEditCell().done((function(){e.getController("keyboardNavigation")._updateFocus()}))},init:function(){this.callBase(),this._keyboardNavigationController=this.getController("keyboardNavigation")},closeEditCell:function(){var e=this._keyboardNavigationController;e._fastEditingStarted=!1;var t=this.callBase.apply(this,arguments);return e._updateFocus(),t},_delayedInputFocus:function(){this._keyboardNavigationController._isNeedScroll=!0,this.callBase.apply(this,arguments)},_isEditingStart:function(){var e=this.getController("keyboardNavigation"),t=this.callBase.apply(this,arguments);if(t&&!e._isNeedFocus){var n=e._getFocusedCell();e._focus(n,!0)}return t}},data:{_correctRowIndices:function(e){var t=this,n=t.getController("keyboardNavigation"),i=t.getController("editorFactory"),o=n._focusedCellPosition;if(t.callBase.apply(t,arguments),o&&o.rowIndex>=0){var r=e(o.rowIndex);r&&(o.rowIndex+=r,i.refocus())}},getMaxRowIndex:function(){var e=this.items().length-1,t=this.virtualItemsCount();t&&(e+=this.getRowIndexOffset()+t.end);return e}},adaptiveColumns:{_showHiddenCellsInView:function(e){var t=e.viewName,n=e.$cells,i=e.isCommandColumn;this.callBase.apply(this,arguments),t===I.COLUMN_HEADERS_VIEW&&!i&&n.each((function(e,t){var n=(0,l.default)(t);(0,E.isCellInHeaderRow)(n)&&n.attr("tabindex",0)}))},_hideVisibleCellInView:function(e){var t=e.viewName,n=e.$cell,i=e.isCommandColumn;this.callBase.apply(this,arguments),t===I.COLUMN_HEADERS_VIEW&&!i&&(0,E.isCellInHeaderRow)(n)&&n.removeAttr("tabindex")}}}}};t.keyboardNavigationModule=A},52403:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCellInHeaderRow=function(e){return!!e.parent(".".concat(l.HEADER_ROW_CLASS)).length},t.isDataRow=function(e){return e&&e.hasClass(l.DATA_ROW_CLASS)},t.isDetailRow=function(e){return e&&e.hasClass(l.MASTER_DETAIL_ROW_CLASS)},t.isEditorCell=function(e,t){return!e._isRowEditMode()&&t&&!t.hasClass(l.COMMAND_SELECT_CLASS)&&t.hasClass(a.EDITOR_CELL_CLASS)},t.isElementDefined=function(e){return(0,r.isDefined)(e)&&e.length>0},t.isFixedColumnIndexOffsetRequired=function(e,t){if(e.option("rtlEnabled"))return!("right"===t.fixedPosition||(0,r.isDefined)(t.command)&&!(0,r.isDefined)(t.fixedPosition));return!(!(0,r.isDefined)(t.fixedPosition)||"left"===t.fixedPosition)},t.isGroupFooterRow=function(e){return e&&e.hasClass(s)},t.isGroupRow=function(e){return e&&e.hasClass(l.GROUP_ROW_CLASS)},t.isMobile=function(){return"desktop"!==o.default.current().deviceType},t.isNotFocusedRow=function(e){return!e||e.hasClass(l.FREESPACE_ROW_CLASS)||e.hasClass(l.VIRTUAL_ROW_CLASS)},t.shouldPreventScroll=function(e){var t=e.getController("keyboardNavigation");return!!t._isVirtualScrolling()&&e.option("focusedRowIndex")===t.getRowIndex()};var i,o=(i=n(70974))&&i.__esModule?i:{default:i},r=n(49859),a=n(32019),l=n(76532);var s="dx-datagrid-group-footer"},88297:(e,t,n)=>{function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.registerKeyboardAction=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=a?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(o,l,s):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(54839));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}t.registerKeyboardAction=function(e,t,n,i,r){var a=t.getController("keyboardNavigation");t.option("useLegacyKeyboardNavigation")||a&&!a.isKeyboardEnabled()||(t.createAction("onKeyDown"),o.registerKeyboardAction(e,t,n,i,r,(function(e){t.executeAction("onKeyDown",e)})))}},20768:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.prepareItems=function(e,t){var n=function(e){return e||1},o=[],r=(e[0]||[]).reduce((function(e,t){return e+n(t.colspan)}),0),a=function(e){var t=0,i=0;return function(){var o=e[t]||[],r=o[i++];return i>=o.length&&(t++,i=0),r&&(r.colspan=n(r.colspan),r.rowspan=n(r.rowspan)),r}}(e),l=function e(n,r,a){if((o[n]=o[n]||[])[r]=a,a.colspan>1||a.rowspan>1){for(var l=function(e){return(0,i.extend)({},e,t)}(a),s=1;s<a.colspan;s++)e(n,r+s,l);for(var d=1;d<a.rowspan;d++)for(var u=0;u<a.colspan;u++)e(n+d,r+u,l)}},s=a(),d=0;for(;s;){for(var u=0;u<r&&s;u++)o[d]&&o[d][u]||(l(d,u,s),u+=s.colspan-1,s=a());d++}return o};var i=n(65102)},97478:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.processModules=x;var i=h(n(21058)),o=h(n(94965)),r=h(n(72363)),a=n(48152),l=n(96993),s=n(49859),d=n(85349),u=h(n(63585)),c=h(n(47625));function h(e){return e&&e.__esModule?e:{default:e}}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},f.apply(this,arguments)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],s=!0,d=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){d=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var m=i.default.inherit({_endUpdateCore:function(){},ctor:function(e){var t=this;t._updateLockCount=0,t.component=e,t._actions={},t._actionConfigs={},(0,l.each)(this.callbackNames()||[],(function(e,n){var i=t.callbackFlags(n)||{};i.unique=!0,i.syncStrategy=!0,t[this]=(0,r.default)(i)}))},init:function(){},callbackNames:function(){},callbackFlags:function(){},publicMethods:function(){},beginUpdate:function(){this._updateLockCount++},endUpdate:function(){this._updateLockCount>0&&(this._updateLockCount--,this._updateLockCount||this._endUpdateCore())},option:function(e){var t=this.component,n=t._optionCache;return 1===arguments.length&&n?(e in n||(n[e]=t.option(e)),n[e]):t.option.apply(t,arguments)},_silentOption:function(e,t){var n=this.component,i=n._optionCache;return i&&(i[e]=t),n._setOptionWithoutOptionChange(e,t)},localize:function(e){var t=this.component._optionCache;return t?(e in t||(t[e]=u.default.format(e)),t[e]):u.default.format(e)},on:function(){return this.component.on.apply(this.component,arguments)},off:function(){return this.component.off.apply(this.component,arguments)},optionChanged:function(e){e.name in this._actions&&(this.createAction(e.name,this._actionConfigs[e.name]),e.handled=!0)},getAction:function(e){return this._actions[e]},setAria:function(e,t,n){var i=n.get(0),o="role"!==e&&"id"!==e?"aria-":"";i.setAttribute?i.setAttribute(o+e,t):n.attr(o+e,t)},_createComponent:function(){return this.component._createComponent.apply(this.component,arguments)},getController:function(e){return this.component._controllers[e]},createAction:function(e,t){if((0,s.isFunction)(e)){var n=this.component._createAction(e.bind(this),t);return function(e){n({event:e})}}this._actions[e]=this.component._createActionByOption(e,t),this._actionConfigs[e]=t},executeAction:function(e,t){var n=this._actions[e];return n&&n(t)},dispose:function(){var e=this;(0,l.each)(e.callbackNames()||[],(function(){e[this].empty()}))},addWidgetPrefix:function(e){var t=this.component.NAME;return"dx-".concat(t.slice(2).toLowerCase()).concat(e?"-".concat(e):"")},getWidgetContainerClass:function(){var e="dxDataGrid"===this.component.NAME?null:"container";return this.addWidgetPrefix(e)},elementIsInsideGrid:function(e){return e.closest(".".concat(this.getWidgetContainerClass())).parent().is(this.component.$element())}}),_=m,v=_.inherit({getView:function(e){return this.component._views[e]},getViews:function(){return this.component._views}}),C=m.inherit({_isReady:function(){return this.component.isReady()},_endUpdateCore:function(){this.callBase(),!this._isReady()&&this._requireReady&&(this._requireRender=!1,this.component._requireResize=!1),this._requireRender&&(this._requireRender=!1,this.render(this._$parent))},_invalidate:function(e,t){this._requireRender=!0,this.component._requireResize=(0,d.hasWindow)()&&(this.component._requireResize||e),this._requireReady=this._requireReady||t},_renderCore:function(){},_resizeCore:function(){},_parentElement:function(){return this._$parent},ctor:function(e){this.callBase(e),this.renderCompleted=(0,r.default)(),this.resizeCompleted=(0,r.default)()},element:function(){return this._$element},getElementHeight:function(){var e=this.element();if(!e)return 0;var t=parseFloat(e.css("marginTop"))||0,n=parseFloat(e.css("marginBottom"))||0;return e.get(0).offsetHeight+t+n},isVisible:function(){return!0},getTemplate:function(e){return this.component._getTemplate(e)},render:function(e,t){var n=this,i=this._$element,r=this.isVisible();if((i||e)&&(this._requireReady=!1,i||(i=this._$element=(0,o.default)("<div>").appendTo(e),this._$parent=e),i.toggleClass("dx-hidden",!r),r)){this.component._optionCache={};var a=this._renderCore(t);this.component._optionCache=void 0,a?a.done((function(){n.renderCompleted.fire(t)})):this.renderCompleted.fire(t)}},resize:function(){this.isResizing=!0,this._resizeCore(),this.resizeCompleted.fire(),this.isResizing=!1},focus:function(e){this.element().get(0).focus({preventScroll:e})}}),w=1e6;function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};return Object.entries(t).forEach((function(t){var i=p(t,2),o=i[0],r=i[1],a=e[o];if(a)if((0,s.isFunction)(r))n[o]=r(a);else{var l=a;n[o]=l.inherit(r)}})),n}function x(e,t){var n=t.modules,i=t.modulesOrder;function o(t){var n={};return(0,l.each)(t,(function(t,i){var o=new i(e);o.name=t,function(e,t,n){var i=n.publicMethods();i&&(0,l.each)(i,(function(i,o){if(!n[o])throw c.default.Error("E1006",t,o);if(e[o])throw c.default.Error("E1005",o);e[o]=function(){return n[o].apply(n,arguments)}}))}(e,t,o),n[t]=o})),n}i&&n.sort((function(e,t){var n=i.indexOf(e.name),o=i.indexOf(t.name);return n<0&&(n=w),o<0&&(o=w),n-o}));var r={},a={};n.forEach((function(e){var t=e.name,n=e.controllers,i=void 0===n?{}:n,o=e.views,l=void 0===o?{}:o;Object.entries(i).forEach((function(e){var n,i=p(e,2),o=i[0],a=i[1];if(r[o])throw c.default.Error("E1001",t,o);if(!(null===(n=null==a?void 0:a.subclassOf)||void 0===n?void 0:n.call(a,_)))throw c.default.Error("E1002",t,o);r[o]=a})),Object.entries(l).forEach((function(e){var n,i=p(e,2),o=i[0],r=i[1];if(a[o])throw c.default.Error("E1003",t,o);if(!(null===(n=null==r?void 0:r.subclassOf)||void 0===n?void 0:n.call(r,C)))throw c.default.Error("E1004",t,o);a[o]=r}))}));var s=n.filter((function(e){return!!e.extenders})),d=s.reduce((function(e,t){var n=t.extenders;return f(f({},e),y(e,null==n?void 0:n.controllers))}),r),u=s.reduce((function(e,t){var n=t.extenders;return f(f({},e),y(e,null==n?void 0:n.views))}),a);e._controllers=o(d),e._views=o(u)}var I={modules:[],View:C,ViewController:v,Controller:_,registerModule:function(e,t){for(var n=this.modules,i=0;i<n.length;i++)if(n[i].name===e)return;t.name=e,n.push(t)},registerModulesOrder:function(e){this.modulesOrder=e},unregisterModule:function(e){this.modules=(0,a.grep)(this.modules,(function(t){return t.name!==e}))},processModules:x,callModuleItemsMethod:function(e,t,n){n=n||[],e._controllers&&(0,l.each)(e._controllers,(function(){this[t]&&this[t].apply(this,n)})),e._views&&(0,l.each)(e._views,(function(){this[t]&&this[t].apply(this,n)}))}};t.default=I},37028:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=x(n(94965)),o=n(48152),r=n(14928),a=n(74460),l=n(65102),s=n(96993),d=n(37954),u=n(21620),c=n(31662),h=n(49859),f=x(n(44610)),p=n(85349),g=n(81704),m=n(73116),_=n(13447),v=x(n(38608)),C=x(n(97346)),w=x(n(99578)),y=x(n(2583));function x(e){return e&&e.__esModule?e:{default:e}}function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},I.apply(this,arguments)}var b="virtual",E="scrolling.mode",S={year:function(e){return e&&e.getFullYear()},month:function(e){return e&&e.getMonth()+1},day:function(e){return e&&e.getDate()},quarter:function(e){return e&&Math.floor(e.getMonth()/3)+1},hour:function(e){return e&&e.getHours()},minute:function(e){return e&&e.getMinutes()},second:function(e){return e&&e.getSeconds()}},O=function(){var e=arguments[1],t=this.calculateCellValue(e);if(!(0,h.isDefined)(t))return null;if(T(this.dataType))return S[arguments[0]](t);if("number"===this.dataType){var n=arguments[0];return Math.floor(Number(t)/n)*n}};function T(e){return"date"===e||"datetime"===e}var D=function(e){e.get(0).textContent=" "},R=function(e){e=e||[];for(var t=(0,_.normalizeSortingInfo)(e),n=0;n<e.length;n++)e&&e[n]&&void 0!==e[n].isExpanded&&(t[n].isExpanded=e[n].isExpanded),e&&e[n]&&void 0!==e[n].groupInterval&&(t[n].groupInterval=e[n].groupInterval);return t},F=function(e,t){var n=C.default.format(e,t.format)||e&&e.toString()||"",i={value:e,valueText:t.getDisplayFormat?t.getDisplayFormat(n):n,target:t.target||"row",groupInterval:t.groupInterval};return t.customizeText?t.customizeText.call(t,i):i.valueText},A=function(e,t){var n=e.displayFormat||e.columnCaption&&t["".concat(e.summaryType,"OtherColumn")]||t[e.summaryType];return F(e.value,{format:e.valueFormat,getDisplayFormat:function(t){return n?(0,c.format)(n,t,e.columnCaption):t},customizeText:e.customizeText})},P=function(e){var t=e.data&&e.data(),n=t&&t.dxComponents,i=n&&n[0];return i&&t[i]};var V={renderNoDataText:function(e){if(e=e||this.element()){var t=this.addWidgetPrefix("nodata"),n=e.find(".".concat(t)).last(),o=this._dataController.isEmpty(),r=this._dataController.isLoading();n.length||(n=(0,i.default)("<span>").addClass(t)),n.parent().is(e)||n.appendTo(e),o&&!r?n.removeClass("dx-hidden").text(this._getNoDataText()):n.addClass("dx-hidden")}},renderLoadPanel:function(e,t,n){var o;this._loadPanel&&this._loadPanel.$element().remove(),(o=this.option("loadPanel"))&&("auto"===o.enabled?!n:o.enabled)?(o=(0,l.extend)({shading:!1,message:o.text,container:t},o),this._loadPanel=this._createComponent((0,i.default)("<div>").appendTo(t),w.default,o)):this._loadPanel=null},calculateLoadPanelPosition:function(e){var t=(0,i.default)((0,p.getWindow)());return(0,u.getHeight)(e)>(0,u.getHeight)(t)?{of:t,boundary:e,collision:"fit"}:{of:e}},getIndexByKey:function(e,t,n){var i=-1;if(void 0!==e&&Array.isArray(t)){n=arguments.length<=2?"key":n;for(var r=0;r<t.length;r++){var a=(0,h.isDefined)(n)?t[r][n]:t[r];if((0,o.equalByValue)(e,a)){i=r;break}}}return i},combineFilters:function(e,t){var n,i=[];t=t||"and";for(var o=0;o<e.length;o++)if(e[o]){if(1===(null===(n=e[o])||void 0===n?void 0:n.length)&&"!"===e[o][0]){if("and"===t)return["!"];if("or"===t)continue}i.length&&i.push(t),i.push(e[o])}if(1===i.length&&(i=i[0]),i.length)return i},checkChanges:function(e,t){for(var n=0,i=0;i<t.length;i++)e[t[i]]&&n++;return e.length&&e.length===n},equalFilterParameters:function e(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!e(t[i],n[i]))return!1;return!0}return(0,h.isFunction)(t)&&t.columnIndex>=0&&(0,h.isFunction)(n)&&n.columnIndex>=0?t.columnIndex===n.columnIndex&&(0,r.toComparable)(t.filterValue)===(0,r.toComparable)(n.filterValue)&&(0,r.toComparable)(t.selectedFilterOperation)===(0,r.toComparable)(n.selectedFilterOperation):(0,r.toComparable)(t)==(0,r.toComparable)(n)},proxyMethod:function(e,t,n){e[t]||(e[t]=function(){var e=this._dataSource;return e?e[t].apply(e,arguments):n})},formatValue:F,getFormatOptionsByColumn:function(e,t){return{format:e.format,getDisplayFormat:e.getDisplayFormat,customizeText:e.customizeText,target:t,trueText:e.trueText,falseText:e.falseText}},getDisplayValue:function(e,t,n,i){return e.displayValueMap&&void 0!==e.displayValueMap[t]?e.displayValueMap[t]:e.calculateDisplayValue&&n&&"group"!==i?e.calculateDisplayValue(n):!e.lookup||"group"===i&&(e.calculateGroupValue||e.calculateDisplayValue)?t:e.lookup.calculateCellValue(t)},getGroupRowSummaryText:function(e,t){for(var n="(",i=0;i<e.length;i++){var o=e[i];n+=(i>0?", ":"")+A(o,t)}return n+")"},getSummaryText:A,normalizeSortingInfo:R,getFormatByDataType:function(e){switch(e){case"date":return"shortDate";case"datetime":return"shortDateShortTime";default:return}},getHeaderFilterGroupParameters:function(e,t){var n=[],i=e.dataField||e.name,o=y.default.getGroupInterval(e);return o?((0,s.each)(o,(function(r,a){n.push(t?{selector:i,groupInterval:a,isExpanded:r<o.length-1}:O.bind(e,a))})),n):(t?n=[{selector:i,isExpanded:!1}]:(n=function(t){var n=e.calculateCellValue(t);return void 0!==n&&""!==n||(n=null),n},e.sortingMethod&&(n=[{selector:n,compare:e.sortingMethod.bind(e)}])),n)},equalSortParameters:function(e,t,n){if(e=R(e),t=R(t),Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(o=e[i].selector,r=t[i].selector,!((0,h.isFunction)(o)&&(0,h.isFunction)(r)&&o.originalCallback&&r.originalCallback?o.originalCallback===r.originalCallback&&o.columnIndex===r.columnIndex:o===r)||e[i].desc!==t[i].desc||e[i].groupInterval!==t[i].groupInterval||!n&&Boolean(e[i].isExpanded)!==Boolean(t[i].isExpanded))return!1;return!0}var o,r;return(!e||!e.length)==(!t||!t.length)},getPointsByColumns:function(e,t,n,i){for(var o,r,a,l=e.length,s=!1,u=i||0,c=[],h=0;h<=l;h++){h<l&&(r=(o=e.eq(h)).offset(),a="rtl"===o.css("direction"));var f={index:u,x:r?r.left+(!n&&a^h===l?(0,d.getBoundingRect)(o[0]).width:0):0,y:r?r.top+(n&&h===l?(0,d.getBoundingRect)(o[0]).height:0):0,columnIndex:u};if(!n&&h>0){var p=e.eq(h-1).offset();p.top<f.y&&(f.y=p.top)}t&&(s=t(f)),s||c.push(f),u++}return c},getExpandCellTemplate:function(){return{allowRenderToDetachedContainer:!0,render:function(e,t){var n=(0,i.default)(e);if(!(0,h.isDefined)(t.value)||t.data&&t.data.isContinuation||t.row.isNewRow)D(n);else{var o=t.component.getView("rowsView");n.addClass("dx-datagrid-expand").addClass("dx-selection-disabled"),(0,i.default)("<div>").addClass(t.value?"dx-datagrid-group-opened":"dx-datagrid-group-closed").appendTo(n),o.setAria("label",t.value?o.localize("dxDataGrid-ariaCollapse"):o.localize("dxDataGrid-ariaExpand"),n)}}}},setEmptyText:D,isDateType:T,getSelectionRange:function(e){try{if(e)return{selectionStart:e.selectionStart,selectionEnd:e.selectionEnd}}catch(e){}return{}},setSelectionRange:function(e,t){try{e&&e.setSelectionRange&&e.setSelectionRange(t.selectionStart,t.selectionEnd)}catch(e){}},focusAndSelectElement:function(e,t){var n=t.is(":focus");v.default.trigger(t,"focus");var i=e.option("editing.selectTextOnEditStart"),o=t.get(0);if(!n&&i&&t.is(".dx-texteditor-input")&&!t.is("[readonly]")){var r=P(t.closest(".dx-texteditor"));(0,a.when)(r&&r._loadItemDeferred).done((function(){o.select()}))}},getWidgetInstance:P,getLastResizableColumnIndex:function(e,t){var n,i=e.some((function(e){return e&&!e.command&&!e.fixed&&!1!==e.allowResizing}));for(n=e.length-1;e[n];n--){var o=e[n],r=t&&t[n],a=!i||!1!==o.allowResizing;if(!o.command&&!o.fixed&&"adaptiveHidden"!==r&&a)break}return n},isElementInCurrentGrid:function(e,t){return!(!t||!t.length)&&t.closest(".".concat(e.getWidgetContainerClass())).parent().is(e.component.$element())},isVirtualRowRendering:function(e){var t=e.option("scrolling.rowRenderingMode"),n=e.option(E)===b,i="infinite"===e.option(E);return!(!1!==e.option("scrolling.legacyMode")||!n&&!i)||t===b},getPixelRatio:function(e){return e.devicePixelRatio||1},getContentHeightLimit:function(e){return e.mozilla?8e6:15e6/this.getPixelRatio((0,p.getWindow)())},normalizeLookupDataSource:function(e){var t;return e.items?t=e.items:(t=e.dataSource,(0,h.isFunction)(t)&&!f.default.isWrapped(t)&&(t=t({}))),(0,m.normalizeDataSourceOptions)(t)},getWrappedLookupDataSource:function(e,t,n){var i=this;if(!t)return[];var o=this.normalizeLookupDataSource(e.lookup);if(e.calculateCellValue!==e.defaultCalculateCellValue)return o;var r,l,s,d=t.remoteOperations().groupPaging,u=e.displayField&&(0,h.isString)(e.displayField),c=function(e,t){var n,i=null!==(n=t.skip)&&void 0!==n?n:0,o=t.take?i+t.take:e.length;return e.slice(i,o)};return I(I({},o),{__dataGridSourceFilter:n,load:function(f){var p=new a.Deferred;return function(i){var o=function(e){return Array.isArray(e)||(e=[e]),e.map((function(t,n){return(0,h.isString)(t)?{selector:t,isExpanded:n<e.length-1}:t}))}(u?[e.dataField,e.displayField]:e.dataField),f=new a.Deferred;return r&&(!d||i.skip===s&&i.take===l)?f.resolve(c(r,i)):(s=i.skip,l=i.take,t.load({filter:n,group:o,take:d?i.take:void 0,skip:d?i.skip:void 0}).done((function(e){r=e,f.resolve(d?e:c(e,i))})).fail(f.fail)),f}(f).done((function(t){if(0!==t.length){var n=i.combineFilters(t.flatMap((function(e){return e.key})).map((function(t){return[e.lookup.valueExpr,t]})),"or");new g.DataSource(I(I(I({},o),f),{filter:i.combineFilters([n,f.filter],"and"),paginate:!1})).load().done(p.resolve).fail(p.fail)}else p.resolve([])})).fail(p.fail),p},key:e.lookup.valueExpr,byKey:function(t){var n=(0,a.Deferred)();return this.load({filter:[e.lookup.valueExpr,"=",t]}).done((function(e){n.resolve(e[0])})),n.promise()}})},logHeaderFilterDeprecatedWarningIfNeed:function(e){var t=e._logDeprecatedOptionWarning.bind(e);(0,h.isDefined)(e.option("headerFilter.allowSearch"))&&t("headerFilter.allowSearch",{since:"23.1",alias:"headerFilter.search.enabled"}),(0,h.isDefined)(e.option("headerFilter.searchTimeout"))&&t("headerFilter.searchTimeout",{since:"23.1",alias:"headerFilter.search.timeout"});var n="dxPivotGrid"===e.NAME?"dataSource.fields":"columns",i=e.option(n);Array.isArray(i)&&function e(i){i.forEach((function(i){var o,r=i.headerFilter||{};(0,h.isDefined)(r.allowSearch)&&t("".concat(n,"[].headerFilter.allowSearch"),{since:"23.1",alias:"".concat(n,"[].headerFilter.search.enabled")}),(0,h.isDefined)(r.searchMode)&&t("".concat(n,"[].headerFilter.searchMode"),{since:"23.1",alias:"".concat(n,"[].headerFilter.search.mode")}),(null===(o=i.columns)||void 0===o?void 0:o.length)&&e(i.columns)}))}(i)}};t.default=V},33082:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.masterDetailModule=void 0;var i=u(n(94965)),o=n(48152),r=n(74460),a=n(96993),l=n(21620),s=n(49859),d=u(n(37028));function u(e){return e&&e.__esModule?e:{default:e}}var c,h="dx-master-detail-row",f={defaultOptions:function(){return{masterDetail:{enabled:!1,autoExpandAll:!1,template:null}}},extenders:{controllers:{columns:{_getExpandColumnsCore:function(){var e=this.callBase();return this.option("masterDetail.enabled")&&e.push({type:"detailExpand",cellTemplate:d.default.getExpandCellTemplate()}),e}},data:(c=function(e){e._expandedItems=[],e._isExpandAll=e.option("masterDetail.autoExpandAll")},{init:function(){c(this),this.callBase()},expandAll:function(e){var t=this;e<0?(t._isExpandAll=!0,t._expandedItems=[],t.updateItems()):t.callBase.apply(t,arguments)},collapseAll:function(e){var t=this;e<0?(t._isExpandAll=!1,t._expandedItems=[],t.updateItems()):t.callBase.apply(t,arguments)},isRowExpanded:function(e){var t=this,n=d.default.getIndexByKey(e,t._expandedItems);return Array.isArray(e)?t.callBase.apply(t,arguments):!!(t._isExpandAll^(n>=0&&t._expandedItems[n].visible))},_getRowIndicesForExpand:function(e){var t=this.getRowIndexByKey(e);return[t,t+1]},_changeRowExpandCore:function(e){var t,n=this;if(Array.isArray(e))t=n.callBase.apply(n,arguments);else{var i=d.default.getIndexByKey(e,n._expandedItems);if(i>=0){var o=n._expandedItems[i].visible;n._expandedItems[i].visible=!o}else n._expandedItems.push({key:e,visible:!0});n.updateItems({changeType:"update",rowIndices:n._getRowIndicesForExpand(e)}),t=(new r.Deferred).resolve()}return t},_processDataItem:function(e,t){var n=this,i=n.callBase.apply(n,arguments);return i.isExpanded=n.isRowExpanded(i.key),void 0===t.detailColumnIndex&&(t.detailColumnIndex=-1,(0,a.each)(t.visibleColumns,(function(e,n){if("expand"===n.command&&!(0,s.isDefined)(n.groupIndex))return t.detailColumnIndex=e,!1}))),t.detailColumnIndex>=0&&(i.values[t.detailColumnIndex]=i.isExpanded),i},_processItems:function(e,t){var n=this,i=t.changeType,r=[];return e=n.callBase.apply(n,arguments),"loadingAll"===i?e:("refresh"===i&&(n._expandedItems=(0,o.grep)(n._expandedItems,(function(e){return e.visible}))),(0,a.each)(e,(function(e,t){r.push(t);var i=d.default.getIndexByKey(t.key,n._expandedItems);"data"===t.rowType&&(t.isExpanded||i>=0)&&!t.isNewRow&&r.push({visible:t.isExpanded,rowType:"detail",key:t.key,data:t.data,values:[]})})),r)},optionChanged:function(e){var t,n;if("masterDetail"===e.name){switch(e.name="dataSource",e.fullName){case"masterDetail":var i=e.value||{},o=e.previousValue||{};t=i.enabled!==o.enabled,n=i.autoExpandAll!==o.autoExpandAll;break;case"masterDetail.template":c(this);break;case"masterDetail.enabled":t=!0;break;case"masterDetail.autoExpandAll":n=!0}(t||n)&&c(this)}this.callBase(e)}}),resizing:{fireContentReadyAction:function(){this.callBase.apply(this,arguments),this._updateParentDataGrids(this.component.$element())},_updateParentDataGrids:function(e){var t=this,n=e.closest(".".concat(h));n.length&&(0,r.when)(this._updateMasterDataGrid(n,e)).done((function(){t._updateParentDataGrids(n.parent())}))},_updateMasterDataGrid:function(e,t){var n=(0,i.default)(e).data("options"),o=(0,i.default)(e).closest(".".concat(this.getWidgetContainerClass())).parent().data("dxDataGrid");if(n&&o)return this._updateMasterDataGridCore(o,n)},_updateMasterDataGridCore:function(e,t){var n=(0,r.Deferred)();if(e.getView("rowsView").isFixedColumns())this._updateFixedMasterDetailGrids(e,t.rowIndex,(0,i.default)(t.rowElement)).done(n.resolve);else{if(!0===e.option("scrolling.useNative"))return void e.updateDimensions().done((function(){return n.resolve(!0)}));var o=e.getScrollable();o?null==o||o.update().done((function(){return n.resolve()})):n.resolve()}return n.promise()},_updateFixedMasterDetailGrids:function(e,t,n){var o=this,a=(0,r.Deferred)(),s=(0,i.default)(e.getRowElement(t)),d=(0,i.default)(e.getView("rowsView").getTableElements()),u=2===(null==s?void 0:s.length)&&(0,l.getHeight)(s.eq(0))!==(0,l.getHeight)(s.eq(1)),c=2===(null==d?void 0:d.length)&&(0,l.getHeight)(d.eq(0))!==(0,l.getHeight)(d.eq(1));if(u||c){var h=(0,l.getWidth)(n);return e.updateDimensions().done((function(){var t=o.option("columnAutoWidth")&&!0===e.option("scrolling.useNative"),i=t&&h!==(0,l.getWidth)(n);t&&i?o.updateDimensions().done((function(){return a.resolve(!0)})):a.resolve(!0)})),a.promise()}return(0,r.Deferred)().resolve()},_toggleBestFitMode:function(e){if(this.callBase.apply(this,arguments),this.option("masterDetail.template")){var t=this._rowsView.getTableElement();t&&t.find(".dx-master-detail-cell").css("maxWidth",e?0:"")}}}},views:{rowsView:{_getCellTemplate:function(e){var t=this,n=e.column,i=t.getController("editing"),o=i&&i.isEditRow(e.rowIndex);return"detail"!==n.command||o?t.callBase.apply(t,arguments):t.option("masterDetail.template")||{allowRenderToDetachedContainer:!1,render:t._getDefaultTemplate(n)}},_isDetailRow:function(e){return e&&e.rowType&&0===e.rowType.indexOf("detail")},_createRow:function(e){var t=this.callBase.apply(this,arguments);return e&&this._isDetailRow(e)&&(this.option("showRowLines")&&t.addClass("dx-row-lines"),t.addClass(h),(0,s.isDefined)(e.visible)&&t.toggle(e.visible)),t},_renderCells:function(e,t){var n=t.row,i=this._columnsController.getVisibleColumns();n.rowType&&this._isDetailRow(n)?this._needRenderCell(0,t.columnIndices)&&this._renderCell(e,{value:null,row:n,rowIndex:n.rowIndex,column:{command:"detail"},columnIndex:0,change:t.change}).addClass("dx-cell-focus-disabled").addClass("dx-master-detail-cell").attr("colSpan",i.length):this.callBase.apply(this,arguments)}}}}};t.masterDetailModule=f},82822:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pagerModule=void 0;var i=n(49859),o=n(85349),r=s(n(63585)),a=s(n(62471)),l=s(n(97478));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){return 1+(parseInt(e.pageIndex())||0)},u={defaultOptions:function(){return{pager:{visible:"auto",showPageSizeSelector:!1,allowedPageSizes:"auto",label:r.default.format("dxPager-ariaLabel")}}},views:{pagerView:l.default.View.inherit({init:function(){var e=this,t=this.getController("data");t.changed.add((function(n){if(n&&n.repaintChangesOnly){var i=e._pager;i?i.option({pageIndex:d(t),pageSize:t.pageSize(),pageCount:t.pageCount(),totalCount:t.totalCount(),hasKnownLastPage:t.hasKnownLastPage()}):e.render()}else(!n||"update"!==n.changeType&&"updateSelection"!==n.changeType&&"updateFocusedRow"!==n.changeType)&&(e._pager=null,e.render())}))},_renderCore:function(){var e=this.element().addClass(this.addWidgetPrefix("pager")),t=this.option("pager")||{},n=this.getController("data"),r=this.getController("keyboardNavigation"),l={maxPagesCount:10,pageIndex:d(n),pageCount:n.pageCount(),pageSize:n.pageSize(),showPageSizes:t.showPageSizeSelector,showInfo:t.showInfo,displayMode:t.displayMode,pagesNavigatorVisible:t.visible,showNavigationButtons:t.showNavigationButtons,label:t.label,pageSizes:this.getPageSizes(),totalCount:n.totalCount(),hasKnownLastPage:n.hasKnownLastPage(),pageIndexChanged:function(e){n.pageIndex()!==e-1&&n.pageIndex(e-1)},pageSizeChanged:function(e){n.pageSize(e)},onKeyDown:function(e){return r&&r.executeAction("onKeyDown",e)},useLegacyKeyboardNavigation:this.option("useLegacyKeyboardNavigation"),useKeyboard:this.option("keyboardNavigation.enabled")};(0,i.isDefined)(t.infoText)&&(l.infoText=t.infoText),this._pager?this._pager.repaint():(0,o.hasWindow)()?this._pager=this._createComponent(e,a.default,l):e.addClass("dx-pager").html('<div class="dx-pages"><div class="dx-page"></div></div>')},getPager:function(){return this._pager},getPageSizes:function(){var e=this.getController("data"),t=this.option("pager"),n=t&&t.allowedPageSizes,o=e.pageSize();return(0,i.isDefined)(this._pageSizes)&&this._pageSizes.includes(o)||(this._pageSizes=[],t&&(Array.isArray(n)?this._pageSizes=n:n&&o>1&&(this._pageSizes=[Math.floor(o/2),o,2*o]))),this._pageSizes},isVisible:function(){var e=this.getController("data"),t=this.option("pager"),n=t&&t.visible,i=this.option("scrolling");return"auto"===n&&(n=(!i||"virtual"!==i.mode&&"infinite"!==i.mode)&&(e.pageCount()>1||e.isLoaded()&&!e.hasKnownLastPage())),n},getHeight:function(){return this.getElementHeight()},optionChanged:function(e){var t=e.name,n="pager"===t,i="paging"===t,r="dataSource"===t,a="scrolling"===t,l=this.getController("data");if(n||i||a||r){if(e.handled=!0,l.skipProcessingPagingChange(e.fullName))return;(n||i)&&(this._pageSizes=null),r||(this._pager=null,this._invalidate(),(0,o.hasWindow)()&&n&&this.component&&this.component.resize())}},dispose:function(){this._pager=null}})}};t.pagerModule=u},16497:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CLASSES=t.ATTRIBUTES=void 0;t.ATTRIBUTES={dragCell:"dx-drag-cell"};t.CLASSES={cellFocusDisabled:"dx-cell-focus-disabled",handleIcon:"drag-icon",commandDrag:"dx-command-drag",sortableWithoutHandle:"dx-sortable-without-handle",rowsView:"rowsview"}},25761:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GridCoreRowDraggingDom=void 0;var i=a(n(94965)),o=a(n(37028)),r=n(16497);function a(e){return e&&e.__esModule?e:{default:e}}var l={createHandleTemplateFunc:function(e){return function(t,n){var a=(0,i.default)(t);if("data"===n.rowType)return a.addClass(r.CLASSES.cellFocusDisabled),(0,i.default)("<span>").addClass(e(r.CLASSES.handleIcon));o.default.setEmptyText(a)}}};t.GridCoreRowDraggingDom=l},78362:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.rowDraggingModule=void 0;var i=c(n(94965)),o=n(65102),r=n(48152),a=n(21620),l=c(n(98309)),s=c(n(37028)),d=n(16497),u=n(25761);function c(e){return e&&e.__esModule?e:{default:e}}var h={defaultOptions:function(){return{rowDragging:{showDragIcons:!0,dropFeedbackMode:"indicate",allowReordering:!1,allowDropInsideItem:!1}}},extenders:{views:{rowsView:{init:function(){this.callBase.apply(this,arguments),this._updateHandleColumn()},_allowReordering:function(){var e=this.option("rowDragging");return!(!e||!(e.allowReordering||e.allowDropInsideItem||e.group))},_updateHandleColumn:function(){var e=this.option("rowDragging"),t=this._allowReordering(),n=this._columnsController,i=t&&e.showDragIcons;null==n||n.addCommandColumn({type:"drag",command:"drag",visibleIndex:-2,alignment:"center",elementAttr:[{name:d.ATTRIBUTES.dragCell,value:""}],cssClass:d.CLASSES.commandDrag,width:"auto",cellTemplate:this._getHandleTemplate(),visible:i}),null==n||n.columnOption("type:drag","visible",i)},_renderContent:function(){var e=this,t=this.option("rowDragging"),n=this._allowReordering(),r=this.callBase.apply(this,arguments),a=this._isFixedTableRendering,s="_sortable",u="_sortableFixed",c=a?u:s,h=a?s:u,f=function(t){var n;null===(n=e[u])||void 0===n||n.$element().css("pointerEvents",t?"auto":"")},p=".dx-row:not(.dx-freespace-row):not(.dx-virtual-row):not(.dx-header-row):not(.dx-footer-row)",g=this.option("dataRowTemplate")?"> table > tbody".concat(p):"> table > tbody > ".concat(p);return(n||this[c])&&r.length&&(this[c]=this._createComponent(r,l.default,(0,o.extend)({component:this.component,contentTemplate:null,filter:g,cursorOffset:function(t){var n=t.event,o=(0,i.default)(e.element()).offset();return{x:n.pageX-o.left}},onDraggableElementShown:function(n){if(!t.dragTemplate){var o=(0,i.default)(n.dragElement).children(".dx-widget").data(e.component.NAME);e._synchronizeScrollLeftPosition(o)}},dragTemplate:this._getDraggableRowTemplate(),handle:t.showDragIcons&&".".concat(d.CLASSES.commandDrag),dropFeedbackMode:"indicate"},t,{onDragStart:function(i){var o,r;null===(o=e.getController("keyboardNavigation"))||void 0===o||o._resetFocusedCell();var a=i.component.getVisibleRows()[i.fromIndex];i.itemData=a&&a.data;var l=a&&"data"===a.rowType;i.cancel=!n||!l,null===(r=t.onDragStart)||void 0===r||r.call(t,i)},onDragEnter:function(){f(!0)},onDragLeave:function(){f(!1)},onDragEnd:function(e){var n;f(!1),null===(n=t.onDragEnd)||void 0===n||n.call(t,e)},onAdd:function(e){var n;f(!1),null===(n=t.onAdd)||void 0===n||n.call(t,e)},dropFeedbackMode:t.dropFeedbackMode,onOptionChanged:function(t){e[u]&&("fromIndex"!==t.name&&"toIndex"!==t.name||e[h].option(t.name,t.value))}})),r.toggleClass("dx-scrollable-container",a),r.toggleClass(d.CLASSES.sortableWithoutHandle,n&&!t.showDragIcons)),r},_renderCore:function(e){var t=this;this.callBase.apply(this,arguments),e&&"update"===e.changeType&&e.repaintChangesOnly&&s.default.isVirtualRowRendering(this)&&(0,r.deferUpdate)((function(){t._updateSortable()}))},_updateSortable:function(){var e=this._dataController.getRowIndexOffset();[this._sortable,this._sortableFixed].forEach((function(t){null==t||t.option("offset",e),null==t||t.update()}))},_resizeCore:function(){this.callBase.apply(this,arguments),this._updateSortable()},_getDraggableGridOptions:function(e){var t=this.option(),n=this.getColumns(),o=(0,i.default)(this.getRowElement(e.rowIndex));return{dataSource:[{id:1,parentId:0}],showBorders:!0,showColumnHeaders:!1,scrolling:{useNative:!1,showScrollbar:"never"},pager:{visible:!1},loadingTimeout:null,columnFixing:t.columnFixing,columnAutoWidth:t.columnAutoWidth,showColumnLines:t.showColumnLines,columns:n.map((function(e){return{width:e.width||e.visibleWidth,fixed:e.fixed,fixedPosition:e.fixedPosition}})),onRowPrepared:function(e){var t=e.component.getView("rowsView");(0,i.default)(e.rowElement).replaceWith(o.eq(t._isFixedTableRendering?1:0).clone())}}},_synchronizeScrollLeftPosition:function(e){var t=null==e?void 0:e.getScrollable();null==t||t.scrollTo({x:this._scrollLeft})},_getDraggableRowTemplate:function(){var e=this;return function(t){var n=e.component.$element(),o=(0,i.default)("<div>");(0,a.setWidth)(o,(0,a.getWidth)(n));var r=e._dataController.items(),l=r&&r[t.fromIndex],s=e._getDraggableGridOptions(l);return e._createComponent(o,e.component.NAME,s),o.find(".dx-gridbase-container").children(":not(.".concat(e.addWidgetPrefix(d.CLASSES.rowsView),")")).hide(),o}},_getHandleTemplate:function(){var e=this;return u.GridCoreRowDraggingDom.createHandleTemplateFunc((function(t){return e.addWidgetPrefix(t)}))},optionChanged:function(e){"rowDragging"===e.name&&(this._updateHandleColumn(),this._invalidate(!0,!0),e.handled=!0),this.callBase.apply(this,arguments)}}}}};t.rowDraggingModule=h},86818:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.searchModule=void 0;var i=u(n(70175)),o=u(n(94965)),r=n(14928),a=n(49859),l=u(n(1344)),s=u(n(63585)),d=u(n(37028));function u(e){return e&&e.__esModule?e:{default:e}}var c="search-panel",h="search-text";function f(e){return(0,a.isDefined)(e.allowSearch)?e.allowSearch:e.allowFiltering}function p(e,t){var n=e.lookup;return e.parseValue?n?e.parseValue.call(n,t):e.parseValue(t):t}var g,m={defaultOptions:function(){return{searchPanel:{visible:!1,width:160,placeholder:s.default.format("dxDataGrid-searchPanelPlaceholder"),highlightSearchText:!0,highlightCaseSensitive:!1,text:"",searchVisibleColumnsOnly:!1}}},extenders:{controllers:{data:{publicMethods:function(){return this.callBase().concat(["searchByText"])},_calculateAdditionalFilter:function(){var e=this.callBase(),t=function(e,t){var n,i,o,a=e._columnsController.getColumns(),s=e.option("searchPanel.searchVisibleColumnsOnly"),u=[];if(!t)return null;function c(e){for(var t=(0,r.compileGetter)(o.valueExpr),n=0;n<e.length;n++){var a=t(e[n]);u.push(i.createFilterExpression(a,null,"search"))}}for(n=0;n<a.length;n++)if(i=a[n],(!s||i.visible)&&f(i)&&i.calculateFilterExpression){o=i.lookup;var h=p(i,t);o&&o.items?(0,l.default)(o.items).filter(i.createFilterExpression.call({dataField:o.displayExpr,dataType:o.dataType,calculateFilterExpression:i.calculateFilterExpression},h,null,"search")).enumerate().done(c):void 0!==h&&u.push(i.createFilterExpression(h,null,"search"))}return 0===u.length?["!"]:d.default.combineFilters(u,"or")}(this,this.option("searchPanel.text"));return d.default.combineFilters([e,t])},searchByText:function(e){this.option("searchPanel.text",e)},optionChanged:function(e){switch(e.fullName){case"searchPanel.text":case"searchPanel":this._applyFilter(),e.handled=!0;break;default:this.callBase(e)}}}},views:{headerPanel:(g=function(e){return e.option("searchPanel")},{_getToolbarItems:function(){var e=this.callBase();return this._prepareSearchItem(e)},_prepareSearchItem:function(e){var t=this,n=t.getController("data"),i=g(t);if(i&&i.visible){var r={template:function(e,r,a){var l=(0,o.default)("<div>").addClass(t.addWidgetPrefix(c)).appendTo(a);t.getController("editorFactory").createEditor(l,{width:i.width,placeholder:i.placeholder,parentType:"searchPanel",value:t.option("searchPanel.text"),updateValueTimeout:700,setValue:function(e){n.searchByText(e)},editorOptions:{inputAttr:{"aria-label":s.default.format("".concat(t.component.NAME,"-ariaSearchInGrid"))}}}),t.resize()},name:"searchPanel",location:"after",locateInMenu:"never",sortIndex:40};e.push(r)}return e},getSearchTextEditor:function(){var e=this,t=e.element(),n=t.find(".".concat(e.addWidgetPrefix(c))).filter((function(){return(0,o.default)(this).closest(".".concat(e.addWidgetPrefix("header-panel"))).is(t)}));return n.length?n.dxTextBox("instance"):null},isVisible:function(){var e=g(this);return this.callBase()||e&&e.visible},optionChanged:function(e){if("searchPanel"===e.name){if("searchPanel.text"===e.fullName){var t=this.getSearchTextEditor();t&&t.option("value",e.value)}else this._invalidate();e.handled=!0}else this.callBase(e)}}),rowsView:{init:function(){this.callBase.apply(this,arguments),this._searchParams=[],this._dataController=this.getController("data")},_getFormattedSearchText:function(e,t){var n=p(e,t),i=d.default.getFormatOptionsByColumn(e,"search");return d.default.formatValue(n,i)},_getStringNormalizer:function(){var e,t,n,i,o=this.option("searchPanel.highlightCaseSensitive"),a=null===(t=null===(e=this._dataController)||void 0===e?void 0:e.getDataSource)||void 0===t?void 0:t.call(e),l=null===(i=null===(n=null==a?void 0:a.loadOptions)||void 0===n?void 0:n.call(a))||void 0===i?void 0:i.langParams;return function(e){return(0,r.toComparable)(e,o,l)}},_findHighlightingTextNodes:function(e,t,n){var i,r=t.parent(),a=this._getStringNormalizer(),l=a(n),s=[];if(r.length){if(e)if(e.groupIndex>=0&&!e.showWhenGrouped)i=t;else{var d=this._columnsController.getVisibleIndex(e.index);i=r.children("td").eq(d).find("*")}}else r=(0,o.default)("<div>").append(t);return(i=(null==i?void 0:i.length)?i:r.find("*")).each((function(e,t){for(var n=(0,o.default)(t).contents(),i=0;i<n.length;i++){var r=n.get(i);if(3===r.nodeType)a(r.textContent||r.nodeValue).indexOf(l)>-1&&s.push(r)}})),s},_highlightSearchTextCore:function(e,t){var n=(0,o.default)("<span>").addClass(this.addWidgetPrefix(h)),r=e.text(),a=e[0],l=this._getStringNormalizer(),s=l(r).indexOf(l(t));if(s>=0)return a.textContent?a.textContent=r.substr(0,s):a.nodeValue=r.substr(0,s),e.after(n.text(r.substr(s,t.length))),e=(0,o.default)(i.default.createTextNode(r.substr(s+t.length))).insertAfter(n),this._highlightSearchTextCore(e,t)},_highlightSearchText:function(e,t,n){var i=this,r=this._getStringNormalizer(),a=i.option("searchPanel.text");(t&&n&&(a=a&&i._getFormattedSearchText(n,a)),a&&i.option("searchPanel.highlightSearchText"))&&i._findHighlightingTextNodes(n,e,a).forEach((function(e){t?r((0,o.default)(e).text())===r(a)&&(0,o.default)(e).replaceWith((0,o.default)("<span>").addClass(i.addWidgetPrefix(h)).text((0,o.default)(e).text())):i._highlightSearchTextCore((0,o.default)(e),a)}))},_renderCore:function(){var e=this,t=this.callBase.apply(this,arguments);return(this.option().rowTemplate||this.option("dataRowTemplate"))&&(this.option("templatesRenderAsynchronously")?(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout((function(){e._highlightSearchText(e.getTableElement())}))):this._highlightSearchText(this.getTableElement())),t},_updateCell:function(e,t){var n=this,i=t.column,o="string"!==(i.lookup&&i.lookup.dataType||i.dataType);f(i)&&!t.isOnForm&&(this.option("templatesRenderAsynchronously")?(this._searchParams.length||(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout((function(){n._searchParams.forEach((function(e){n._highlightSearchText.apply(n,e)})),n._searchParams=[]}))),this._searchParams.push([e,o,i])):this._highlightSearchText(e,o,i)),this.callBase(e,t)},dispose:function(){clearTimeout(this._highlightTimer),this.callBase()}}}}};t.searchModule=m},47211:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.selectionModule=t.SelectionController=void 0;var i=w(n(94965)),o=n(48152),r=n(74460),a=n(65102),l=n(96993),s=n(54078),d=n(49859),u=n(22028),c=n(82769),h=w(n(38608)),f=w(n(4103)),p=n(6473),g=w(n(63585)),m=w(n(92155)),_=w(n(47625)),v=w(n(97478)),C=w(n(37028));function w(e){return e&&e.__esModule?e:{default:e}}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}var x="dx-editor-cell",I="dx-selection",b="dx-select-checkbox",E="dx-command-select",S="dx-data-row",O="selection.showCheckBoxesMode",T="selection.mode",D=function(e,t){var n=e.getController("selection"),o=e.getView("rowsView"),r=(0,i.default)(t.target).closest(".".concat(S)),a=o.getRowIndex(r);a<0||("onLongTap"===e.option(O)?n.isSelectionWithCheckboxes()?n.stopSelectionWithCheckboxes():n.startSelectionWithCheckboxes():("onClick"===e.option(O)&&n.startSelectionWithCheckboxes(),"always"!==e.option(O)&&n.changeItemSelection(a,{control:!0})))},R=function(e,t){var n=t.component,o=n.getView("rowsView");n.option("renderAsync")&&!n.option("selection.deferred")&&(t.value=n.isRowSelected(t.row.key)),o.renderSelectCheckBoxContainer((0,i.default)(e),t)},F=function(e,t){var n=t.column,o=(0,i.default)(e),r=t.component.getView("columnHeadersView");o.addClass(x),r._renderSelectAllCheckBox(o,n),r._attachSelectAllCheckBoxClickEvent(o)},A=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,y(t,n);var a=i.prototype;return a.init=function(){var e,t=null!==(e=this.option("selection"))&&void 0!==e?e:{},n=t.deferred,i=t.selectAllMode,o=t.mode;"infinite"!==this.option("scrolling.mode")||n||"multiple"!==o||"allPages"!==i||_.default.log("W1018"),this._dataController=this.getController("data"),this._selectionMode=o,this._isSelectionWithCheckboxes=!1,this._selection=this._createSelection(),this._updateSelectColumn(),this.createAction("onSelectionChanged",{excludeValidators:["disabled","readOnly"]}),this._dataPushedHandler||(this._dataPushedHandler=this._handleDataPushed.bind(this),this._dataController.pushed.add(this._dataPushedHandler))},a._handleDataPushed=function(e){this._deselectRemovedOnPush(e),this._updateSelectedOnPush(e)},a._deselectRemovedOnPush=function(e){var t=this.option("selection.deferred"),n=e.filter((function(e){return"remove"===e.type})).map((function(e){return e.key}));if(t){var i=this._dataController.items().filter((function(e){return e.isSelected})).map((function(e){return e.key}));n=n.filter((function(e){return i.find((function(t){return(0,o.equalByValue)(t,e)}))}))}n.length&&this.deselectRows(n)},a._updateSelectedOnPush=function(e){if(!this.option("selection.deferred")){var t=e.filter((function(e){return"update"===e.type})),n=this.getSelectedRowsData();(0,u.applyBatch)({keyInfo:this._selection.options,data:n,changes:t})}},a._getSelectionConfig=function(){var e,t=this._dataController,n=this.getController("columns"),i=null!==(e=this.option("selection"))&&void 0!==e?e:{},o=i.deferred,a=this.option("scrolling.mode"),l="virtual"===a||"infinite"===a,s=this.option("selection.allowSelectAll"),u=this.option("scrolling.legacyMode");return{selectedKeys:this.option("selectedRowKeys"),mode:this._selectionMode,deferred:o,maxFilterLengthInRequest:i.maxFilterLengthInRequest,selectionFilter:this.option("selectionFilter"),ignoreDisabledItems:!0,allowLoadByRange:function(){var e=n.getGroupColumns().length>0;return l&&!u&&!e&&s&&!o},key:function(){return null==t?void 0:t.key()},keyOf:function(e){return null==t?void 0:t.keyOf(e)},dataFields:function(){var e;return null===(e=t.dataSource())||void 0===e?void 0:e.select()},load:function(e){var n;return(null===(n=t.dataSource())||void 0===n?void 0:n.load(e))||(new r.Deferred).resolve([])},plainItems:function(){return t.items(!0)},isItemSelected:function(e){return e.selected},isSelectableItem:function(e){return"data"===(null==e?void 0:e.rowType)&&!e.isNewRow},getItemData:function(e){return(0,d.isDefined)(null==e?void 0:e.rowType)?(null==e?void 0:e.oldData)||(null==e?void 0:e.data):e},filter:function(){return t.getCombinedFilter(o)},totalCount:function(){return t.totalCount()},getLoadOptions:function(e,n,i){var o,r,a=null!==(r=null===(o=t.dataSource())||void 0===o?void 0:o.lastLoadOptions())&&void 0!==r?r:{},l=a.sort,s=a.filter,u=Math.min(e,n),c=Math.max(e,n);return(0,d.isDefined)(i)&&(u=Math.min(i,u),c=Math.max(i,c)),{skip:u,take:c-u+1,filter:s,sort:l}},onSelectionChanged:this._updateSelectedItems.bind(this)}},a._updateSelectColumn=function(){var e=this.getController("columns"),t=this.isSelectColumnVisible();e.addCommandColumn({type:"selection",command:"select",visible:t,visibleIndex:-1,dataType:"boolean",alignment:"center",cssClass:E,width:"auto",cellTemplate:R,headerCellTemplate:F}),e.columnOption("command:select","visible",t)},a._createSelection=function(){var e=this._getSelectionConfig();return new m.default(e)},a._fireSelectionChanged=function(e){var t=this.option("selection.deferred")?{selectionFilter:this.option("selectionFilter")}:{selectedRowKeys:this.option("selectedRowKeys")};this.selectionChanged.fire(t),e&&this.executeAction("onSelectionChanged",e)},a._updateCheckboxesState=function(e){var t=e.isDeferredMode,n=e.selectionFilter,i=e.selectedItemKeys,o=e.removedItemKeys;"onClick"===this.option(O)&&((t?n&&function(e,t){var n=0,i=e._dataController.store(),o=i&&i.key(),r=Array.isArray(o);if(!t.length)return!1;if(r&&Array.isArray(t[0])&&"and"===t[1]){for(var a=0;a<t.length;a++)if(Array.isArray(t[a])){if(t[a][0]!==o[n]||"="!==t[a][1])return!0;n++}return!1}return o!==t[0]}(this,n):i.length>1)?this.startSelectionWithCheckboxes():(t?n&&!n.length:0===i.length&&o.length)&&this.stopSelectionWithCheckboxes())},a._updateSelectedItems=function(e){var t,n=this.option("selection.deferred"),i=this._selection.selectionFilter(),o=this._dataController,r=o.items(!0),a=o.items();if(r){var l=this.isSelectionWithCheckboxes(),s=this.getChangedItemIndexes(r),d=this.getChangedItemIndexes(a);this._updateCheckboxesState({selectedItemKeys:e.selectedItemKeys,removedItemKeys:e.removedItemKeys,selectionFilter:i,isDeferredMode:n}),(s.length||l!==this.isSelectionWithCheckboxes())&&o.updateItems({changeType:"updateSelection",itemIndexes:d}),n?(this.option("selectionFilter",i),t={}):(e.addedItemKeys.length||e.removedItemKeys.length)&&(this._selectedItemsInternalChange=!0,this.option("selectedRowKeys",e.selectedItemKeys.slice(0)),this._selectedItemsInternalChange=!1,t={selectedRowsData:e.selectedItems.slice(0),selectedRowKeys:e.selectedItemKeys.slice(0),currentSelectedRowKeys:e.addedItemKeys.slice(0),currentDeselectedRowKeys:e.removedItemKeys.slice(0)}),this._fireSelectionChanged(t)}},a.getChangedItemIndexes=function(e){for(var t=[],n=this.option("selection.deferred"),i=0,o=e.length;i<o;i++){var r=e[i],a=this.isRowSelected(n?r.data:r.key);this._selection.isDataItem(r)&&r.isSelected!==a&&t.push(i)}return t},a.callbackNames=function(){return["selectionChanged"]},a.optionChanged=function(t){var n=this;switch(e.prototype.optionChanged.call(this,t),t.name){case"selection":var i=this._selectionMode;if(this.init(),"selection.showCheckBoxesMode"!==t.fullName){var o=this._selectionMode,r=this.option("selectedRowKeys");i!==o&&("single"===o?r.length>1&&(r=[r[0]]):"multiple"!==o&&(r=[])),this.selectRows(r).always((function(){n._fireSelectionChanged()}))}this.getController("columns").updateColumns(),t.handled=!0;break;case"selectionFilter":this._selection.selectionFilter(t.value),t.handled=!0;break;case"selectedRowKeys":var a=t.value||[];!Array.isArray(a)||this._selectedItemsInternalChange||!this.component.getDataSource()&&a.length||this.selectRows(a),t.handled=!0}},a.publicMethods=function(){return["selectRows","deselectRows","selectRowsByIndexes","getSelectedRowKeys","getSelectedRowsData","clearSelection","selectAll","deselectAll","startSelectionWithCheckboxes","stopSelectionWithCheckboxes","isRowSelected"]},a.isRowSelected=function(e){return this._selection.isItemSelected(e)},a.isSelectColumnVisible=function(){return"multiple"===this.option(T)&&("always"===this.option(O)||"onClick"===this.option(O)||this._isSelectionWithCheckboxes)},a._isOnePageSelectAll=function(){return"page"===this.option("selection.selectAllMode")},a.isSelectAll=function(){return this._selection.getSelectAllState(this._isOnePageSelectAll())},a.selectAll=function(){return"onClick"===this.option(O)&&this.startSelectionWithCheckboxes(),this._selection.selectAll(this._isOnePageSelectAll())},a.deselectAll=function(){return this._selection.deselectAll(this._isOnePageSelectAll())},a.clearSelection=function(){return this.selectedItemKeys([])},a.refresh=function(){var e,t=null!==(e=this.option("selectedRowKeys"))&&void 0!==e?e:[];return!this.option("selection.deferred")&&t.length?this.selectedItemKeys(t):(new r.Deferred).resolve().promise()},a.selectedItemKeys=function(e,t,n,i){return this._selection.selectedItemKeys(e,t,n,i)},a.getSelectedRowKeys=function(){return this._selection.getSelectedItemKeys()},a.selectRows=function(e,t){return this.selectedItemKeys(e,t)},a.deselectRows=function(e){return this.selectedItemKeys(e,!0,!0)},a.selectRowsByIndexes=function(e){var t=this._dataController.items(),n=[];return Array.isArray(e)||(e=Array.prototype.slice.call(arguments,0)),(0,l.each)(e,(function(){var e=t[this];e&&"data"===e.rowType&&n.push(e.key)})),this.selectRows(n)},a.getSelectedRowsData=function(){return this._selection.getSelectedItems()},a.loadSelectedItemsWithFilter=function(){return this._selection.loadSelectedItemsWithFilter()},a.changeItemSelection=function(e,t,n){t=t||{},this.isSelectionWithCheckboxes()&&(t.control=!0);var i=e+this._dataController.getRowIndexOffset()-this._dataController.getRowIndexOffset(!0);return this._selection.changeItemSelection(i,t,n)},a.focusedItemIndex=function(e){if(!(0,d.isDefined)(e))return this._selection._focusedItemIndex;this._selection._focusedItemIndex=e},a.isSelectionWithCheckboxes=function(){return"multiple"===this.option(T)&&("always"===this.option(O)||this._isSelectionWithCheckboxes)},a.startSelectionWithCheckboxes=function(){return"multiple"===this.option(T)&&!this.isSelectionWithCheckboxes()&&(this._isSelectionWithCheckboxes=!0,this._updateSelectColumn(),!0)},a.stopSelectionWithCheckboxes=function(){return!!this._isSelectionWithCheckboxes&&(this._isSelectionWithCheckboxes=!1,this._updateSelectColumn(),!0)},i}(v.default.Controller);t.SelectionController=A;var P={defaultOptions:function(){return{selection:{mode:"none",showCheckBoxesMode:"onClick",allowSelectAll:!0,selectAllMode:"allPages",maxFilterLengthInRequest:1500,deferred:!1},selectionFilter:[],selectedRowKeys:[]}},controllers:{selection:A},extenders:{controllers:{data:{init:function(){var e=this.getController("selection"),t=this.option("selection.deferred");this.callBase.apply(this,arguments),t&&e._updateCheckboxesState({isDeferredMode:!0,selectionFilter:this.option("selectionFilter")})},_loadDataSource:function(){var e=this;return e.callBase().always((function(){e.getController("selection").refresh()}))},_processDataItem:function(e,t){var n=this.getController("selection"),i=n.isSelectColumnVisible(),o=t.isDeferredSelection=void 0===t.isDeferredSelection?this.option("selection.deferred"):t.isDeferredSelection,r=this.callBase.apply(this,arguments);if(r.isSelected=n.isRowSelected(o?r.data:r.key),i&&r.values)for(var a=0;a<t.visibleColumns.length;a++)if("select"===t.visibleColumns[a].command){r.values[a]=r.isSelected;break}return r},refresh:function(e){var t=this,n=new r.Deferred;return this.callBase.apply(this,arguments).done((function(){!e||e.selection?t.getController("selection").refresh().done(n.resolve).fail(n.reject):n.resolve()})).fail(n.reject),n.promise()},_handleDataChanged:function(e){this.callBase.apply(this,arguments),e&&"refresh"!==e.changeType||this._repaintChangesOnly||this.getController("selection").focusedItemIndex(-1)},_applyChange:function(e){var t=this;if(!e||"updateSelection"!==e.changeType)return this.callBase.apply(this,arguments);e.items.forEach((function(e,n){var i=t._items[n];i&&(i.isSelected=e.isSelected,i.values=e.values)}))},_endUpdateCore:function(){var e=this._changes;if(e.length>1&&e.every((function(e){return"updateSelection"===e.changeType}))){var t=e.map((function(e){return e.itemIndexes||[]})).reduce((function(e,t){return e.concat(t)}));this._changes=[{changeType:"updateSelection",itemIndexes:t}]}this.callBase.apply(this,arguments)}},contextMenu:{_contextMenuPrepared:function(e){var t=e.event;t.originalEvent&&"dxhold"!==t.originalEvent.type||e.items&&e.items.length>0||D(this,t)}}},views:{columnHeadersView:{init:function(){this.callBase(),this.getController("selection").selectionChanged.add(this._updateSelectAllValue.bind(this))},_updateSelectAllValue:function(){var e=this.element(),t=e&&e.find(".".concat(b));if(e&&t.length&&"multiple"===this.option("selection.mode")){var n=this.getController("selection").isSelectAll(),i=!1!==n,o=this.option("selection.allowSelectAll")?!this.getController("data").isEmpty():i;t.dxCheckBox("instance").option({visible:o,value:n})}},_handleDataChanged:function(e){var t=this;this.callBase(e),(!e||"refresh"===e.changeType||e.repaintChangesOnly&&"update"===e.changeType)&&this.waitAsyncTemplates().done((function(){t._updateSelectAllValue()}))},_renderSelectAllCheckBox:function(e,t){var n=this,o=n.getController("selection"),r=n.getController("data").isEmpty(),l=(0,i.default)("<div>").appendTo(e).addClass(b);return n.setAria("label",g.default.format("dxDataGrid-ariaSelectAll"),l),n.getController("editorFactory").createEditor(l,(0,a.extend)({},t,{parentType:"headerRow",dataType:"boolean",value:o.isSelectAll(),editorOptions:{visible:!r&&(n.option("selection.allowSelectAll")||!1!==o.isSelectAll())},tabIndex:n.option("useLegacyKeyboardNavigation")?-1:n.option("tabIndex")||0,setValue:function(e,t){var i=n.option("selection.allowSelectAll");t.component.option("visible",i||!1!==t.component.option("value")),t.event&&o.isSelectAll()!==e&&(t.value&&!i?t.component.option("value",!1):t.value?o.selectAll():o.deselectAll(),t.event.preventDefault())}})),l},_attachSelectAllCheckBoxClickEvent:function(e){h.default.on(e,c.name,this.createAction((function(e){var t=e.event;(0,i.default)(t.target).closest(".".concat(b)).length||h.default.trigger((0,i.default)(t.currentTarget).children(".".concat(b)),c.name),t.preventDefault()})))}},rowsView:{renderSelectCheckBoxContainer:function(e,t){"data"!==t.rowType||t.row.isNewRow?C.default.setEmptyText(e):(e.addClass(x),this._attachCheckBoxClickEvent(e),this._renderSelectCheckBox(e,t))},_renderSelectCheckBox:function(e,t){var n=(0,i.default)("<div>").addClass(b).appendTo(e);return this.setAria("label",g.default.format("dxDataGrid-ariaSelectRow"),n),this.getController("editorFactory").createEditor(n,(0,a.extend)({},t.column,{parentType:"dataRow",dataType:"boolean",lookup:null,value:t.value,setValue:function(e,t){var n;"keydown"===(null===(n=null==t?void 0:t.event)||void 0===n?void 0:n.type)&&h.default.trigger(t.element,c.name,t)},row:t.row})),n},_attachCheckBoxClickEvent:function(e){h.default.on(e,c.name,this.createAction((function(e){var t=this.getController("selection"),n=e.event,o=this.getRowIndex((0,i.default)(n.currentTarget).closest(".".concat("dx-row")));o>=0&&(t.startSelectionWithCheckboxes(),t.changeItemSelection(o,{shift:n.shiftKey}),(0,i.default)(n.target).closest(".".concat(b)).length&&this.getController("data").updateItems({changeType:"updateSelection",itemIndexes:[o]}))})))},_update:function(e){var t=this,n=t.getTableElements();"updateSelection"===e.changeType?n.length>0&&((0,l.each)(n,(function(n,o){(0,l.each)(e.itemIndexes||[],(function(n,r){var a;if(e.items[r]&&(a=t._getRowElements((0,i.default)(o)).eq(r)).length){var l=e.items[r].isSelected;a.toggleClass(I,void 0!==l&&l).find(".".concat(b)).dxCheckBox("option","value",l),t.setAria("selected",l,a)}}))})),t._updateCheckboxesClass()):t.callBase(e)},_createTable:function(){var e=this,t=e.option("selection.mode"),n=e.callBase.apply(e,arguments);return"none"!==t&&("onLongTap"!==e.option(O)&&s.touch||h.default.on(n,(0,p.addNamespace)(f.default.name,"dxDataGridRowsView"),".".concat(S),e.createAction((function(t){D(e.component,t.event),t.event.stopPropagation()}))),h.default.on(n,"mousedown selectstart",e.createAction((function(e){var t=e.event;t.shiftKey&&t.preventDefault()})))),n},_createRow:function(e){var t=this.callBase.apply(this,arguments);if(e){var n=e.isSelected;n&&t.addClass(I),"none"!==this.option(T)&&this.setAria("selected",n,t)}return t},_rowClick:function(e){var t=e.event,n=(0,i.default)(t.target).closest(".".concat("dx-selection-disabled")).length;this.isClickableElement((0,i.default)(t.target))||(n||"multiple"===this.option(T)&&"always"===this.option(O)||this.getController("selection").changeItemSelection(e.rowIndex,{control:(0,p.isCommandKeyPressed)(t),shift:t.shiftKey})&&(t.preventDefault(),e.handled=!0),this.callBase(e))},isClickableElement:function(e){return!!e.closest(".".concat(E)).length},_renderCore:function(e){var t=this.callBase(e);return this._updateCheckboxesClass(),t},_updateCheckboxesClass:function(){var e=this.getTableElements(),t=this.getController("selection"),n=t.isSelectColumnVisible()&&!t.isSelectionWithCheckboxes();(0,l.each)(e,(function(e,t){(0,i.default)(t).toggleClass("dx-select-checkboxes-hidden",n)}))}}}}};t.selectionModule=P},15552:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sortingModule=void 0;var i=c(n(94965)),o=n(65102),r=n(49859),a=n(82769),l=c(n(38608)),s=n(6473),d=c(n(63585)),u=c(n(25103));function c(e){return e&&e.__esModule?e:{default:e}}var h={defaultOptions:function(){return{sorting:{mode:"single",ascendingText:d.default.format("dxDataGrid-sortingAscendingText"),descendingText:d.default.format("dxDataGrid-sortingDescendingText"),clearText:d.default.format("dxDataGrid-sortingClearText"),showSortIndexes:!0}}},extenders:{views:{columnHeadersView:(0,o.extend)({},u.default,{_createRow:function(e){var t=this,n=this.callBase(e);return"header"===e.rowType&&l.default.on(n,(0,s.addNamespace)(a.name,"dxDataGridColumnHeadersView"),"td",this.createAction((function(e){t._processHeaderAction(e.event,n)}))),n},_processHeaderAction:function(e,t){if((0,i.default)(e.currentTarget).parent().get(0)===t.get(0)){var n=this,o=null,a=(0,i.default)(e.currentTarget),l=a.parent().index(),d=-1;[].slice.call(n.getCellElements(l)).some((function(e,t){if(e===a.get(0))return d=t,!0}));var u=n._columnsController.getVisibleColumns(l)[d],c=n.getController("editing"),h=n.option("editing.mode");!(c&&c.isEditing()&&("batch"===h||"cell"===h))&&n._isSortableElement((0,i.default)(e.target))&&(!u||(0,r.isDefined)(u.groupIndex)||u.command||(e.shiftKey?o="shift":(0,s.isCommandKeyPressed)(e)&&(o="ctrl"),setTimeout((function(){n._columnsController.changeSortOrder(u.index,o)}))))}},_renderCellContent:function(e,t){var n=t.column;n.command||"header"!==t.rowType||this._applyColumnState({name:"sort",rootElement:e,column:n,showColumnLines:this.option("showColumnLines")}),this.callBase.apply(this,arguments)},_columnOptionChanged:function(e){var t=e.changeTypes;1===t.length&&t.sorting?this._updateIndicators("sort"):this.callBase(e)},optionChanged:function(e){if("sorting"===e.name)this._invalidate(),e.handled=!0;else this.callBase(e)}}),headerPanel:(0,o.extend)({},u.default,{_createGroupPanelItem:function(e,t){var n=this,i=n.callBase.apply(n,arguments);return l.default.on(i,(0,s.addNamespace)(a.name,"dxDataGridHeaderPanel"),n.createAction((function(){n._processGroupItemAction(t.index)}))),n._applyColumnState({name:"sort",rootElement:i,column:{alignment:n.option("rtlEnabled")?"right":"left",allowSorting:t.allowSorting,sortOrder:"desc"===t.sortOrder?"desc":"asc"},showColumnLines:!0}),i},_processGroupItemAction:function(e){var t=this;setTimeout((function(){return t.getController("columns").changeSortOrder(e)}))},optionChanged:function(e){if("sorting"===e.name)this._invalidate(),e.handled=!0;else this.callBase(e)}})}}};t.sortingModule=h},25103:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=(i=n(94965))&&i.__esModule?i:{default:i},r=n(49859);var a="dx-sort",l="dx-sort-none",s="dx-sort-index-icon",d={_applyColumnState:function(e){var t,n,i=this.option("sorting.mode"),l=e.rootElement,d=e.column,u=this._getIndicatorContainer(l);if("sort"===e.name){l.find(".".concat(a)).remove(),!u.children().length&&u.remove();var c="none"!==i&&d.allowSorting;if(!(0,r.isDefined)(d.groupIndex)&&(c||(0,r.isDefined)(d.sortOrder)))t="asc"===d.sortOrder?"ascending":"descending",n=this.callBase(e).toggleClass("dx-sort-up","asc"===d.sortOrder).toggleClass("dx-sort-down","desc"===d.sortOrder),this.getController&&!!this.getController("columns").columnOption("sortIndex:1")&&this.option("sorting.showSortIndexes")&&d.sortIndex>=0&&((0,o.default)("<span>").addClass(s).text(d.sortIndex+1).appendTo(n),n.addClass("dx-sort-index")),c&&e.rootElement.addClass(this.addWidgetPrefix("action"));return(0,r.isDefined)(d.sortOrder)?this.setAria("sort",t,l):this.setAria("sort","none",l),n}return this.callBase(e)},_getIndicatorClassName:function(e){return"sort"===e?a:"sortIndex"===e?s:this.callBase(e)},_renderIndicator:function(e){var t=e.column,n=e.container,i=e.indicator;if("sort"===e.name){var o=this.option("rtlEnabled");if((0,r.isDefined)(t.sortOrder)||i&&i.addClass(l),n.children().length&&(!o&&"left"===e.columnAlignment||o&&"right"===e.columnAlignment))return void n.prepend(i)}this.callBase(e)},_updateIndicator:function(e,t,n){if("sort"!==n||!(0,r.isDefined)(t.groupIndex))return this.callBase.apply(this,arguments)},_getIndicatorElements:function(e,t){var n=this.callBase(e);return t?n:n&&n.not(".".concat(l))}};t.default=d},53259:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.stateStoringModule=void 0;var i,o=n(48152),r=n(74460),a=n(65102),l=n(49859),s=(i=n(82401))&&i.__esModule?i:{default:i};var d=function(e){var t=e.getController("columns"),n=e.getController("selection"),i=e.getController("export"),o=e.getController("data");t&&t.columnsChanged.add((function(){e.updateState({columns:t.getUserState()})})),n&&n.selectionChanged.add((function(t){e.updateState({selectedRowKeys:t.selectedRowKeys,selectionFilter:t.selectionFilter})})),o&&(e._initialPageSize=e.option("paging.pageSize"),e._initialFilterValue=e.option("filterValue"),o.changed.add((function(){var t=function(e){var t=e.getView("pagerView"),n=e.getController("data"),i={allowedPageSizes:t?t.getPageSizes():void 0,filterPanel:{filterEnabled:e.option("filterPanel.filterEnabled")},filterValue:e.option("filterValue"),focusedRowKey:e.option("focusedRowEnabled")?e.option("focusedRowKey"):void 0};return(0,a.extend)(i,n.getUserState())}(e);e.updateState(t)}))),i&&i.selectionOnlyChanged.add((function(){e.updateState({exportSelectionOnly:i.selectionOnly()})}))},u={defaultOptions:function(){return{stateStoring:{enabled:!1,storageKey:null,type:"localStorage",customLoad:null,customSave:null,savingTimeout:2e3}}},controllers:{stateStoring:s.default.StateStoringController},extenders:{views:{rowsView:{init:function(){var e=this,t=e.getController("data");e.callBase(),t.stateLoaded.add((function(){if(t.isLoaded()&&!t.getDataSource()){e.setLoading(!1),e.renderNoDataText();var n=e.component.getView("columnHeadersView");n&&n.render(),e.component._fireContentReadyAction()}}))}}},controllers:{stateStoring:{init:function(){this.callBase.apply(this,arguments),d(this)},isLoading:function(){return this.callBase()||this.getController("data").isStateLoading()},state:function(e){var t=this.callBase.apply(this,arguments);return void 0!==e&&this.applyState((0,a.extend)(!0,{},e)),t},updateState:function(e){if(this.isEnabled()){var t=this.state(),n=(0,a.extend)({},t,e),i=(0,o.getKeyHash)(t),r=(0,o.getKeyHash)(n);(0,o.equalByValue)(i,r)||(e=(0,a.extend)(!0,{},e),(0,a.extend)(this._state,e),this.save())}else(0,a.extend)(this._state,e)},applyState:function(e){var t,n=e.allowedPageSizes,i=e.searchText,o=e.selectedRowKeys,r=e.selectionFilter,a=this.getController("export"),s=this.getController("columns"),d=this.getController("data"),u=this.option("scrolling.mode"),c="virtual"===u||"infinite"===u,h=!0===this.option("pager.visible")&&this.option("pager.showPageSizeSelector"),f=null===(t=this.getView("rowsView"))||void 0===t?void 0:t.hasHeight();this.component.beginUpdate(),s&&s.setUserState(e.columns),a&&a.selectionOnly(e.exportSelectionOnly),this.option("selection.deferred")||this.option("selectedRowKeys",o||[]),this.option("selectionFilter",r),n&&"auto"===this.option("pager.allowedPageSizes")&&(this.option("pager").allowedPageSizes=n),this.option("focusedRowEnabled")&&(this.option("focusedRowIndex",-1),this.option("focusedRowKey",e.focusedRowKey||null)),this.component.endUpdate(),this.option("searchPanel.text",i||""),this.option("filterValue",function(e,t){var n=e.getController("filterSync"),i=e.getController("columns"),o=t.columns||void 0!==t.filterValue;return n?o?t.filterValue||n.getFilterValueFromColumns(t.columns):e._initialFilterValue||n.getFilterValueFromColumns(i.getColumns()):null}(this,e)),this.option("filterPanel.filterEnabled",!e.filterPanel||e.filterPanel.filterEnabled),this.option("paging.pageIndex",(!c||f)&&e.pageIndex||0),this.option("paging.pageSize",c&&!h||!(0,l.isDefined)(e.pageSize)?this._initialPageSize:e.pageSize),d&&d.reset()}},columns:{_shouldReturnVisibleColumns:function(){var e=this.callBase.apply(this,arguments),t=this.getController("stateStoring");return e&&(!t.isEnabled()||t.isLoaded())}},data:{callbackNames:function(){return this.callBase().concat(["stateLoaded"])},_refreshDataSource:function(){var e=this,t=this.callBase,n=this.getController("stateStoring");if(n.isEnabled()&&!n.isLoaded()){clearTimeout(this._restoreStateTimeoutID);var i=new r.Deferred;return this._restoreStateTimeoutID=setTimeout((function(){n.load().always((function(){e._restoreStateTimeoutID=null})).done((function(){t.call(e),e.stateLoaded.fire(),i.resolve()})).fail((function(t){e.stateLoaded.fire(),e._handleLoadError(t||"Unknown error"),i.reject()}))})),i.promise()}this.isStateLoading()||t.call(this)},isLoading:function(){var e=this.getController("stateStoring");return this.callBase()||e.isLoading()},isStateLoading:function(){return(0,l.isDefined)(this._restoreStateTimeoutID)},isLoaded:function(){return this.callBase()&&!this.isStateLoading()},dispose:function(){clearTimeout(this._restoreStateTimeoutID),this.callBase()}},selection:{_fireSelectionChanged:function(e){var t=this.getController("stateStoring"),n=this.option("selection.deferred");t.isLoading()&&n||this.callBase.apply(this,arguments)}}}}};t.stateStoringModule=u},82401:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(74460),o=n(65102),r=n(96993),a=n(36818),l=n(49859),s=n(85349),d=h(n(38608)),u=h(n(47625)),c=h(n(97478));function h(e){return e&&e.__esModule?e:{default:e}}var f,p,g=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/,m=function e(t){t&&(0,r.each)(t,(function(n,i){if((0,l.isPlainObject)(i)||Array.isArray(i))e(i);else if("string"==typeof i){var o=g.exec(i);o&&(t[n]=new Date(Date.UTC(+o[1],+o[2]-1,+o[3],+o[4],+o[5],+o[6])))}}))},_={StateStoringController:c.default.ViewController.inherit((f=function(e){var t="sessionStorage"===e.type?(0,a.sessionStorage)():(0,s.getWindow)().localStorage;if(!t)throw new Error("E1007");return t},p=function(e){return(0,l.isDefined)(e.storageKey)?e.storageKey:"storage"},{_loadState:function(){var e=this.option("stateStoring");if("custom"===e.type)return e.customLoad&&e.customLoad();try{return JSON.parse(f(e).getItem(p(e)))}catch(e){u.default.log("W1022","State storing",e.message)}},_saveState:function(e){var t=this.option("stateStoring");if("custom"!==t.type)try{f(t).setItem(p(t),JSON.stringify(e))}catch(e){u.default.log(e.message)}else t.customSave&&t.customSave(e)},publicMethods:function(){return["state"]},isEnabled:function(){return this.option("stateStoring.enabled")},init:function(){var e=this;return e._state={},e._isLoaded=!1,e._isLoading=!1,e._windowUnloadHandler=function(){void 0!==e._savingTimeoutID&&e._saveState(e.state())},d.default.on((0,s.getWindow)(),"unload",e._windowUnloadHandler),e},isLoaded:function(){return this._isLoaded},isLoading:function(){return this._isLoading},load:function(){var e=this;this._isLoading=!0;var t=(0,i.fromPromise)(this._loadState());return t.always((function(){e._isLoaded=!0,e._isLoading=!1})).done((function(t){null===t||(0,l.isEmptyObject)(t)||e.state(t)})),t},state:function(e){var t=this;if(!arguments.length)return(0,o.extend)(!0,{},t._state);t._state=(0,o.extend)({},e),m(t._state)},save:function(){var e=this;clearTimeout(e._savingTimeoutID),e._savingTimeoutID=setTimeout((function(){e._saveState(e.state()),e._savingTimeoutID=void 0}),e.option("stateStoring.savingTimeout"))},optionChanged:function(e){"stateStoring"===e.name?(this.isEnabled()&&!this.isLoading()&&this.load(),e.handled=!0):this.callBase(e)},dispose:function(){clearTimeout(this._savingTimeoutID),d.default.off((0,s.getWindow)(),"unload",this._windowUnloadHandler)}}))};t.default=_},40255:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validatingModule=void 0;var i=E(n(94965)),o=E(n(19478)),r=n(48152),a=n(74460),l=n(65102),s=n(96993),d=n(21620),u=n(31662),c=n(49859),h=n(22028),f=E(n(38608)),p=E(n(54960)),g=E(n(63585)),m=E(n(17154)),_=E(n(55531)),v=E(n(75568)),C=E(n(49934)),w=E(n(46266)),y=n(87976),x=E(n(47625)),I=E(n(97478)),b=E(n(37028));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var T="invalid",D="revert-tooltip",R="dx-invalid-message",F="invalid-message",A="dx-invalid-message-always",P="validator",V="dx-pending-indicator",B="dx-validation-pending",M="content",k="__DX_INSERT_INDEX__",L="batch",N="cell",H=["popup","form"],W="valid",z="invalid",G="pending",K="insert",j="cancel",U=function(e){return(0,c.isDefined)(e)&&e!==j},q=function(e,t){return void 0!==e||void 0===e&&t&&!t.isNewRow},$={defaultOptions:function(){return{editing:{texts:{validationCancelChanges:g.default.format("dxDataGrid-validationCancelChanges")}}}},controllers:{validating:I.default.Controller.inherit({init:function(){this._editingController=this.getController("editing"),this.createAction("onRowValidating"),this._validationState||this.initValidationState()},initValidationState:function(){this._validationState=[],this._validationStateCache={}},_rowIsValidated:function(e){var t=this._getValidationData(null==e?void 0:e.key);return!!t&&!!t.validated},_getValidationData:function(e,t){var n,i=(0,r.getKeyHash)(e),o=(0,c.isObject)(i);return!(n=o?this._validationState.filter((function(t){return(0,r.equalByValue)(t.key,e)}))[0]:this._validationStateCache[i])&&t&&(n={key:e,isValid:!0},this._validationState.push(n),o||(this._validationStateCache[i]=n)),n},_getBrokenRules:function(e,t){return t?t.brokenRules||t.brokenRule&&[t.brokenRule]:e.brokenRules||[]},_rowValidating:function(e,t){var n=new a.Deferred,i=this._editingController.getChangeByKey(null==e?void 0:e.key),o=this._getBrokenRules(e,t),r={brokenRules:o,isValid:t?t.isValid:e.isValid,key:i.key,newData:i.data,oldData:this._editingController._getOldData(i.key),promise:null,errorText:this.getHiddenValidatorsErrorText(o)};return this.executeAction("onRowValidating",r),(0,a.when)((0,a.fromPromise)(r.promise)).always((function(){e.isValid=r.isValid,e.errorText=r.errorText,n.resolve(r)})),n.promise()},getHiddenValidatorsErrorText:function(e){var t=[];return(0,s.each)(e,(function(e,n){var i=n.column,o=i&&void 0!==i.groupIndex&&!i.showWhenGrouped,r=i&&i.visible;n.validator.$element().parent().length||r&&!o||t.push(n.message)})),t.join(", ")},validate:function(e){var t=this,n=!0,i=this._editingController,o=new a.Deferred,r=[],l=i.getEditMode();if(e=e||"row"===l,this._isValidationInProgress)return o.resolve(!1).promise();if(this._isValidationInProgress=!0,e){i.addDeferred(o);var d=i.getChanges();(0,s.each)(d,(function(e,i){var o=i.type,a=i.key;if("remove"!==o){var l=t._getValidationData(a,!0),s=t.validateGroup(l);r.push(s),s.done((function(e){l.validated=!0,n=n&&e.isValid}))}}))}else if(this._currentCellValidator){var u=this.validateGroup(this._currentCellValidator._findGroup());r.push(u),u.done((function(e){n=e.isValid}))}return a.when.apply(void 0,r).done((function(){t._isValidationInProgress=!1,o.resolve(n)})),o.promise()},validateGroup:function(e){var t,n=this,i=new a.Deferred,o=e&&C.default.getGroupConfig(e);return(null==o?void 0:o.validators.length)&&(this.resetRowValidationResults(e),t=C.default.validateGroup(e)),(0,a.when)((null==t?void 0:t.complete)||t).done((function(t){(0,a.when)(n._rowValidating(e,t)).done(i.resolve)})),i.promise()},isRowDataModified:function(e){return!(0,c.isEmptyObject)(e.data)},updateValidationState:function(e){var t=this._editingController.getEditMode(),n=e.key,i=this._getValidationData(n,!0);if(H.includes(t))i.isValid=!0;else{if(e.type===K&&!this.isRowDataModified(e))return void(i.isValid=!0);if(this.setDisableApplyValidationResults(!0),C.default.getGroupConfig(i)){var o=C.default.validateGroup(i);(0,a.when)(o.complete||o).done((function(e){i.isValid=e.isValid,i.brokenRules=e.brokenRules}))}else i.brokenRules&&i.brokenRules.length||(i.isValid=!0);this.setDisableApplyValidationResults(!1)}},setValidator:function(e){this._currentCellValidator=e},renderCellPendingIndicator:function(e){var t=e.find(".".concat(V));if(!t.length){var n=e;t=(0,i.default)("<div>").appendTo(n).addClass(V),this._createComponent(t,_.default),e.addClass(B)}},disposeCellPendingIndicator:function(e){var t=e.find(".".concat(V));if(t.length){var n=_.default.getInstance(t);n&&(n.dispose(),n.$element().remove()),e.removeClass(B)}},validationStatusChanged:function(e){var t=e.validator,n=t.option("validationGroup"),i=t.option("dataGetter")().column;this.updateCellValidationResult({rowKey:n.key,columnIndex:i.index,validationResult:e})},validatorInitialized:function(e){e.component.on("validating",this.validationStatusChanged.bind(this)),e.component.on("validated",this.validationStatusChanged.bind(this))},validatorDisposing:function(e){var t=e.component,n=t.option("validationGroup"),i=t.option("dataGetter")().column,o=this.getCellValidationResult({rowKey:null==n?void 0:n.key,columnIndex:i.index});U(o)&&o.status===G&&this.cancelCellValidationResult({change:n,columnIndex:i.index})},applyValidationResult:function(e,t){var n=t.validator,i=n.option("validationGroup"),o=n.option("dataGetter")().column;if(t.brokenRules&&t.brokenRules.forEach((function(e){e.columnIndex=o.index,e.column=o})),e){var r=this.getCellValidationResult({rowKey:i.key,columnIndex:o.index}),a=U(r)&&r.disabledPendingId===t.id;if(this._disableApplyValidationResults||a)return;if(t.status===z){var l=e.find(":focus");(0,y.focused)(l)||(f.default.trigger(l,"focus"),f.default.trigger(l,p.default.down))}var s=!o.editCellTemplate&&this.getController("editorFactory").getEditorInstance(e);t.status===G?s?s.option("validationStatus",G):this.renderCellPendingIndicator(e):s?s.option("validationStatus",W):this.disposeCellPendingIndicator(e),e.toggleClass(this.addWidgetPrefix(T),t.status===z)}},_syncInternalEditingData:function(e){var t,n=this._editingController,i=n.getChangeByKey(e.key),o=n._getOldData(e.key),r=null===(t=e.row)||void 0===t?void 0:t.oldData;i&&r&&!o&&n._addInternalData({key:e.key,oldData:r})},createValidator:function(e,t){var n,o,a=this,s=this._editingController,d=e.column,u=d.showEditorAlways;if(!(0,c.isDefined)(d.command)&&d.validationRules&&Array.isArray(d.validationRules)&&d.validationRules.length){var f=s.getIndexByKey(e.key,s.getChanges())>-1;if(!f){if(!u){var p=this.getController("columns");u=((null==p?void 0:p.getVisibleColumns())||[]).some((function(e){return e.showEditorAlways}))}var g=(0,r.equalByValue)(this.option("editing.editRowKey"),e.key),m=s.isCellOrBatchEditMode()&&s.allowUpdating({row:e.row});f=g||m&&u,m&&u&&s._addInternalData({key:e.key,oldData:null!==(o=null===(n=e.row)||void 0===n?void 0:n.oldData)&&void 0!==o?o:e.data})}if(f){if(t&&!t.length)return void x.default.log("E1050");this._syncInternalEditingData(e);var _=this._getValidationData(e.key,!0),v=function(){var t=s.getChangeByKey(null==_?void 0:_.key),n=d.calculateCellValue((null==t?void 0:t.data)||{});return void 0!==n?n:e.value},C=t&&t.hasClass("dx-widget");t&&t.addClass(this.addWidgetPrefix(P));var y=new w.default(t||(0,i.default)("<div>"),{name:d.caption,validationRules:(0,l.extend)(!0,[],d.validationRules),validationGroup:_,adapter:C?null:{getValue:v,applyValidationResults:function(e){a.applyValidationResult(t,e)}},dataGetter:function(){var e=null==_?void 0:_.key,t=s.getChangeByKey(e),n=s._getOldData(e);return{data:(0,h.createObjectWithChanges)(n,null==t?void 0:t.data),column:d}},onInitialized:this.validatorInitialized.bind(this),onDisposing:this.validatorDisposing.bind(this)});if(C){var I=y.option("adapter");if(I){var b=I.bypass;I.getValue=v,I.validationRequestsCallbacks=[],I.bypass=function(){return b.call(I)||e.row.isNewRow&&!a._isValidationInProgress&&!s.isCellModified(e)}}}return y}}},setDisableApplyValidationResults:function(e){this._disableApplyValidationResults=e},getDisableApplyValidationResults:function(){return this._disableApplyValidationResults},isCurrentValidatorProcessing:function(e){var t=e.rowKey,n=e.columnIndex;return this._currentCellValidator&&(0,r.equalByValue)(this._currentCellValidator.option("validationGroup").key,t)&&this._currentCellValidator.option("dataGetter")().column.index===n},validateCell:function(e){var t={rowKey:e.option("validationGroup").key,columnIndex:e.option("dataGetter")().column.index},n=this.getCellValidationResult(t),i=U(n),o=e.option("adapter");if(i){var l=o.getValue();(0,r.equalByValue)(l,n.value)||(n=e.validate())}else n=e.validate();var s=new a.Deferred;return i&&n.status===G&&(this.updateCellValidationResult(t),o.applyValidationResults(n)),(0,a.when)(n.complete||n).done((function(e){i&&o.applyValidationResults(e),s.resolve(e)})),s.promise()},updateCellValidationResult:function(e){var t=e.rowKey,n=e.columnIndex,i=e.validationResult,o=this._getValidationData(t);if(o){var r;if(o.validationResults||(o.validationResults={}),i){if(r=(0,l.extend)({},i),o.validationResults[n]=r,i.status===G&&(this._editingController.getEditMode()===N&&(r.deferred=new a.Deferred,r.complete.always((function(){r.deferred.resolve()})),this._editingController.addDeferred(r.deferred)),this._disableApplyValidationResults))return void(r.disabledPendingId=i.id)}else r=o.validationResults[n];r&&r.disabledPendingId&&delete r.disabledPendingId}},getCellValidationResult:function(e){var t,n=e.rowKey,i=e.columnIndex,o=this._getValidationData(n,!0);return null===(t=null==o?void 0:o.validationResults)||void 0===t?void 0:t[i]},removeCellValidationResult:function(e){var t=e.change,n=e.columnIndex,i=this._getValidationData(null==t?void 0:t.key);i&&i.validationResults&&(this.cancelCellValidationResult({change:t,columnIndex:n}),delete i.validationResults[n])},cancelCellValidationResult:function(e){var t=e.change,n=e.columnIndex,i=this._getValidationData(t.key);if(t&&i.validationResults){var o=i.validationResults[n];o&&(o.deferred&&o.deferred.reject(j),i.validationResults[n]=j)}},resetRowValidationResults:function(e){e&&(e.validationResults&&delete e.validationResults,delete e.validated)},isInvalidCell:function(e){var t=e.rowKey,n=e.columnIndex,i=this.getCellValidationResult({rowKey:t,columnIndex:n});return U(i)&&i.status===z},getCellValidator:function(e){var t=e.rowKey,n=e.columnIndex,i=this._getValidationData(t),o=i&&C.default.getGroupConfig(i),r=o&&o.validators;return r&&r.filter((function(e){var t=e.option("dataGetter")().column;return!!t&&t.index===n}))[0]},setCellValidationStatus:function(e){var t=this.getCellValidationResult({rowKey:e.key,columnIndex:e.column.index});(0,c.isDefined)(t)?e.validationStatus=t!==j?t.status:j:delete e.validationStatus}})},extenders:{controllers:{editing:{_addChange:function(e){var t=this.callBase.apply(this,arguments),n=this.getController("validating");return t&&"remove"!==e.type&&n.updateValidationState(t),t},_handleChangesChange:function(e){this.callBase.apply(this,arguments);var t=this.getController("validating");e.value.forEach((function(e){void 0===t._getValidationData(e.key)&&t.updateValidationState(e)}))},_updateRowAndPageIndices:function(){var e=this,t=this,n=t.getView("rowsView").getTopVisibleItemIndex(),i=n;(0,s.each)(t.getChanges(),(function(o,r){var a=r.key,l=r.type,s=e.getController("validating")._getValidationData(a);s&&!s.isValid&&s.pageIndex!==t._pageIndex&&(s.pageIndex=t._pageIndex,s.rowIndex=l===K?n:i,i++)}))},_getValidationGroupsInForm:function(e){return{validationGroup:this.getController("validating")._getValidationData(e.key,!0)}},_validateEditFormAfterUpdate:function(e,t){t&&this._editForm&&this._editForm.validate(),this.callBase.apply(this,arguments)},_prepareEditCell:function(e){var t=this.callBase.apply(this,arguments),n=this.getController("validating");return t&&e.column.showEditorAlways&&n.updateValidationState({key:e.key}),t},processItems:function(e,t){var n=this,i=this.getChanges(),o=this.getController("data"),a=this.getController("validating"),l=(e=this.callBase(e,t)).length;return this.getEditMode()===L&&"prepend"!==t&&"append"!==t&&i.forEach((function(t){var i=t.key,d=a._getValidationData(i);d&&t.type&&d.pageIndex===n._pageIndex&&(null==t?void 0:t.pageIndex)!==n._pageIndex&&function(t,n){var i={key:t.key},a=function(e,t){var n=-1,i=e.type===K,a=e.key;return(0,s.each)(t,(function(e,t){if((0,r.equalByValue)(a,i?t.key:o.keyOf(t)))return n=e,!1})),n}(t,e);if(!(a>=0)){n.rowIndex=n.rowIndex>l?n.rowIndex%l:n.rowIndex;var d=n.rowIndex;i[k]=1,e.splice(d,0,i)}}(t,d)})),e},processDataItem:function(e){var t=e.data[k],n=t?e.data.key:e.key;if(this.getEditMode()===L&&t&&n){var i=this.getChanges(),o=b.default.getIndexByKey(n,i);if(o>=0){var r=i[o];if(r.type!==K){var a=this._getOldData(r.key);e.data=(0,l.extend)(!0,{},a,r.data),e.key=n}}}this.callBase.apply(this,arguments)},_createInvisibleColumnValidators:function(e){var t=this,n=this,i=this.getController("validating"),o=this.getController("columns"),r=o.getColumns(),a=o.getInvisibleColumns().filter((function(e){return!e.isBand})),l=o.getGroupColumns().filter((function(e){return!e.showWhenGrouped&&-1===a.indexOf(e)})),d=[];return a.push.apply(a,S(l)),H.includes(this.getEditMode())||(0,s.each)(r,(function(o,r){e.forEach((function(e){var o;if(!function(e,n){return t._dataController.getRowIndexByKey(n)>=0&&a.indexOf(e)<0}(r,e.key)){if(e.type===K)o=e.data;else if("update"===e.type){var l=n._getOldData(e.key);if(!(0,c.isDefined)(l))return;o=(0,h.createObjectWithChanges)(l,e.data)}if(o){var s=i.createValidator({column:r,key:e.key,value:r.calculateCellValue(o)});s&&d.push(s)}}}))})),function(){d.forEach((function(e){e.dispose()}))}},_beforeSaveEditData:function(e,t){var n=this,i=this.callBase.apply(this,arguments),o=this.getController("validating"),r=o._getValidationData(null==e?void 0:e.key);if(e){var l="remove"===e.type||r.isValid;i=i||!l}else{var s=this._createInvisibleColumnValidators(this.getChanges());i=new a.Deferred,this.executeOperation(i,(function(){o.validate(!0).done((function(e){switch(s(),n._updateRowAndPageIndices(),n.getEditMode()){case N:e||n._focusEditingCell();break;case L:e||(n._resetEditRowKey(),n._resetEditColumnName(),n.getController("data").updateItems())}i.resolve(!e)}))}))}return i.promise?i.promise():i},_beforeEditCell:function(e,t,n){var i=this.callBase(e,t,n);if(this.getEditMode()===N){var o=this._rowsView._getCellElement(e,t),r=o&&o.data("dxValidator"),l=o&&o.closest(".dx-row").data("options"),s=r&&r.option("adapter").getValue();if(r&&q(s,l)){var d=this.getController("validating"),u=new a.Deferred;return(0,a.when)(d.validateCell(r),i).done((function(e,t){u.resolve(e.status===W&&t)})),u.promise()}if(!r)return i}return!1},_afterSaveEditData:function(e){var t,n=this,i=this.getEditMode()===N;if((0,s.each)(this.getChanges(),(function(e,i){var o=n._showErrorRow(i);t=t||o})),t){var o=this._rowsView.getScrollable();o&&(o.update(),o.scrollToElement(t))}if(e&&i&&this._needUpdateRow()){var r=this.getEditRowIndex();this._dataController.updateItems({changeType:"update",rowIndices:[r]}),this._focusEditingCell()}else if(!e){var a=!0;if(i)a=!(this.getController("columns").getColumns().filter((function(e){var t;return e.showEditorAlways&&(null===(t=e.validationRules)||void 0===t?void 0:t.length)>0})).length>0);a&&this.getController("validating").initValidationState()}},_handleDataChanged:function(e){var t=this.getController("validating")._validationState;"standard"===this.option("scrolling.mode")&&this.resetRowAndPageIndices(),"prepend"===e.changeType&&(0,s.each)(t,(function(t,n){n.rowIndex+=e.items.length})),this.callBase(e)},resetRowAndPageIndices:function(){var e=this,t=this.getController("validating")._validationState;(0,s.each)(t,(function(t,n){n.pageIndex!==e._pageIndex&&(delete n.pageIndex,delete n.rowIndex)}))},_beforeCancelEditData:function(){this.getController("validating").initValidationState(),this.callBase()},_showErrorRow:function(e){var t,n=this.getController("errorHandling"),i=this.getController("data").items(),o=this.getIndexByKey(e.key,i),r=this.getController("validating")._getValidationData(e.key);if(!(null==r?void 0:r.isValid)&&(null==r?void 0:r.errorText)&&o>=0)return t=this.getPopupContent(),n&&n.renderErrorRow(null==r?void 0:r.errorText,o,t)},updateFieldValue:function(e){var t=this,n=this.getController("validating"),i=new a.Deferred;return n.removeCellValidationResult({change:this.getChangeByKey(e.key),columnIndex:e.column.index}),this.callBase.apply(this,arguments).done((function(){var o=n.getCellValidator({rowKey:e.key,columnIndex:e.column.index});(0,a.when)(o&&n.validateCell(o)).done((function(e){t.getController("editorFactory").refocus(),i.resolve(e)}))})),i.promise()},highlightDataCell:function(e,t){this.callBase.apply(this,arguments);var n=this.getController("validating");n.setCellValidationStatus(t);var i=!!t.setValue,o=this.isCellModified(t),r=(0,c.isDefined)(t.validationStatus);if(o&&t.column.setCellValue||i&&!o&&!(t.row.isNewRow||!r)){var l=e.data("dxValidator");l&&(0,a.when)(this.getController("validating").validateCell(l)).done((function(){n.setCellValidationStatus(t)}))}},getChangeByKey:function(e){var t=this.getChanges();return t[b.default.getIndexByKey(e,t)]},isCellModified:function(e){var t=this.callBase(e),n=this.getChangeByKey(e.key),i=!!e.row&&this.getController("validating").isInvalidCell({rowKey:e.key,columnIndex:e.column.index});return t||this.getController("validating")._rowIsValidated(n)&&i}},editorFactory:{_showRevertButton:function(e){var t,n=this,o=null===(t=this._revertTooltip)||void 0===t?void 0:t.$element();if(!e||!e.length)return null==o||o.remove(),void(this._revertTooltip=void 0);if(!e.find(o).length){var r=e.closest(".".concat(this.addWidgetPrefix(M))),a=this.addWidgetPrefix(D);null==o||o.remove(),o=(0,i.default)("<div>").addClass(a).appendTo(e);var l={animation:null,visible:!0,width:"auto",height:"auto",shading:!1,container:r,propagateOutsideClick:!0,hideOnOutsideClick:!1,wrapperAttr:{class:a},contentTemplate:function(){var e=(0,i.default)("<div>").addClass("dx-revert-button"),t={icon:"revert",hint:n.option("editing.texts.validationCancelChanges"),onClick:function(){n._editingController.cancelEditData()}};return new m.default(e,t).$element()},position:{my:"left top",at:"right top",offset:"1 0",collision:"flip",boundaryOffset:"0 0",boundary:this._rowsView.element(),of:e},onPositioned:this._positionedHandler.bind(this)};this._revertTooltip=new v.default(o,l)}},_hideFixedGroupCell:function(e,t){var n,o,r=this._rowsView.isFixedColumns(),a=this._editingController.isFormOrPopupEditMode();if(r&&!a){var l=e.closest(".dx-row").next().data("options");l&&"group"===l.rowType&&(n=(0,i.default)(this._rowsView.getRowElement(l.rowIndex)).last(),(o=n.find(".".concat("dx-group-cell"))).length&&"hidden"!==o.get(0).style.visibility&&(o.css("visibility","hidden"),t.onDisposing=function(){o.css("visibility","")}))}},_positionedHandler:function(e,t){if(!e.component.__skipPositionProcessing){var n=(0,i.default)(e.element).hasClass(this.addWidgetPrefix(D)),o=!n&&this._rowsView.updateFreeSpaceRowHeight(),r=this._normalizeValidationMessagePositionAndMaxWidth(e,n,t);e.component.__skipPositionProcessing=!(!o&&!r),r?e.component.option(r):o&&e.component.repaint()}},_showValidationMessage:function(e,t,n){var r,a=this,l=e.find(".dx-dropdowneditor-overlay").data("dxPopup"),s=l&&l.option("visible"),d=s?"top right":"top ".concat(n),c=s?"top left":"bottom ".concat(n),h=(null===(r=this._columnsController.getFixedColumns())||void 0===r?void 0:r.length)>0?this.getView("rowsView").element():e.closest(".".concat(this.addWidgetPrefix(M))),f="";t&&t.forEach((function(e){f+=(f.length?"<br/>":"")+(0,u.encodeHtml)(e)}));var p=this.addWidgetPrefix(F);this._rowsView.element().find(".".concat(p)).remove();var g=(0,i.default)("<div>").addClass(R).addClass(A).addClass(p).html(f).appendTo(e),m={container:h,shading:!1,width:"auto",height:"auto",visible:!0,animation:!1,propagateOutsideClick:!0,hideOnOutsideClick:!1,wrapperAttr:{class:"".concat(R," ").concat(A," ").concat(p)},position:{collision:"flip",boundary:this._rowsView.element(),boundaryOffset:"0 0",offset:{x:0,y:!s&&o.default.mozilla?-1:0},my:d,at:c,of:e},onPositioned:function(t){a._positionedHandler(t,s),a._shiftValidationMessageIfNeed(t.component.$content(),e)}};this._hideFixedGroupCell(e,m),new v.default(g,m)},_hideValidationMessage:function(){var e,t=null===(e=this._rowsView.element())||void 0===e?void 0:e.find(this._getValidationMessagesSelector());null==t||t.remove()},_normalizeValidationMessagePositionAndMaxWidth:function(e,t,n){var o=this._columnsController.getFixedColumns();if(o&&o.length){var r,a,l,s,u=!t&&(this,a=e.element,l=(0,i.default)(a).closest("tr").index(),s=(0,i.default)(this._rowsView.getRowElement(l)).first().children().filter(":not(.dx-hidden-cell)"),this._rowsView._getWidths(s).reduce((function(e,t){return e+t}),0)),c=e.component.$content(),h=(0,d.getOuterWidth)(c,!0),f=!t&&h>u,p=this._rowsView.getCellIndex((0,i.default)(e.element).closest("td")),g=function(e){var t,n;return e.some((function(i,o){if("transparent"===i.command)return t=0===o?-1:o,n=o===e.length-1?-1:o+i.colspan-1,!0})),{startColumnIndex:t,endColumnIndex:n}}(o);return t||p!==g.startColumnIndex&&!f?p===g.endColumnIndex&&(r={collision:"none flip",my:"top right",at:t||n?"top left":"bottom right"},t&&(r.offset="-1 0")):r={collision:"none flip",my:"top left",at:n?"top right":"bottom left"},r&&{position:r,maxWidth:f?u-2:void 0}}},_shiftValidationMessageIfNeed:function(e,t){var n=this._revertTooltip&&this._revertTooltip.$content();if(n){var i=e.offset(),o=n.offset();if(i.top===o.top&&i.left+(0,d.getWidth)(e)>o.left){var r=(0,d.getWidth)(n)+2;e.css("left",o.left<t.offset().left?-r:r)}}},_getRevertTooltipsSelector:function(){var e=this.addWidgetPrefix(D);return".dx-editor-cell .".concat(e)},_getValidationMessagesSelector:function(){var e=this.addWidgetPrefix(F);return".dx-editor-cell .".concat(e,", .dx-cell-modified .").concat(e)},init:function(){this.callBase(),this._editingController=this.getController("editing"),this._columnsController=this.getController("columns"),this._rowsView=this.getView("rowsView")},loseFocus:function(e){e||this.getController("validating").setValidator(null),this.callBase()},updateCellState:function(e,t,n){var i,o=null==e?void 0:e.closest(this._getFocusCellSelector()),r=(null==o?void 0:o.is("td"))?o:null,a=null==o?void 0:o.closest(".dx-row").data("options"),l=a?this.getController("editing").getChangeByKey(a.key):null,s=r&&this.getController("columns").getVisibleColumns()[r.index()],d=void 0!==(null===(i=null==l?void 0:l.data)||void 0===i?void 0:i[null==s?void 0:s.name])&&!this._editingController.isSaving();if(this._editingController.getEditMode()===N&&((null==t?void 0:t.status)===z||d?this._showRevertButton(o):this._revertTooltip&&this._revertTooltip.$element().remove()),t&&t.status===z&&r&&s&&t&&t.brokenRules){var u=[];t.brokenRules.forEach((function(e){e.message&&u.push(e.message)})),u.length&&this._showValidationMessage(o,u,s.alignment||"left")}!n&&this._rowsView.element()&&this._rowsView.updateFreeSpaceRowHeight()},focus:function(e,t){var n=this;if(!arguments.length)return this.callBase();if(this._hideValidationMessage(),(null==e?void 0:e.hasClass("dx-row"))||(null==e?void 0:e.hasClass("dx-master-detail-cell")))return this.callBase(e,t);var i,o=null==e?void 0:e.closest(this._getFocusCellSelector()),r=this.callBase,l=o&&(o.data("dxValidator")||e.find(".".concat(this.addWidgetPrefix(P))).eq(0).data("dxValidator")),s=o&&o.closest(".dx-row").data("options"),d=this.getController("editing"),u=s?d.getChangeByKey(s.key):null,c=this.getController("validating");if(l){c.setValidator(l);var h=l.option("adapter").getValue();if(q(h,s)||c._rowIsValidated(u))return d.waitForDeferredOperations().done((function(){(0,a.when)(c.validateCell(l)).done((function(o){var a=(i=o).validator.option("dataGetter")().column;u&&a&&!c.isCurrentValidatorProcessing({rowKey:u.key,columnIndex:a.index})||(i.status===z&&(t=!0),n.updateCellState(e,i,t),r.call(n,e,t))}))})),this.callBase(e,t)}return this.updateCellState(e,i,t),this.callBase(e,t)},getEditorInstance:function(e){var t=e.find(".dx-texteditor").eq(0);return b.default.getWidgetInstance(t)}},data:{_getValidationStatus:function(e){return(U(e)?e.status:e)||W},_isCellChanged:function(e,t,n,o,r){var a,l,s=null===(a=e.cells)||void 0===a?void 0:a[o],d=this._getValidationStatus({status:null==s?void 0:s.validationStatus}),u=this.getController("validating"),c=u.getCellValidationResult({rowKey:e.key,columnIndex:o}),h=u._getValidationData(e.key),f=this._getValidationStatus(c),p=JSON.stringify(t.modifiedValues)!==JSON.stringify(e.modifiedValues),g=d!==f&&p,m=(0,i.default)(null==s?void 0:s.cellElement).hasClass(this.addWidgetPrefix(T)),_=null===(l=null==s?void 0:s.column.validationRules)||void 0===l?void 0:l.length,v=e.isEditing!==t.isEditing&&_,C=g||h.isValid&&m;return!(!v&&!C)||this.callBase.apply(this,arguments)}}},views:{rowsView:{updateFreeSpaceRowHeight:function(e){var t,n,i,o=this.element(),r=o&&o.find(".".concat(this.addWidgetPrefix(F)," .dx-overlay-content"));if(this.callBase(e),r&&r.length&&(t=this._getRowElements(),(n=(i=this._getFreeSpaceRowElements(e)).first())&&1===t.length&&(!n.is(":visible")||(0,d.getOuterHeight)(r)>(0,d.getOuterHeight)(n))))return i.show(),(0,d.setHeight)(i,(0,d.getOuterHeight)(r)),!0},_formItemPrepared:function(e,t){var n=this;this.callBase.apply(this,arguments),(0,r.deferUpdate)((function(){var i=t.find(".dx-widget").first();i.length&&!i.children().length||n.getController("validating").createValidator(e,i)}))},_cellPrepared:function(e,t){this.getController("editing").isFormOrPopupEditMode()||this.getController("validating").createValidator(t,e),this.callBase.apply(this,arguments)},_restoreErrorRow:function(e){var t=this.getController("editing");t&&t.hasChanges()&&this._getRowElements(e).each((function(e,n){var o=(0,i.default)(n).data("options");if(o){var r=t.getChangeByKey(o.key);r&&t._showErrorRow(r)}}))}}}}};t.validatingModule=$},79397:(e,t,n)=>{function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeWidth=t.ColumnsView=void 0;var o=T(n(70175)),r=n(26391),a=n(66891),l=T(n(94965)),s=T(n(19478)),d=n(48152),u=n(74460),c=n(65102),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(96993)),f=n(37954),p=n(21620),g=n(19027),m=n(54078),_=n(49859),v=n(85349),C=n(82769),w=T(n(38608)),y=n(6540),x=T(n(54960)),I=n(785),b=T(n(64616)),E=T(n(97478)),S=T(n(37028));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function T(e){return e&&e.__esModule?e:{default:e}}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}var R="scroll-container",F="dx-row",A="dx-group-row",P="dx-master-detail-row",V="0.0001px",B="dxCellHintVisible",M={render:function(e){e.container.append(e.content)}},k=function(e){return"auto"===e?"":(0,_.isNumeric)(e)?"".concat(e,"px"):e},L=function(e,t,n){e.style.width=e.style.maxWidth="auto"===t.width?"":n},N=function(e){e.resolve()},H=function(e){return"number"==typeof e?"".concat(e.toFixed(3),"px"):"adaptiveHidden"===e?V:e};t.normalizeWidth=H;var W=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,D(t,n);var b=i.prototype;return b.setTableRole=function(e){},b._createScrollableOptions=function(){var e=this.option("scrolling"),t=this.option("scrolling.useNative"),n=(0,c.extend)({},e,{direction:"both",bounceEnabled:!1,useKeyboard:!1});return void 0===t&&(t=!0),"auto"===t?(delete n.useNative,delete n.useSimulatedScrollbar):(n.useNative=!!t,n.useSimulatedScrollbar=!t),n},b._updateCell=function(e,t){t.rowType&&this._cellPrepared(e,t)},b._createCell=function(e){var t=e.column,n=t.alignment||(0,f.getDefaultAlignment)(this.option("rtlEnabled")),i=o.default.createElement("td");i.style.textAlign=n;var r=(0,l.default)(i);return"data"===e.rowType&&t.headerId&&!t.type&&this.component.option("showColumnHeaders")&&this.setAria("describedby",t.headerId,r),t.cssClass&&r.addClass(t.cssClass),Array.isArray(t.elementAttr)&&t.elementAttr.forEach((function(e){var t=e.name,n=e.value;r.attr(t,n)})),"expand"===t.command&&(r.addClass(t.cssClass),r.addClass(this.addWidgetPrefix("group-space"))),t.colspan>1?r.attr("colSpan",t.colspan):!t.isBand&&"auto"!==t.visibleWidth&&this.option("columnAutoWidth")&&((t.width||t.minWidth)&&(i.style.minWidth=k(t.minWidth||t.width)),t.width&&L(i,t,k(t.width))),r},b._createRow=function(e,t){t=t||"tr";var n=(0,l.default)("<".concat(t,">")).addClass(F);return this.setAria("role","row",n),n},b._isAltRow=function(e){return e&&e.dataIndex%2==1},b._createTable=function(e,t){var n=this,i=(0,l.default)("<table>").addClass(this.addWidgetPrefix("table")).addClass(this.addWidgetPrefix("table-fixed"));if(e&&!t?(i.append(this._createColGroup(e)),s.default.safari&&i.append((0,l.default)("<thead>").append("<tr>")),this.setTableRole(i)):this.setAria("hidden",!0,i),this.setAria("role","presentation",(0,l.default)("<tbody>").appendTo(i)),t)return i;s.default.mozilla&&w.default.on(i,"mousedown","td",(function(e){e.ctrlKey&&e.preventDefault()})),this.option("cellHintEnabled")&&w.default.on(i,"mousemove",".dx-row > td",this.createAction((function(e){var t=e.event,i=(0,l.default)(t.target),o=(0,l.default)(t.currentTarget),r=o.parent(),a=n._columnsController.getVisibleColumns(),s=r.data("options"),d=o.index(),u=s&&s.cells&&s.cells[d],c=u?u.column:a[d],h=r.hasClass("dx-header-row"),f=r.hasClass("dx-data-row"),p=r.hasClass(P),g=r.hasClass(A),m=r.hasClass(n.addWidgetPrefix("filter-row")),v=f&&(!c||c.cellTemplate),C=f&&u&&(s.isEditing||u.isEditing||(null==c?void 0:c.showEditorAlways)),w=h&&(!c||c.headerCellTemplate),y=g&&(!c||c.groupIndex&&c.groupCellTemplate);p||m||C||v||w||y||(i.data(B)&&(i.removeAttr("title"),i.data(B,!1)),i[0].scrollWidth-i[0].clientWidth>0&&!(0,_.isDefined)(i.attr("title"))&&(i.attr("title",i.text()),i.data(B,!0)))})));var o=function(e){var t=(0,l.default)(e.currentTarget),i=(0,l.default)(e.target).closest(".".concat("dx-field-item-content")),o=t.parent(),a=o.data("options"),s=a&&a.cells&&a.cells[t.index()];if(t.closest("table").is(e.delegateTarget)){var d=(0,c.extend)({},s,{cellElement:(0,r.getPublicElement)(t),event:e,eventType:e.type});if(d.rowIndex=n.getRowIndex(o),i.length){var u=i.data("dx-form-item");u.column&&(d.column=u.column,d.columnIndex=n._columnsController.getVisibleIndex(d.column.index))}return d}};return w.default.on(i,"mouseover",".dx-row > td",(function(e){var t=o(e);t&&n.executeAction("onCellHoverChanged",t)})),w.default.on(i,"mouseout",".dx-row > td",(function(e){var t=o(e);t&&n.executeAction("onCellHoverChanged",t)})),w.default.on(i,C.name,".dx-row > td",(function(e){var t=o(e);t&&n.executeAction("onCellClick",t)})),w.default.on(i,y.name,".dx-row > td",(function(e){var t=o(e);t&&n.executeAction("onCellDblClick",t)})),function(e,t){var n,i,o;function a(e){return setTimeout((function(){n=i=null}),e)}w.default.on(t,"touchstart touchend",".dx-row",(function(e){clearTimeout(o),"touchstart"===e.type?(n=e.target,i=e.currentTarget,o=a(1e3)):o=a()})),w.default.on(t,[C.name,y.name,x.default.down].join(" "),".dx-row",e.createAction((function(t){var o=t.event;n&&(o.target=n,o.currentTarget=i),(0,l.default)(o.target).closest("a").length||(t.rowIndex=e.getRowIndex(o.currentTarget),t.rowIndex>=0&&(t.rowElement=(0,r.getPublicElement)((0,l.default)(o.currentTarget)),t.columns=e.getColumns(),o.type===x.default.down?e._rowPointerDown(t):o.type===C.name?e._rowClick(t):e._rowDblClick(t)))})))}(this,i),i},b._rowPointerDown=function(){},b._rowClick=function(){},b._rowDblClick=function(){},b._createColGroup=function(e){for(var t=(0,l.default)("<colgroup>"),n=0;n<e.length;n++)for(var i=e[n].colspan||1,o=0;o<i;o++)t.append(this._createCol(e[n]));return t},b._createCol=function(e){var t=e.visibleWidth||e.width;"adaptiveHidden"===t&&(t=V);var n=(0,l.default)("<col>");return(0,g.setWidth)(n,t),n},b.renderDelayedTemplates=function(e){var t=this._delayedTemplates,n=t.filter((function(e){return!e.async})),i=t.filter((function(e){return e.async}));this._delayedTemplates=[],this._renderDelayedTemplatesCore(n,!1,e),this._renderDelayedTemplatesCoreAsync(i)},b._renderDelayedTemplatesCoreAsync=function(e){var t=this;if(e.length){var n=(0,v.getWindow)().setTimeout((function(){t._templateTimeouts.delete(n),t._renderDelayedTemplatesCore(e,!0)}));this._templateTimeouts.add(n)}},b._renderDelayedTemplatesCore=function(e,t,n){for(var i=new Date;e.length;){var r=e.shift(),a=r.options,s=o.default.getRootNode((0,l.default)(a.container).get(0)),d=this.needWaitAsyncTemplates();if((!t||(0,l.default)(a.container).closest(s).length||d)&&(n&&(a.change=n),r.template.render(a)),t&&new Date-i>30){this._renderDelayedTemplatesCoreAsync(e);break}}!e.length&&this._delayedTemplates.length&&this.renderDelayedTemplates()},b._processTemplate=function(e,t){var n;if(e&&e.render&&!(0,_.isRenderer)(e))n={allowRenderToDetachedContainer:e.allowRenderToDetachedContainer,render:function(t){e.render(t.container,t.model,t.change),t.deferred&&t.deferred.resolve()}};else if((0,_.isFunction)(e))n={render:function(t){var n=e((0,r.getPublicElement)(t.container),t.model,t.change);n&&(n.nodeType||(0,_.isRenderer)(n))&&t.container.append(n),t.deferred&&t.deferred.resolve()}};else{var i=(0,_.isString)(e)?e:(0,l.default)(e).attr("id");i?(this._templatesCache[i]||(this._templatesCache[i]=this.getTemplate(e)),n=this._templatesCache[i]):n=this.getTemplate(e)}return n},b.renderTemplate=function(e,t,n,i,o){var r,a=this,l=this._processTemplate(t,n),s=n.column,d="data"===n.rowType,c=new u.Deferred,h={container:e,model:n,deferred:c,onRendered:function(){a.isDisposed()?c.reject():c.resolve()}};if(l){n.component=this.component;var f=s&&(s.renderAsync&&d||this.option("renderAsync")&&(!1!==s.renderAsync&&(s.command||s.showEditorAlways)&&d||"filter"===n.rowType)),p=null!==(r=n.renderAsync)&&void 0!==r?r:f;!l.allowRenderToDetachedContainer&&!i||p?this._delayedTemplates.push({template:l,options:h,async:p}):l.render(h),this._templateDeferreds.add(c),w.default.on(e,I.removeEvent,N.bind(null,c))}else c.reject();return c.promise().always((function(){a._templateDeferreds.delete(c)}))},b._getBodies=function(e){return(0,l.default)(e).children("tbody").not(".dx-header").not(".dx-footer")},b._needWrapRow=function(e){var t;return!!this.option().rowTemplate&&!!(null===(t=this._getBodies(e))||void 0===t?void 0:t.filter(".".concat(F)).length)},b._wrapRowIfNeed=function(e,t,n){var i=n?e||this._tableElement:this._tableElement||e;if(this._needWrapRow(i)){var o=(0,l.default)("<tbody>").addClass(t.attr("class"));return this.setAria("role","presentation",o),o.append(t)}return t},b._appendRow=function(e,t,n){(n=n||M).render({content:t,container:e})},b._resizeCore=function(){var e=this._scrollLeft;e>=0&&(this._scrollLeft=0,this.scrollTo({left:e}))},b._renderCore=function(e){var t=this.element().parent();t&&!t.parent().length||this.renderDelayedTemplates(e)},b._renderTable=function(e){(e=e||{}).columns=this._columnsController.getVisibleColumns();var t=e.change&&e.change.changeType,n=this._createTable(e.columns,"append"===t||"prepend"===t||"update"===t);return this._renderRows(n,e),n},b._renderRows=function(e,t){for(var n=this._getRows(t.change),i=t.change&&t.change.columnIndices||[],o=t.change&&t.change.changeTypes||[],r=0;r<n.length;r++)this._renderRow(e,(0,c.extend)({row:n[r],columnIndices:i[r],changeType:o[r]},t))},b._renderRow=function(e,t){t.columnIndices||(t.row.cells=[]);var n=this._createRow(t.row),i=this._wrapRowIfNeed(e,n);"remove"!==t.changeType&&this._renderCells(n,t),this._appendRow(e,i);var o=(0,c.extend)({columns:t.columns},t.row);this._addWatchMethod(o,t.row),this._rowPrepared(i,o,t.row)},b._needRenderCell=function(e,t){return!t||t.indexOf(e)>=0},b._renderCells=function(e,t){for(var n=0,i=t.row,o=t.columns,r=0;r<o.length;r++)this._needRenderCell(r,t.columnIndices)&&this._renderCell(e,(0,c.extend)({column:o[r],columnIndex:n,value:i.values&&i.values[n],oldValue:i.oldValues&&i.oldValues[n]},t)),o[r].colspan>1?n+=o[r].colspan:n++},b._updateCells=function(e,t,n){var i=e.children(),o=t.children(),r=this.option("highlightChanges"),a=this.addWidgetPrefix("cell-updated-animation");n.forEach((function(e,t){var n=i.eq(e),l=o.eq(t);n.replaceWith(l),r&&!l.hasClass("dx-command-expand")&&l.addClass(a)})),function(e,t){if(e&&t){var n,i=e.attributes,o=t.attributes;for(n=0;n<i.length;n++){var r=i[n].nodeName;t.hasAttribute(r)||e.removeAttribute(r)}for(n=0;n<o.length;n++)e.setAttribute(o[n].nodeName,o[n].nodeValue)}}(e.get(0),t.get(0))},b._setCellAriaAttributes=function(e,t){if("freeSpace"!==t.rowType){this.setAria("role","gridcell",e);var n=this._columnsController.getColumnIndexOffset(),i=t.columnIndex+n+1;this.setAria("colindex",i,e)}},b._renderCell=function(e,t){var n=this._getCellOptions(t);if(t.columnIndices){if(t.row.cells){var i=t.row.cells.findIndex((function(e){return e.columnIndex===n.columnIndex}));t.row.cells[i]=n}}else t.row.cells.push(n);var o=this._createCell(n);return this._setCellAriaAttributes(o,n),this._renderCellContent(o,n,t),e.get(0).appendChild(o.get(0)),o},b._renderCellContent=function(e,t,n){var i=this,o=this._getCellTemplate(t);(0,u.when)(!o||this.renderTemplate(e,o,t,void 0,n.change)).done((function(){i._updateCell(e,t)}))},b._getCellTemplate=function(e){},b._getRows=function(e){return[]},b._getCellOptions=function(e){var t={column:e.column,columnIndex:e.columnIndex,rowType:e.row.rowType,isAltRow:this._isAltRow(e.row)};return this._addWatchMethod(t),t},b._addWatchMethod=function(e,t){if(this.option("repaintChangesOnly")){var n=[];return(t=t||e).watch=t.watch||function(e,i,o){var r=e(t.data),a=function(n){n&&o&&o(n);var a=e(t.data);JSON.stringify(r)!==JSON.stringify(a)&&(n&&i(a),r=a)};return n.push(a),function(){var e=n.indexOf(a);e>=0&&n.splice(e,1)}},t.update=t.update||function(t,i){t&&(this.data=e.data=t.data,this.rowIndex=e.rowIndex=t.rowIndex,this.dataIndex=e.dataIndex=t.dataIndex,this.isExpanded=e.isExpanded=t.isExpanded,e.row&&!i&&(e.row=t)),n.forEach((function(e){e(t)}))},t!==e&&(e.watch=t.watch.bind(t)),e}},b._cellPrepared=function(e,t){t.cellElement=(0,r.getPublicElement)((0,l.default)(e)),this.executeAction("onCellPrepared",t)},b._rowPrepared=function(e,t,n){(0,a.data)(e.get(0),"options",t),t.rowElement=(0,r.getPublicElement)(e),this.executeAction("onRowPrepared",t)},b._columnOptionChanged=function(e){var t=e.optionNames;if(S.default.checkChanges(t,["width","visibleWidth"])){var n=this._columnsController.getVisibleColumns().map((function(e){return e.visibleWidth||e.width}));this.setColumnWidths({widths:n,optionNames:t})}else this._requireReady||this.render()},b.getCellIndex=function(e){return e.length?e[0].cellIndex:-1},b.getTableElements=function(){return this._tableElement||(0,l.default)()},b.getTableElement=function(e){return this._tableElement},b.setTableElement=function(e,t){this._tableElement=e},b.optionChanged=function(t){switch(e.prototype.optionChanged.call(this,t),t.name){case"cellHintEnabled":case"onCellPrepared":case"onRowPrepared":case"onCellHoverChanged":case"keyboardNavigation":this._invalidate(!0,!0),t.handled=!0}},b.init=function(){var e=this;this._scrollLeft=-1,this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._delayedTemplates=[],this._templateDeferreds=new Set,this._templatesCache={},this._templateTimeouts=new Set,this.createAction("onCellClick"),this.createAction("onRowClick"),this.createAction("onCellDblClick"),this.createAction("onRowDblClick"),this.createAction("onCellHoverChanged",{excludeValidators:["disabled","readOnly"]}),this.createAction("onCellPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this.createAction("onRowPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering",afterExecute:function(t){e._afterRowPrepared(t)}}),this._columnsController.columnsChanged.add(this._columnOptionChanged.bind(this)),this._dataController&&this._dataController.changed.add(this._handleDataChanged.bind(this))},b._afterRowPrepared=function(e){},b._handleDataChanged=function(){},b.callbackNames=function(){return["scrollChanged"]},b._updateScrollLeftPosition=function(){var e=this._scrollLeft;e>=0&&(this._scrollLeft=0,this.scrollTo({left:e}))},b.scrollTo=function(e){var t=this.element(),n=t&&t.children(".".concat(this.addWidgetPrefix(R))).not(".".concat(this.addWidgetPrefix("content-fixed")));(0,_.isDefined)(e)&&(0,_.isDefined)(e.left)&&this._scrollLeft!==e.left&&(this._scrollLeft=e.left,n&&n.scrollLeft(e.left))},b._getContent=function(e){var t;return null===(t=this._tableElement)||void 0===t?void 0:t.parent()},b._removeContent=function(e){var t=this._getContent(e);(null==t?void 0:t.length)&&t.remove()},b._wrapTableInScrollContainer=function(e,t){var n=this,i=(0,l.default)("<div>"),o=this.option("scrolling.useNative");return(!1===o||"auto"===o&&!m.nativeScrolling)&&i.addClass(this.addWidgetPrefix("scrollable-simulated")),w.default.on(i,"scroll",(function(){var e=i.scrollLeft();e!==n._scrollLeft&&n.scrollChanged.fire({left:e},n.name)})),i.addClass(this.addWidgetPrefix("content")).addClass(this.addWidgetPrefix(R)).append(e).appendTo(this.element()),this.setAria("role","presentation",i),i},b.needWaitAsyncTemplates=function(){return this.option("templatesRenderAsynchronously")&&!1===this.option("renderAsync")},b.waitAsyncTemplates=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=new u.Deferred;if(!(t||this.needWaitAsyncTemplates()))return n.resolve();return function t(){return u.when.apply(e,Array.from(e._templateDeferreds)).done((function(){e.isDisposed()?n.reject():e._templateDeferreds.size>0?t():n.resolve()})).fail(n.reject)}(),n.promise()},b._updateContent=function(e,t,n){var i=this;return this.waitAsyncTemplates().done((function(){i._removeContent(n),i.setTableElement(e,n),i._wrapTableInScrollContainer(e,n)}))},b._findContentElement=function(){},b._getWidths=function(e){if(!e)return[];var t=[];return e.toArray().forEach((function(e){var n=e.offsetWidth;if(e.getBoundingClientRect){var i=(0,f.getBoundingRect)(e);i.width>e.offsetWidth-1&&(n=i.width)}t.push(n)})),t},b.getColumnWidths=function(e){if((this.option("forceApplyBindings")||d.noop)(),e=null!=e?e:this.getTableElement())for(var t=e.children("tbody:not(.dx-header)").children(),n=0;n<t.length;n++){var i=t.eq(n),o=i.hasClass(A),r=i.hasClass(P),a=i.hasClass("dx-error-row");if("none"!==i.get(0).style.display&&!i.hasClass("dx-state-invisible")&&(!o&&!r&&!a)){var l=i.children("td");return this._getWidths(l)}}return[]},b.getVisibleColumnIndex=function(e,t){return e},b.setColumnWidths=function(e){var t=this,n=e.widths;e.optionNames;var i=this.getTableElement();if((null==i?void 0:i.length)&&n){var o=this.getColumns(),r=this.option("columnAutoWidth"),a=i.children("colgroup").children("col");a.toArray().forEach((function(e){return e.removeAttribute("style")})),o.forEach((function(e,o){if(r&&e.width&&!e.command)for(var l=k(e.visibleWidth||e.width),s=k(e.minWidth||l),d=i.children().children(".dx-row").not(".".concat(P)),u=0;u<d.length;u++){var c=d.eq(u),h=t.getVisibleColumnIndex(o,u),f=(c.hasClass(A)?c.find("td[aria-colindex='".concat(h+1,"']:not(.").concat("dx-group-cell",")")):c.find("td").eq(h)).get(0);f&&(L(f,e,l),f.style.minWidth=s)}var p=H(n[o]);(0,_.isDefined)(p)&&(0,g.setWidth)(a.eq(o),p)}))}},b.getCellElements=function(e){return this._getCellElementsCore(e)},b._getCellElementsCore=function(e){if(!(e<0))return this._getRowElements().eq(e).children()},b._getCellElement=function(e,t){var n=this.getCellElements(e),i=this._getVisibleColumnIndex(n,e,t);if((null==n?void 0:n.length)&&!(i<0)){var o=n.eq(i);return o.length>0?o:void 0}},b._getRowElement=function(e){var t=this,n=(0,l.default)(),i=t.getTableElements();if(h.each(i,(function(i,o){n=n.add(t._getRowElements((0,l.default)(o)).eq(e))})),n.length)return n},b.getCellElement=function(e,t){var n=this._getCellElement(e,t);if(n)return(0,r.getPublicElement)(n)},b.getRowElement=function(e){var t=this._getRowElement(e),n=[];if(t&&!(0,r.getPublicElement)(t).get)for(var i=0;i<t.length;i++)n.push(t[i]);else n=t;return n},b._getVisibleColumnIndex=function(e,t,n){if((0,_.isString)(n)){var i=this._columnsController.columnOption(n,"index");return this._columnsController.getVisibleIndex(i)}return n},b.getColumnElements=function(){},b.getColumns=function(e){return this._columnsController.getVisibleColumns(e)},b.getCell=function(e,t,n){var i,o=t||this._getRowElements();if(o.length>0&&e.rowIndex>=0&&("virtual"!==this.option("scrolling.mode")&&"virtual"!==this.option("scrolling.rowRenderingMode")&&(e.rowIndex=e.rowIndex<o.length?e.rowIndex:o.length-1),(null==(i=n||this.getCellElements(e.rowIndex))?void 0:i.length)>0))return i.eq(i.length>e.columnIndex?e.columnIndex:i.length-1)},b.getRowsCount=function(){var e=this.getTableElement();return e&&1===e.length?e[0].rows.length:0},b._getRowElementsCore=function(e){if(e=e||this.getTableElement()){var t=(this.option().rowTemplate||this.option("dataRowTemplate"))&&e.find("> tbody.".concat(F));return t&&t.length?t:e.find("> tbody > "+".".concat(F,", > .").concat(F))}return(0,l.default)()},b._getRowElements=function(e){return this._getRowElementsCore(e)},b.getRowIndex=function(e){return this._getRowElements().index(e)},b.getBoundingRect=function(){},b.getName=function(){},b.setScrollerSpacing=function(e){var t=this.element(),n=this.option("rtlEnabled");t&&t.css({paddingLeft:n?e:"",paddingRight:n?"":e})},b.isScrollbarVisible=function(e){var t=this.element(),n=this._tableElement;return!(!t||!n)&&(e?(0,p.getOuterWidth)(n)-(0,p.getWidth)(t)>0:(0,p.getOuterHeight)(n)-(0,p.getHeight)(t)>0)},b.isDisposed=function(){var e;return null===(e=this.component)||void 0===e?void 0:e._disposed},b.dispose=function(){var e,t;if((0,v.hasWindow)()){var n=(0,v.getWindow)();null===(e=this._templateTimeouts)||void 0===e||e.forEach((function(e){return n.clearTimeout(e)})),null===(t=this._templateTimeouts)||void 0===t||t.clear()}},i}(E.default.View.inherit(b.default));t.ColumnsView=W},21973:(e,t,n)=>{function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.gridViewModule=void 0;var o=C(n(70175)),r=C(n(94965)),a=C(n(19478)),l=n(48152),s=n(74460),d=n(96993),u=n(37954),c=n(21620),h=n(49859),f=n(85349),p=C(n(63585)),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(54839)),m=C(n(97478)),_=C(n(37028));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function C(e){return e&&e.__esModule?e:{default:e}}var w="borders",y="dx-gridbase-container",x="adaptiveHidden",I=["columnsSeparatorView","blockSeparatorView","trackerView","headerPanel","columnHeadersView","rowsView","footerView","columnChooserView","filterPanelView","pagerView","draggingHeaderView","contextMenuView","errorView","headerFilterView","filterBuilderView"],b=function(e){return(0,h.isString)(e)&&e.endsWith("%")},E=function(e,t){var n=e._rowsView.contentWidth();return n-e._getTotalWidth(t,n)},S={_initPostRenderHandlers:function(){var e=this;this._refreshSizesHandler||(this._refreshSizesHandler=function(t){var n=(new s.Deferred).resolve(null),i=null==t?void 0:t.changeType,o=null==t?void 0:t.isDelayed,r=i&&"updateSelection"!==i&&"updateFocusedRow"!==i&&"pageIndex"!==i&&!o;e._dataController.changed.remove(e._refreshSizesHandler),e._checkSize()&&(n=e._refreshSizes(t)),r&&(0,s.when)(n).done((function(){e._setAriaLabel(),e.fireContentReadyAction()}))},this._dataController.changed.add((function(){e._dataController.changed.add(e._refreshSizesHandler)})))},_refreshSizes:function(e){var t,n=this,i=(new s.Deferred).resolve(null),o=null==e?void 0:e.changeType,r=null==e?void 0:e.isDelayed,a=this._dataController.items();if(e&&"refresh"!==o&&"prepend"!==o&&"append"!==o){if("update"===o){if(0===(null===(t=e.changeTypes)||void 0===t?void 0:t.length))return i;!(a.length>1||"insert"!==e.changeTypes[0])||0===a.length&&"remove"===e.changeTypes[0]||e.needUpdateDimensions?i=this.resize():(i=new s.Deferred,this._waitAsyncTemplates().done((function(){(0,l.deferUpdate)((function(){return(0,l.deferRender)((function(){return(0,l.deferUpdate)((function(){n._setScrollerSpacing(),n._rowsView.resize(),i.resolve()}))}))}))})).fail(i.reject))}}else r||(i=this.resize());return i},fireContentReadyAction:function(){this.component._fireContentReadyAction()},_getWidgetAriaLabel:function(){return"dxDataGrid-ariaDataGrid"},_setAriaLabel:function(){var e=Math.max(0,this._dataController.totalItemsCount());this.component.setAria("label",p.default.format(this._getWidgetAriaLabel(),e,this.component.columnCount()),this.component.$element().children(".".concat(y)))},_getBestFitWidths:function(){var e,t=this._rowsView,n=this._columnHeadersView,i=t.getColumnWidths();if(!(null==i?void 0:i.length)){var o=n.getTableElement();n.setTableElement(null===(e=t.getTableElement())||void 0===e?void 0:e.children(".dx-header")),i=n.getColumnWidths(),n.setTableElement(o)}return i},_setVisibleWidths:function(e,t){var n=this._columnsController;n.beginUpdate(),(0,d.each)(e,(function(e,i){var o=n.getColumnId(i);n.columnOption(o,"visibleWidth",t[e])})),n.endUpdate()},_toggleBestFitModeForView:function(e,t,n){var i=this;if(e&&e.isVisible()){var o=this._rowsView.getTableElements(),a=e.getTableElements();(0,d.each)(o,(function(e,o){var l,s=(0,r.default)(o),d=a.eq(e);d&&d.length&&((l=n?d.children("tbody").appendTo(s):s.children(".".concat(t)).appendTo(d)).toggleClass(t,n),l.toggleClass(i.addWidgetPrefix("best-fit"),n))}))}},_toggleBestFitMode:function(e){var t=this._rowsView.getTableElement(),n=this._rowsView.getTableElements().eq(1);t&&(t.css("tableLayout",e?"auto":"fixed"),t.children("colgroup").css("display",e?"none":""),(0,d.each)(n.find("tr.dx-group-row"),(function(t,n){(0,r.default)(n).css("display",e?"none":"")})),n.toggleClass(this.addWidgetPrefix("table-fixed"),!e),this._toggleBestFitModeForView(this._columnHeadersView,"dx-header",e),this._toggleBestFitModeForView(this._footerView,"dx-footer",e),this._needStretch()&&(t.get(0).style.width=e?"auto":""))},_toggleContentMinHeight:function(e){var t=this._rowsView.getScrollable(),n=this._rowsView._findContentElement();!1===(null==t?void 0:t.option("useNative"))&&n.css({minHeight:e?_.default.getContentHeightLimit(a.default):""})},_synchronizeColumns:function(){var e,t,n,i=this,r=this._columnsController,a=r.getVisibleColumns(),s=this.option("columnAutoWidth"),c=this.option("wordWrapEnabled"),f=a.some((function(e){return!(0,h.isDefined)(e.width)})),p=this._needBestFit(),m=!1,v=!1,C=[];!p&&(0,d.each)(a,(function(e,t){if("auto"===t.width)return p=!0,!1})),(0,d.each)(a,(function(e,t){if(t.minWidth)return m=!0,!1})),this._setVisibleWidths(a,[]);var w=this.component.$element();p&&(t=o.default.getActiveElement(w.get(0)),n=_.default.getSelectionRange(t),this._toggleBestFitMode(!0),e=!0),this._toggleContentMinHeight(c),w&&w.get(0)&&this._maxWidth&&(delete this._maxWidth,w[0].style.maxWidth=""),(0,l.deferUpdate)((function(){var w;(p?(C=i._getBestFitWidths(),(0,d.each)(a,(function(e,t){var n=r.getColumnId(t);r.columnOption(n,"bestFitWidth",C[e],!0)}))):m&&(C=i._getBestFitWidths()),(0,d.each)(a,(function(e){var t=this.width;"auto"!==t&&((0,h.isDefined)(t)?C[e]=(0,h.isNumeric)(t)||function(e){return(0,h.isString)(e)&&e.endsWith("px")}(t)?parseFloat(t):t:s||(C[e]=void 0))})),e)&&(i._toggleBestFitMode(!1),e=!1,t&&t!==o.default.getActiveElement()&&((0,u.getBoundingRect)(t).bottom<0||function(e,t){g.hiddenFocus(e,!0),_.default.setSelectionRange(e,t)}(t,n)));v=i._correctColumnWidths(C,a),s&&((0,d.each)(a,(function(e,t){"groupExpand"===t.type&&(w=C[e])})),(0,d.each)(a,(function(e,t){"groupExpand"===t.type&&w&&(C[e]=w)})),i._needStretch()&&i._processStretch(C,a)),(0,l.deferRender)((function(){(p||v||f)&&i._setVisibleWidths(a,C),c&&i._toggleContentMinHeight(!1)}))}))},_needBestFit:function(){return this.option("columnAutoWidth")},_needStretch:function(){return this._columnsController.getVisibleColumns().some((function(e){return"auto"===e.width&&!e.command}))},_getAverageColumnsWidth:function(e){return E(this,e)/e.filter((function(e){return void 0===e})).length},_correctColumnWidths:function(e,t){var n,i=this,o=!1,r=!1,a=!1,l=i.component.$element(),s=i._hasWidth,d=function(){var l=n,s=t[l],d=e[l]===x,u=e[l],c=s.minWidth;if(c)if(void 0===u){var f=i._getAverageColumnsWidth(e);u=f}else if(b(u)){var p=function(e,t,n,i){return E(e,i.map((function(e,i){return i===t?n:e})))}(i,l,c,e);p<0&&(u=-1)}var g=i._getRealColumnWidth(l,e.map((function(e,t){return l===t?u:e})));c&&!d&&g<c&&(e[l]=c,a=!0,n=-1),(0,h.isDefined)(s.width)||(r=!0),b(s.width)&&(o=!0)};for(n=0;n<t.length;n++)d();if(!r&&e.length){var u=i._rowsView.element(),f=i._rowsView.contentWidth(),p=i._rowsView.getScrollbarWidth(),g=i._getTotalWidth(e,f);if(g<f){var m=_.default.getLastResizableColumnIndex(t,e);if(m>=0&&(e[m]="auto",a=!0,!1===s&&!o)){var v=i.option("showBorders")?Math.ceil((0,c.getOuterWidth)(u)-(0,c.getInnerWidth)(u)):0;i._maxWidth=g+p+v,l.css("maxWidth",i._maxWidth)}}}return a},_processStretch:function(e,t){var n=this._rowsView.contentWidth(),i=this._getTotalWidth(e,n),o={length:0};if(e.length){(0,d.each)(t,(function(t){(this.width||e[t]===x)&&(o[t]=!0,o.length++)}));var r=n-i,a=Math.floor(r/(e.length-o.length)),l=r-a*(e.length-o.length);if(r>=0)for(var s=0;s<e.length;s++)o[s]||(e[s]+=a,l>0&&(l<1?(e[s]+=l,l=0):(e[s]++,l--)))}},_getRealColumnWidth:function(e,t,n){var i=1,o=t[e];if(!b(o))return parseFloat(o);var r=t.reduce((function(e,t,n){return b(t)?e+parseFloat(t):e}),0),a=t.reduce((function(e,t){return!t||t===x||b(t)?e:e+parseFloat(t)}),0),l=(n=n||this._rowsView.contentWidth())-a,s=r*n/100;return a>0&&s+a>=n&&(i=s>l?l/s:1),parseFloat(o)*n*i/100},_getTotalWidth:function(e,t){for(var n=0,i=0;i<e.length;i++){var o=e[i];o&&o!==x&&(n+=this._getRealColumnWidth(i,e,t))}return Math.ceil(n)},_getGroupElement:function(){return this.component.$element().children().get(0)},updateSize:function(e){var t=(0,r.default)(e),n=this.addWidgetPrefix("important-margin");if(void 0===this._hasHeight&&t&&t.is(":visible")&&(0,c.getWidth)(t)){var i=t.children(".".concat(this.getWidgetContainerClass()));i.length&&i.detach(),this._hasHeight=!!(0,c.getHeight)(t);var o=(0,c.getWidth)(t);t.addClass(n),this._hasWidth=(0,c.getWidth)(t)===o,t.removeClass(n),i.length&&i.appendTo(t)}},publicMethods:function(){return["resize","updateDimensions"]},_waitAsyncTemplates:function(){var e,t,n;return(0,s.when)(null===(e=this._columnHeadersView)||void 0===e?void 0:e.waitAsyncTemplates(!0),null===(t=this._rowsView)||void 0===t?void 0:t.waitAsyncTemplates(!0),null===(n=this._footerView)||void 0===n?void 0:n.waitAsyncTemplates(!0))},resize:function(){var e=this;if(!this.component._requireResize){var t=new s.Deferred;return this._waitAsyncTemplates().done((function(){(0,s.when)(e.updateDimensions()).done(t.resolve).fail(t.reject)})).fail(t.reject),t.promise()}},updateDimensions:function(e){var t=this;if(t._initPostRenderHandlers(),t._checkSize(e)){var n=t._resizeDeferred,i=t._resizeDeferred=new s.Deferred;return(0,s.when)(n).always((function(){(0,l.deferRender)((function(){t._dataController.isLoaded()&&t._synchronizeColumns(),t._resetGroupElementHeight(),(0,l.deferUpdate)((function(){(0,l.deferRender)((function(){(0,l.deferUpdate)((function(){t._updateDimensionsCore()}))}))}))})).done(i.resolve).fail(i.reject)})),i.promise()}},_resetGroupElementHeight:function(){var e=this._getGroupElement(),t=this._rowsView.getScrollable();!e||!e.style.height||t&&t.scrollTop()||(e.style.height="")},_checkSize:function(e){var t=this.component.$element(),n=t.is(":visible"),i=this._lastWidth!==(0,c.getWidth)(t)||this._lastHeight!==(0,c.getHeight)(t)||this._devicePixelRatio!==(0,f.getWindow)().devicePixelRatio;return n&&(!e||i)},_setScrollerSpacingCore:function(){var e=this,t=e._rowsView.getScrollbarWidth(),n=e._rowsView.getScrollbarWidth(!0);(0,l.deferRender)((function(){e._columnHeadersView&&e._columnHeadersView.setScrollerSpacing(t),e._footerView&&e._footerView.setScrollerSpacing(t),e._rowsView.setScrollerSpacing(t,n)}))},_setScrollerSpacing:function(){var e=this,t=this._rowsView.getScrollable(),n=!0===this.option("scrolling.useNative");!t||n?(0,l.deferRender)((function(){(0,l.deferUpdate)((function(){e._setScrollerSpacingCore()}))})):this._setScrollerSpacingCore()},_updateDimensionsCore:function(){var e=this,t=e._dataController,n=e.getController("editorFactory"),i=e._rowsView,o=e.component.$element(),a=this._getGroupElement(),s=(0,c.getHeight)(o),u=e.option("height")||o.get(0).style.height,h=!!u&&"auto"!==u,f=parseInt(o.css("maxHeight")),p=f&&s>=f,g=a&&a.scrollHeight===a.offsetHeight;e.updateSize(o),(0,l.deferRender)((function(){var s=e._hasHeight||!!f||h;i.hasHeight(s),p&&!g&&(0,r.default)(a).css("height",f),t.isLoaded()?(0,l.deferUpdate)((function(){e._updateLastSizes(o),e._setScrollerSpacing(),(0,d.each)(I,(function(t,n){var i=e.getView(n);i&&i.resize()})),n&&n.resize()})):i.setLoading(t.isLoading())}))},_updateLastSizes:function(e){this._lastWidth=(0,c.getWidth)(e),this._lastHeight=(0,c.getHeight)(e),this._devicePixelRatio=(0,f.getWindow)().devicePixelRatio},optionChanged:function(e){switch(e.name){case"width":case"height":this.component._renderDimensions(),this.resize();case"renderAsync":return void(e.handled=!0);default:this.callBase(e)}},init:function(){this._dataController=this.getController("data"),this._columnsController=this.getController("columns"),this._columnHeadersView=this.getView("columnHeadersView"),this._footerView=this.getView("footerView"),this._rowsView=this.getView("rowsView")}},O={defaultOptions:function(){return{showBorders:!1,renderAsync:!1}},controllers:{resizing:m.default.ViewController.inherit(S),synchronizeScrolling:m.default.ViewController.inherit({_scrollChangedHandler:function(e,t,n){for(var i=0;i<e.length;i++)e[i]&&e[i].name!==n&&e[i].scrollTo({left:t.left,top:t.top})},init:function(){for(var e=[this.getView("columnHeadersView"),this.getView("footerView"),this.getView("rowsView")],t=0;t<e.length;t++){var n=e[t];n&&n.scrollChanged.add(this._scrollChangedHandler.bind(this,e))}}})},views:{gridView:m.default.View.inherit({_endUpdateCore:function(){this.component._requireResize&&(this.component._requireResize=!1,this._resizingController.resize())},init:function(){this._resizingController=this.getController("resizing"),this._dataController=this.getController("data")},getView:function(e){return this.component._views[e]},element:function(){return this._groupElement},optionChanged:function(e){(0,h.isDefined)(this._groupElement)&&"showBorders"===e.name?(this._groupElement.toggleClass(this.addWidgetPrefix(w),!!e.value),e.handled=!0):this.callBase(e)},_renderViews:function(e){var t=this;(0,d.each)(I,(function(n,i){var o=t.getView(i);o&&o.render(e)}))},_getTableRoleName:function(){return"group"},render:function(e){var t=!this._groupElement,n=this._groupElement||(0,r.default)("<div>").addClass(this.getWidgetContainerClass());n.addClass(y),n.toggleClass(this.addWidgetPrefix(w),!!this.option("showBorders")),this.setAria("role","presentation",e),this.component.setAria("role",this._getTableRoleName(),n),this._rootElement=e||this._rootElement,t&&(this._groupElement=n,(0,f.hasWindow)()&&this.getController("resizing").updateSize(e),n.appendTo(e)),this._renderViews(n)},update:function(){var e=this._rootElement,t=this._groupElement,n=this.getController("resizing");e&&t&&(n.resize(),this._dataController.isLoaded()&&this._resizingController.fireContentReadyAction())}})},VIEW_NAMES:I};t.gridViewModule=O},71427:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.rowsModule=void 0;var i=y(n(94965)),o=y(n(19478)),r=n(48152),a=n(14928),l=n(65102),s=n(96993),d=n(37954),u=n(21620),c=n(31662),h=n(19027),f=n(49859),p=n(85349),g=y(n(38608)),m=n(785),_=y(n(63585)),v=y(n(93334)),C=y(n(37028)),w=n(79397);function y(e){return e&&e.__esModule?e:{default:e}}function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},x.apply(this,arguments)}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}var b="dx-group-row",E="dx-group-cell",S="dx-freespace-row",O="dx-column-lines",T="dx-row-alt",D="dx-last-row-border";function R(e){return e?Math.round(e.scrollWidth()-e.clientWidth()):0}function F(e){var t=e.rowType,n=e.column;return"group"===t&&(0,f.isDefined)(n.groupIndex)&&!n.showWhenGrouped&&!n.command}var A=function(e,t){var n=(0,c.isEmpty)(t.text)&&"data"===t.rowType,i=t.text,o=e.get(0);n?C.default.setEmptyText(e):t.column.encodeHtml?o.textContent=i:o.innerHTML=i},P={defaultOptions:function(){return{hoverStateEnabled:!1,scrolling:{useNative:"auto"},loadPanel:{enabled:"auto",text:_.default.format("Loading"),width:200,height:90,showIndicator:!0,indicatorSrc:"",showPane:!0},dataRowTemplate:null,columnAutoWidth:!1,noDataText:_.default.format("dxDataGrid-noDataText"),wordWrapEnabled:!1,showColumnLines:!0,showRowLines:!1,rowAlternationEnabled:!1,activeStateEnabled:!1,twoWayBindingEnabled:!0}},views:{rowsView:function(e){var t,n;function c(){return e.apply(this,arguments)||this}n=e,(t=c).prototype=Object.create(n.prototype),t.prototype.constructor=t,I(t,n);var _=c.prototype;return _._getDefaultTemplate=function(e){return"empty"===e.command?function(e){e.html("&nbsp;")}:A},_._getDefaultGroupTemplate=function(e){var t=this.option("summary.texts");return function(n,i){var o=i.data,r="".concat(i.column.caption,": ").concat(i.text),a=n.get(0);i.summaryItems&&i.summaryItems.length&&(r+=" ".concat(C.default.getGroupRowSummaryText(i.summaryItems,t))),o&&(i.groupContinuedMessage&&i.groupContinuesMessage?r+=" (".concat(i.groupContinuedMessage,". ").concat(i.groupContinuesMessage,")"):i.groupContinuesMessage?r+=" (".concat(i.groupContinuesMessage,")"):i.groupContinuedMessage&&(r+=" (".concat(i.groupContinuedMessage,")"))),e.encodeHtml?a.textContent=r:a.innerHTML=r}},_._update=function(e){},_._updateCell=function(t,n){F(n)&&t.addClass(E),e.prototype._updateCell.apply(this,arguments)},_._getCellTemplate=function(e){var t=e.column;return F(e)?t.groupCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultGroupTemplate(t)}:("data"===e.rowType||t.command)&&t.cellTemplate?t.cellTemplate:{allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(t)}},_._createRow=function(t,n){var i=e.prototype._createRow.apply(this,arguments);if(t){var o="group"===t.rowType,r="data"===t.rowType;if(r&&i.addClass("dx-data-row"),r&&this.option("showRowLines")&&i.addClass("dx-row-lines"),this.option("showColumnLines")&&i.addClass(O),!1===t.visible&&i.hide(),o){i.addClass(b);var a=t.isExpanded;this.setAria("role","row",i),this.setAria("expanded",(0,f.isDefined)(a)&&a.toString(),i)}}return i},_._rowPrepared=function(t,n,i){var o=this;"data"===n.rowType&&(this.option("rowAlternationEnabled")&&(this._isAltRow(i)&&t.addClass(T),n.watch&&n.watch((function(){return o._isAltRow(i)}),(function(e){t.toggleClass(T,e)}))),this._setAriaRowIndex(n,t),n.watch&&n.watch((function(){return n.rowIndex}),(function(){return o._setAriaRowIndex(n,t)}))),e.prototype._rowPrepared.apply(this,arguments)},_._setAriaRowIndex=function(e,t){var n=this.component,i="standard"===n.option("scrolling.mode")&&!C.default.isVirtualRowRendering(n),o=e.rowIndex+1;i?o=n.pageIndex()*n.pageSize()+o:o+=this._dataController.getRowIndexOffset(),this.setAria("rowindex",o,t)},_._afterRowPrepared=function(e){var t=this,n=e.args[0],i=this._dataController,o=i.getVisibleRows()[n.rowIndex],r=this.option("integrationOptions.watchMethod");if(n.data&&"data"===n.rowType&&!n.isNewRow&&this.option("twoWayBindingEnabled")&&r&&o){var a=r((function(){return i.generateDataValues(n.data,n.columns)}),(function(){i.repaintRows([o.rowIndex],t.option("repaintChangesOnly"))}),{deep:!0,skipImmediate:!0});g.default.on(n.rowElement,m.removeEvent,a)}},_._renderScrollable=function(e){var t=this.element();if(t.children().length||t.append("<div>"),!e&&this._loadPanel||this._renderLoadPanel(t,t.parent(),this._dataController.isLocalStore()),(e||!this.getScrollable())&&this._dataController.isLoaded()){for(var n=this.getColumns(),i=!0,o=0;o<n.length;o++)if(!n[o].width&&!n[o].minWidth){i=!1;break}(this.option("columnAutoWidth")||this._hasHeight||i||this._columnsController._isColumnFixing())&&this._renderScrollableCore(t)}},_._handleScroll=function(e){var t=this.option("rtlEnabled"),n=e.component.option("useNative");this._scrollTop=e.scrollOffset.top,this._scrollLeft=e.scrollOffset.left;var i=e.scrollOffset.left;t&&(this._scrollRight=R(e.component)-this._scrollLeft,n&&(i=-this._scrollRight),this.isScrollbarVisible(!0)||(this._scrollLeft=-1)),this.scrollChanged.fire(x(x({},e.scrollOffset),{left:i}),this.name)},_._renderScrollableCore=function(e){var t=this._createScrollableOptions(),n=this._handleScroll.bind(this);t.onScroll=n,this._scrollable=this._createComponent(e,v.default,t),this._scrollableContainer=this._scrollable&&(0,i.default)(this._scrollable.container())},_._renderLoadPanel=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return C.default.renderLoadPanel.apply(this,arguments)},_._renderContent=function(e,t,n){return e.empty().append(t),this._findContentElement()},_._updateContent=function(e,t,n){var i=this;return this._contentChanges.push({newTableElement:e,change:t,isFixedTableRendering:n}),this.waitAsyncTemplates().done((function(){var e=i._contentChanges;i._contentChanges=[],e.forEach((function(e){var t=e.newTableElement,n=e.change,o=e.isFixedTableRendering,r=i.getTableElement(o),a=i._findContentElement(o),l=null==n?void 0:n.changeType,d=[],u=i.option("highlightChanges"),c=i.addWidgetPrefix("row-inserted-animation");if("update"===l)(0,s.each)(n.rowIndices,(function(e,o){var a,l=i._getRowElements(t).eq(e),s=null===(a=n.changeTypes)||void 0===a?void 0:a[e],h=n.items&&n.items[e];d.push((function(){var t,a=i._getRowElements(r),d=a.eq(o);switch(s){case"update":if(h){var p=null===(t=n.columnIndices)||void 0===t?void 0:t[e];(0,f.isDefined)(h.visible)&&h.visible!==d.is(":visible")?d.toggle(h.visible):p?i._updateCells(d,l,p):d.replaceWith(l)}break;case"insert":if(a.length)d.length?l.insertBefore(d):l.insertAfter(a.last());else if(r){var g=l.is("tbody")?r:r.children("tbody");l.prependTo(g)}u&&n.isLiveUpdate&&l.addClass(c);break;case"remove":d.remove()}}))})),(0,s.each)(d,(function(){this()})),t.remove();else i.setTableElement(t,o),a.addClass(i.addWidgetPrefix("content")),i._renderContent(a,t,o)}))})).fail((function(){i._contentChanges=[]}))},_._createEmptyRow=function(e,t,n){var i,o=this._createRow(),r=t?this.getFixedColumns():this.getColumns();o.addClass(e).toggleClass(O,this.option("showColumnLines"));for(var a=0;a<r.length;a++)i=this._createCell({column:r[a],rowType:"freeSpace",columnIndex:a,columns:r}),(0,f.isNumeric)(n)&&i.css("height",n),o.append(i);return this.setAria("role","presentation",o),o},_.getFixedColumns=function(){throw new Error("Method not implemented.")},_._appendEmptyRow=function(e,t,n){var i=this._getBodies(e),o=!i.length||t.is("tbody"),r=o?e:i;if("top"===n){if(r.first().prepend(t),o){var a=r.children("colgroup");r.prepend(a)}}else r.last().append(t)},_._renderFreeSpaceRow=function(e,t){var n=this._createEmptyRow(S);n=this._wrapRowIfNeed(e,n,"refresh"===(null==t?void 0:t.changeType)),this._appendEmptyRow(e,n)},_._checkRowKeys=function(e){var t=this,n=t._getRows(e),i=t._dataController.store()&&t._dataController.store().key();i&&n.some((function(e){if("data"===e.rowType&&void 0===e.key)return t._dataController.fireError("E1046",i),!0}))},_._needUpdateRowHeight=function(e){return e>0&&!this._rowHeight},_._getRowsHeight=function(e){return(e=e||this._tableElement).children("tbody").children().not(".dx-virtual-row").not(".".concat(S)).toArray().reduce((function(e,t){return e+(0,d.getBoundingRect)(t).height}),0)},_._updateRowHeight=function(){var e=this.getTableElement(),t=this._dataController.items().length;if(e&&this._needUpdateRowHeight(t)){var n=this._getRowsHeight(e);this._rowHeight=n/t}},_._findContentElement=function(e){var t=this.element(),n=this.getScrollable();if(t)return n&&(t=(0,i.default)(n.content())),t.children().first()},_._getRowElements=function(t){var n=e.prototype._getRowElements.call(this,t);return n&&n.not(".".concat(S))},_._getFreeSpaceRowElements=function(e){var t=e||this.getTableElements();return t&&t.children("tbody").children(".".concat(S))},_._getNoDataText=function(){return this.option("noDataText")},_._rowClick=function(e){var t=this._dataController.items()[e.rowIndex]||{};this.executeAction("onRowClick",(0,l.extend)({evaluate:function(e){return(0,a.compileGetter)(e)(t.data)}},e,t))},_._rowDblClick=function(e){var t=this._dataController.items()[e.rowIndex]||{};this.executeAction("onRowDblClick",(0,l.extend)({},e,t))},_._getColumnsCountBeforeGroups=function(e){for(var t=0;t<e.length;t++)if("groupExpand"===e[t].type)return t;return 0},_._getGroupCellOptions=function(e){var t=this._getColumnsCountBeforeGroups(e.columns),n=(e.row.groupIndex||0)+t;return{columnIndex:n,colspan:e.columns.length-n-1}},_._needWrapRow=function(){return e.prototype._needWrapRow.apply(this,arguments)||!!this.option("dataRowTemplate")},_._renderCells=function(t,n){"group"===n.row.rowType?this._renderGroupedCells(t,n):n.row.values&&e.prototype._renderCells.call(this,t,n)},_._renderGroupedCells=function(e,t){for(var n,i,o=t.row,r=t.columns,a=o.rowIndex,s=this._getGroupCellOptions(t),u=0;u<=s.columnIndex;u++)u===s.columnIndex&&r[u].allowCollapsing&&"infinite"!==t.scrollingMode?(i=!!o.isExpanded,n=r[u]):(i=null,n={command:"expand",cssClass:r[u].cssClass}),this._needRenderCell(u,t.columnIndices)&&this._renderCell(e,{value:i,row:o,rowIndex:a,column:n,columnIndex:u,columnIndices:t.columnIndices,change:t.change});var c=(0,d.getDefaultAlignment)(this.option("rtlEnabled")),h=(0,l.extend)({},r[s.columnIndex],{command:null,type:null,cssClass:null,width:null,showWhenGrouped:!1,alignment:c});s.colspan>1&&(h.colspan=s.colspan),this._needRenderCell(s.columnIndex+1,t.columnIndices)&&this._renderCell(e,{value:o.values[o.groupIndex],row:o,rowIndex:a,column:h,columnIndex:s.columnIndex+1,columnIndices:t.columnIndices,change:t.change})},_._renderRows=function(t,n){var i=this.option("scrolling.mode");e.prototype._renderRows.call(this,t,(0,l.extend)({scrollingMode:i},n)),this._checkRowKeys(n.change),this._renderFreeSpaceRow(t,n.change),this._hasHeight||this.updateFreeSpaceRowHeight(t)},_._renderDataRowByTemplate=function(e,t,n){var i=t.row,o=(0,l.extend)({columns:t.columns},i),r=this._createRow(i,"tbody");r.appendTo(e),this.renderTemplate(r,n,o,!0,t.change),this._rowPrepared(r,o,t.row)},_._renderRow=function(t,n){var i=n.row,o=this.option().rowTemplate,r=this.option("dataRowTemplate");"data"===i.rowType&&r?this._renderDataRowByTemplate(t,n,r):"data"!==i.rowType&&"group"!==i.rowType||(0,f.isDefined)(i.groupIndex)||!o?e.prototype._renderRow.call(this,t,n):this.renderTemplate(t,o,(0,l.extend)({columns:n.columns},i),!0)},_._renderTable=function(t){var n=this,i=e.prototype._renderTable.call(this,t);return(0,f.isDefined)(n.getTableElement())?n._renderScrollable():(n.setTableElement(i),n._renderScrollable(!0),n.resizeCompleted.add((function e(){var t=n.getScrollable();t&&n.element().closest((0,p.getWindow)().document).length&&(n.resizeCompleted.remove(e),t._visibilityChanged(!0))}))),i},_._createTable=function(){var t=e.prototype._createTable.apply(this,arguments);return(this.option().rowTemplate||this.option().dataRowTemplate)&&t.appendTo(this.component.$element()),t},_._renderCore=function(t){var n=this.element();n.addClass(this.addWidgetPrefix("rowsview")).toggleClass(this.addWidgetPrefix("nowrap"),!this.option("wordWrapEnabled")),n.toggleClass("dx-empty",this._dataController.isEmpty()),this.setAria("role","presentation",n);var i=this._renderTable({change:t}),o=this._updateContent(i,t);return e.prototype._renderCore.call(this,t),this._lastColumnWidths=null,o},_._getRows=function(e){return e&&e.items||this._dataController.items()},_._getCellOptions=function(t){var n=t.column,i=t.row,o=i.data,r=i&&i.summaryCells,a=t.value,l=C.default.getDisplayValue(n,a,o,i.rowType),s=e.prototype._getCellOptions.call(this,t);if(s.value=a,s.oldValue=t.oldValue,s.displayValue=l,s.row=i,s.key=i.key,s.data=o,s.rowType=i.rowType,s.values=i.values,s.text=n.command?"":C.default.formatValue(l,n),s.rowIndex=i.rowIndex,s.summaryItems=r&&r[t.columnIndex],s.resized=n.resizedCallbacks,(0,f.isDefined)(n.groupIndex)&&!n.command){var d=this.option("grouping.texts"),u=this.option("scrolling.mode");"virtual"!==u&&"infinite"!==u&&(s.groupContinuesMessage=o&&o.isContinuationOnNextPage&&d&&d.groupContinuesMessage,s.groupContinuedMessage=o&&o.isContinuation&&d&&d.groupContinuedMessage)}return s},_._setRowsOpacityCore=function(e,t,n,o){var r=this._columnsController,a=r.getColumns(),l=a&&a[n],d=l&&l.isBand&&l.index;(0,s.each)(e,(function(a,l){if(!(0,i.default)(l).hasClass(b))for(var s=0;s<t.length&&(!((0,f.isNumeric)(d)&&r.isParentBandColumn(t[s].index,d)||t[s].index===n)||(e.eq(a).children().eq(s).css({opacity:o}),(0,f.isNumeric)(d)));s++);}))},_._getDevicePixelRatio=function(){return(0,p.getWindow)().devicePixelRatio},_.renderNoDataText=function(){return C.default.renderNoDataText.apply(this,arguments)},_.getCellOptions=function(e,t){var n,i,o=this._dataController.items()[e];return o&&(i=(0,f.isString)(t)?this._columnsController.columnOption(t):this._columnsController.getVisibleColumns()[t])&&(n=this._getCellOptions({value:i.calculateCellValue(o.data),rowIndex:o.rowIndex,row:o,column:i})),n},_.getRow=function(e){if(e>=0){var t=this._getRowElements();if(t.length>e)return(0,i.default)(t[e])}},_.updateFreeSpaceRowHeight=function(e){var t=this,n=this._dataController,i=n.items(!0).length,o=this._findContentElement(),a=this._getFreeSpaceRowElements(e);if(a&&o&&n.totalCount()>=0){var l=!1;if(i>0)if(this._hasHeight)a.hide(),(0,r.deferUpdate)((function(){var n=t.getScrollbarWidth(!0),i=(0,u.getHeight)(t.element())-n,s=i-(0,u.getOuterHeight)(o)>0,d=t._getRowsHeight(o.children().first()),c=e||t.getTableElements(),h=i-d-Math.ceil(parseFloat(c.css("borderTopWidth")))-t._getHeightCorrection();s&&(0,r.deferRender)((function(){a.css("height",h),l=!0,a.show()})),(0,r.deferRender)((function(){return t._updateLastRowBorder(l)}))}));else{var s=n.pageSize()-i,d=this.option("scrolling.mode");s>0&&n.pageCount()>1&&"virtual"!==d&&"infinite"!==d&&((0,h.setHeight)(a,s*this._rowHeight),l=!0),!l&&e?(0,h.setHeight)(a,0):a.toggle(l),this._updateLastRowBorder(l)}else a.css("height",0),a.show(),this._updateLastRowBorder(!0)}},_._getHeightCorrection=function(){var e=o.default.webkit&&this._getDevicePixelRatio()>=2,t=o.default.chrome&&o.default.version>=91,n=o.default.mozilla&&o.default.version>=70&&!this.option("showRowLines");return e||n||t?1:0},_._columnOptionChanged=function(t){var n=t.optionNames;t.changeTypes.grouping||(n.width||n.visibleWidth)&&(e.prototype._columnOptionChanged.call(this,t),this._fireColumnResizedCallbacks())},_.getScrollable=function(){return this._scrollable},_.init=function(){var t=this,n=this,i=n.getController("data");e.prototype.init.call(this),n._editorFactoryController=n.getController("editorFactory"),n._rowHeight=0,n._scrollTop=0,n._scrollLeft=-1,n._scrollRight=0,n._hasHeight=!1,n._contentChanges=[],i.loadingChanged.add((function(e,t){n.setLoading(e,t)})),i.dataSourceChanged.add((function(){t._scrollLeft>=0&&!t._dataController.isLoading()&&t._handleScroll({component:t.getScrollable(),forceUpdateScrollPosition:!0,scrollOffset:{top:t._scrollTop,left:t._scrollLeft}})}))},_._handleDataChanged=function(e){switch(e.changeType){case"refresh":case"prepend":case"append":case"update":this.render(null,e);break;default:this._update(e)}},_.publicMethods=function(){return["isScrollbarVisible","getTopVisibleRowData","getScrollbarWidth","getCellElement","getRowElement","getScrollable"]},_.contentWidth=function(){return(0,u.getWidth)(this.element())-this.getScrollbarWidth()},_.getScrollbarWidth=function(e){var t,n=this._scrollableContainer&&this._scrollableContainer.get(0),o=0;return n&&(e?(o=n.clientHeight?n.offsetHeight-n.clientHeight:0,o+=(t=this.getScrollable())?Math.ceil(parseFloat((0,i.default)(t.content()).css("paddingBottom"))):0):o=n.clientWidth?n.offsetWidth-n.clientWidth:0),o>0?o:0},_._fireColumnResizedCallbacks=function(){for(var e=this._lastColumnWidths||[],t=[],n=this.getColumns(),i=0;i<n.length;i++)t[i]=n[i].visibleWidth,n[i].resizedCallbacks&&!(0,f.isDefined)(n[i].groupIndex)&&e[i]!==t[i]&&n[i].resizedCallbacks.fire(t[i]);this._lastColumnWidths=t},_._updateLastRowBorder=function(e){this.option("showBorders")&&this.option("showRowLines")&&!e?this.element().addClass(D):this.element().removeClass(D)},_._updateScrollable=function(){var e=v.default.getInstance(this.element());e&&(e.update(),!e.option("useNative")&&(null==e?void 0:e.isRenovated())||this._updateHorizontalScrollPosition())},_._updateHorizontalScrollPosition=function(){var e=this.getScrollable(),t=e&&e.scrollOffset().left;if(this.option("rtlEnabled")){var n=R(e);n-t!==this._scrollRight&&(this._scrollLeft=n-this._scrollRight)}this._scrollLeft>=0&&t!==this._scrollLeft&&e.scrollTo({x:this._scrollLeft})},_._resizeCore=function(){var e=this;e._fireColumnResizedCallbacks(),e._updateRowHeight(),(0,r.deferRender)((function(){e._renderScrollable(),e.renderNoDataText(),e.updateFreeSpaceRowHeight(),(0,r.deferUpdate)((function(){e._updateScrollable()}))}))},_.scrollTo=function(e){var t=this.element(),n=t&&v.default.getInstance(t);n&&n.scrollTo(e)},_.height=function(e){var t=this.element();if(0===arguments.length)return t?(0,u.getOuterHeight)(t,!0):0;(0,f.isDefined)(e)&&t&&(this.hasHeight("auto"!==e),(0,h.setHeight)(t,e))},_.hasHeight=function(e){if(0===arguments.length)return!!this._hasHeight;this._hasHeight=e},_.setLoading=function(e,t){var n=this._loadPanel,i=this._dataController,o=this.option("loadPanel")||{},r=i.isLoaded()?o.animation:null,a=this.element();if((0,p.hasWindow)()&&(!n&&void 0!==t&&i.isLocalStore()&&"auto"===o.enabled&&a&&(this._renderLoadPanel(a,a.parent()),n=this._loadPanel),n)){var l={message:t||o.text,animation:r,visible:e};e&&(l.position=C.default.calculateLoadPanelPosition(a)),clearTimeout(this._hideLoadingTimeoutID),n.option("visible")&&!e?this._hideLoadingTimeoutID=setTimeout((function(){n.option(l)}),200):n.option(l)}},_.setRowsOpacity=function(e,t){var n=this._getRowElements().not(".".concat(b))||[];this._setRowsOpacityCore(n,this.getColumns(),e,t)},_._getCellElementsCore=function(t){var n=e.prototype._getCellElementsCore.apply(this,arguments);if(n){var i=n.filter(".".concat(E)).index();if(i>=0&&n.length>i+1)return n.slice(0,i+1)}return n},_._getBoundaryVisibleItemIndex=function(e,t){var n=0,o=0,r=0,a=this._scrollTop,l=this._findContentElement(),s=l&&l.offset().top,d=this.getController("data").items(),c=this.getTableElement();if(d.length&&c){var h=this._getRowElements(c).filter(":visible");if(!e)a+=(0,u.getOuterHeight)(this._hasHeight?this.element():(0,p.getWindow)());for(n=0;n<d.length;n++){o=r;var f=(0,i.default)(h).eq(n);if(f.length&&(r=f.offset(),(r=(e?r.top:r.top+(0,u.getOuterHeight)(f))-s)>a)){n&&(t||2*a<Math.round(r+o))&&n--;break}}n&&n===d.length&&n--}return n},_.getTopVisibleItemIndex=function(e){return this._getBoundaryVisibleItemIndex(!0,e)},_.getBottomVisibleItemIndex=function(e){return this._getBoundaryVisibleItemIndex(!1,e)},_.getTopVisibleRowData=function(){var e=this.getTopVisibleItemIndex(),t=this._dataController.items();if(t[e])return t[e].data},_._scrollToElement=function(e,t){var n=this.getScrollable();n&&n.scrollToElement(e,t)},_.optionChanged=function(t){switch(e.prototype.optionChanged.call(this,t),t.name){case"wordWrapEnabled":case"showColumnLines":case"showRowLines":case"rowAlternationEnabled":case"rowTemplate":case"dataRowTemplate":case"twoWayBindingEnabled":this._invalidate(!0,!0),t.handled=!0;break;case"scrolling":this._rowHeight=null,this._tableElement=null,t.handled=!0;break;case"rtlEnabled":this._rowHeight=null,this._tableElement=null;break;case"loadPanel":this._tableElement=null,this._invalidate(!0,"loadPanel.enabled"!==t.fullName),t.handled=!0;break;case"noDataText":this.renderNoDataText(),t.handled=!0}},_.dispose=function(){e.prototype.dispose.call(this),clearTimeout(this._hideLoadingTimeoutID),this._scrollable&&this._scrollable.dispose()},_.setScrollerSpacing=function(){},_._restoreErrorRow=function(){},c}(w.ColumnsView)}};t.rowsModule=P},20284:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.virtualColumnsModule=void 0;var i,o=n(21620),r=n(49859),a=n(85349),l=n(23537),s={defaultOptions:function(){return{scrolling:{columnRenderingMode:"standard",columnPageSize:5,columnRenderingThreshold:300}}},extenders:{controllers:{columns:(i=function(e){return e.map((function(e){return e.visibleWidth||parseFloat(e.width)||50}))},{init:function(){var e=this;e.callBase.apply(this,arguments),e._beginPageIndex=null,e._endPageIndex=null,e._position=0,e._virtualVisibleColumns={}},resetColumnsCache:function(){this.callBase(),this._virtualVisibleColumns={}},getBeginPageIndex:function(e){for(var t=this.getVisibleColumns(void 0,!0),n=i(t),o=0,r=0;r<n.length;r++){if(o>=e)return Math.floor(r/this.getColumnPageSize());o+=n[r]}return 0},getTotalWidth:function(){var e=this.option("width");return"number"==typeof e?e:this.getController("resizing")._lastWidth||(0,o.getOuterWidth)(this.component.$element())},getEndPageIndex:function(e){var t=this.getVisibleColumns(void 0,!0),n=i(t),o=0;e+=this.getTotalWidth();for(var r=0;r<n.length;r++){if(o>=e)return Math.ceil(r/this.getColumnPageSize());o+=n[r]}return Math.ceil(n.length/this.getColumnPageSize())},getColumnPageSize:function(){return this.option("scrolling.columnPageSize")},_fireColumnsChanged:function(){var e=new Date;this.columnsChanged.fire({optionNames:{all:!0,length:1},changeTypes:{columns:!0,virtualColumnsScrolling:!0,length:2}}),this._renderTime=new Date-e},getScrollingTimeout:function(){var e=this.option("scrolling.columnRenderingThreshold"),t=this.option("scrolling.renderAsync"),n=0;return(!(0,r.isDefined)(t)&&this._renderTime>e||t)&&(n=this.option("scrolling.timeout")),n},setScrollPosition:function(e){var t=this,n=this.getScrollingTimeout();n>0?(clearTimeout(this._changedTimeout),this._changedTimeout=setTimeout((function(){t._setScrollPositionCore(e)}),n)):this._setScrollPositionCore(e)},isVirtualMode:function(){return(0,a.hasWindow)()&&"virtual"===this.option("scrolling.columnRenderingMode")},resize:function(){this._setScrollPositionCore(this._position)},_setScrollPositionCore:function(e){if(this.isVirtualMode()){var t=this.getBeginPageIndex(e),n=this.getEndPageIndex(e),i=e<this._position?this._beginPageIndex>t:this._endPageIndex<n;this._position=e,i&&(this._beginPageIndex=t,this._endPageIndex=n,this._fireColumnsChanged())}},getFixedColumns:function(e,t){var n=this.callBase(e);if(this.isVirtualMode()&&!t&&n.length){var i=n.map((function(e){return e.command})).indexOf("transparent");return n[i].colspan=this.getVisibleColumns().length-this.callBase().length+1,n}return n},_compileVisibleColumns:function(e,t){var n;if(t||!this.isVirtualMode()||!this._shouldReturnVisibleColumns())return this.callBase(e);!(null===(n=this._columns)||void 0===n?void 0:n.length)||(0,r.isDefined)(this._beginPageIndex)||(0,r.isDefined)(this._endPageIndex)||(this._beginPageIndex=this.getBeginPageIndex(this._position),this._endPageIndex=this.getEndPageIndex(this._position));var o=this._beginPageIndex,a=this._endPageIndex,s="".concat(e,"-").concat(o,"-").concat(a);if(this._virtualVisibleColumns[s])return this._virtualVisibleColumns[s];var d=this.callBase(),u=this.getRowCount(),c=this.getColumnPageSize(),h=o*c,f=a*c,p=this.getFixedColumns(void 0,!0),g=p.map((function(e){return e.command})).indexOf("transparent"),m=p.length?g:0,_=d.slice(0,m),v=d.slice(m,h),C=i(v).reduce((function(e,t){return e+t}),0);C||(h=0);var w=p.length?p.length-g-1:0,y=d.slice(d.length-w),x=d.slice(f,d.length-w),I=i(x).reduce((function(e,t){return e+t}),0);if(I||(f=d.length),u>1&&"number"==typeof e){for(var b=[],E=0;E<=u;E++)b.push(this.callBase(E));_=(0,l.createColumnsInfo)(b,0,_.length)[e]||[],y=(0,l.createColumnsInfo)(b,d.length-y.length,d.length)[e]||[],d=(0,l.createColumnsInfo)(b,h,f)[e]||[]}else d=d.slice(h,f);return C&&(d.unshift({command:"virtual",width:C}),d=_.concat(d)),I&&(d.push({command:"virtual",width:I}),d=d.concat(y)),this._virtualVisibleColumns[s]=d,d},getColumnIndexOffset:function(){var e=0;if(this._beginPageIndex>0){var t=this.getFixedColumns().map((function(e){return e.command})).indexOf("transparent"),n=t>=0?t:0;e=this._beginPageIndex*this.getColumnPageSize()-n-1}return e>0?e:0},dispose:function(){clearTimeout(this._changedTimeout),this.callBase.apply(this,arguments)}})},views:{columnHeadersView:{_renderCore:function(){var e=this.callBase.apply(this,arguments);return this._columnsController.isVirtualMode()&&this._updateScrollLeftPosition(),e}},rowsView:{_resizeCore:function(){this.callBase.apply(this,arguments),this._columnsController.resize()},_handleScroll:function(e){var t=this,n=this.getScrollable(),i=e.scrollOffset.left;t.callBase.apply(t,arguments),t.option("rtlEnabled")&&n&&(i=(0,o.getWidth)(n.$content())-(0,o.getWidth)(n.$element())-i),t._columnsController.setScrollPosition(i)},_restoreScrollTop:function(){var e=this.getScrollable(),t=null==e?void 0:e.scrollTop();this._scrollTop>0&&t!==this._scrollTop&&e.scrollTo({y:this._scrollTop})},_renderCore:function(e){var t=this;if(null==e?void 0:e.virtualColumnsScrolling){this.resizeCompleted.add((function e(){t.resizeCompleted.remove(e),t._restoreScrollTop()}))}return this.callBase.apply(this,arguments)}}}}};t.virtualColumnsModule=s},23537:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createColumnsInfo=function(e,t,n){var r=[];o(e,(function(e,o,a){var l,s=e,d=s.colspan||1,u=o+d-1>=t&&o<n;if(r[a]=r[a]||[],u)o<t?(l=d-(t-o),o=t):l=d,o+l>n&&(l=n-o),l!==d&&(s=(0,i.extend)({},s,{colspan:l})),r[a].push(s);else if(o>n)return!1}));for(var a=0;a<r.length;a++)r[a]=r[a]||[];return r},t.foreachColumnInfo=o;var i=n(65102);function o(e,t,n,i,r,a){a=a||[],(i=i||[])[n=n||0]=i[n]||0;var l,s=e[n],d=a[n]+1||0,u=0;if(s){for(l=d;l<s.length;l++){var c=s[l],h=l+i[n],f=c.colspan||1;if(o(e,t,n+(c.rowspan||1),i,f,a),i[n]+=f-1,u+=f,c.rowspan)for(var p=n+1;p<n+c.rowspan;p++)i[p]=i[p]||0,i[p]+=c.colspan||1;if(!1===t(c,h,n,l))break;if(void 0!==r&&u>=r)break}a[n]=l}}},94127:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualDataLoader=void 0;var i=n(74460),o=n(49859),r="scrolling.legacyMode",a=function(e){return e.option("scrolling.loadTwoPagesOnStart")||e._controller.isVirtual()||e._controller.getViewportItemIndex()>0},l=function(e){return e._cache.length?e._cache[0].pageIndex:-1},s=function(e){return e._cache.length?e._cache[e._cache.length-1].pageIndex:-1},d=function(e,t,n){e._isChangedFiring=!0,t(n),e._isChangedFiring=!1},u=function(e,t,n){if(e._isDelayChanged)return e._isDelayChanged=!1,d(e,t,n),!0},c=function(e,t){var n=e.option("scrolling.preloadEnabled"),i=function(e){var t=e._dataOptions.pageSize();if(e.option("scrolling.preventPreload"))return 0;var n=e._controller.viewportSize();if(e._controller.isVirtualMode()&&e.option("scrolling.removeInvisiblePages")){n=0;for(var i=e._controller.viewportSize()*e._controller.viewportItemSize(),o=e._controller.getContentOffset(),r=e._controller.getViewportPosition(),a=e._controller.virtualItemsCount(),l=e._dataOptions.totalItemsCount(),s=a.begin;s<l&&!(o>=r+i);s++)(o+=e._controller.getItemSizes()[s]||e._controller.viewportItemSize())>=r&&n++}return t&&n>0?Math.ceil(n/t):1}(e),o=e._controller.isAppendMode();return i&&(t?i=n?1:0:(n&&i++,!o&&a(e)||i--)),i},h=function(e,t,n,i,r){var a=e._dataOptions,l=a.items().slice(),s=(0,o.isObject)(n)?n:void 0,u="prepend"===n,c=a.viewportItems();n&&(0,o.isString)(n)&&!e._isDelayChanged&&(s={changeType:n,items:l},r&&(s.removeCount=r.itemsCount,s.removeCount&&a.correctCount&&(s.removeCount=a.correctCount(c,s.removeCount,u))));var h=r?r.itemsLength:0;h&&a.correctCount&&(h=a.correctCount(c,h,u)),"append"===n?(c.push.apply(c,l),r&&c.splice(0,h)):u?(c.unshift.apply(c,l),r&&c.splice(-h)):e._dataOptions.viewportItems(l),a.updateLoading(),e._lastPageIndex=e.pageIndex(),e._isDelayChanged=i,i||d(e,t,s)},f=function(){function e(e,t){this._dataOptions=t,this._controller=e,this._pageIndex=this._lastPageIndex=t.pageIndex(),this._cache=[],this._loadingPageIndexes={}}var t=e.prototype;return t.option=function(){return this._controller.option.apply(this._controller,arguments)},t.viewportItemIndexChanged=function(e){var t,n=this._dataOptions.pageSize(),i=this._dataOptions.pageCount(),o=this._controller.isVirtualMode(),r=this._controller.isAppendMode(),a=this._dataOptions.totalItemsCount();if(n&&(o||r)&&a>=0){var l=this._controller.viewportSize();if(l&&e+l>=a&&!this._controller.isVirtual())if(this._dataOptions.hasKnownLastPage()){var s=a%n;(t=i-1)>0&&s>0&&s<l&&t--}else t=i;else{t=Math.floor(e/n);var d=i-1;t=Math.max(t,0),t=Math.min(t,d)}return this.pageIndex(t),this.load()}},t.pageIndex=function(e){var t=this._controller.isVirtualMode(),n=this._controller.isAppendMode();return!1!==this.option(r)&&(t||n)?(void 0!==e&&(this._pageIndex=e),this._pageIndex):this._dataOptions.pageIndex(e)},t.beginPageIndex=function(e){var t=l(this);return t<0&&(t=void 0!==e?e:this.pageIndex()),t},t.endPageIndex=function(){var e=s(this);return e>0?e:this._lastPageIndex},t.pageSize=function(){return this._dataOptions.pageSize()},t.load=function(){var e,t=this,n=this._dataOptions,o=this._controller.isVirtualMode(),a=this._controller.isAppendMode();if(!1!==this.option(r)&&(o||a)){var d=function(e){var t=-1,n=l(e),i=e._dataOptions;n<0?t=e._pageIndex:e._cache[e._pageIndex-n]?n>=0&&e._controller.viewportSize()>=0&&(n>0&&(s(e)+1===i.pageCount()&&e._cache.length<c(e)+1||e._pageIndex===n&&c(e,!0))&&(t=n-1),t<0&&n+e._cache.length<=e._pageIndex+c(e)&&(t=n+e._cache.length)):t=e._pageIndex;return e._loadingPageIndexes[t]&&(t=-1),t}(this);if(d>=0){var u=function(e,t){var n=e._dataOptions;if(t===e.pageIndex()||!n.isLoading()&&t<n.pageCount()||!n.hasKnownLastPage()&&t===n.pageCount())return n.pageIndex(t),e._loadingPageIndexes[t]=!0,(0,i.when)(n.load()).always((function(){e._loadingPageIndexes[t]=!1}))}(this,d);u&&(e=new i.Deferred,u.done((function(){var n=t._delayDeferred;n?n.done(e.resolve).fail(e.reject):e.resolve()})).fail(e.reject),n.updateLoading())}}else e=n.load();return e||this._lastPageIndex===this.pageIndex()||this._dataOptions.onChanged({changeType:"pageIndex"}),e||(new i.Deferred).resolve()},t.loadIfNeed=function(){var e=this._controller.isVirtualMode(),t=this._controller.isAppendMode();if((e||t)&&!this._dataOptions.isLoading()&&(!this._isChangedFiring||this._controller.isVirtual())){var n=this._controller.getViewportPosition();n>0?this._controller._setViewportPositionCore(n):this.load()}},t.handleDataChanged=function(e,t){var n,i,o=this,f=this._dataOptions,p=this._cache.length,g=this._controller.isVirtualMode(),m=this._controller.isAppendMode();if(t&&t.changes)d(this,e,t);else if(!1!==this.option(r)&&(g||m)){var _=l(this);if(_>=0&&(g&&_+this._cache.length!==f.pageIndex()&&_-1!==f.pageIndex()&&(p=0,this._cache=[]),m))if(0===f.pageIndex())this._cache=[];else if(f.pageIndex()<s(this))return void d(this,e,{changeType:"append",items:[]});var v,C={pageIndex:f.pageIndex(),itemsLength:f.items(!0).length,itemsCount:this.itemsCount(!0)};this.option("scrolling.removeInvisiblePages")&&g?i=this._cache.length>Math.max(c(this)+(this.option("scrolling.preloadEnabled")?1:0),2):u(this,e,{isDelayed:!0}),_===f.pageIndex()+1?(i&&(v=this._cache.pop()),n="prepend",this._cache.unshift(C)):(i&&(v=this._cache.shift()),n="append",this._cache.push(C));var w=g&&0===p&&a(this);h(this,e,this._cache.length>1?n:void 0,w,v),this._delayDeferred=this.load().done((function(){u(o,e)&&o.load()}))}else h(this,e,t)},t.getDelayDeferred=function(){return this._delayDeferred},t.itemsCount=function(e){var t=0,n=this._controller.isVirtualMode();return!e&&n?this._cache.forEach((function(e){t+=e.itemsCount})):t=this._dataOptions.itemsCount(),t},t.virtualItemsCount=function(){var e=l(this);e<0&&(e=this._dataOptions.pageIndex());var t=e*this._dataOptions.pageSize(),n=this._cache.length*this._dataOptions.pageSize();return{begin:t,end:Math.max(0,this._dataOptions.totalItemsCount()-n-t)}},t.reset=function(){this._loadingPageIndexes={},this._cache=[]},e}();t.VirtualDataLoader=f},76604:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.virtualScrollingModule=void 0;var i=m(n(94965)),o=m(n(19478)),r=n(74460),a=n(12907),l=n(96993),s=n(37954),d=n(21620),u=n(49859),c=n(85349),h=m(n(55531)),f=m(n(47625)),p=m(n(37028)),g=n(68215);function m(e){return e&&e.__esModule?e:{default:e}}var _,v,C,w,y="bottom-load-panel",x="dx-freespace-row",I="dx-virtual-row",b="scrolling.legacyMode",E="paging.pageIndex",S=function(e){return"virtual"===e.option("scrolling.mode")},O=function(e){return"infinite"===e.option("scrolling.mode")},T=function(e){return S(e)||O(e)},D=function(e,t,n,i){for(var o=0;o<t+1;o++){var r=e[n?e.length-1-o:o];r&&!i(r,o===t,n)&&t++}return t},R=function(e,t){return"data"===e.rowType&&!e.isNewRow||"group"===e.rowType&&t.isGroupItemCountable(e.data)},F=(_=function(e){var t=e._virtualScrollController.beginPageIndex(-1);S(e)&&(t<0||e.viewportSize()>=0&&e.getViewportItemIndex()>=0&&(t*e.pageSize()>e.getViewportItemIndex()||t*e.pageSize()+e.itemsCount()<e.getViewportItemIndex()+e.viewportSize())&&e._dataSource.isLoading()?e._isLoading||(e._isLoading=!0,e.loadingChanged.fire(!0)):e._isLoading&&(e._isLoading=!1,e.loadingChanged.fire(!1)))},v={init:function(){this.callBase.apply(this,arguments),this._items=[],this._totalCount=-1,this._isLoaded=!0,this._loadPageCount=1,this._virtualScrollController=new g.VirtualScrollController(this.component,this._getVirtualScrollDataOptions())},_getVirtualScrollDataOptions:function(){var e=this;return{pageSize:function(){return e.pageSize()},totalItemsCount:function(){return e.totalItemsCount()},hasKnownLastPage:function(){return e.hasKnownLastPage()},pageIndex:function(t){return e._dataSource.pageIndex(t)},isLoading:function(){return e._dataSource.isLoading()&&!e.isCustomLoading()},pageCount:function(){return e.pageCount()},load:function(){return e._dataSource.load()},updateLoading:function(){_(e)},itemsCount:function(){return e.itemsCount(!0)},items:function(){return e._dataSource.items()},viewportItems:function(t){return t&&(e._items=t),e._items},onChanged:function(t){e.changed.fire(t)},changingDuration:function(){return e.isLoading()?300:e._renderTime||0}}},_handleLoadingChanged:function(e){!1!==this.option(b)?(S(this)&&!this._isLoadingAll||(this._isLoading=e,this.callBase.apply(this,arguments)),this._startLoadTime=e?new Date:void 0):this.callBase.apply(this,arguments)},_handleLoadError:function(){!1!==this.option(b)&&(this._isLoading=!1,this.loadingChanged.fire(!1)),this.callBase.apply(this,arguments)},_handleDataChanged:function(e){if(!1===this.option(b))return this._items=this._dataSource.items().slice(),this._totalCount=this._dataSourceTotalCount(!0),void this.callBase.apply(this,arguments);var t=this.callBase.bind(this);this._virtualScrollController.handleDataChanged(t,e)},_customizeRemoteOperations:function(e,t){var n=!1===this.option(b),i=this.option("scrolling.renderAsync");(0,u.isDefined)(i)||(i=this._renderTime>=this.option("scrolling.renderingThreshold")),!(S(this)||O(this)&&n)||t.reload||!t.skip&&!n||i||(e.delay=void 0),this.callBase.apply(this,arguments)},items:function(){return this._items},_dataSourceTotalCount:function(e){return!1===this.option(b)&&S(this)&&!e?this._totalCount:this.callBase()},itemsCount:function(e){return e||!1===this.option(b)?this.callBase():this._virtualScrollController.itemsCount()},load:function(e){return!1===this.option(b)||e?this.callBase(e):this._virtualScrollController.load()},isLoading:function(){return!1===this.option(b)?this._dataSource.isLoading():this._isLoading},isLoaded:function(){return this._dataSource.isLoaded()&&this._isLoaded},resetPagesCache:function(e){e||this._virtualScrollController.reset(!0),this.callBase.apply(this,arguments)},_changeRowExpandCore:function(){var e=this.callBase.apply(this,arguments);return!1===this.option(b)||(this.resetPagesCache(),_(this)),e},reload:function(){this._dataSource.pageIndex(this.pageIndex());var e=this._virtualScrollController;if(!1!==this.option(b)&&e){var t=new r.Deferred;return this.callBase.apply(this,arguments).done((function(n){var i=e.getDelayDeferred();i?i.done(t.resolve).fail(t.reject):t.resolve(n)})).fail(t.reject),t}return this.callBase.apply(this,arguments)},refresh:function(e,t){if(!1!==this.option(b)){var n=e.storeLoadOptions,i=this._dataSource;t.reload?(this._virtualScrollController.reset(),i.items().length=0,this._isLoaded=!1,_(this),this._isLoaded=!0,O(this)?(this.pageIndex(0),i.pageIndex(0),n.pageIndex=0,e.pageIndex=0,n.skip=0):(i.pageIndex(this.pageIndex()),i.paginate()&&(e.pageIndex=this.pageIndex(),n.skip=this.pageIndex()*this.pageSize()))):O(this)&&n.skip&&this._totalCountCorrection<0&&(n.skip+=this._totalCountCorrection)}return this.callBase.apply(this,arguments)},dispose:function(){this._virtualScrollController.dispose(),this.callBase.apply(this,arguments)},loadPageCount:function(e){if(!(0,u.isDefined)(e))return this._loadPageCount;this._loadPageCount=e},_handleDataLoading:function(e){var t=this.loadPageCount(),n=this.pageSize(),i=!1===this.option(b),o=e.storeLoadOptions,r=(0,u.isDefined)(o.take);e.loadPageCount=t,!e.isCustomLoading&&i&&r&&t>1&&n>0&&(o.take=t*n),this.callBase.apply(this,arguments)},_loadPageSize:function(){return this.callBase.apply(this,arguments)*this.loadPageCount()}},["beginPageIndex","endPageIndex","pageIndex"].forEach((function(e){v[e]=function(){if(!1===this.option(b)){var t=this._dataSource;return t.pageIndex.apply(t,arguments)}var n=this._virtualScrollController;return n[e].apply(n,arguments)}})),["virtualItemsCount","getContentOffset","getVirtualContentSize","setContentItemSizes","setViewportPosition","getViewportItemIndex","setViewportItemIndex","getItemIndexByPosition","viewportSize","viewportItemSize","getItemSize","getItemSizes","loadIfNeed"].forEach((function(e){v[e]=function(){var t=this._virtualScrollController;return t[e].apply(t,arguments)}})),v),A=(C=function(e,t){var n=e.toArray().map((function(e){return(0,i.default)(e).parent(".".concat(t)).get(0)})).filter((function(e){return e}));n.length&&(e=(0,i.default)(n));for(var o=t===x?e.length-1:e.length,r=0;r<o;r++)e.eq(r).remove()},{init:function(){var e,t=this,n=this.getController("data");this.callBase(),n.pageChanged.add((function(e){var i=t._scrollTop;t.scrollToPage(null!=e?e:n.pageIndex()),!1===t.option(b)&&t._scrollTop===i&&n.updateViewport()})),n.dataSourceChanged.add((function(){!t._scrollTop&&t._scrollToCurrentPageOnResize()})),null===(e=n.stateLoaded)||void 0===e||e.add((function(){t._scrollToCurrentPageOnResize()})),this._scrollToCurrentPageOnResize()},_scrollToCurrentPageOnResize:function(){var e=this,t=this.getController("data");t.pageIndex()>0&&this.resizeCompleted.add((function n(){e.resizeCompleted.remove(n),e.scrollToPage(t.pageIndex())}))},scrollToPage:function(e){var t,n=this._dataController,i=n?n.pageSize():0;if(S(this)||O(this)){var o=n.getItemSize(),r=n.getItemSizes(),a=e*i;for(var l in t=a*o,r)parseInt(l)<a&&(t+=r[l]-o)}else t=0;this.scrollTo({y:t,x:this._scrollLeft})},renderDelayedTemplates:function(){var e=this;this.waitAsyncTemplates().done((function(){e._updateContentPosition(!0)})),this.callBase.apply(this,arguments)},_renderCore:function(e){var t=new Date,n=this.callBase.apply(this,arguments),i=this._dataController._dataSource;if(i&&e){var o=e.items?e.items.length:20,r=this._dataController.viewportSize()||20;p.default.isVirtualRowRendering(this)&&o>0&&!1!==this.option(b)?i._renderTime=(new Date-t)*r/o:i._renderTime=new Date-t}return n},_getRowElements:function(e){var t=this.callBase(e);return t&&t.not(".".concat(I))},_removeRowsElements:function(e,t,n){var o=this._getRowElements(e).toArray();o="append"===n?o.slice(0,t):o.slice(-t);var r=this.getController("errorHandling");o.map((function(e){var t=(0,i.default)(e);r&&r.removeErrorRow(t.next()),t.remove()}))},_updateContent:function(e,t){var n,i=this,o=this._findContentElement(),a=t&&t.changeType,l=(0,r.Deferred)();this.throwHeightWarningIfNeed();var s=o.children().first();return"append"===a||"prepend"===a?this.waitAsyncTemplates().done((function(){var o=i._getBodies(e);1===o.length?i._getBodies(s)["append"===a?"append":"prepend"](o.children()):o["append"===a?"appendTo":"prependTo"](s),e.remove(),n=i._getFreeSpaceRowElements(s),C(n,x),t.removeCount&&i._removeRowsElements(s,t.removeCount,a),i._restoreErrorRow(s),l.resolve()})).fail(l.reject):this.callBase.apply(this,arguments).done((function(){"update"===a&&i._restoreErrorRow(s),l.resolve()})).fail(l.reject),l.promise().done((function(){i._updateBottomLoading()}))},_addVirtualRow:function(e,t,n,i){if(i){var o=this._createEmptyRow(I,t,i);o=this._wrapRowIfNeed(e,o),this._appendEmptyRow(e,o,n)}},_updateContentItemSizes:function(){var e=this._getRowHeights(),t=this._correctRowHeights(e);this._dataController.setContentItemSizes(t)},_updateViewportSize:function(e,t){(0,u.isDefined)(e)||(e=this._hasHeight?(0,d.getOuterHeight)(this.element()):(0,d.getOuterHeight)((0,c.getWindow)())),this._dataController.viewportHeight(e,t)},_getRowHeights:function(){var e,t,n=null===(t=null===(e=this.getController("editing"))||void 0===e?void 0:e.isPopupEditMode)||void 0===t?void 0:t.call(e),o=this._getRowElements(this._tableElement).toArray();return n&&(o=o.filter((function(e){return!(0,i.default)(e).hasClass("dx-row-inserted")}))),o.map((function(e){return(0,s.getBoundingRect)(e).height}))},_correctRowHeights:function(e){for(var t=this._dataController,n=t._dataSource,i=[],o=t.getVisibleRows(),r=0,a=!0,l=-1,s=0;s<e.length;s++){var d=o[s];(0,u.isDefined)(d)&&(!1===this.option(b)?(l>=0&&l!==d.loadIndex&&(i.push(r),r=0),l=d.loadIndex):R(d,n)&&(a?a=!1:(i.push(r),r=0)),r+=e[s])}return r>0&&i.push(r),i},_updateContentPosition:function(e){var t=this,n=this._dataController,o=this._rowHeight||20;if(n.viewportItemSize(o),S(this)||p.default.isVirtualRowRendering(this)){e||this._updateContentItemSizes();var r=n.getContentOffset("begin"),a=n.getContentOffset("end"),l=this.getTableElements(),s=l.children("tbody").children(".".concat(I));C(s,I),l.each((function(e,n){var o=e>0,l=t._isFixedTableRendering;t._isFixedTableRendering=o,t._addVirtualRow((0,i.default)(n),o,"top",r),t._addVirtualRow((0,i.default)(n),o,"bottom",a),t._isFixedTableRendering=l}))}},_isTableLinesDisplaysCorrect:function(e){return e.find(".".concat("dx-column-lines")).length>0===this.option("showColumnLines")},_isColumnElementsEqual:function(e,t){var n=e.length===t.length;return n&&(0,l.each)(e,(function(e,i){if(i.style.width!==t[e].style.width)return n=!1})),n},_getCellClasses:function(e){var t=[],n=e.cssClass,i="expand"===e.command;return n&&t.push(n),i&&t.push(this.addWidgetPrefix("group-space")),t},_findBottomLoadPanel:function(e){var t=e||this.element(),n=t&&t.find(".".concat(this.addWidgetPrefix(y)));if(n&&n.length)return n},_updateBottomLoading:function(){var e=S(this),t=O(this),n=!this._dataController.hasKnownLastPage()&&this._dataController.isLoaded()&&(e||t),o=this._findContentElement(),r=this._findBottomLoadPanel(o);n?r||(0,i.default)("<div>").addClass(this.addWidgetPrefix(y)).append(this._createComponent((0,i.default)("<div>"),h.default).$element()).appendTo(o):r&&r.remove()},_handleScroll:function(e){var t=!0===this.option(b),n=0===e.scrollOffset.top,i=this._scrollTop!==e.scrollOffset.top||e.forceUpdateScrollPosition,o=this._hasHeight||!t&&n;i&&o&&this._rowHeight&&(this._scrollTop=e.scrollOffset.top,(S(this)||"standard"!==this.option("scrolling.rowRenderingMode"))&&!1===this.option(b)&&(this._updateContentItemSizes(),this._updateViewportSize(null,this._scrollTop)),this._dataController.setViewportPosition(e.scrollOffset.top)),this.callBase.apply(this,arguments)},_needUpdateRowHeight:function(e){return this.callBase.apply(this,arguments)||e>0&&O(this)&&!p.default.isVirtualRowRendering(this)},_updateRowHeight:function(){if(this.callBase.apply(this,arguments),this._rowHeight){this._updateContentPosition();var e=this._hasHeight?(0,d.getOuterHeight)(this.element()):(0,d.getOuterHeight)((0,c.getWindow)()),t=this._dataController;!1===this.option(b)?(this._updateViewportSize(e),t.updateViewport()):t.viewportSize(Math.ceil(e/this._rowHeight))}},updateFreeSpaceRowHeight:function(){var e=this.callBase.apply(this,arguments);return e&&this._updateContentPosition(),e},setLoading:function(e,t){var n=this._dataController,i=n.pageIndex()>0&&n.isLoaded()&&!!this._findBottomLoadPanel();!1===this.option(b)&&e&&n.isViewportChanging()||(i&&(e=!1),this.callBase.call(this,e,t))},throwHeightWarningIfNeed:function(){!this._hasHeight&&T(this)&&!this._heightWarningIsThrown&&(this._heightWarningIsThrown=!0,f.default.log("W1025"))},_resizeCore:function(){var e=this,t=e.element();e.callBase(),e.component.$element()&&!e._windowScroll&&(0,a.isElementInDom)(t)&&(e._windowScroll=(0,g.subscribeToExternalScrollers)(t,(function(t){!e._hasHeight&&e._rowHeight&&e._dataController.setViewportPosition(t)}),e.component.$element()),e.on("disposing",(function(){e._windowScroll.dispose()}))),!1!==this.option(b)&&e.loadIfNeed()},loadIfNeed:function(){var e,t=this._dataController;null===(e=null==t?void 0:t.loadIfNeed)||void 0===e||e.call(t)},_restoreErrorRow:function(){if(!1===this.option(b)){var e=this.getController("errorHandling");null==e||e.removeErrorRow()}this.callBase.apply(this,arguments)},dispose:function(){clearTimeout(this._scrollTimeoutID),this.callBase()}}),P={defaultOptions:function(){return{scrolling:{timeout:300,updateTimeout:300,minTimeout:0,renderingThreshold:100,removeInvisiblePages:!0,rowPageSize:5,prerenderedRowChunkSize:1,mode:"standard",preloadEnabled:!1,rowRenderingMode:"standard",loadTwoPagesOnStart:!1,legacyMode:!1,prerenderedRowCount:1}}},extenders:{dataSourceAdapter:F,controllers:{data:(w={_refreshDataSource:function(){var e=this.callBase.apply(this,arguments)||(new r.Deferred).resolve().promise();return e.done(this.initVirtualRows.bind(this)),e},_loadDataSource:function(){var e;if(this._rowsScrollController&&T(this)){var t=((0,u.isDefined)(this._loadViewportParams)?this.getLoadPageParams():{loadPageCount:void 0}).loadPageCount;t>=1&&(null===(e=this._dataSource)||void 0===e||e.loadPageCount(t))}return this.callBase.apply(this,arguments)},getRowPageSize:function(){var e=this.option("scrolling.rowPageSize"),t=this.pageSize();return t&&t<e?t:e},reload:function(){var e=this,t=this._rowsScrollController||this._dataSource,n=t&&t.getItemIndexByPosition(),r=this.callBase.apply(this,arguments);return r&&r.done((function(){var t;if(S(e)||p.default.isVirtualRowRendering(e)){var r=e.getRowIndexOffset(),a=Math.floor(n)-r,l=e.component,s=l.getScrollable&&l.getScrollable(),u=e.dataSource().operationTypes().sorting;if(s&&!u&&a>=0){var c=l.getRowElement(a),h=c&&c[0]&&(0,i.default)(c[0]),f=h&&h.position().top,g=o.default.chrome&&Number(null!==(t=o.default.version)&&void 0!==t?t:0)>=91;f>(o.default.mozilla||g?1:0)&&(f=Math.round(f+(0,d.getOuterHeight)(h)*(n%1)),s.scrollTo({y:f}))}}}))},initVirtualRows:function(){var e=this,t=p.default.isVirtualRowRendering(this);if(this._allItems=null,this._loadViewportParams=null,"virtual"!==this.option("scrolling.mode")&&!t||!t||!1!==this.option(b)&&!this.option("scrolling.rowPageSize"))return this._visibleItems=null,void(this._rowsScrollController=null);var n=!S(this)&&this.pageIndex()>=this.pageCount()?this.pageCount()-1:this.pageIndex();this._rowPageIndex=Math.ceil(n*this.pageSize()/this.getRowPageSize()),this._visibleItems=!1===this.option(b)?null:[],this._viewportChanging=!1,this._needUpdateViewportAfterLoading=!1,this._rowsScrollController||(this._rowsScrollController=new g.VirtualScrollController(this.component,this._getRowsScrollDataOptions(),!0),this._rowsScrollController.positionChanged.add((function(){var t;if(!1===e.option(b))return e._viewportChanging=!0,e.loadViewport(),void(e._viewportChanging=!1);null===(t=e._dataSource)||void 0===t||t.setViewportItemIndex(e._rowsScrollController.getViewportItemIndex())}))),!1===this.option(b)&&this._updateLoadViewportParams(),this.isLoaded()&&!1!==this.option(b)&&this._rowsScrollController.load()},isViewportChanging:function(){return this._viewportChanging},_getRowsScrollDataOptions:function(){var e=this,t=function(t){return R(t,e._dataSource)};return{pageSize:function(){return e.getRowPageSize()},loadedOffset:function(){var t;return S(e)&&(null===(t=e._dataSource)||void 0===t?void 0:t.lastLoadOptions().skip)||0},loadedItemCount:function(){return e._itemCount},totalItemsCount:function(){return T(e)?e.totalItemsCount():!1===e.option(b)?e._itemCount:e._items.filter(t).length},hasKnownLastPage:function(){return!1!==e.option(b)||e.hasKnownLastPage()},pageIndex:function(t){return void 0!==t&&(e._rowPageIndex=t),e._rowPageIndex},isLoading:function(){return e.isLoading()},pageCount:function(){return Math.ceil(this.totalItemsCount()/this.pageSize())||1},load:function(){e._rowsScrollController.pageIndex()>=this.pageCount()&&(e._rowPageIndex=this.pageCount()-1,e._rowsScrollController.pageIndex(e._rowPageIndex)),!this.items().length&&this.totalItemsCount()||e._rowsScrollController.handleDataChanged((function(t){(t=t||{}).changeType=t.changeType||"refresh",t.items=t.items||e._visibleItems,e._visibleItems.forEach((function(e,t){e.rowIndex=t})),e._fireChanged(t)}))},updateLoading:function(){},itemsCount:function(){return this.items(!0).length},correctCount:function(e,n,i){return D(e,n,i,(function(e,n,i){return e.isNewRow?n&&!i:n&&i?!e.isNewRow:t(e)}))},items:function(n){var i=e._items;if(e.option(b)){var o=e.dataSource(),r=null==o?void 0:o.virtualItemsCount(),a=r?r.begin:0,l=e.getRowPageSize(),s=e._rowPageIndex*l-a,d=l;if(s<0)return[];s&&(s=this.correctCount(i,s),i=i.slice(s)),d&&(d=this.correctCount(i,d),i=i.slice(0,d))}return n?i.filter(t):i},viewportItems:function(t){return t&&!1!==e.option(b)&&(e._visibleItems=t),e._visibleItems},onChanged:function(){},changingDuration:function(){var t=e.dataSource();return(null==t?void 0:t.isLoading())&&!1!==e.option(b)?300:(null==t?void 0:t._renderTime)||0}}},_updateItemsCore:function(e){var t=this,n=this.getRowIndexDelta();if(this.callBase.apply(this,arguments),!1===this.option(b)&&p.default.isVirtualRowRendering(this))"update"===e.changeType&&0===e.rowIndices.length&&e.cancelEmptyChanges&&(e.cancel=!0);else{var i=this._rowsScrollController;if(i){var o=this._visibleItems,r="refresh"===e.changeType||e.isLiveUpdate;if("append"===e.changeType&&e.items&&!e.items.length)return;r||"append"===e.changeType||"prepend"===e.changeType?(e.cancel=!0,r&&i.reset(!0),i.load()):("update"===e.changeType?e.rowIndices.forEach((function(t,n){var i=e.changeTypes[n],r=e.items[n];"update"===i?o[t]=r:"insert"===i?o.splice(t,0,r):"remove"===i&&o.splice(t,1)})):(o.forEach((function(e,i){o[i]=t._items[i+n]||o[i]})),e.items=o),o.forEach((function(e,t){e.rowIndex=t})))}}},_updateLoadViewportParams:function(){var e=this._rowsScrollController.getViewportParams(),t=this.pageSize();if(e&&!T(this)&&t>0){var n=this.pageIndex()*t;e.skip+=n}this._loadViewportParams=e},_processItems:function(){var e,t=this.callBase.apply(this,arguments);if(!1===this.option(b)){var n,i,o,r=this._dataSource,a=null!==(e=null==r?void 0:r.lastLoadOptions().skip)&&void 0!==e?e:0,l=!1,s=[];t.forEach((function(e){var t=e.rowType,d=R(e,r),c="group"===t&&(n||d||"group"!==i&&a>0),h="data"===t&&d&&(n||"group"!==i);!e.isNewRow&&(0,u.isDefined)(n)&&(!c&&!h||o&&!l||a++),(c||h)&&(l=!0),e.isNewRow?s.push(e):(s.forEach((function(e){e.loadIndex=a})),s=[]),e.loadIndex=a,n=d,i=t,o=e.isNewRow})),s.forEach((function(e){e.loadIndex=a}))}return t},_afterProcessItems:function(e){var t=this;if(this._itemCount=e.filter((function(e){return R(e,t._dataSource)})).length,(0,u.isDefined)(this._loadViewportParams)){this._updateLoadViewportParams();var n=e;if(this._allItems=e,e.length){var i=this.getLoadPageParams(!0).skipForCurrentPage,o=e[0].loadIndex+i,r=this._loadViewportParams.take;n=e.filter((function(e){var t=e.isNewRow&&e.loadIndex===o&&0===r,n=e.loadIndex>=o,i=e.loadIndex<o+r||t;return n&&i}))}return n}return this.callBase.apply(this,arguments)},_applyChange:function(e){var t=this,n=e.items,i=e.changeType,o=e.removeCount;if(o){var r="prepend"===i;o=D(t._items,o,r,(function(e,n){return"data"===e.rowType&&!e.isNewRow||"group"===e.rowType&&(t._dataSource.isGroupItemCountable(e.data)||n)})),e.removeCount=o}switch(i){case"prepend":t._items.unshift.apply(t._items,n),o&&t._items.splice(-o);break;case"append":t._items.push.apply(t._items,n),o&&t._items.splice(0,o);break;default:t.callBase(e)}},items:function(e){return e?this._allItems||this._items:this._visibleItems||this._items},getRowIndexDelta:function(){var e=0;if(this.option(b)){var t=this._visibleItems;t&&t[0]&&(e=this._items.indexOf(t[0]))}return e<0?0:e},getRowIndexOffset:function(e){var t,n=0,i=this.dataSource(),o=this._rowsScrollController,r=!1===this.option(b),a=T(this);if(o&&!e)if(r&&(0,u.isDefined)(this._loadViewportParams)){var l=this.getLoadPageParams(!0),s=l.skipForCurrentPage,d=l.pageIndex,c=this.items(!0);if(n=a?d*this.pageSize():0,c.length){var h=c[0].loadIndex;n+=c.filter((function(e){return e.loadIndex<h+s})).length}}else n=o.beginPageIndex()*o.pageSize();else a&&r&&i?n=null!==(t=i.lastLoadOptions().skip)&&void 0!==t?t:0:S(this)&&i&&(n=i.beginPageIndex()*i.pageSize());return n},getDataIndex:function(){return!1===this.option(b)?this.getRowIndexOffset(!0):this.callBase.apply(this,arguments)},viewportSize:function(){var e=this._rowsScrollController,t=this._dataSource,n=null==e?void 0:e.viewportSize.apply(e,arguments);return!1===this.option(b)?n:null==t?void 0:t.viewportSize.apply(t,arguments)},viewportHeight:function(e,t){var n;null===(n=this._rowsScrollController)||void 0===n||n.viewportHeight(e,t)},viewportItemSize:function(){var e=this._rowsScrollController,t=this._dataSource,n=null==e?void 0:e.viewportItemSize.apply(e,arguments);return!1===this.option(b)?n:null==t?void 0:t.viewportItemSize.apply(t,arguments)},setViewportPosition:function(){var e=this._rowsScrollController,t=this._dataSource;this._isPaging=!1,e?e.setViewportPosition.apply(e,arguments):null==t||t.setViewportPosition.apply(t,arguments)},setContentItemSizes:function(e){var t=this._rowsScrollController,n=this._dataSource,i=null==t?void 0:t.setContentItemSizes(e);return!1===this.option(b)?i:null==n?void 0:n.setContentItemSizes(e)},getPreloadedRowCount:function(){var e=this.option("scrolling.preloadedRowCount"),t=this.option("scrolling.preloadEnabled");if((0,u.isDefined)(e))return e;var n=this.viewportSize();return t?2*n:n},getLoadPageParams:function(e){var t,n,i=this.pageSize(),o=this._loadViewportParams,r=null===(t=this._dataSource)||void 0===t?void 0:t.lastLoadOptions(),a=(null==r?void 0:r.pageIndex)||0,l=(null==r?void 0:r.take)||0,s=this._rowsScrollController.isScrollingBack(),d=s?this.getPreloadedRowCount():0,u=s?0:this.getPreloadedRowCount(),c=(null===(n=this._dataSource)||void 0===n?void 0:n.totalCountCorrection())||0,h=Math.max(0,o.skip-d),f=e?a:Math.floor(i?h/i:0),p=f*i,g=o.skip-p,m=o.take+g+u-c,_=e?l:m,v=Math.ceil(i?_/i:0);return{pageIndex:f,loadPageCount:Math.max(1,v),skipForCurrentPage:Math.max(0,g)}},_updateVisiblePageIndex:function(e){if(this._rowsScrollController){if((0,u.isDefined)(e))return this._silentOption(E,e),void this.pageChanged.fire();var t=this._rowsScrollController.getViewportItemIndex(),n=Math.floor(t/this.pageSize());this.pageIndex()!==n&&(this._silentOption(E,n),this.updateItems({changeType:"pageIndex"}))}},_getChangedLoadParams:function(){var e=this.getLoadPageParams(!0),t=this.getLoadPageParams(),n=t.pageIndex,i=t.loadPageCount,o=this._pageIndexIsValid(n),r=null;return this._isLoading||!o||n===e.pageIndex&&i===e.loadPageCount||(r={pageIndex:n,loadPageCount:i}),r},_pageIndexIsValid:function(e){var t=!0;return(O(this)&&this.hasKnownLastPage()||S(this))&&(t=e*this.pageSize()<this.totalItemsCount()),t},_loadItems:function(e,t){var n,i,o=this,r=T(this),a=this._dataSource,l=this._getChangedLoadParams(),s=null!==(n=null==a?void 0:a.loadPageCount())&&void 0!==n?n:0,d=this.pageSize()*s,u=null!==(i=null==a?void 0:a.pageIndex())&&void 0!==i?i:0,c=(null==l?void 0:l.pageIndex)===u,h=O(this)&&this.totalItemsCount()<d,f="repaint"===this.option("editing.refreshMode"),p=(null==l?void 0:l.pageIndex)>u,g=!1;if(!a||r&&e&&(f&&t||p||c&&h))return g;if(r&&this._isLoading&&(this._needUpdateViewportAfterLoading=!0),r&&l){g=!0,a.pageIndex(l.pageIndex),a.loadPageCount(l.loadPageCount),this._repaintChangesOnly=!0,this._needUpdateDimensions=!0;var m=this._viewportChanging;this.load().always((function(){o._repaintChangesOnly=void 0,o._needUpdateDimensions=void 0})).done((function(){var e=o.pageCount()>0&&o.pageIndex()===o.pageCount()-1;(m||e)&&o._updateVisiblePageIndex(),o._needUpdateViewportAfterLoading&&(o._needUpdateViewportAfterLoading=!1,o.loadViewport({checkLoadedParamsOnly:!0}))}))}return g},loadViewport:function(e){var t,n,i,o=null!=e?e:{},r=o.checkLoadedParamsOnly,a=o.checkLoading,l=o.viewportIsNotFilled;if(T(this)||p.default.isVirtualRowRendering(this)){this._updateLoadViewportParams();var s=this._loadItems(a,!l),d=null===(t=this._dataSource)||void 0===t?void 0:t.isCustomLoading(),u=a&&!d&&this._isLoading;if(!(s||u||r)){var c=!(null===(i=null===(n=this.getController("editing"))||void 0===n?void 0:n.getChanges())||void 0===i?void 0:i.length);this.updateItems({repaintChangesOnly:!0,needUpdateDimensions:!0,useProcessedItemsCache:c,cancelEmptyChanges:!0})}}},updateViewport:function(){var e,t,n=this.viewportSize(),i=this.items().length,o=n>i,r=null!==(t=null===(e=this._loadViewportParams)||void 0===e?void 0:e.take)&&void 0!==t?t:0,a=this._rowsScrollController,l=null==a?void 0:a.getViewportParams().take;(o||r<l)&&!this._isPaging&&i&&this.loadViewport({checkLoading:!0,viewportIsNotFilled:o})},loadIfNeed:function(){if(!1!==this.option(b)){var e=this._rowsScrollController;e&&e.loadIfNeed();var t=this._dataSource;return t&&t.loadIfNeed()}},getItemSize:function(){var e=this._rowsScrollController;if(e)return e.getItemSize.apply(e,arguments);var t=this._dataSource;return t&&t.getItemSize.apply(t,arguments)},getItemSizes:function(){var e=this._rowsScrollController;if(e)return e.getItemSizes.apply(e,arguments);var t=this._dataSource;return t&&t.getItemSizes.apply(t,arguments)},getContentOffset:function(){var e=this._rowsScrollController;if(e)return e.getContentOffset.apply(e,arguments);var t=this._dataSource;return t&&t.getContentOffset.apply(t,arguments)},refresh:function(e){var t=this._dataSource;return t&&e&&e.load&&O(this)&&t.resetCurrentTotalCount(),this.callBase.apply(this,arguments)},dispose:function(){var e=this._rowsScrollController;e&&e.dispose(),this.callBase.apply(this,arguments)},topItemIndex:function(){var e;return null===(e=this._loadViewportParams)||void 0===e?void 0:e.skip},bottomItemIndex:function(){var e=this._loadViewportParams;return e&&e.skip+e.take},virtualItemsCount:function(){var e=this._rowsScrollController;if(e)return e.virtualItemsCount.apply(e,arguments);var t=this._dataSource;return null==t?void 0:t.virtualItemsCount.apply(t,arguments)},pageIndex:function(e){var t,n=T(this),i=this._rowsScrollController;return!1===this.option(b)&&n&&i&&void 0===e?null!==(t=this.option(E))&&void 0!==t?t:0:this.callBase.apply(this,arguments)},_fireChanged:function(e){this.callBase.apply(this,arguments);var t=e.operationTypes;if(!1===this.option(b)&&T(this)&&t){var n=t.fullReload,i=t.pageIndex;e.isDataChanged&&!n&&i&&this._updateVisiblePageIndex(this._dataSource.pageIndex())}},_getPagingOptionValue:function(e){var t=this.callBase.apply(this,arguments);return!1===this.option(b)&&T(this)&&(t=this[e]()),t},isEmpty:function(){return!1===this.option(b)?!this.items(!0).length:this.callBase(this,arguments)},isLastPageLoaded:function(){var e=!1;if(!1===this.option(b)&&T(this)){var t=this.getLoadPageParams(!0);e=t.pageIndex+t.loadPageCount>=this.pageCount()}else e=this.callBase.apply(this,arguments);return e},reset:function(){this._itemCount=0,this._allItems=null,this.callBase.apply(this,arguments)},_applyFilter:function(){var e;null===(e=this._dataSource)||void 0===e||e.loadPageCount(1),this.callBase.apply(this,arguments)}},p.default.proxyMethod(w,"getVirtualContentSize"),p.default.proxyMethod(w,"setViewportItemIndex"),w),resizing:{_updateMasterDataGridCore:function(e){return(0,r.when)(this.callBase.apply(this,arguments)).done((function(t){var n=S(e)&&!1===e.option(b);!t&&n&&(e.getScrollable()&&e.updateDimensions())}))},hasResizeTimeout:function(){return!!this._resizeTimeout},resize:function(){var e,t=this,n=this.callBase;if(S(this)||p.default.isVirtualRowRendering(this)){clearTimeout(this._resizeTimeout),this._resizeTimeout=null;var i=new Date-this._lastTime,o=this.option("scrolling.updateTimeout");this._lastTime&&i<o?(e=new r.Deferred,this._resizeTimeout=setTimeout((function(){t._resizeTimeout=null,n.apply(t).done(e.resolve).fail(e.reject),t._lastTime=new Date}),o),this._lastTime=new Date):(e=n.apply(this),this._dataController.isLoaded()&&(this._lastTime=new Date))}else e=n.apply(this);return e},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._resizeTimeout)}}},views:{rowsView:A}}};t.virtualScrollingModule=P},68215:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.VirtualScrollController=void 0,t.subscribeToExternalScrollers=C;var i=g(n(84728)),o=g(n(21058)),r=g(n(94965)),a=g(n(19478)),l=g(n(72363)),s=n(74460),d=n(96993),u=n(49859),c=n(85349),h=g(n(38608)),f=g(n(37028)),p=n(94127);function g(e){return e&&e.__esModule?e:{default:e}}var m="virtual",_="scrolling.legacyMode",v=function(e){return e.option("scrolling.mode")===m||e._isVirtual};function C(e,t,n){var o,a=[],l=[],s=[];function u(t){var n=t.element?t.$element():t,o=i.default.offset(n);return o?t.scrollTop()-(o.top-e.offset().top):e.offset().top}var f={on:function(e,t,n){e.on("scroll",n)},off:function(e,t,n){e.off("scroll",n)}};function p(e){var n="#document"===e.get(0).nodeName,i=e.get(0).nodeType===(0,c.getWindow)().Node.ELEMENT_NODE,o=e.data("dxScrollable"),d=f;if(o||(o=n&&(0,r.default)((0,c.getWindow)())||i&&"auto"===e.css("overflowY")&&e,d=h.default,o)){var p=function(e){return function(){var n=e.scrollTop()-u(e);t(n=n>0?n:0)}}(o);d.on(o,"scroll",p),l.push((function(e){var t=u(o),n=o.scrollTo?"scrollTo":"scrollTop";e-t>=0&&o[n](e+t)})),a.push(o),s.push((function(){d.off(o,"scroll",p)}))}}var g=function(e){var t;return(0,r.default)(null!==(t=e.get(0).parentNode)&&void 0!==t?t:e.get(0).host)};for(o=(n=n||e).parent();o.length;o=g(o))p(o);return{scrollTo:function(e){(0,d.each)(l,(function(t,n){n(e)}))},dispose:function(){(0,d.each)(s,(function(e,t){t()}))}}}var w,y=o.default.inherit((w={ctor:function(e,t,n){this._dataOptions=t,this.component=e,this._viewportSize=!1===e.option(_)?15:0,this._viewportItemSize=20,this._viewportItemIndex=0,this._position=0,this._isScrollingBack=!1,this._contentSize=0,this._itemSizes={},this._sizeRatio=1,this._isVirtual=n,this.positionChanged=(0,l.default)(),this._dataLoader=new p.VirtualDataLoader(this,this._dataOptions)},getItemSizes:function(){return this._itemSizes},option:function(){return this.component.option.apply(this.component,arguments)},isVirtual:function(){return this._isVirtual},virtualItemsCount:function(){if(v(this)){var e=this._dataOptions,t=e.totalItemsCount();if(!1===this.option(_)&&-1!==t){var n=this.getViewportParams(),i=e.loadedOffset(),o=e.loadedItemCount(),r=Math.max(n.skip,i),a=Math.min(n.take,o);return{begin:r,end:Math.max(t-(r+a),0)}}return this._dataLoader.virtualItemsCount.apply(this._dataLoader,arguments)}},getScrollingTimeout:function(){var e,t=this.option("scrolling.renderAsync"),n=0;return(0,u.isDefined)(t)?t&&(n=null!==(e=this.option("scrolling.timeout"))&&void 0!==e?e:0):(n=Math.min(this.option("scrolling.timeout")||0,this._dataOptions.changingDuration()))<this.option("scrolling.renderingThreshold")&&(n=this.option("scrolling.minTimeout")||0),n},setViewportPosition:function(e){var t=this,n=new s.Deferred,i=this.getScrollingTimeout();return clearTimeout(this._scrollTimeoutID),i>0?this._scrollTimeoutID=setTimeout((function(){t._setViewportPositionCore(e),n.resolve()}),i):(this._setViewportPositionCore(e),n.resolve()),n.promise()},getViewportPosition:function(){return this._position},getItemIndexByPosition:function(e,t,n){e=null!=e?e:this._position;for(var i=this.getItemSize(),o=0,r=0,a=Object.keys(this._itemSizes).concat(-1),l=0;l<a.length&&o<e;l++){var s=parseInt(a[l]),d=(e-o)/i;if(s<0||r+d<s){r+=d,this._sizeRatio<1&&(0,u.isDefined)(t)&&(r=t+n/this._viewportItemSize);break}o+=(d=s-r)*i,r+=d;var c=this._itemSizes[s];r+=(o+=c)<e?1:(e-o+c)/c}return Math.round(50*r)/50},isScrollingBack:function(){return this._isScrollingBack},_setViewportPositionCore:function(e){var t=this._position||0;this._position=e,t!==this._position&&(this._isScrollingBack=this._position<t);var n=this.getItemIndexByPosition(),i=this.setViewportItemIndex(n);return this.positionChanged.fire(),i},setContentItemSizes:function(e){var t=this,n=this.virtualItemsCount();if(this._contentSize=e.reduce((function(e,t){return e+t}),0),n){e.forEach((function(e,i){t._itemSizes[n.begin+i]=e}));var i=(n.begin+n.end+this.itemsCount())*this._viewportItemSize,o=f.default.getContentHeightLimit(a.default);this._sizeRatio=i>o?o/i:1}},getItemSize:function(){return this._viewportItemSize*this._sizeRatio},getItemOffset:function(e,t){var n=this,i=this.virtualItemsCount(),o=e;if(!i)return 0;var r=0,a=this._dataOptions.totalItemsCount();return Object.keys(this._itemSizes).forEach((function(i){o&&(t?i>=a-e:i<e)&&(r+=n._itemSizes[i],o--)})),Math.floor(r+o*this._viewportItemSize*this._sizeRatio)},getContentOffset:function(e){var t="end"===e,n=this.virtualItemsCount();return n?this.getItemOffset(t?n.end:n.begin,t):0},getVirtualContentSize:function(){return this.virtualItemsCount()?this.getContentOffset("begin")+this.getContentOffset("end")+this._contentSize:0},getViewportItemIndex:function(){return this._viewportItemIndex},setViewportItemIndex:function(e){if(this._viewportItemIndex=e,!1!==this.option(_))return this._dataLoader.viewportItemIndexChanged.apply(this._dataLoader,arguments)},viewportItemSize:function(e){return void 0!==e&&(this._viewportItemSize=e),this._viewportItemSize},viewportSize:function(e){return void 0!==e&&(this._viewportSize=e),this._viewportSize},viewportHeight:function(e,t){var n=null!=t?t:this._position,i=this.getItemIndexByPosition(n),o=this.getItemIndexByPosition(n+e,i,e);this.viewportSize(Math.ceil(o-i)),(0,u.isDefined)(t)||this._viewportItemIndex===i||this._setViewportPositionCore(n)},reset:function(e){this._dataLoader.reset(),e||(this._itemSizes={})},subscribeToWindowScrollEvents:function(e){var t=this;this._windowScroll=this._windowScroll||C(e,(function(e){t.viewportItemSize()&&t.setViewportPosition(e)}))},dispose:function(){clearTimeout(this._scrollTimeoutID),this._windowScroll&&this._windowScroll.dispose(),this._windowScroll=null},scrollTo:function(e){this._windowScroll&&this._windowScroll.scrollTo(e)},isVirtualMode:function(){return v(this)},isAppendMode:function(){return"infinite"===(e=this).option("scrolling.mode")&&!e._isVirtual;var e},getViewportParams:function(){var e,t=this.option("scrolling.mode")===m,n=this._dataOptions.totalItemsCount(),i=this._dataOptions.hasKnownLastPage()&&this._viewportItemIndex>n?n:this._viewportItemIndex,o=this._viewportSize+i,r=this.option("scrolling.prerenderedRowChunkSize")||1,a=this.isScrollingBack(),l=null!==(e=this.option("scrolling.prerenderedRowCount"))&&void 0!==e?e:1,s=a?l:0,d=a?0:l,u=Math.floor(Math.max(0,i-s)/r)*r,c=Math.ceil((o+d-u)/r)*r;if(t){var h=Math.max(0,n-u);c=Math.min(c,h)}return{skip:u,take:c}},itemsCount:function(){return this.option(_)?this._dataLoader.itemsCount.apply(this._dataLoader,arguments):this._dataOptions.itemsCount()}},["pageIndex","beginPageIndex","endPageIndex","pageSize","load","loadIfNeed","handleDataChanged","getDelayDeferred"].forEach((function(e){w[e]=function(){return this._dataLoader[e].apply(this._dataLoader,arguments)}})),w));t.VirtualScrollController=y;var x={VirtualScrollController:y};t.default=x},2020:(e,t,n)=>{Object.defineProperty(t,"exportDataGrid",{enumerable:!0,get:function(){return i.exportDataGrid}}),Object.defineProperty(t,"exportPivotGrid",{enumerable:!0,get:function(){return o.exportPivotGrid}});var i=n(5657),o=n(57152)},61011:(e,t,n)=>{t.export=function(e,t,n){if(!e)return(new l.Deferred).resolve();var o=t.exportingAction,r=t.exportedAction,s=t.fileSavingAction,d={fileName:t.fileName,format:t.format,cancel:!1};(0,a.isBoolean)(t.selectedRowsOnly)&&(d.selectedRowsOnly=t.selectedRowsOnly);if((0,a.isFunction)(o)&&o(d),!d.cancel)return n(e,t).then((function(e){if((0,a.isFunction)(r)&&r(),(0,a.isFunction)(s)&&(d.data=e,s(d)),!d.cancel){var n="xlsx"===t.format?"EXCEL":t.format;i.fileSaver.saveAs(d.fileName,n,e)}}));return(new l.Deferred).resolve()},Object.defineProperty(t,"fileSaver",{enumerable:!0,get:function(){return i.fileSaver}}),t.svg=t.pdf=t.image=void 0;var i=n(65738),o=n(1594),r=n(95960),a=n(49859),l=n(74460),s=n(20874);var d={creator:o.imageCreator,getData:o.getData,testFormats:o.testFormats};t.image=d;var u={getData:s.getData};t.pdf=u;var c={creator:r.svgCreator,getData:r.getData};t.svg=c},61796:(e,t,n)=>{t.ExportLoadPanel=void 0;var i=d(n(94965)),o=n(65102),r=d(n(63585)),a=n(49859),l=d(n(99578)),s=d(n(6697));function d(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t,n,o){this._$targetElement=t,this._$container=n,this._loadPanel=e._createComponent((0,i.default)("<div>").addClass("dx-export-loadpanel").appendTo(this._$container),l.default,this.getOptions(o))}var t=e.prototype;return t.getDefaultOptions=function(){return{animation:null,shading:!1,height:90,width:200,container:this._$container}},t.getOptions=function(e){return(0,a.isDefined)(e.text)?e.message=e.text:e.message=r.default.format("dxDataGrid-exporting"),(0,o.extend)(this.getDefaultOptions(),e)},t.show=function(){this._loadPanel.option("position",s.default.calculateLoadPanelPosition(this._$targetElement)),this._loadPanel.show()},t.dispose=function(){(0,i.default)(this._loadPanel.element()).remove(),delete this._loadPanel},e}();t.ExportLoadPanel=u},40136:(e,t,n)=>{t.Export=void 0;var i=n(49859),o=n(21762),r=n(65102),a=n(61796),l=n(85349),s={getFullOptions:function(e){var t=(0,r.extend)({},e);if(!(0,i.isDefined)(t.worksheet)||!(0,i.isObject)(t.worksheet))throw Error('The "worksheet" field must contain an object.');if((0,i.isDefined)(t.topLeftCell)){if((0,i.isString)(t.topLeftCell)){var n=t.worksheet.getCell(t.topLeftCell),o=n.row,a=n.col;t.topLeftCell={row:o,column:a}}}else t.topLeftCell={row:1,column:1};return(0,i.isDefined)(t.keepColumnWidths)||(t.keepColumnWidths=!0),(0,i.isDefined)(t.loadPanel)||(t.loadPanel={}),(0,i.isDefined)(t.loadPanel.enabled)||(t.loadPanel.enabled=!0),(0,i.isDefined)(t.encodeExecutableContent)||(t.encodeExecutableContent=!1),t},convertDateForExcelJS:function(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))},setNumberFormat:function(e,t){e.numFmt=t},getCellStyles:function(e){var t=this,n=e.getStyles();return n.forEach((function(e){var n=t.tryConvertToExcelNumberFormat(e.format,e.dataType);(0,i.isDefined)(n)&&(n=n.replace(/&quot;/g,'"')),e.numberFormat=n})),n},tryConvertToExcelNumberFormat:function(e,t){var n=o.ExportFormat.formatObjectConverter(e,t),i=n.currency;return e=n.format,t=n.dataType,o.ExportFormat.convertFormat(e,n.precision,t,i)},setAlignment:function(e,t,n){var o;e.alignment=null!==(o=e.alignment)&&void 0!==o?o:{},(0,i.isDefined)(t)&&(e.alignment.wrapText=t),(0,i.isDefined)(n)&&(e.alignment.horizontal=n),e.alignment.vertical="top"},setColumnsWidth:function(e,t,n){if((0,i.isDefined)(t))for(var o=0;o<t.length;o++){var r=t[o];"number"==typeof r&&isFinite(r)&&(e.getColumn(n+o).width=Math.min(255,Math.floor(r/7*100)/100))}},export:function(e,t,n,i){var o,s,d=this,u=e.component,c=e.worksheet,h=e.topLeftCell,f=e.keepColumnWidths,p=e.selectedRowsOnly,g=e.loadPanel,m=e.encodeExecutableContent,_=u.getDataProvider(p),v=(null===(o=u._getInternalInstance)||void 0===o?void 0:o.call(u))||u,C=v.option("loadPanel")&&v.option("loadPanel").enabled;if(C&&u.option("loadPanel.enabled",!1),g.enabled&&(0,l.hasWindow)()){var w=n(u),y=i(u);(s=new a.ExportLoadPanel(u,w,y,g)).show()}var x=!!u.option("wordWrapEnabled");c.properties.outlineProperties={summaryBelow:!1,summaryRight:!1};var I={from:{row:h.row,column:h.column},to:{row:h.row,column:h.column}};return new Promise((function(n){_.ready().done((function(){var i=_.getColumns(),o=_.getRowsCount(),a=new t(u,_,c,e);f&&d.setColumnsWidth(c,_.getColumnsWidths(),I.from.column),a._exportAllFieldHeaders(i,d.setAlignment);var l=a._getFieldHeaderRowsCount();I.to.row=I.from.row+l;for(var s=d.getCellStyles(_),h=0;h<o;h++){var p=I.from.row+l+h,g=c.getRow(p),v=0;a._isRowFieldHeadersRow(h)&&(v=_.getRowAreaColCount(),a._exportFieldHeaders("row",p,0,v,d.setAlignment)),a._trySetOutlineLevel(g,h),d.exportRow(_,a,g,h,v,i.length,x,s,m),I.to.row=p}a.mergedRangesManager.applyMergedRages(),I.to.column+=i.length>0?i.length-1:0;var C=c.views[0]||{};u.option("rtlEnabled")&&(C.rightToLeft=!0),a._isFrozenZone(_)&&(-1===Object.keys(C).indexOf("state")&&(0,r.extend)(C,a._getWorksheetFrozenState(I)),a._trySetAutoFilter(I)),Object.keys(C).length>0&&(c.views=[C]),n(I)})).always((function(){C&&u.option("loadPanel.enabled",C),g.enabled&&(0,l.hasWindow)()&&s.dispose()}))}))},exportRow:function(e,t,n,r,a,l,s,d,u){for(var c=a;c<l;c++){var h=e.getCellData(r,c,!0),f=n.getCell(t._getFirstColumnIndex()+c);t.mergedRangesManager.updateMergedRanges(f,r,c,t);var p=t.mergedRangesManager.findMergedCellInfo(r,c,t._isHeaderCell(r,c));if((0,i.isDefined)(p)&&f!==p.masterCell)f.style=p.masterCell.style,f.value=p.masterCell.value;else if((0,i.isDate)(h.value)?f.value=this.convertDateForExcelJS(h.value):f.value=h.value,(0,i.isDefined)(f.value)){var g=d[e.getStyleId(r,c)],m=g.bold,_=g.alignment,v=g.numberFormat;(0,i.isDefined)(v)?this.setNumberFormat(f,v):(0,i.isString)(f.value)&&/^[@=+-]/.test(f.value)&&this.setNumberFormat(f,"@"),t._trySetFont(f,m),this.setAlignment(f,s,_)}t._customizeCell(f,h.cellSourceData),u&&(f.value=o.ExportFormat.encode(f.value))}}};t.Export=s},5657:(e,t,n)=>{t.exportDataGrid=function(e){return o.Export.export(function(e){if(!(0,i.isDefined)(e)||!(0,i.isObject)(e))throw Error('The "exportDataGrid" method requires a configuration object.');if(!(0,i.isDefined)(e.component)||!(0,i.isObject)(e.component)||"dxDataGrid"!==e.component.NAME)throw Error('The "component" field must contain a DataGrid instance.');(0,i.isDefined)(e.selectedRowsOnly)||(e.selectedRowsOnly=!1);(0,i.isDefined)(e.autoFilterEnabled)||(e.autoFilterEnabled=!1);return o.Export.getFullOptions(e)}(e),a,l,s)};var i=n(49859),o=n(40136),r=n(85108),a=function(){function e(e,t,n,i){this.component=e,this.dataProvider=t,this.worksheet=n,this.mergedRangesManager=new r.MergedRangesManager(t,n),this.topLeftCell=i.topLeftCell,this.customizeCell=i.customizeCell,this.autoFilterEnabled=i.autoFilterEnabled}var t=e.prototype;return t._getFirstColumnIndex=function(){return this.topLeftCell.column},t._getFieldHeaderRowsCount=function(){return 0},t._trySetAutoFilter=function(e){if(this.autoFilterEnabled&&!(0,i.isDefined)(this.worksheet.autoFilter)&&this.dataProvider.getRowsCount()>0){var t={from:{row:e.from.row+this.dataProvider.getHeaderRowCount()-1,column:e.from.column},to:e.to};this.worksheet.autoFilter=t}},t._trySetFont=function(e,t){(0,i.isDefined)(t)&&(e.font=e.font||{},e.font.bold=t)},t._getWorksheetFrozenState=function(e){return{state:"frozen",ySplit:e.from.row+this.dataProvider.getFrozenArea().y-1}},t._trySetOutlineLevel=function(e,t){t>=this.dataProvider.getHeaderRowCount()&&(e.outlineLevel=this.dataProvider.getGroupLevel(t))},t._isFrozenZone=function(e){return e.getHeaderRowCount()>0},t._isHeaderCell=function(e){return e<this.dataProvider.getHeaderRowCount()},t._isInfoCell=function(){return!1},t._allowToMergeRange=function(){return!0},t._getAllFieldHeaders=function(){return[]},t._customizeCell=function(e,t){(0,i.isFunction)(this.customizeCell)&&this.customizeCell({excelCell:e,gridCell:t})},t._exportFieldHeaders=function(){},t._exportAllFieldHeaders=function(){},t._isRowFieldHeadersRow=function(){},e}();function l(e){return e.getView("rowsView").element()}function s(e){return e.getView("rowsView").element().parent()}},21762:(e,t,n)=>{t.ExportFormat=void 0;var i=n(31662),o=u(n(80342)),r=u(n(56335)),a=n(49859),l=n(78024),s=n(23258),d=n(65102);function u(e){return e&&e.__esModule?e:{default:e}}n(40854);var c=1632,h={thousands:"#,##0{0},&quot;K&quot;",millions:"#,##0{0},,&quot;M&quot;",billions:"#,##0{0},,,&quot;B&quot;",trillions:"#,##0{0},,,,&quot;T&quot;",percent:"0{0}%",decimal:"#{0}",fixedpoint:"#,##0{0}",exponential:"0{0}E+00",currency:" "},f=/a+/g,p=/E/g,g=/dE+/g,m=/L/g,_=/h/g,v=/./g;function C(e){var t=(r.default.format(new Date(2009,8,8,6,5,4),e)||"").toString(),n=(0,l.getFormat)((function(t){return r.default.format(t,e)}));return n&&(n=function(e){return e.split("/").join("\\/").split("'").map((function(e,t){return t%2==0?e.replace(f,"AM/PM").replace(g,"d").replace(p,"d").replace(m,"M").replace(_,"H").split("[").join("\\[").split("]").join("\\]"):e?e.replace(v,"\\$&"):"'"})).join("")}(n),n=function(e){var t=(0,s.getLanguageId)(),n=t?t.toString(16):"",i="";if(function(e){for(var t,n=0;n<e.length;n++)if((t=e.charCodeAt(n))>=c&&t<c+10)return!0;return!1}(e)){for(;n.length<3;)n="0"+n;i="[$-2010"+n+"]"}else n&&(i="[$-"+n+"]");return i}(t)+n),n}function w(e){return!!e&&(!!/^[@=\t\r]/.test(e)||!!/^[+-]/.test(e)&&!(0,a.isNumeric)(e))}var y={formatObjectConverter:function(e,t){var n={format:e,precision:e&&e.precision,dataType:t};return(0,a.isObject)(e)?(0,d.extend)(n,e,{format:e.formatter||e.type,currency:e.currency}):n},convertFormat:function(e,t,n,r){if((0,a.isDefined)(e)){if("date"===n)return C(e);if((0,a.isString)(e)&&h[e.toLowerCase()])return function(e,t,n){var r,a;return(a="currency"===e?o.default.getOpenXmlCurrencyFormat(n):h[e.toLowerCase()])&&(r=(0,i.format)(a,function(e,t){var n,i;if(t>0){for(n="decimal"!==e?".":"",i=0;i<t;i++)n+="0";return n}return""}(e,t))),r}(e,t,r)}},encode:function(e){var t=!1;if(!function(e){return!(!e||e.length<2)&&w(e)}(e)?function(e,t){return!(!e||e.length<4||e[0]!==t)&&w(e.substring(1,e.length-1))}(e,'"')&&(e=e.substring(1,e.length-1),t=!0):t=!0,t){var n="".concat('"').concat('"');return"\"'"+e.replaceAll('"',n)+'"'}return e}};t.ExportFormat=y},85108:(e,t)=>{t.MergedRangesManager=void 0;var n=function(){function e(e,t){this.dataProvider=e,this.worksheet=t,this.mergedCells=[],this.mergedRanges=[]}var t=e.prototype;return t.updateMergedRanges=function(e,t,n,i){if(i._isHeaderCell(t,n)&&!this.isCellInMergedRanges(t,n)){var o=this.dataProvider.getCellMerging(t,n),r=o.rowspan,a=o.colspan;if(a||r){var l=i._allowToMergeRange(t,n,r,a);if(this.updateMergedCells(e,t,n,r,a),l){var s=i._isInfoCell(t,n)&&i._allowExportRowFieldHeaders();this.mergedRanges.push({masterCell:e,rowspan:r-(s&&r>0),colspan:a})}}}},t.isCellInMergedRanges=function(e,t){return this.mergedCells[e]&&this.mergedCells[e][t]},t.findMergedCellInfo=function(e,t,n){if(n&&this.isCellInMergedRanges(e,t))return this.mergedCells[e][t]},t.updateMergedCells=function(e,t,n,i,o){for(var r=t;r<=t+i;r++)for(var a=n;a<=n+o;a++)this.mergedCells[r]||(this.mergedCells[r]=[]),this.mergedCells[r][a]={masterCell:e}},t.addMergedRange=function(e,t,n){this.mergedRanges.push({masterCell:e,rowspan:t,colspan:n})},t.applyMergedRages=function(){var e=this;this.mergedRanges.forEach((function(t){var n=t.masterCell.fullAddress.row,i=t.masterCell.fullAddress.col,o=n+t.rowspan,r=i+t.colspan;e.worksheet.mergeCells(n,i,o,r)}))},e}();t.MergedRangesManager=n},57152:(e,t,n)=>{t.exportPivotGrid=function(e){return o.Export.export(function(e){if(!(0,i.isDefined)(e)||!(0,i.isObject)(e))throw Error('The "exportPivotGrid" method requires a configuration object.');if(!(0,i.isDefined)(e.component)||!(0,i.isObject)(e.component)||"dxPivotGrid"!==e.component.NAME)throw Error('The "component" field must contain a PivotGrid instance.');(0,i.isDefined)(e.mergeRowFieldValues)||(e.mergeRowFieldValues=!0);(0,i.isDefined)(e.mergeColumnFieldValues)||(e.mergeColumnFieldValues=!0);(0,i.isDefined)(e.exportDataFieldHeaders)||(e.exportDataFieldHeaders=!1);(0,i.isDefined)(e.exportRowFieldHeaders)||(e.exportRowFieldHeaders=!1);(0,i.isDefined)(e.exportColumnFieldHeaders)||(e.exportColumnFieldHeaders=!1);(0,i.isDefined)(e.exportFilterFieldHeaders)||(e.exportFilterFieldHeaders=!1);return o.Export.getFullOptions(e)}(e),d,u,c)};var i=n(49859),o=n(40136),r=n(37954),a=n(10117),l=n(85108);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s.apply(this,arguments)}var d=function(){function e(e,t,n,i){this.component=e,this.dataProvider=t,this.worksheet=n,this.mergedRangesManager=new l.MergedRangesManager(t,n),this.topLeftCell=i.topLeftCell,this.customizeCell=i.customizeCell,this.mergeColumnFieldValues=i.mergeColumnFieldValues,this.mergeRowFieldValues=i.mergeRowFieldValues,this.exportFilterFieldHeaders=i.exportFilterFieldHeaders,this.exportDataFieldHeaders=i.exportDataFieldHeaders,this.exportColumnFieldHeaders=i.exportColumnFieldHeaders,this.exportRowFieldHeaders=i.exportRowFieldHeaders,this.rtlEnabled=e.option("rtlEnabled"),this.rowHeaderLayout=e.option("rowHeaderLayout"),this.wrapText=!!e.option("wordWrapEnabled"),this.filterFieldHeaders=this._tryGetFieldHeaders("filter"),this.dataFieldHeaders=this._tryGetFieldHeaders("data"),this.columnFieldHeaders=this._tryGetFieldHeaders("column"),this.rowFieldHeaders=this._tryGetFieldHeaders("row")}var t=e.prototype;return t._getFirstColumnIndex=function(){return this.topLeftCell.column},t._getWorksheetFrozenState=function(e){var t=this.dataProvider.getFrozenArea(),n=t.x,i=t.y;return{state:"frozen",xSplit:e.from.column+n-1,ySplit:e.from.row+i+this._getFieldHeaderRowsCount()-1}},t._getFieldHeaderRowsCount=function(){return 0+this._allowExportFilterFieldHeaders()+(this._allowExportDataFieldHeaders()||this._allowExportColumnFieldHeaders())},t._isFrozenZone=function(){return!0},t._isHeaderCell=function(e,t){return e<this.dataProvider.getColumnAreaRowCount()||t<this.dataProvider.getRowAreaColCount()},t._getDefaultFieldHeaderCellsData=function(e){return{text:e,value:e}},t._isInfoCell=function(e,t){return e<this.dataProvider.getColumnAreaRowCount()&&t<this.dataProvider.getRowAreaColCount()},t._allowToMergeRange=function(e,t,n,i){return!(this.dataProvider.isColumnAreaCell(e,t)&&!this.mergeColumnFieldValues&&i||this.dataProvider.isRowAreaCell(e,t)&&!this.mergeRowFieldValues&&n)},t._trySetAutoFilter=function(){},t._trySetFont=function(e,t){(0,i.isDefined)(t)&&(e.font=e.font||{},e.font.bold=t)},t._getFieldHeaderStyles=function(){var e={style:"thin",color:{argb:"FF7E7E7E"}};return{alignment:(0,r.getDefaultAlignment)(this.rtlEnabled),bold:!0,border:{bottom:e,left:e,right:e,top:e}}},t._trySetOutlineLevel=function(){},t._getAllFieldHeaders=function(){return this.dataProvider._exportController.getDataSource()._descriptions},t._tryGetFieldHeaders=function(e){if(!this["export".concat((0,a.camelize)(e,!0),"FieldHeaders")])return[];var t=this._getAllFieldHeaders()["data"===e?"values":"".concat(e,"s")].filter((function(t){return t.area===e}));return"right"===(0,r.getDefaultAlignment)(this.rtlEnabled)&&t.sort((function(e,t){return t.areaIndex-e.areaIndex})),t.map((function(e){return e.caption}))},t._customizeCell=function(e,t,n){(0,i.isFunction)(this.customizeCell)&&!n&&this.customizeCell({excelCell:e,pivotCell:t})},t._isRowFieldHeadersRow=function(e){var t=this._isInfoCell(e,0)&&"row"===this.dataProvider.getCellData(e+1,0,!0).cellSourceData.area;return this._allowExportRowFieldHeaders()&&t},t._exportAllFieldHeaders=function(e,t){var n=e.length,i=this.dataProvider.getRowAreaColCount(),o=this.topLeftCell.row;this._allowExportFilterFieldHeaders()&&(this._exportFieldHeaders("filter",o,0,n,t),o++),this._allowExportDataFieldHeaders()&&(this._exportFieldHeaders("data",o,0,i,t),this._allowExportColumnFieldHeaders()||this._exportFieldHeaders("column",o,i,n-i,t)),this._allowExportColumnFieldHeaders()&&(this._allowExportDataFieldHeaders()||this._exportFieldHeaders("data",o,0,i,t),this._exportFieldHeaders("column",o,i,n-i,t))},t._exportFieldHeaders=function(e,t,n,i,o){var r=this["".concat(e,"FieldHeaders")],a=this.worksheet.getRow(t),l="row"!==e||"row"===e&&"tree"===this.rowHeaderLayout;l&&this.mergedRangesManager.addMergedRange(a.getCell(this.topLeftCell.column+n),0,i-1);for(var d=0;d<i;d++){var u,c=a.getCell(this.topLeftCell.column+n+d),h=r,f=h.length>i||l?h.join(", "):h[d];u=s({},this._getDefaultFieldHeaderCellsData(f),{headerType:e}),c.value=f,this._applyHeaderStyles(c,o),this._customizeCell(c,u)}},t._applyHeaderStyles=function(e,t){var n=this._getFieldHeaderStyles(),i=n.bold,o=n.alignment,r=n.border;this._trySetFont(e,i),t(e,this.wrapText,o),e.border=r},t._allowExportRowFieldHeaders=function(){return this.rowFieldHeaders.length>0},t._allowExportFilterFieldHeaders=function(){return this.filterFieldHeaders.length>0},t._allowExportDataFieldHeaders=function(){return this.dataFieldHeaders.length>0},t._allowExportColumnFieldHeaders=function(){return this.columnFieldHeaders.length>0},e}();function u(e){return e._dataArea.groupElement()}function c(e){return e.$element()}},65738:(e,t,n)=>{t.fileSaver=t.MIME_TYPES=void 0;var i=s(n(70175)),o=n(85349),r=s(n(47625)),a=n(49859),l=n(68115);function s(e){return e&&e.__esModule?e:{default:e}}var d=(0,o.getWindow)(),u=(0,o.getNavigator)(),c={EXCEL:"xlsx",CSS:"css",PNG:"png",JPEG:"jpeg",GIF:"gif",SVG:"svg",PDF:"pdf"},h={CSS:"text/css",EXCEL:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",PNG:"image/png",JPEG:"image/jpeg",GIF:"image/gif",SVG:"image/svg+xml",PDF:"application/pdf"};t.MIME_TYPES=h;var f={_revokeObjectURLTimeout:3e4,_getDataUri:function(e,t){var n=this._getMimeType(e);return"data:".concat(n,";base64,").concat(t)},_getMimeType:function(e){return h[e]||"application/octet-stream"},_linkDownloader:function(e,t){var n=i.default.createElement("a");return n.download=e,n.href=t,n.target="_blank",n},_winJSBlobSave:function(e,t,n){var i=new Windows.Storage.Pickers.FileSavePicker;i.suggestedStartLocation=Windows.Storage.Pickers.PickerLocationId.documentsLibrary;var o=c[n];if(o){var r=this._getMimeType(n);i.fileTypeChoices.insert(r,["."+o])}i.suggestedFileName=t,i.pickSaveFileAsync().then((function(t){t&&t.openAsync(Windows.Storage.FileAccessMode.readWrite).then((function(t){var n=e.msDetachStream();Windows.Storage.Streams.RandomAccessStream.copyAsync(n,t).then((function(){t.flushAsync().done((function(){n.close(),t.close()}))}))}))}))},_click:function(e){try{e.dispatchEvent(new MouseEvent("click",{cancelable:!0}))}catch(n){var t=i.default.getDocument().createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,d,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}},_saveBlobAs:function(e,t,n){var i=this;if(this._blobSaved=!1,(0,a.isDefined)(u.msSaveOrOpenBlob))u.msSaveOrOpenBlob(n,e),this._blobSaved=!0;else if((0,a.isDefined)(d.WinJS))this._winJSBlobSave(n,e,t),this._blobSaved=!0;else{var o=d.URL||d.webkitURL||d.mozURL||d.msURL||d.oURL;if((0,a.isDefined)(o)){var r=o.createObjectURL(n),s=this._linkDownloader(e,r);setTimeout((function(){o.revokeObjectURL(r),i._objectUrlRevoked=!0}),this._revokeObjectURLTimeout),this._click(s)}else l.logger.warn("window.URL || window.webkitURL || window.mozURL || window.msURL || window.oURL is not defined")}},saveAs:function(e,t,n){var i=c[t];if(i&&(e+="."+i),(0,a.isFunction)(d.Blob))this._saveBlobAs(e,t,n);else{(0,a.isDefined)(u.userAgent.match(/iPad/i))||r.default.log("E1034");var o=this._linkDownloader(e,this._getDataUri(t,n));this._click(o)}}};t.fileSaver=f},1594:(e,t,n)=>{t.calcScaledInfo=Q,t.getData=function(e,t){return J.getData(e,t)},t.imageCreator=void 0,t.testFormats=function(e){var t=J._createCanvas(100,100,0);return e.reduce((function(e,n){var i=("image/"+n).toLowerCase();return-1!==t.toDataURL(i).indexOf(i)?e.supported.push(n):e.unsupported.push(n),e}),{supported:[],unsupported:[]})};var i=p(n(94965)),o=p(n(56609)),r=n(49859),a=n(71050),l=n(96993),s=n(65102),d=p(n(70175)),u=n(12907),c=n(85349),h=n(10117),f=n(74460);function p(e){return e&&e.__esModule?e:{default:e}}var g,m=(0,c.getWindow)(),_=Math,v=_.PI,C=_.min,w=_.abs,y=_.sqrt,x=_.pow,I=_.atan2,b=_.cos,E=_.sin,S=Number,O=.05,T="10px",D="sans-serif",R="#000";function F(e,t,n,i,o,r,a,l){var s=(e+n)/2,d=(t+i)/2,u=I(t-i,e-n),c=r?1:-1;u+=v/180*90*(a?1:-1);var h=y(x(n-e,2)+x(i-t,2))/2,f=y(w(x(o,2)-x(h,2))),p=s+c*(f*b(u)),g=d+c*(f*E(u)),m=I(t-g,e-p),_=I(i-g,n-p);l.arc(p,g,o,m,_,!a)}function A(e,t){var n,i=g(e.attributes||{}),o=(0,s.extend)({},i,{text:e.textContent.replace(/\s+/g," "),textAlign:"middle"===i["text-anchor"]?"center":i["text-anchor"]}),a=i.transform;return a&&((n=a.match(/translate\(-*\d+([.]\d+)*(,*\s*-*\d+([.]\d+)*)*/))&&(n=n[0].match(/-*\d+([.]\d+)*/g),o.translateX=S(n[0]),o.translateY=n[1]?S(n[1]):0),(n=a.match(/rotate\(-*\d+([.]\d+)*(,*\s*-*\d+([.]\d+)*,*\s*-*\d+([.]\d+)*)*/))&&(n=n[0].match(/-*\d+([.]\d+)*/g),o.rotationAngle=S(n[0]),o.rotationX=n[1]&&S(n[1]),o.rotationY=n[2]&&S(n[2])),(n=a.match(/scale\(-*\d+([.]\d+)*(,*\s*-*\d+([.]\d+)*)*/))&&(n=n[0].match(/-*\d+([.]\d+)*/g),o.scaleX=S(n[0]),n.length>1?o.scaleY=S(n[1]):o.scaleY=o.scaleX)),function(e,t,n){var i,o=e.style||{};for(i in o)""!==o[i]&&(t[(0,h.camelize)(i)]=o[i]);n&&d.default.isElementNode(e)&&(o=m.getComputedStyle(e),["fill","stroke","stroke-width","font-family","font-size","font-style","font-weight"].forEach((function(e){e in o&&""!==o[e]&&(t[(0,h.camelize)(e)]=o[e])})),["opacity","fill-opacity","stroke-opacity"].forEach((function(e){e in o&&""!==o[e]&&"1"!==o[e]&&(t[e]=S(o[e]))})));t.textDecoration=t.textDecoration||t.textDecorationLine,t.globalAlpha=(0,r.isDefined)(t.opacity)?t.opacity:t.globalAlpha}(e,o,t),o}function P(e){var t=e&&e.match(/url\(.*#(.*?)["']?\)/i);return t&&t[1]}function V(e,t){var n=[];t.fontSize=t.fontSize||T,t.fontFamily=t.fontFamily||D,t.fill=t.fill||R,t.fontStyle&&n.push(t.fontStyle),t.fontWeight&&n.push(t.fontWeight),n.push(t.fontSize),n.push(t.fontFamily),e.font=n.join(" "),e.textAlign=t.textAlign,e.fillStyle=t.fill,e.globalAlpha=t.globalAlpha}function B(e,t,n){V(e,t),H(e,t,n),t.text&&e.fillText(t.text,t.x||0,t.y||0),q(e,t,!0),function(e,t,n){if(!t.textDecoration||"none"===t.textDecoration)return;var i=t.x,o=e.measureText(t.text).width,r=parseInt(t.fontSize,10),a=r*O<1?1:r*O,l=t.y;switch(t.textDecoration){case"line-through":l-=r/3+a/2;break;case"overline":l-=r-a;break;case"underline":l+=a}e.rect(i,l,o,a),$(e,t,n),q(e,t)}(e,t,n)}function M(e){for(var t=e.childNodes,n=0;n<t.length;n++)if("tspan"===t[n].tagName)return!0;return!1}function k(e,t,n,i){for(var o,r=[],a=0,l=0;l<e.length;l++){var d=e[l];if(void 0===d.tagName)L(d,t,n,i);else if("tspan"===d.tagName||"text"===d.tagName){var u=A(d,i.rootAppended),c=(0,s.extend)({},n,u);if("tspan"===d.tagName&&M(d)){k(d.childNodes,t,c,i);continue}c.textAlign="start",o&&void 0===u.x||(o={elements:[],options:[],widths:[],offsets:[]},r.push(o)),void 0!==u.y&&(a=0),void 0!==u.dy&&(a+=parseFloat(u.dy)),o.elements.push(d),o.options.push(c),o.offsets.push(a),V(t,c),o.widths.push(t.measureText(c.text).width)}}r.forEach((function(e){var o=e.widths.reduce((function(e,t){return e+t}),0),r=0,a=0;"center"===n.textAlign&&(r=o/2),"end"===n.textAlign&&(r=o),e.options.forEach((function(t,n){var i=e.widths[n];t.x=t.x-r+a,t.y+=e.offsets[n],a+=i})),e.elements.forEach((function(n,o){k(n.childNodes,t,e.options[o],i)}))}))}function L(e,t,n,i){var o=e.tagName,r="text"===o||"tspan"===o||void 0===o,l="image"===o,d=8===e.nodeType,u=(0,s.extend)({},n,A(e,i.rootAppended));if("hidden"!==u.visibility&&!u[a.HIDDEN_FOR_EXPORT]&&!d){var c;switch(t.save(),!l&&W(t,u),z(t,u,i),function(e){e.strokeOpacity=void 0!==e["stroke-opacity"]?e["stroke-opacity"]:1,e.fillOpacity=void 0!==e["fill-opacity"]?e["fill-opacity"]:1,void 0!==e.opacity&&(e.strokeOpacity*=e.opacity,e.fillOpacity*=e.opacity)}(u),t.beginPath(),e.tagName){case void 0:B(t,u,i);break;case"text":case"tspan":k(e.childNodes,t,u,i);break;case"image":c=function(e,t,n){var i=new f.Deferred,o=new m.Image;return o.onload=function(){e.save(),e.globalAlpha=t.globalAlpha,W(e,t),z(e,t,n),e.drawImage(o,t.x||0,t.y||0,t.width,t.height),e.restore(),i.resolve()},o.onerror=function(){i.resolve()},o.setAttribute("crossOrigin","anonymous"),o.src=t.href||t["xlink:href"],i}(t,u,i);break;case"path":!function(e,t){var n,i,o,r=t.replace(/,/g," ").split(/([A-Z])/i).filter((function(e){return""!==e.trim()})),a=0;do{switch(n=(r[a+1]||"").trim().split(" "),r[a]){case"M":e.moveTo(S(n[0]),S(n[1])),a+=2;break;case"L":for(var l=0;l<n.length/2;l++)e.lineTo(S(n[2*l]),S(n[2*l+1]));a+=2;break;case"C":e.bezierCurveTo(S(n[0]),S(n[1]),S(n[2]),S(n[3]),S(n[4]),S(n[5])),a+=2;break;case"a":o=(i=r[a-1].trim().split(" ")).length-1,F(S(i[o-1]),S(i[o]),S(i[o-1])+S(n[5]),S(i[o])+S(n[6]),S(n[0]),S(n[3]),S(n[4]),e),a+=2;break;case"A":o=(i=r[a-1].trim().split(" ")).length-1,F(S(i[o-1]),S(i[o]),S(n[5]),S(n[6]),S(n[0]),S(n[3]),S(n[4]),e),a+=2;break;case"Z":e.closePath(),a+=1;break;default:a++}}while(a<r.length)}(t,u.d);break;case"rect":!function(e,t){var n=t.x,i=t.y,o=t.width,r=t.height,a=t.rx;a?(a=C(a,o/2,r/2),e.save(),e.translate(n,i),e.moveTo(o/2,0),e.arcTo(o,0,o,r,a),e.arcTo(o,r,0,r,a),e.arcTo(0,r,0,0,a),e.arcTo(0,0,a,0,a),e.lineTo(o/2,0),e.restore()):e.rect(n,i,o,r)}(t,u),t.closePath();break;case"circle":t.arc(u.cx,u.cy,u.r,0,2*v,1)}return r||(H(t,u,i),l||(c=$(t,u,i)),q(t,u)),N(t,u,i,e,"linear"),N(t,u,i,e,"radial"),t.restore(),c}}function N(e,t,n,i,o){var r=n.linearGradients,a=n.radialGradients,l="linear"===o?r:a;if(0!==Object.keys(l).length){var s=P(t.fill);if(s&&l[s]){var d=i.getBBox(),u=d.x+d.width/2,c=d.y+d.height/2,h=Math.max(d.height/2,d.width/2),f="linear"===o?e.createLinearGradient(d.x,0,d.x+d.width,0):e.createRadialGradient(u,c,0,u,c,h);if(l[s].colors.forEach((function(e){var t=parseInt(e.offset.replace(/%/,""));f.addColorStop(t/100,e.stopColor)})),"linear"===o){var p,g,m=null!==(p=(null===(g=l[s].transform)||void 0===g?void 0:g.replace(/\D/g,""))*Math.PI/180)&&void 0!==p?p:0;e.translate(u,c),e.rotate(m),e.translate(-u,-c)}e.globalAlpha=t.opacity,e.fillStyle=f,e.fill()}}}function H(e,t,n){var i,o=P(t.filter);o&&((i=n.filters[o])||(i={offsetX:0,offsetY:0,blur:0,color:"#000"}),e.shadowOffsetX=i.offsetX,e.shadowOffsetY=i.offsetY,e.shadowColor=i.color,e.shadowBlur=i.blur)}function W(e,t){e.translate(t.translateX||0,t.translateY||0),t.translateX=void 0,t.translateY=void 0,t.rotationAngle&&(e.translate(t.rotationX||0,t.rotationY||0),e.rotate(t.rotationAngle*v/180),e.translate(-(t.rotationX||0),-(t.rotationY||0)),t.rotationAngle=void 0,t.rotationX=void 0,t.rotationY=void 0),isFinite(t.scaleX)&&(e.scale(t.scaleX,t.scaleY),t.scaleX=void 0,t.scaleY=void 0)}function z(e,t,n){t["clip-path"]&&(L(n.clipPaths[P(t["clip-path"])],e,{},n),e.clip(),t["clip-path"]=void 0)}function G(e){var t,n={colors:[],transform:null===(t=e.attributes.gradientTransform)||void 0===t?void 0:t.textContent};return(0,l.each)(e.childNodes,(function(e,t){var i=t.attributes;n.colors.push({offset:i.offset.value,stopColor:i["stop-color"].value})})),n}function K(e){var t,n,i={};return(0,l.each)(e.childNodes,(function(e,r){var a=r.attributes;if(a.result)switch(a.result.value){case"gaussianBlurResult":i.blur=S(a.stdDeviation.value);break;case"offsetResult":i.offsetX=S(a.dx.value),i.offsetY=S(a.dy.value);break;case"floodResult":t=a["flood-color"]?a["flood-color"].value:"#000",n=a["flood-opacity"]?a["flood-opacity"].value:1,i.color=function(e,t){var n=new o.default(e);return"rgba("+n.r+","+n.g+","+n.b+","+t+")"}(t,n)}})),i}function j(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new f.Deferred,i=0;i<e.length;i++){var o=t(e[i]);if((0,r.isPromise)(o)){o.then((function(){j(Array.prototype.slice.call(e,i+1),t,n)}));break}}return i===e.length&&n.resolve(),n}function U(e,t,n,i){return j(e,(function(e){switch(e.tagName&&e.tagName.toLowerCase()){case"g":case"svg":var o=(0,s.extend)({},n,A(e,i.rootAppended));t.save(),W(t,o),z(t,o,i);var a=function(){t.restore()},l=U(e.childNodes,t,o,i);return(0,r.isPromise)(l)?l.then(a):a(),l;case"defs":return U(e.childNodes,t,{},i);case"clippath":i.clipPaths[e.attributes.id.textContent]=e.childNodes[0];break;case"pattern":i.patterns[e.attributes.id.textContent]=e;break;case"filter":i.filters[e.id]=K(e);break;case"lineargradient":i.linearGradients[e.attributes.id.textContent]=G(e);break;case"radialgradient":i.radialGradients[e.attributes.id.textContent]=G(e);break;default:return L(e,t,n,i)}}))}function q(e,t,n){var i=t.stroke;i&&"none"!==i&&0!==t["stroke-width"]&&(!function(e,t){var n=t["stroke-dasharray"]&&t["stroke-dasharray"].match(/(\d+)/g);n&&n.length&&(n=(0,l.map)(n,(function(e){return S(e)})),e.setLineDash(n))}(e,t),e.lineJoin=t["stroke-linejoin"],e.lineWidth=t["stroke-width"],e.globalAlpha=t.strokeOpacity,e.strokeStyle=i,n?e.strokeText(t.text,t.x,t.y):e.stroke(),e.globalAlpha=1)}function $(e,t,n){var i,o=t.fill;if(o&&"none"!==o)if(-1===o.search(/url/))e.fillStyle=o,e.globalAlpha=t.fillOpacity,e.fill(),e.globalAlpha=1;else{var a=n.patterns[P(o)];if(!a)return;i=function(e,t,n,i){var o=A(t,n.rootAppended),a=J._createCanvas(o.width,o.height,0),l=a.getContext("2d"),s=U(t.childNodes,l,o,n),d=function(){e.fillStyle=e.createPattern(a,"repeat"),e.globalAlpha=i.fillOpacity,e.fill(),e.globalAlpha=1};return(0,r.isPromise)(s)?s.then(d):d(),s}(e,a,n,t)}return i}function Y(e,t,n){return U(e.childNodes,t.getContext("2d"),{},{clipPaths:{},patterns:{},filters:{},linearGradients:{},radialGradients:{},rootAppended:n})}function X(e,t){var n=t.width,i=t.height,o=t.backgroundColor,r=t.margin,l=t.svgToCanvas,s=void 0===l?Y:l,c=Q(n,i),h=J._createCanvas(c.width,c.height,r),p=h.getContext("2d");p.setTransform(c.pixelRatio,0,0,c.pixelRatio,0,0);var g,m=(0,a.getSvgElement)(e),_=d.default.isElementNode(e);return p.translate(r,r),d.default.getBody().appendChild(h),_||((g=function(){var e=d.default.createElement("div");return e.style.left="-9999px",e.style.position="absolute",e}()).appendChild(m),d.default.getBody().appendChild(g)),m.attributes.direction&&(h.dir=m.attributes.direction.textContent),function(e,t,n,i,o){e.fillStyle=i||"#ffffff",e.fillRect(-o,-o,t+2*o,n+2*o)}(p,n,i,o,r),(0,f.fromPromise)(s(m,h,_&&(0,u.contains)(d.default.getBody(),e))).then((function(){return h})).always((function(){g&&d.default.getBody().removeChild(g),d.default.getBody().removeChild(h)}))}g=function(e){var t,n={};return(0,l.each)(e,(function(e,i){t=i.textContent,isFinite(t)&&(t=S(t)),n[i.name.toLowerCase()]=t})),n};var J={getImageData:function(e,t){var n="image/"+t.format;return(0,r.isFunction)(t.__parseAttributesFn)&&(g=t.__parseAttributesFn),X(e,t).then((function(e){return function(e,t){var n=e.toDataURL(t,1);return m.atob(n.substring(("data:"+t+";base64,").length))}(e,n)}))},getData:function(e,t){var n=this;return J.getImageData(e,t).then((function(e){var i="image/"+t.format;return(0,r.isFunction)(m.Blob)&&!t.useBase64?n._getBlob(e,i):n._getBase64(e)}))},_getBlob:function(e,t){var n,i=new Uint8Array(e.length);for(n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return new m.Blob([i.buffer],{type:t})},_getBase64:function(e){return m.btoa(e)},_createCanvas:function(e,t,n){var o=(0,i.default)("<canvas>")[0];return o.width=e+2*n,o.height=t+2*n,o.hidden=!0,o}};function Q(e,t){var n=m.devicePixelRatio||1;return{pixelRatio:n,width:e*n,height:t*n}}t.imageCreator=J},13358:(e,t,n)=>{t.Export=void 0;var i=n(49859),o=n(65102),r=u(n(56335)),a=u(n(80342)),l=u(n(63585)),s=n(61796),d=n(85349);function u(e){return e&&e.__esModule?e:{default:e}}var c={getFullOptions:function(e){var t=(0,o.extend)({},e);if(!(0,i.isDefined)(t.jsPDFDocument)||!(0,i.isObject)(t.jsPDFDocument))throw Error('The "jsPDFDocument" field must contain a jsPDF instance.');if(!(0,i.isDefined)(t.jsPDFDocument.autoTable)||!(0,i.isFunction)(t.jsPDFDocument.autoTable))throw Error('The "exportDataGrid" method requires a autoTable plugin for jsPDF object.');if((0,i.isDefined)(t.keepColumnWidths)||(t.keepColumnWidths=!0),(0,i.isDefined)(t.autoTableOptions)){if(!(0,i.isObject)(t.autoTableOptions))throw Error('The "autoTableOptions" option must be of object type.');t.autoTableOptions=(0,o.extend)(!0,{},this._getDefaultAutoTableOptions(),t.autoTableOptions)}else t.autoTableOptions=this._getDefaultAutoTableOptions();return(0,i.isDefined)(t.loadPanel)||(t.loadPanel={}),(0,i.isDefined)(t.loadPanel.enabled)||(t.loadPanel.enabled=!0),(0,i.isDefined)(t.loadPanel.text)||(t.loadPanel.text=l.default.format("dxDataGrid-exporting")),t},_getDefaultAutoTableOptions:function(){return{theme:"plain",tableLineColor:149,tableLineWidth:.1,styles:{textColor:51,lineColor:149,lineWidth:0},columnStyles:{},headStyles:{fontStyle:"normal",textColor:149,lineWidth:.1},bodyStyles:{lineWidth:.1},head:[],body:[]}},export:function(e){var t,n,o=this,r=e.jsPDFDocument,a=e.autoTableOptions,l=e.component,u=e.customizeCell,c=e.keepColumnWidths,h=e.selectedRowsOnly,f=e.loadPanel,p=(null===(t=l._getInternalInstance)||void 0===t?void 0:t.call(l))||l,g=p.option("loadPanel")&&p.option("loadPanel").enabled;if(g&&l.option("loadPanel.enabled",!1),f.enabled&&(0,d.hasWindow)()){var m=l.getView("rowsView");(n=new s.ExportLoadPanel(l,m.element(),m.element().parent(),f)).show()}var _=l.getDataProvider(h),v=!!l.option("wordWrapEnabled");return new Promise((function(e){_.ready().done((function(){var t=_.getColumns(),n=_.getStyles(),l=_.getRowsCount(),s=_.getHeaderRowCount(),d=[];if(c){var h=o._tryGetPdfColumnWidths(a.tableWidth,_.getColumnsWidths());(0,i.isDefined)(h)&&(0,i.isDefined)(a.columnStyles)&&o._setColumnWidths(a.columnStyles,h)}for(var f=0;f<l;f++){for(var p=[],g=0;g<t.length;g++){var m=_.getCellData(f,g,!0),C=m.value,w=m.cellSourceData,y=n[_.getStyleId(f,g)],x={content:o._getFormattedValue(C,y.format),styles:o._getPDFCellStyles(w.rowType,t[g].alignment,y,v)};if("header"===w.rowType){var I=o._tryGetMergeRange(f,g,d,_);I&&I.rowSpan>0&&(x.rowSpan=I.rowSpan+1),I&&I.colSpan>0&&(x.colSpan=I.colSpan+1),(!(d[f]&&d[f][g])||x.rowSpan>1||x.colSpan>1)&&((0,i.isFunction)(u)&&u({gridCell:w,pdfCell:x}),p.push(x))}else if("group"!==w.rowType||(0,i.isDefined)(x.content)||1!==p.length){var b;x.content=null!==(b=x.content)&&void 0!==b?b:"",(0,i.isFunction)(u)&&u({gridCell:w,pdfCell:x}),p.push(x)}else{var E;p[0].colSpan=null!==(E=p[0].colSpan)&&void 0!==E?E:1,p[0].colSpan++}}f<s?a.head.push(p):a.body.push(p)}r.autoTable(a),e()})).always((function(){g&&l.option("loadPanel.enabled",g),f.enabled&&(0,d.hasWindow)()&&n.dispose()}))}))},_getFormattedValue:function(e,t){if((0,i.isDefined)(t)){if((0,i.isDate)(e))return r.default.format(e,t);if((0,i.isNumeric)(e))return a.default.format(e,t)}return e},_getPDFCellStyles:function(e,t,n,i){var o=n.alignment,r=n.bold,a="header"===e?t:o,l={};return a&&(l.halign=a),r&&"header"!==e&&(l.fontStyle="bold"),i&&(l.cellWidth="wrap"),l},_tryGetMergeRange:function(e,t,n,i){if(!n[e]||!n[e][t]){var o=i.getCellMerging(e,t),r=o.colspan,a=o.rowspan;if(r||a){for(var l=e;l<=e+a;l++)for(var s=t;s<=t+r;s++)n[l]||(n[l]=[]),n[l][s]=!0;return{rowSpan:a,colSpan:r}}}},_tryGetPdfColumnWidths:function(e,t){if((0,i.isNumeric)(e)&&(0,i.isDefined)(t)){var n=t.reduce((function(e,t){return e+t}),0);return t.map((function(t){return e*t/n}))}},_setColumnWidths:function(e,t){t.forEach((function(t,n){e[n]=e[n]||{},e[n].cellWidth=t}))}};t.Export=c},81202:(e,t,n)=>{t.exportDataGrid=function(e){return o.Export.export(function(e){if(!(0,i.isDefined)(e)||!(0,i.isObject)(e))throw Error('The "exportDataGrid" method requires a configuration object.');if(!(0,i.isDefined)(e.component)||!(0,i.isObject)(e.component)||"dxDataGrid"!==e.component.NAME)throw Error('The "component" field must contain a DataGrid instance.');(0,i.isDefined)(e.selectedRowsOnly)||(e.selectedRowsOnly=!1);return o.Export.getFullOptions(e)}(e))};var i=n(49859),o=n(13358)},69066:(e,t,n)=>{t.addNewPage=function(e){e.addPage(),function(e){(0,i.isDefined)(e.getLineWidth)||(e.__borderWidth=null)}(e)},t.drawCellsContent=function(e,t,n,r){n.forEach((function(n){var l=n._rect,d=n.gridCell,h=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(n,a),f=l.x,g=l.y,m=l.w,_=l.h,v={doc:e,rect:{x:f,y:g,w:m,h:_},pdfCell:h,gridCell:d,cancel:!1};null==t||t(v),v.cancel||(function(e,t){(0,i.isDefined)(t.backgroundColor)&&(p(e,"fill",t.backgroundColor),u(e,t._rect.x,t._rect.y,t._rect.w,t._rect.h,"F"))}(e,n),function(e,t,n){if((0,i.isDefined)(t.text)&&""!==t.text){var r=t.textColor,a=t.font,l=t._rect,d=t.padding;!function(e,t,n){var r=t.textColor,a=t.font;p(e,"text",(0,i.isDefined)(r)?r:n.textColor);var l=(0,i.isDefined)(a)?(0,o.extend)({},n.font,a):n.font,s=e.getFont();(l.name!==s.fontName||l.style!==s.fontStyle||(0,i.isDefined)(l.weight))&&e.setFont(l.name,l.style,l.weight);l.size!==e.getFontSize()&&e.setFontSize(l.size)}(e,{textColor:r,font:a},n);var u,h,f={x:l.x+d.left,y:l.y+d.top,w:l.w-(d.left+d.right),h:l.h-(d.top+d.bottom)};if((0,i.isDefined)(t._textLeftOffset)||(0,i.isDefined)(t._textTopOffset))f.x=f.x+(null!==(u=t._textLeftOffset)&&void 0!==u?u:0),f.y=f.y+(null!==(h=t._textTopOffset)&&void 0!==h?h:0),e.saveGraphicsState(),function(e,t,n,i,o){e.moveTo(s(t),s(n)),e.lineTo(s(t+i),s(n)),e.lineTo(s(t+i),s(n+o)),e.lineTo(s(t),s(n+o)),e.clip(),e.discardPath()}(e,t._rect.x,t._rect.y,t._rect.w,t._rect.h);c(e,t.text,f,t.verticalAlign,t.horizontalAlign,t._internalTextOptions),((0,i.isDefined)(t._textLeftOffset)||(0,i.isDefined)(t._textTopOffset))&&e.restoreGraphicsState()}}(e,n,r))}))},t.drawCellsLines=function(e,t,n){t.filter((function(e){return!(0,i.isDefined)(e.borderColor)})).forEach((function(t){h(e,t._rect,t,n)})),t.filter((function(e){return(0,i.isDefined)(e.borderColor)})).forEach((function(t){h(e,t._rect,t,n)}))},t.drawGridLines=function(e,t,n,i){h(e,t,n,i)},t.drawLine=d,t.drawRect=u,t.drawTextInRect=c,t.getDocumentStyles=function(e){var t=e.getFont();return{borderWidth:g(e),borderColor:e.getDrawColor(),font:{name:t.fontName,style:t.fontStyle,size:e.getFontSize()},textColor:e.getTextColor()}},t.roundToThreeDecimals=s,t.setDocumentStyles=function(e,t){var n=t.borderWidth,i=t.borderColor,o=t.font,r=t.textColor,a=e.getFont();a.fontName===o.name&&a.fontStyle===o.style||e.setFont(o.name,o.style,void 0);e.getFontSize()!==o.size&&e.setFontSize(o.size);g(e)!==n&&m(e,n);e.getDrawColor()!==i&&e.setDrawColor(i);e.getTextColor()!==r&&e.setTextColor(r)};var i=n(49859),o=n(65102),r=n(29503),a=["_rect","gridCell"];function l(e){return e.charAt(0).toUpperCase()+e.slice(1)}function s(e){return Math.round(1e3*e)/1e3}function d(e,t,n,i,o){e.line(s(t),s(n),s(i),s(o))}function u(e,t,n,o,r,a){(0,i.isDefined)(a)?e.rect(s(t),s(n),s(o),s(r),a):e.rect(s(t),s(n),s(o),s(r))}function c(e,t,n,i,a,l){var d=t.split("\n"),u=d.length,c=(0,r.calculateTextHeight)(e,d[0],e.getFont(),{wordWrapEnabled:!1,targetRectWidth:1e9}),h=null!=i?i:"middle",f=null!=a?a:"left",p={top:0,middle:.5,bottom:1},g=n.y+n.h*p[h]-c*(u-1)*p[h]+function(e){return(e.getLineHeightFactor()-1.15)*e.getFontSize()}(e),m=n.x+n.w*{left:0,center:.5,right:1}[f],_=(0,o.extend)({baseline:h,align:f},l);e.text(d.join("\n"),s(m),s(g),_)}function h(e,t,n,o){var r=n.borderWidth,a=n.borderColor,l=n.drawLeftBorder,s=void 0===l||l,c=n.drawRightBorder,h=void 0===c||c,p=n.drawTopBorder,g=void 0===p||p,m=n.drawBottomBorder,_=void 0===m||m;if(!(0,i.isDefined)(t))throw"rect is required";(s||h||g||_)&&(s&&h&&g&&_?(f(e,{borderWidth:r,borderColor:a},o),u(e,t.x,t.y,t.w,t.h)):(f(e,{borderWidth:r,borderColor:a},o),g&&d(e,t.x,t.y,t.x+t.w,t.y),s&&d(e,t.x,t.y,t.x,t.y+t.h),h&&d(e,t.x+t.w,t.y,t.x+t.w,t.y+t.h),_&&d(e,t.x,t.y+t.h,t.x+t.w,t.y+t.h)))}function f(e,t,n){var o=t.borderWidth,a=t.borderColor,l=(0,i.isDefined)(o)?o:n.borderWidth;l!==g(e)&&m(e,(0,r.toPdfUnit)(e,l)),p(e,"draw",(0,i.isDefined)(a)?a:n.borderColor)}function p(e,t,n){var i="get".concat(l(t),"Color"),o="set".concat(l(t),"Color"),r=n.ch1,a=void 0===r?n:r,s=n.ch2,d=n.ch3,u=n.ch4;e.__private__.decodeColorString(e.__private__.encodeColorString({ch1:a,ch2:s,ch3:d,ch4:u,precision:"text"===t?3:2}))===e[i]()&&"fill"!==t||e[o].apply(e,[a,s,d,u].filter((function(e){return void 0!==e})))}function g(e){var t;return(0,i.isDefined)(e.getLineWidth)?e.getLineWidth():null!==(t=e.__borderWidth)&&void 0!==t?t:.200025}function m(e,t){e.setLineWidth(t),(0,i.isDefined)(e.getLineWidth)||(e.__borderWidth=t)}},76665:(e,t,n)=>{t.Export=void 0;var i,o=n(49859),r=n(65102),a=n(4844),l=n(43621),s=n(36705),d=n(94769),u=n(10132),c=n(69066),h=n(29503),f=(i=n(63585))&&i.__esModule?i:{default:i},p=n(61796),g=n(85349);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},m.apply(this,arguments)}var _={getFullOptions:function(e){var t=e.jsPDFDocument,n=(0,r.extend)({},e);return(0,o.isDefined)(n.topLeft)||(n.topLeft={x:0,y:0}),(0,o.isDefined)(n.indent)||(n.indent=0),(0,o.isDefined)(n.repeatHeaders)||(n.repeatHeaders=!0),(0,o.isDefined)(n.margin)||(n.margin=(0,h.toPdfUnit)(t,40)),n.margin=(0,a.normalizeBoundaryValue)(n.margin),Array.isArray(n.columnWidths)||(n.columnWidths=[]),(0,o.isDefined)(n.loadPanel)||(n.loadPanel={}),(0,o.isDefined)(n.loadPanel.enabled)||(n.loadPanel.enabled=!0),(0,o.isDefined)(n.loadPanel.text)||(n.loadPanel.text=f.default.format("dxDataGrid-exporting")),n},export:function(e){var t,n,i=e.jsPDFDocument,r=e.component,f=e.selectedRowsOnly,_=e.loadPanel,v=(null===(t=r._getInternalInstance)||void 0===t?void 0:t.call(r))||r,C=v.option("loadPanel")&&v.option("loadPanel").enabled;if(C&&r.option("loadPanel.enabled",!1),_.enabled&&(0,g.hasWindow)()){var w=r.getView("rowsView");(n=new p.ExportLoadPanel(r,w.element(),w.element().parent(),_)).show()}var y=r.getDataProvider(f);return new Promise((function(t){y.ready().done((function(){var n,f,p=(0,d.generateRowsInfo)(i,y,r,null===(n=e.rowOptions)||void 0===n||null===(f=n.headerStyles)||void 0===f?void 0:f.backgroundColor);e.customizeCell&&p.forEach((function(t){return t.cells.forEach((function(t){return e.customizeCell(t)}))})),(0,a.normalizeRowsInfo)(p),(0,l.initializeCellsWidth)(i,y,p,e),(0,l.resizeFirstColumnByIndentLevel)(p,e),(0,l.applyColSpans)(p),(0,l.calculateHeights)(i,p,e),(0,l.applyRowSpans)(p),(0,s.updateRowsAndCellsHeights)(i,p),(0,l.calculateCoordinates)(i,p,e),(0,l.applyBordersConfig)(p),(0,h.applyWordWrap)(i,p);var g=(0,c.getDocumentStyles)(i),_=!!r.option("rtlEnabled"),v=(0,u.splitByPages)(i,p,e,(function(e){var t,n=e.sourceRect,r=e.leftRect,a=e.rightRect,l={},s={};if((null===(t=n.sourceCellInfo.text)||void 0===t?void 0:t.length)>0)if(_){var d=i.getTextWidth(n.sourceCellInfo.text)>r.w,u=!(0,o.isDefined)(n.sourceCellInfo.horizontalAlign)||"right"===n.sourceCellInfo.horizontalAlign;if(d||!u){var c,h,f,p,g,v;if("right"===(null===(c=n.sourceCellInfo)||void 0===c?void 0:c.horizontalAlign))g=(p=null!==(v=n.sourceCellInfo._textLeftOffset)&&void 0!==v?v:0)+r.w;else"center"===(null===(h=n.sourceCellInfo)||void 0===h?void 0:h.horizontalAlign)?p=(g=n.x+n.w-(a.x+a.w)+n.sourceCellInfo._rect.w/2-r.w/2)-a.w:"left"===(null===(f=n.sourceCellInfo)||void 0===f?void 0:f.horizontalAlign)&&(p=(g=n.x+n.w-(a.x+a.w))-a.w);l=m({},{_textLeftOffset:p}),s=m({},{_textLeftOffset:g})}else s=m({},{text:""})}else{var C=i.getTextWidth(n.sourceCellInfo.text)>r.w,w=!(0,o.isDefined)(n.sourceCellInfo.horizontalAlign)||"left"===n.sourceCellInfo.horizontalAlign;if(C||!w){var y,x,I,b,E,S;if("left"===(null===(y=n.sourceCellInfo)||void 0===y?void 0:y.horizontalAlign))E=(b=null!==(S=n.sourceCellInfo._textLeftOffset)&&void 0!==S?S:0)-r.w;else if("center"===(null===(x=n.sourceCellInfo)||void 0===x?void 0:x.horizontalAlign)){var O,T=null!==(O=n.sourceCellInfo._textLeftOffset)&&void 0!==O?O:0;b=T+(n.x+n.w/2)-(r.x+r.w/2),E=T+(n.x+n.w/2)-(a.x+a.w/2)}else"right"===(null===(I=n.sourceCellInfo)||void 0===I?void 0:I.horizontalAlign)&&(b=n.x+n.w-(r.x+r.w),E=n.x+n.w-(a.x+a.w));l=m({},{_textLeftOffset:b}),s=m({},{_textLeftOffset:E})}else s=m({},{text:""})}r.sourceCellInfo=m({},n.sourceCellInfo,{debugSourceCellInfo:n.sourceCellInfo},l),a.sourceCellInfo=m({},n.sourceCellInfo,{debugSourceCellInfo:n.sourceCellInfo},s)}),(function(e){var t,n=e.sourceRect,o=e.topRect,r=e.bottomRect,a={},l={};if((null===(t=n.sourceCellInfo.text)||void 0===t?void 0:t.length)>0){var s,d=i.getTextDimensions(n.sourceCellInfo.text).h>o.h,u="top"===(null===(s=n.sourceCellInfo)||void 0===s?void 0:s.verticalAlign);if(d||!u){var c,h,f,p,g,_;if("top"===(null===(c=n.sourceCellInfo)||void 0===c?void 0:c.verticalAlign))g=(p=null!==(_=n.sourceCellInfo._textTopOffset)&&void 0!==_?_:0)-o.h;else if("middle"===(null===(h=n.sourceCellInfo)||void 0===h?void 0:h.verticalAlign)){var v,C=null!==(v=n.sourceCellInfo._textTopOffset)&&void 0!==v?v:0;p=C+(n.y+n.h/2)-(o.y+o.h/2),g=C+(n.y+n.h/2)-(r.y+r.h/2)}else"bottom"===(null===(f=n.sourceCellInfo)||void 0===f?void 0:f.verticalAlign)&&(p=n.y+n.h-(o.y+o.h),g=n.y+n.h-(r.y+r.h));a=m({},{_textTopOffset:p}),l=m({},{_textTopOffset:g})}else l=m({},{text:""})}o.sourceCellInfo=m({},n.sourceCellInfo,{debugSourceCellInfo:n.sourceCellInfo},a),r.sourceCellInfo=m({},n.sourceCellInfo,{debugSourceCellInfo:n.sourceCellInfo},l)}));_&&(0,h.applyRtl)(i,v,e),v.forEach((function(t,n){if(n>0&&(0,c.addNewPage)(i),(0,c.drawCellsContent)(i,e.customDrawCell,t,g),(0,c.drawCellsLines)(i,t,g),(0,o.isDefined)(t)&&0===t.length){var r=(0,l.calculateTableSize)(i,t,e),a=(0,d.getBaseTableStyle)();(0,c.drawGridLines)(i,r,a,g)}})),(0,c.setDocumentStyles)(i,g),t()})).always((function(){C&&r.option("loadPanel.enabled",C),_.enabled&&(0,g.hasWindow)()&&n.dispose()}))}))}};t.Export=_},36705:(e,t,n)=>{t.updateRowsAndCellsHeights=function(e,t){var n=function(e,t){var n=Array.from({length:t.length},(function(){return 0})),a=function(e){var t=function(e){var t=e.cells.map((function(e){var t;return null!==(t=e.rowSpan)&&void 0!==t?t:0}));return Math.max.apply(Math,r(t))};return r(e).sort((function(e,n){var i=t(e),o=t(n);return i>o?1:o>i?-1:0}))}(t);return a.forEach((function(r){r.cells.filter((function(e){return(0,i.isDefined)(e.rowSpan)})).forEach((function(i){var a=(0,o.calculateTargetRectWidth)(i.pdfCell._rect.w,i.pdfCell.padding),l=(0,o.calculateTextHeight)(e,i.pdfCell.text,i.pdfCell.font,{wordWrapEnabled:i.pdfCell.wordWrapEnabled,targetRectWidth:a})+i.pdfCell.padding.top+i.pdfCell.padding.bottom,s=i.rowSpan+1,d=t.slice(r.rowIndex,r.rowIndex+s).reduce((function(e,t){return e+t.height+n[t.rowIndex]}),0);if(l>d)for(var u=(l-d)/s,c=r.rowIndex;c<r.rowIndex+s;c++)n[c]+=u}))})),n}(e,t);t.forEach((function(e){e.height+=n[e.rowIndex]})),t.forEach((function(e){e.cells.forEach((function(n){var i,o=(null!==(i=n.rowSpan)&&void 0!==i?i:0)+1;n.pdfCell._rect.h=t.slice(e.rowIndex,e.rowIndex+o).reduce((function(e,t){return e+t.height}),0)}))}))};var i=n(49859),o=n(29503);function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}},4844:(e,t,n)=>{t.normalizeBoundaryValue=o,t.normalizeRowsInfo=function(e){e.forEach((function(e){e.cells.forEach((function(e){var t=e.pdfCell;t.padding=o(t.padding)}))}))};var i=n(49859);function o(e){var t,n,o,r;return(0,i.isNumeric)(e)?{top:e,right:e,bottom:e,left:e}:{top:null!==(t=null==e?void 0:e.top)&&void 0!==t?t:0,right:null!==(n=null==e?void 0:e.right)&&void 0!==n?n:0,bottom:null!==(o=null==e?void 0:e.bottom)&&void 0!==o?o:0,left:null!==(r=null==e?void 0:e.left)&&void 0!==r?r:0}}},29503:(e,t,n)=>{t.applyRtl=function(e,t,n){t.forEach((function(t){t.forEach((function(t){var i=r(e)-(t._rect.x+t._rect.w),o=n.margin.left-n.margin.right;t._rect.x=i+o}))}))},t.applyWordWrap=function(e,t){t.forEach((function(t){t.cells.forEach((function(t){var n=t.pdfCell;if((0,i.isDefined)(n.text)){var o=a(e,n.text,n.font,{wordWrapEnabled:n.wordWrapEnabled,targetRectWidth:l(n._rect.w,n.padding)});n.text=o.join("\n")}}))}))},t.calculateRowHeight=function(e,t,n){if(t.length!==n.length)throw"the cells count must be equal to the count of the columns";for(var o=0,r=0;r<t.length;r++)if(!(0,i.isDefined)(t[r].rowSpan)){var a=t[r].pdfCell.text,s=t[r].pdfCell.padding,u=t[r].pdfCell.font,c=t[r].pdfCell.wordWrapEnabled,h=l(n[r],s);if((0,i.isDefined)(a)){var f=(""!==a?d(e,a,u,{wordWrapEnabled:c,targetRectWidth:h}):0)+s.top+s.bottom;o<f&&(o=f)}}return o},t.calculateTargetRectWidth=l,t.calculateTextHeight=d,t.getPageHeight=function(e){return e.internal.pageSize.getHeight()},t.getPageWidth=r,t.getTextDimensions=s,t.getTextLines=a,t.toPdfUnit=function(e,t){var n=1/e.internal.scaleFactor;return t*n};var i=n(49859),o="...";function r(e){return e.internal.pageSize.getWidth()}function a(e,t,n,i){var r=i.wordWrapEnabled,a=i.targetRectWidth;if(r){var l=e.getFont(null==n?void 0:n.name,null==n?void 0:n.style);return e.splitTextToSize(t,a,{fontSize:(null==n?void 0:n.size)||e.getFontSize(),fontName:l.fontName,fontStyle:l.fontStyle})}var d=t.split("\n").filter((function(e){return""!==e})).join(" ");if(s(e,d,n).w<=a)return[d];for(var u=s(e,d+o,n).w;d.length>0&&u>a;){var c=0;u>=2*a&&(c=d.length/2),c<1&&(c=1),u=s(e,(d=d.substring(0,d.length-c))+o,n).w}return[d+o]}function l(e,t){var n=e-(t.left+t.right);return n>=0?n:0}function s(e,t,n){return e.getTextDimensions(t,{font:e.getFont(null==n?void 0:n.name,null==n?void 0:n.style),fontSize:(null==n?void 0:n.size)||e.getFontSize()})}function d(e,t,n,i){var o=i.wordWrapEnabled,r=i.targetRectWidth;return s(e,t,n).h*a(e,t,n,{wordWrapEnabled:o,targetRectWidth:r}).length*e.getLineHeightFactor()}},43621:(e,t,n)=>{t.applyBordersConfig=function(e){for(var t=0;t<e.length;t++)for(var n=e[t].cells,o=0;o<n.length;o++){var r=n[o].pdfCell,a=o>=1?n[o-1].pdfCell:null,l=t>=1?e[t-1].cells[o].pdfCell:null;!1!==r.drawLeftBorder||(0,i.isDefined)(n[o].colSpan)?(0,i.isDefined)(r.drawLeftBorder)||(0,i.isDefined)(a)&&!1===a.drawRightBorder&&(r.drawLeftBorder=!1):(0,i.isDefined)(a)&&(a.drawRightBorder=!1),!1===r.drawTopBorder?(0,i.isDefined)(l)&&(l.drawBottomBorder=!1):(0,i.isDefined)(r.drawTopBorder)||(0,i.isDefined)(l)&&!1===l.drawBottomBorder&&(r.drawTopBorder=!1)}},t.applyColSpans=function(e){for(var t=0;t<e.length;t++)for(var n=e[t],o=0;o<n.cells.length;o++){var r=n.cells[o];if((0,i.isDefined)(r.colSpan)&&!(0,i.isDefined)(r.pdfCell.isMerged))for(var a=1;a<=r.colSpan;a++){var l=e[t].cells[o+a];r.pdfCell._rect.w+=l.pdfCell._rect.w,l.pdfCell._rect.w=0,l.pdfCell.isMerged=!0}}},t.applyRowSpans=function(e){for(var t=0;t<e.length;t++)for(var n=e[t],o=0;o<n.cells.length;o++){var r=n.cells[o];if((0,i.isDefined)(r.rowSpan)&&!(0,i.isDefined)(r.pdfCell.isMerged))for(var a=1;a<=r.rowSpan;a++){var l=e[t+a].cells[o];r.pdfCell._rect.h+=l.pdfCell._rect.h,l.pdfCell._rect.h=0,l.pdfCell.isMerged=!0}}},t.calculateCoordinates=function(e,t,n){var i,o=null==n?void 0:n.topLeft,r=null==n?void 0:n.margin,a=(null!==(i=null==o?void 0:o.y)&&void 0!==i?i:0)+r.top;t.forEach((function(e){var t,i=(null!==(t=null==o?void 0:o.x)&&void 0!==t?t:0)+r.left,l=e.indentLevel*n.indent;e.cells.forEach((function(e){e.pdfCell._rect.x=i+l,e.pdfCell._rect.y=a,i+=e.pdfCell._rect.w})),a+=e.height}))},t.calculateHeights=function(e,t,n){t.forEach((function(t){var r,a=t.cells.map((function(e){return e.pdfCell}));if(n.onRowExporting){var l={rowCells:a};n.onRowExporting(l),(0,i.isDefined)(l.rowHeight)&&(r=l.rowHeight)}t.height=(0,i.isDefined)(r)?r:(0,o.calculateRowHeight)(e,t.cells,a.map((function(e){return e._rect.w}))),a.forEach((function(e){e._rect.h=t.height}))}))},t.calculateTableSize=function(e,t,n){var o,r,a,l,s,d,u,c,h,f;t.forEach((function(e){(!(0,i.isDefined)(u)||u>e._rect.x)&&(u=e._rect.x),(!(0,i.isDefined)(c)||c>e._rect.y)&&(c=e._rect.y),(!(0,i.isDefined)(h)||h<e._rect.x+e._rect.w)&&(h=e._rect.x+e._rect.w),(!(0,i.isDefined)(f)||f<e._rect.y+e._rect.h)&&(f=e._rect.y+e._rect.h)}));var p=null!==(o=null!==(r=u)&&void 0!==r?r:null==n||null===(a=n.topLeft)||void 0===a?void 0:a.x)&&void 0!==o?o:0,g=null!==(l=null!==(s=c)&&void 0!==s?s:null==n||null===(d=n.topLeft)||void 0===d?void 0:d.y)&&void 0!==l?l:0,m=(0,i.isDefined)(h)?h-p:0,_=(0,i.isDefined)(f)?f-g:0;return{x:p,y:g,w:m,h:_}},t.initializeCellsWidth=function(e,t,n,a){var l=function(e,t,n,a,l){var s=t.getColumnsWidths().map((function(t){return(0,o.toPdfUnit)(e,null!=t?t:150)})),d=s.filter((function(e,t){return!(0,i.isDefined)(l[t])})).reduce(r,0),u=l.filter((function(e){return(0,i.isNumeric)(e)})).reduce(r,0),c=function(e,t,n){return(0,o.getPageWidth)(e)-t-n.left-n.right}(e,n,a),h=u<c?(c-u)/d:1;return s.map((function(e,t){var n;return null!==(n=l[t])&&void 0!==n?n:e*h}))}(e,t,a.topLeft.x,a.margin,a.columnWidths);n.forEach((function(e){e.cells.forEach((function(e,t){e.gridCell,e.pdfCell._rect.w=l[t]}))}))},t.resizeFirstColumnByIndentLevel=function(e,t){e.forEach((function(e){e.cells[0].pdfCell._rect.w-=e.indentLevel*t.indent}))};var i=n(49859),o=n(29503),r=function(e,t){return e+t}},94769:(e,t,n)=>{t.generateRowsInfo=function(e,t,n,i){for(var o=[],r=t.getRowsCount(),a=!!n.option("wordWrapEnabled"),l=!!n.option("rtlEnabled"),s=t.getColumns(),d=t.getStyles(),c=0;c<r;c++){var h=t.getCellData(c,0,!0).cellSourceData.rowType,f="header"!==h?t.getGroupLevel(c):0,p=o[c-1];"groupFooter"===h&&"groupFooter"===(null==p?void 0:p.rowType)&&(f=p.indentLevel-1),o.push({rowType:h,indentLevel:f,cells:u({doc:e,dataProvider:t,rowIndex:c,wordWrapEnabled:a,columns:s,styles:d,rowType:h,backgroundColor:"header"===h?i:void 0,rtlEnabled:l}),rowIndex:c})}return o},t.getBaseTableStyle=function(){return d.base};var i=n(49859),o=l(n(56335)),r=l(n(80342)),a=n(29503);function l(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s.apply(this,arguments)}var d={base:{font:{size:10},borderWidth:.5,borderColor:"#979797"},header:{textColor:"#979797"},group:{},data:{},groupFooter:{},totalFooter:{}};function u(e){for(var t=e.doc,n=e.dataProvider,o=e.rowIndex,r=e.wordWrapEnabled,l=e.columns,d=e.styles,u=e.rowType,f=e.backgroundColor,p=e.rtlEnabled,g=[],m=0;m<l.length;m++){var _,v=n.getCellData(o,m,!0),C=d[n.getStyleId(o,m)],w=c(l[m],u,C),y=p?"right":"left",x=(0,a.toPdfUnit)(t,5),I={text:h(v.value,C.format),verticalAlign:"middle",horizontalAlign:null!==(_=w.alignment)&&void 0!==_?_:y,wordWrapEnabled:r,backgroundColor:f,padding:{top:x,right:x,bottom:x,left:x},_rect:{},_internalTextOptions:{}};p&&(I._internalTextOptions.isInputVisual=!1,I._internalTextOptions.isOutputVisual=!0,I._internalTextOptions.isInputRtl=!0,I._internalTextOptions.isOutputRtl=!1);var b={gridCell:v.cellSourceData,pdfCell:s({},I,w)};if("header"===u){var E=n.getCellMerging(o,m);E&&E.rowspan>0&&(b.rowSpan=E.rowspan),E&&E.colspan>0&&(b.colSpan=E.colspan)}else if("group"===u){var S=p?"drawRightBorder":"drawLeftBorder",O=p?"drawLeftBorder":"drawRightBorder";if(b.pdfCell[S]=0===m,b.pdfCell[O]=m===l.length-1,m>0){var T=g.slice(1).reduce((function(e,t){return e&&!(0,i.isDefined)(t.pdfCell.text)}),!0);if(!(0,i.isDefined)(b.pdfCell.text)&&T){g[0].pdfCell[O]=!0;for(var D=0;D<g.length;D++)g[D].colSpan=g.length;b.colSpan=g.length}}}g.push(b)}return g}function c(e,t,n){var i=s({},d.base,d[t]),o="header"===t?e.alignment:n.alignment;return o&&(i.alignment=o),n.bold&&"header"!==t&&(i.font=s({},i.font,{style:"bold"})),i}function h(e,t){if((0,i.isDefined)(t)){if((0,i.isDate)(e))return o.default.format(e,t);if((0,i.isNumeric)(e))return r.default.format(e,t)}return null==e?void 0:e.toString()}},10943:(e,t,n)=>{t.createOnSplitMultiPageRow=void 0;var i=n(29503);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o.apply(this,arguments)}function r(e,t,n){return o({},e,{sourceCellInfo:o({},e.sourceCellInfo,{text:t}),y:n})}t.createOnSplitMultiPageRow=function(e,t,n,o){return function(a,l){var s=[],d=[],u=0,c=0;return l.forEach((function(l){var h=l.w,f=l.sourceCellInfo,p=!a&&t.repeatHeaders?n:n+t.topLeft.y,g=(0,i.getTextDimensions)(e,f.text,f.font).h,m=f.padding.top+f.padding.bottom,_=o.y-p-m-t.margin.top,v=Math.floor(_/(g*e.getLineHeightFactor())),C=(0,i.getTextLines)(e,f.text,f.font,{wordWrapEnabled:f.wordWrapEnabled,targetRectWidth:h});if(v<C.length){var w=C.slice(0,v).join("\n"),y=(0,i.calculateTextHeight)(e,w,f.font,{wordWrapEnabled:f.wordWrapEnabled,targetRectWidth:h});u=Math.max(u,y+m),c=l.h-y,s.push(r(l,w,t.margin.top)),d.push(r(l,C.slice(v).join("\n"),t.margin.top))}else{var x=(0,i.calculateTextHeight)(e,f.text,f.font,{wordWrapEnabled:f.wordWrapEnabled,targetRectWidth:h});u=Math.max(u,x+m),c=Math.max(c,x+m),s.push(r(l,f.text,t.margin.top)),d.push(r(l,"",t.margin.top))}})),s.forEach((function(e){return e.h=u})),d.forEach((function(e){return e.h=c})),[s,d]}}},20327:(e,t)=>{function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n.apply(this,arguments)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],s=!0,d=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){d=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}t.getMultiPageRowPages=t.checkPageContainsOnlyHeader=void 0;var r=function(e){return"header"===(null==e?void 0:e.sourceCellInfo.gridCell.rowType)};t.checkPageContainsOnlyHeader=function(e,t){return t&&r(e[e.length-1])};t.getMultiPageRowPages=function(e,t,o,a,l){if(!a)return[];var s=e[e.length-1],d=t[e.length];if(!d||r(d))return[];if(l(o,d.h)&&!o)return[];var u=t.filter((function(e){return e.y===d.y})),c=function(e,t,o,r,a){for(var l=i(r(t,e),2),s=l[0],d=l[1],u=[t?s.map((function(e){return n({},e,{y:o})})):s];!a(!1,d[0].h);){var c=i(r(!1,d),2);s=c[0],d=c[1],u.push(s)}return[u,d]}(u,o,s.y+s.h,a,l),h=i(c,2),f=h[0];return function(e,t,n){t.forEach((function(e,t){e.sourceCellInfo.text=n[t].sourceCellInfo.text,e.h=n[t].h}));var i=e.indexOf(t[t.length-1])+1;if(!(i>=e.length))for(var o=e[i].y-(t[0].y+n[0].h),r=i;r<e.length;r++)e[r].y=e[r].y-o}(t,u,h[1]),f}},10132:(e,t,n)=>{t.splitByPages=function(e,t,n,i,a){if(0===t.length)return[[]];var s={x:(0,o.getPageWidth)(e)-n.margin.right,y:(0,o.getPageHeight)(e)-n.margin.bottom},u=t.filter((function(e){return"header"===e.rowType})),c=u.reduce((function(e,t){return e+t.height}),0),h=m(g(t),n.margin.top,"y","h",(function(e,t){var i=!e&&n.repeatHeaders?c:0;return(0,r.roundToThreeDecimals)(t+i)<=(0,r.roundToThreeDecimals)(s.y)}),(function(e,t,n,i){var o={sourceRect:e,topRect:{x:e.x,y:e.y,w:e.w,h:t-e.y},bottomRect:{x:e.x,y:t,w:e.w,h:e.h-(t-e.y)}};a(o),n.push(o.topRect),i.push(o.bottomRect)}),(0,l.createOnSplitMultiPageRow)(e,n,c,s));if(n.repeatHeaders)for(var p=1;p<h.length;p++){h[p].forEach((function(e){return e.y+=c}));var _=g(u);_.forEach((function(e){e.y-=n.topLeft.y})),h[p]=[].concat(d(_),d(h[p]))}var v=0;for(;v<h.length;){var C=m(h[v],n.margin.left,"x","w",(function(e,t){return(0,r.roundToThreeDecimals)(t)<=(0,r.roundToThreeDecimals)(s.x)}),(function(e,t,n,o){var r={sourceRect:e,leftRect:{x:e.x,y:e.y,w:t-e.x,h:e.h},rightRect:{x:t,y:e.y,w:e.w-(t-e.x),h:e.h}};i(r),n.push(r.leftRect),o.push(r.rightRect)}));C.length>1?(h.splice.apply(h,[v,1].concat(d(C))),v+=C.length):v+=1}return h.map((function(e){return e.map((function(e){return f({},e.sourceCellInfo,{_rect:e})}))}))};var i=n(49859),o=n(29503),r=n(69066),a=n(20327),l=n(10943);function s(e){return function(e){if(Array.isArray(e))return e}(e)||c(e)||u(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){return function(e){if(Array.isArray(e))return h(e)}(e)||c(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function c(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},f.apply(this,arguments)}var p=.001;function g(e){return[].concat.apply([],e.map((function(e){return e.cells.filter((function(e){return!(0,i.isDefined)(e.pdfCell.isMerged)})).map((function(e){return f({},e.pdfCell._rect,{sourceCellInfo:f({},e.pdfCell,{gridCell:e.gridCell})})}))})))}function m(e,t,n,o,r,l,u){for(var c=[],h=d(e),f=function(e,n){return r(e,n+t)},g=function(){var e=0,g=h.filter((function(t){var i=t[n]+t[o];return!!r(0===c.length,i)&&(e<=i&&(e=i),!0)})),m=(0,a.checkPageContainsOnlyHeader)(g,0===c.length),_=(0,a.getMultiPageRowPages)(g,h,m,u,f);if(h.filter((function(t){var i=t[n],r=t[n]+t[o];return e-i>p&&r-e>p})).forEach((function(t){l(t,e,g,h);var n=h.indexOf(t);-1!==n&&h.splice(n,1)})),g.forEach((function(e){var t=h.indexOf(e);-1!==t&&h.splice(t,1)})),h.forEach((function(o){o[n]=(0,i.isDefined)(e)?o[n]-e+t:o[n]})),m&&_.length>0){var v=s(_),C=v[0],w=v.slice(1);c.push([].concat(d(g),d(C))),c.push.apply(c,d(w))}else if(g.length>0)c.push(g),c.push.apply(c,d(_));else{if(!(_.length>0))return c.push(h),"break";c.push.apply(c,d(_)),c.push(h)}};h.length>0;){if("break"===g())break}return c}},54869:(e,t,n)=>{t.exportDataGrid=function(e){return a.Export.export(function(e){if(!(0,o.isDefined)(e)||!(0,o.isObject)(e))throw Error('The "exportDataGrid" method requires a configuration object.');if(!(0,o.isDefined)(e.component)||!(0,o.isObject)(e.component)||"dxDataGrid"!==e.component.NAME)throw Error('The "component" field must contain a DataGrid instance.');if(!(0,o.isDefined)(e.jsPDFDocument)||!(0,o.isObject)(e.jsPDFDocument))throw Error('The "jsPDFDocument" field must contain a jsPDF instance.');(0,o.isDefined)(e.autoTableOptions)&&r.default.log("W0001","Export","autoTableOptions","22.1","You can migrate from exporting to PDF with the AutoTable plugin to a new export system. See the following topic for more information: ".concat(l));return a.Export.getFullOptions(e)}(e))};var i,o=n(49859),r=(i=n(91638))&&i.__esModule?i:{default:i},a=n(76665);var l="https://supportcenter.devexpress.com/ticket/details/t1077554"},55051:(e,t)=>{t.exportGantt=function(e){var t=e.component;return null==t?void 0:t.exportToPdf(e)}},20874:(e,t,n)=>{t.getData=function(e,t){return r.imageCreator.getImageData(e,(0,l.extend)({},t,{format:"JPEG"})).then((function(e){var n,i,o=c(e,t,(n=h(),i=[n.getUTCFullYear(),g(n.getUTCMonth()),g(n.getUTCDate()),g(n.getUTCHours()),g(n.getUTCMinutes()),g(n.getUTCSeconds())],"(D:".concat(i.join(""),"Z00'00')")));return(0,a.isFunction)(s.Blob)?f(o):p(o)}))};var i=n(49759),o=n(85349),r=n(1594),a=n(49859),l=n(65102),s=(0,o.getWindow)(),d="xref\r\n0 8\r\n0000000000 65535 f\r\n0000000241 00000 n\r\n0000000010 00000 n\r\n_main_ 00000 n\r\n0000000089 00000 n\r\n_image_ 00000 n\r\n_info_ 00000 n\r\n0000000143 00000 n\r\n",u=function e(t,n){return t.length<n?e("0"+t,n):t},c=function(e,t,n){var o=2*(t.margin||0),a=(0,r.calcScaledInfo)(t.width,t.height),l=a.width,s=a.height;s+=o;var c,h,f,p=(.75*(l+=o)).toFixed(2),g=(.75*s).toFixed(2),m=Math.floor(l),_=Math.floor(s),v="%PDF-1.3\r\n2 0 obj\r\n<</ProcSet[/PDF/ImageB/ImageC/ImageI]/XObject<</I0 5 0 R>>>>\r\nendobj\r\n4 0 obj\r\n<</Type/Pages/Kids[1 0 R]/Count 1>>\r\nendobj\r\n7 0 obj\r\n<</OpenAction[1 0 R /FitH null]/Type/Catalog/Pages 4 0 R/PageLayout/OneColumn>>\r\nendobj\r\n1 0 obj\r\n<</Type/Page/Resources 2 0 R/MediaBox[0 0 _width_ _height_]/Contents 3 0 R/Parent 4 0 R>>\r\nendobj\r\n".replace("_width_",p).replace("_height_",g),C="3 0 obj\r\n<</Length 52>>stream\r\n0.20 w\n0 G\nq _width_ 0 0 _height_ 0.00 0.00 cm /I0 Do Q\r\nendstream\r\nendobj\r\n".replace("_width_",p).replace("_height_",g),w="6 0 obj\r\n<</CreationDate _date_/Producer(DevExtreme _version_)>>\r\nendobj\r\n".replace("_date_",n).replace("_version_",i.version),y=v+C+w+("5 0 obj\r\n<</Type/XObject/Subtype/Image/Width _width_/Height _height_/ColorSpace/DeviceRGB/BitsPerComponent 8/Filter/DCTDecode/Length _length_>>stream\r\n".replace("_width_",m).replace("_height_",_).replace("_length_",e.length)+e+"\r\nendstream\r\nendobj\r\n");return y+(c=v.length,h=C.length,f=w.length,d.replace("_main_",u(c+"",10)).replace("_info_",u(c+h+"",10)).replace("_image_",u(c+h+f+"",10)))+"trailer\r\n<<\r\n/Size 8\r\n/Root 7 0 R\r\n/Info 6 0 R\r\n>>\r\nstartxref\r\n_length_\r\n%%EOF".replace("_length_",y.length)};var h=function(){return new Date},f=function(e){for(var t=0,n=new Uint8Array(e.length);t<e.length;t++)n[t]=e.charCodeAt(t);return new s.Blob([n.buffer],{type:"application/pdf"})},p=function(e){return s.btoa(e)};function g(e){return 1===e.toString().length?"0".concat(e):e}},95960:(e,t,n)=>{t.getData=function(e,t){return h.getData(e,t)},t.svgCreator=void 0;var i=u(n(94965)),o=u(n(58112)),r=n(85349),a=n(49859),l=n(96993),s=n(71050),d=n(74460);function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,r.getWindow)(),h={_markup:"",_imageArray:{},_imageDeferreds:[],_getBinaryFile:function(e,t){o.default.sendRequest({url:e,method:"GET",responseType:"arraybuffer"}).done(t).fail((function(){t(!1)}))},_loadImages:function(){var e=this;(0,l.each)(e._imageArray,(function(t){var n=new d.Deferred;e._imageDeferreds.push(n),e._getBinaryFile(t,(function(i){if(!i)return delete e._imageArray[t],void n.resolve();var o,r="",a=new Uint8Array(i),l=a.byteLength;for(o=0;o<l;o++)r+=String.fromCharCode(a[o]);e._imageArray[t]="data:image/png;base64,"+c.btoa(r),n.resolve()}))}))},_parseImages:function(e){var t,n=this;"image"===e.tagName&&(t=(0,i.default)(e).attr("href")||(0,i.default)(e).attr("xlink:href"),n._imageArray[t]||(n._imageArray[t]="")),(0,l.each)(e.childNodes,(function(e,t){n._parseImages(t)}))},_prepareImages:function(e){return this._parseImages(e),this._loadImages(),d.when.apply(i.default,this._imageDeferreds)},getData:function(e,t){var n,o=this,r=(0,s.getSvgElement)(e),d=(0,i.default)(r);return d.find("[".concat(s.HIDDEN_FOR_EXPORT,"]")).remove(),n='<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>'+(0,s.getSvgMarkup)(d.get(0),t.backgroundColor),o._prepareImages(r).then((function(){return(0,l.each)(o._imageArray,(function(e,t){var i="href=['|\"]".concat(e,"['|\"]");n=n.replace(new RegExp(i,"gi"),'href="'.concat(t,'"'))})),(0,a.isFunction)(c.Blob)?o._getBlob(n):o._getBase64(n)}))},_getBlob:function(e){return new c.Blob([e],{type:"image/svg+xml"})},_getBase64:function(e){return c.btoa(e)}};t.svgCreator=h},69763:(e,t,n)=>{Object.defineProperty(t,"exportDataGrid",{enumerable:!0,get:function(){return i.exportDataGrid}}),Object.defineProperty(t,"exportDataGridWithAutoTable",{enumerable:!0,get:function(){return o.exportDataGrid}}),Object.defineProperty(t,"exportGantt",{enumerable:!0,get:function(){return r.exportGantt}});var i=n(54869),o=n(81202),r=n(55051)},56142:(e,t,n)=>{t.default=void 0;var i=b(n(94965)),o=b(n(70175)),r=b(n(38608)),a=b(n(6909)),l=b(n(1283)),s=n(48152),d=n(49859),u=n(12907),c=n(26391),h=n(96993),f=n(65102),p=n(85349),g=b(n(18053)),m=b(n(84728)),_=b(n(70974)),v=n(6473),C=b(n(75568)),w=b(n(20989)),y=n(74460),x=n(60481),I=b(n(4103));function b(e){return e&&e.__esModule?e:{default:e}}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}var S="dx-menu",O=S+"-item",T=O+"-expanded",D=S+"-items-container",R=O+"-wrapper",F="dx-submenu",A="dx-state-hover",P="down",V="first",B="last",M=["onShowing","onShown","onSubmenuCreated","onHiding","onHidden","onPositioning","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu"],k=["up",P,V,B],L="dxcontextmenu",N=(0,p.getWindow)(),H=function(e){var t,n;function l(){return e.apply(this,arguments)||this}n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,E(t,n);var w=l.prototype;return w.getShowEvent=function(e){var t=null;return(0,d.isObject)(e)?null!==e.name&&(t=e.name||L):t=e,t},w.getShowDelay=function(e){return(0,d.isObject)(e)&&e.delay},w._getDefaultOptions=function(){return(0,f.extend)(e.prototype._getDefaultOptions.call(this),{showEvent:L,hideOnOutsideClick:!0,position:{at:"top left",my:"top left"},onShowing:null,onShown:null,onSubmenuCreated:null,onHiding:null,onHidden:null,onPositioning:null,submenuDirection:"auto",visible:!1,target:void 0,onLeftFirstItem:null,onLeftLastItem:null,onCloseRootSubmenu:null,onExpandLastSubmenu:null})},w._defaultOptionsRules=function(){return e.prototype._defaultOptionsRules.call(this).concat([{device:function(){return!(0,p.hasWindow)()},options:{animation:null}}])},w._setDeprecatedOptions=function(){e.prototype._setDeprecatedOptions.call(this),(0,f.extend)(this._deprecatedOptions,{closeOnOutsideClick:{since:"22.2",alias:"hideOnOutsideClick"}})},w._initActions=function(){var e=this;this._actions={},(0,h.each)(M,(function(t,n){e._actions[n]=e._createActionByOption(n)||s.noop}))},w._setOptionsByReference=function(){e.prototype._setOptionsByReference.call(this),(0,f.extend)(this._optionsByReference,{animation:!0,selectedItem:!0})},w._focusInHandler=function(){},w._itemContainer=function(){return this._overlay?this._overlay.$content():(0,i.default)()},w._eventBindingTarget=function(){return this._itemContainer()},w.itemsContainer=function(){return this._overlay?this._overlay.$content():void 0},w._supportedKeys=function(){var t=this;return(0,f.extend)(e.prototype._supportedKeys.call(this),{space:function(){var e=(0,i.default)(t.option("focusedElement"));t.hide(),e.length&&t._isSelectionEnabled()&&t.selectItem(e[0])},escape:this.hide})},w._getActiveItem=function(){var t=this._getAvailableItems(),n=t.filter(".".concat("dx-state-focused")),i=t.filter(".".concat(A));return i.closest(".".concat(D)).find(".".concat(O)).index(n)>=0?n:i.length?i:e.prototype._getActiveItem.call(this)},w._moveFocus=function(t){var n,o=this._getItemsByLocation(t),r=this._getActiveItem(!0),a=this.itemsContainer().find(".".concat(A)),l=!(!(0,i.default)(this.option("focusedElement")).length&&!a.length);switch(t){case"up":n=l?this._prevItem(o):r,this._setFocusedElement(n),r.is(o.first())&&this._actions.onLeftFirstItem(r);break;case P:n=l?this._nextItem(o):r,this._setFocusedElement(n),r.is(o.last())&&this._actions.onLeftLastItem(r);break;case"right":n=this.option("rtlEnabled")?this._hideSubmenuHandler():this._expandSubmenuHandler(o,t),this._setFocusedElement(n);break;case"left":n=this.option("rtlEnabled")?this._expandSubmenuHandler(o,t):this._hideSubmenuHandler(),this._setFocusedElement(n);break;case V:n=o.first(),this._setFocusedElement(n);break;case B:n=o.last(),this._setFocusedElement(n);break;default:return e.prototype._moveFocus.call(this,t)}},w._setFocusedElement=function(e){e&&0!==e.length&&this.option("focusedElement",(0,c.getPublicElement)(e))},w._getItemsByLocation=function(e){var t,n=this._getActiveItem(!0);return k.includes(e)&&(t=n.closest(".".concat(D)).children().children()),t=this._getAvailableItems(t)},w._getAriaTarget=function(){return this.$element()},w._refreshActiveDescendant=function(){if((0,d.isDefined)(this._overlay)){var t=this._overlay.$content();e.prototype._refreshActiveDescendant.call(this,t)}},w._hideSubmenuHandler=function(){var e=this._getActiveItem(!0),t=e.parents(".".concat(T)).first();return t.length?(this._hideSubmenusOnSameLevel(t),this._hideSubmenu(e.closest(".".concat(F))),t):(this._actions.onCloseRootSubmenu(e),e)},w._expandSubmenuHandler=function(e,t){var n=this._getActiveItem(!0),i=this._getItemData(n),o=this._dataAdapter.getNodeByItem(i),r=this._hasSubmenu(o),a=n.children(".".concat(F));if(r&&!n.hasClass("dx-state-disabled"))return a.length&&"hidden"!==a.css("visibility")||this._showSubmenu(n),this._nextItem(this._getItemsByLocation(t));this._actions.onExpandLastSubmenu(n)},w._clean=function(){this._overlay&&(this._overlay.$element().remove(),this._overlay=null),this._detachShowContextMenuEvents(this._getTarget()),e.prototype._clean.call(this)},w._initMarkup=function(){this.$element().addClass("dx-has-context-menu"),e.prototype._initMarkup.call(this)},w._render=function(){e.prototype._render.call(this),this._renderVisibility(this.option("visible")),this._addWidgetClass()},w._renderContentImpl=function(){this._detachShowContextMenuEvents(this._getTarget()),this._attachShowContextMenuEvents()},w._attachKeyboardEvents=function(){!this._keyboardListenerId&&this._focusTarget().length&&e.prototype._attachKeyboardEvents.call(this)},w._renderContextMenuOverlay=function(){if(!this._overlay){var e=this._getOverlayOptions();this._overlay=this._createComponent((0,i.default)("<div>").appendTo(this._$element),C.default,e);var t=this._overlay.$content();t.addClass("dx-context-menu"),this._addCustomCssClass(t),this._addPlatformDependentClass(t),this._attachContextMenuEvent()}},w.preventShowingDefaultContextMenuAboveOverlay=function(){var e=this._itemContainer(),t=(0,v.addNamespace)(x.name,this.NAME);r.default.off(e,t,".".concat(F)),r.default.on(e,t,".".concat(F),function(n){n.stopPropagation(),n.preventDefault(),r.default.off(e,t,".".concat(F))}.bind(this))},w._itemContextMenuHandler=function(t){e.prototype._itemContextMenuHandler.call(this,t),t.stopPropagation()},w._addPlatformDependentClass=function(e){_.default.current().phone&&e.addClass("dx-menu-phone-overlay")},w._detachShowContextMenuEvents=function(e){var t=this.getShowEvent(this.option("showEvent"));if(t){var n=(0,v.addNamespace)(t,this.NAME);this._showContextMenuEventHandler?r.default.off(o.default.getDocument(),n,e,this._showContextMenuEventHandler):r.default.off((0,i.default)(e),n)}},w._attachShowContextMenuEvents=function(){var e=this,t=this._getTarget(),n=this.getShowEvent(this.option("showEvent"));if(n){var a=(0,v.addNamespace)(n,this.NAME),l=this._createAction((function(t){var n=e.getShowDelay(e.option("showEvent"));n?setTimeout((function(){return e._show(t.event)}),n):e._show(t.event)}),{validatingTargetName:"target"}),s=function(e){return l({event:e,target:(0,i.default)(e.currentTarget)})};l=this._createAction(l),(0,d.isRenderer)(t)||t.nodeType||(0,d.isWindow)(t)?(this._showContextMenuEventHandler=void 0,r.default.on(t,a,s)):(this._showContextMenuEventHandler=s,r.default.on(o.default.getDocument(),a,t,this._showContextMenuEventHandler))}},w._hoverEndHandler=function(t){e.prototype._hoverEndHandler.call(this,t),t.stopPropagation()},w._renderDimensions=function(){},w._renderContainer=function(t,n){var o=n||this._itemContainer();(t=(0,i.default)("<div>")).appendTo(o).addClass(F).css("visibility",n?"hidden":"visible"),t.parent().hasClass("dx-overlay-content")||this._addCustomCssClass(t);var r=e.prototype._renderContainer.call(this,t);return n?r:this.option("width")?r.css("minWidth",this.option("width")):this.option("height")?r.css("minHeight",this.option("height")):r},w._renderSubmenuItems=function(e,t){this._renderItems(this._getChildNodes(e),t),this._actions.onSubmenuCreated({itemElement:(0,c.getPublicElement)(t),itemData:e.internalFields.item,submenuElement:(0,c.getPublicElement)(t.children(".".concat(F)))})},w._getOverlayOptions=function(){var e=this,t=this.option("position");return{focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),innerOverlay:!0,hideOnOutsideClick:function(t){return e._hideOnOutsideClickHandler(t)},propagateOutsideClick:!0,hideOnParentScroll:!0,deferRendering:!1,position:{at:t.at,my:t.my,of:this._getTarget(),collision:"flipfit"},shading:!1,showTitle:!1,height:"auto",width:"auto",onShown:this._overlayShownActionHandler.bind(this),onHiding:this._overlayHidingActionHandler.bind(this),onHidden:this._overlayHiddenActionHandler.bind(this),visualContainer:N}},w._overlayShownActionHandler=function(e){this._actions.onShown(e)},w._overlayHidingActionHandler=function(e){this._actions.onHiding(e),e.cancel||(this._hideAllShownSubmenus(),this._setOptionWithoutOptionChange("visible",!1))},w._overlayHiddenActionHandler=function(e){this._actions.onHidden(e)},w._shouldHideOnOutsideClick=function(e){var t=this.option(),n=t.closeOnOutsideClick,i=t.hideOnOutsideClick;return(0,d.isFunction)(i)?i(e):(0,d.isFunction)(n)?n(e):i||n},w._hideOnOutsideClickHandler=function(e){if(!this._shouldHideOnOutsideClick(e))return!1;if(o.default.isDocument(e.target))return!0;var t=this._getActiveItemsContainer(e.target),n=this._getItemsContainers(),i=this._searchActiveItem(e.target),r=this.$element().parents(".".concat(O)),a=i[0]===r[0]&&i.length&&r.length;return!(this._isIncludeOverlay(t,n)&&i.length)&&!a||("onClick"===this._getShowSubmenuMode()&&this._hideAllShownChildSubmenus(i),!1)},w._getActiveItemsContainer=function(e){return(0,i.default)(e).closest(".".concat(D))},w._getItemsContainers=function(){return this._overlay.$content().find(".".concat(D))},w._searchActiveItem=function(e){return(0,i.default)(e).closest(".".concat(O)).eq(0)},w._isIncludeOverlay=function(e,t){var n=!1;return(0,h.each)(t,(function(t,i){e.is(i)&&!n&&(n=!0)})),n},w._hideAllShownChildSubmenus=function(e){var t=this,n=e.find(".".concat(F)),i=(0,f.extend)([],this._shownSubmenus);n.length>0&&(0,h.each)(i,(function(n,i){var o=t._searchActiveItem(i.context).parent();o.parent().is(e.parent().parent())&&!o.is(e.parent())&&t._hideSubmenu(i)}))},w._showSubmenu=function(t){var n=this._dataAdapter.getNodeByItem(this._getItemData(t));if(this._hideSubmenusOnSameLevel(t),this._hasSubmenu(n)){var i=t.children(".".concat(F)),o=i.length;e.prototype._showSubmenu.call(this,t),o||this._renderSubmenuItems(n,t),this._isSubmenuVisible(i)||this._drawSubmenu(t)}},w._hideSubmenusOnSameLevel=function(e){var t=e.parent(".".concat(R)).siblings().find(".".concat(T));t.length&&(t.removeClass(T),this._hideSubmenu(t.find(".".concat(F))))},w._hideSubmenuGroup=function(e){this._isSubmenuVisible(e)&&this._hideSubmenuCore(e)},w._isSubmenuVisible=function(e){return"visible"===e.css("visibility")},w._drawSubmenu=function(e){var t=this.option("animation")?this.option("animation").show:{},n=e.children(".".concat(F)),i=this._getSubmenuPosition(e);this._overlay&&this._overlay.option("visible")&&((0,d.isDefined)(this._shownSubmenus)||(this._shownSubmenus=[]),this._shownSubmenus.includes(n)||this._shownSubmenus.push(n),t&&g.default.stop(n),m.default.setup(n,i),t&&((0,d.isPlainObject)(t.to)&&(t.to.position=i),this._animate(n,t)),n.css("visibility","visible"))},w._animate=function(e,t){g.default.animate(e,t)},w._getSubmenuPosition=function(e){var t=this.option("submenuDirection").toLowerCase(),n={collision:"flip",of:e.parent(".".concat(R)),offset:{h:0,v:-1}};switch(t){case"left":n.at="left top",n.my="right top";break;case"right":n.at="right top",n.my="left top";break;default:this.option("rtlEnabled")?(n.at="left top",n.my="right top"):(n.at="right top",n.my="left top")}return n},w._updateSubmenuVisibilityOnClick=function(e){if(e.args.length){var t=e.args[0].itemData,n=this._dataAdapter.getNodeByItem(t);if(n){var o=(0,i.default)(e.args[0].itemElement),r=o.find(".".concat(F));if(this._hasSubmenu(n)&&!r.length&&(this._renderSubmenuItems(n,o),r=o.find(".".concat(F))),o.context!==r.context||"visible"!==r.css("visibility")){this._updateSelectedItemOnClick(e);var a=t&&!1===t.closeMenuOnClick;if(t&&!t.disabled&&!a)if(0===r.length){var l=(0,i.default)(o.parents(".".concat(F))[0]);this._hideSubmenu(l),!e.canceled&&this._overlay&&this._overlay.option("visible")&&this.option("visible",!1)}else this._shownSubmenus&&this._shownSubmenus.length>0&&this._shownSubmenus[0].is(r)&&this._hideSubmenu(r),this._showSubmenu(o)}}}},w._hideSubmenu=function(e){var t=this,n=(0,f.extend)([],this._shownSubmenus);(0,h.each)(n,(function(n,i){(e.is(i)||(0,u.contains)(e[0],i[0]))&&(i.parent().removeClass(T),t._hideSubmenuCore(i))}))},w._hideSubmenuCore=function(e){var t=this._shownSubmenus.indexOf(e),n=this.option("animation")?this.option("animation").hide:null;t>=0&&this._shownSubmenus.splice(t,1),this._stopAnimate(e),n&&this._animate(e,n),e.css("visibility","hidden")},w._stopAnimate=function(e){g.default.stop(e,!0)},w._hideAllShownSubmenus=function(){var e=this,t=(0,f.extend)([],this._shownSubmenus);this._overlay.$content().find(".".concat(T)).removeClass(T),(0,h.each)(t,(function(t,n){e._hideSubmenu(n)}))},w._visibilityChanged=function(e){e&&this._renderContentImpl()},w._optionChanged=function(t){if(M.includes(t.name))this._initActions();else switch(t.name){case"visible":this._renderVisibility(t.value);break;case"showEvent":case"position":case"submenuDirection":this._invalidate();break;case"target":t.previousValue&&this._detachShowContextMenuEvents(t.previousValue),this._invalidate();break;case"closeOnOutsideClick":case"hideOnOutsideClick":break;default:e.prototype._optionChanged.call(this,t)}},w._renderVisibility=function(e){return e?this._show():this._hide()},w._toggleVisibility=function(){},w._show=function(e){var t={jQEvent:e},n=(new y.Deferred).reject().promise();if(this._actions.onShowing(t),t.cancel)return n;var i,o=this._positionContextMenu(e);o&&(this._overlay||(this._renderContextMenuOverlay(),this._overlay.$content().addClass(this._widgetClass()),this._renderFocusState(),this._attachHoverEvents(),this._attachClickEvent(),this._renderItems(this._dataAdapter.getRootNodes())),this._setOptionWithoutOptionChange("visible",!0),this._overlay.option("position",o),n=this._overlay.show(),e&&e.stopPropagation(),this._setAriaAttributes(),(null==e||null===(i=e.originalEvent)||void 0===i?void 0:i.type)===I.default.name&&this.preventShowingDefaultContextMenuAboveOverlay());return n},w._setAriaAttributes=function(){this._overlayContentId="dx-".concat(new a.default),this.setAria("owns",this._overlayContentId),this.setAria({id:this._overlayContentId,role:"menu"},this._overlay.$content())},w._cleanAriaAttributes=function(){this._overlay&&this.setAria("id",null,this._overlay.$content()),this.setAria("owns",void 0)},w._getTarget=function(){return this.option("target")||this.option("position").of||(0,i.default)(o.default.getDocument())},w._getContextMenuPosition=function(){return(0,f.extend)({},this.option("position"),{of:this._getTarget()})},w._positionContextMenu=function(e){var t=this._getContextMenuPosition(),n=this._isInitialOptionValue("position"),i=this._createActionByOption("onPositioning");e&&e.preventDefault&&n&&(t.of=e);var o={position:t,event:e};return i(o),o.cancel?t=null:o.event&&(o.event.cancel=!0,e.preventDefault()),t},w._refresh=function(){if((0,p.hasWindow)())if(this._overlay){var t=this._overlay.option("position");e.prototype._refresh.call(this),this._overlay&&this._overlay.option("position",t)}else e.prototype._refresh.call(this);else e.prototype._refresh.call(this)},w._hide=function(){var e;return this._overlay&&(e=this._overlay.hide(),this._setOptionWithoutOptionChange("visible",!1)),this._cleanAriaAttributes(),this.option("focusedElement",null),e||(new y.Deferred).reject().promise()},w.toggle=function(e){var t=this.option("visible");return e=void 0===e?!t:e,this._renderVisibility(e)},w.show=function(){return this.toggle(!0)},w.hide=function(){return this.toggle(!1)},l}(w.default);(0,l.default)("dxContextMenu",H);var W=H;t.default=W,e.exports=t.default,e.exports.default=t.default},97447:(e,t,n)=>{t.default=void 0;var i=r(n(94965)),o=n(96993);function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}var s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,l(t,n);var s=r.prototype;return s._getPlainItems=function(){return(0,o.map)(this._collectionWidget.option("items"),(function e(t){return t.items?[t].concat((0,o.map)(t.items,e)):t}))},s._stringifyItem=function(e){var t=this;return JSON.stringify(e,(function(e,n){return"template"===e?t._getTemplateString(n):n}))},s._getTemplateString=function(e){return"object"===a(e)?(0,i.default)(e).text():e.toString()},r}(r(n(70942)).default);t.default=s,e.exports=t.default,e.exports.default=t.default},20989:(e,t,n)=>{t.default=void 0;var i=f(n(94965)),o=n(48152),r=n(49859),a=n(96993),l=n(65102),s=n(87627),d=f(n(15547)),u=f(n(97447)),c=f(n(70974)),h=f(n(679));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}var g="dx-menu",m=g+"-no-icons",_=g+"-item",v=_+"-content",C=_+"-selected",w=_+"-wrapper",y=g+"-items-container",x=_+"-expanded",I=g+"-separator",b=g+"-last-group-item",E=_+"-has-text",S=_+"-has-icon",O=_+"-has-submenu",T=_+"-popout",D=T+"-container",R=_+"-text",F={show:50,hide:300},A="".concat(R,"-with-url"),P=function(e){var t,n;function d(){return e.apply(this,arguments)||this}n=e,(t=d).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n);var h=d.prototype;return h._getDefaultOptions=function(){return(0,l.extend)(e.prototype._getDefaultOptions.call(this),{items:[],cssClass:"",activeStateEnabled:!0,showSubmenuMode:{name:"onHover",delay:{show:50,hide:300}},animation:{show:{type:"fade",from:0,to:1,duration:100},hide:{type:"fade",from:1,to:0,duration:100}},selectByClick:!1,focusOnSelectedItem:!1,keyExpr:null,_itemAttributes:{role:"menuitem"},useInkRipple:!1})},h._itemDataKey=function(){return"dxMenuItemDataKey"},h._itemClass=function(){return _},h._setAriaSelectionAttribute=function(){},h._selectedItemClass=function(){return C},h._widgetClass=function(){return"dx-menu-base"},h._focusTarget=function(){return this._itemContainer()},h._clean=function(){this.option("focusedElement",null),e.prototype._clean.call(this)},h._supportedKeys=function(){var t=this;return(0,l.extend)(e.prototype._supportedKeys.call(this),{space:function(){var e=(0,i.default)(t.option("focusedElement"));e.length&&t._isSelectionEnabled()&&t.selectItem(e[0])},pageUp:o.noop,pageDown:o.noop})},h._isSelectionEnabled=function(){return"single"===this.option("selectionMode")},h._init=function(){this._activeStateUnit=".".concat(_),e.prototype._init.call(this),this._renderSelectedItem(),this._initActions()},h._getLinkContainer=function(t,n,i){var o=i.linkAttr,r=i.url;return null==t||t.addClass("dx-icon-with-url"),null==n||n.addClass(A),e.prototype._getLinkContainer.call(this,t,n,{linkAttr:o,url:r})},h._addContent=function(t,n){var i=n.html;if(n.url){t.html(i);var o=this._getLinkContainer(this._getIconContainer(n),this._getTextContainer(n),n);t.append(o)}else e.prototype._addContent.call(this,t,n);t.append(this._getPopoutContainer(n)),this._addContentClasses(n,t.parent())},h._getTextContainer=function(e){var t=e.text;if(t){var n=(0,i.default)("<span>").addClass(R),o=(0,r.isPlainObject)(e)?t:String(e);return n.text(o)}},h._getItemExtraPropNames=function(){return["url","linkAttr"]},h._getPopoutContainer=function(e){var t,n=e.items;if(n&&n.length){var o=(0,i.default)("<div>").addClass(T);t=(0,i.default)("<span>").addClass(D).append(o)}return t},h._getDataAdapterOptions=function(){return{rootValue:0,multipleSelection:!1,recursiveSelection:!1,recursiveExpansion:!1,searchValue:""}},h._selectByItem=function(e){if(e){var t=this._dataAdapter.getNodeByItem(e);this._dataAdapter.toggleSelection(t.internalFields.key,!0)}},h._renderSelectedItem=function(){var e=this._dataAdapter.getSelectedNodesKeys(),t=e.length&&e[0],n=this.option("selectedItem");if(t){var i=this._dataAdapter.getNodeByKey(t);!1!==i.selectable&&(n?n!==i.internalFields.item&&(this._dataAdapter.toggleSelection(t,!1),this._selectByItem(n)):this.option("selectedItem",i.internalFields.item))}else this._selectByItem(n)},h._initActions=function(){},h._initMarkup=function(){e.prototype._initMarkup.call(this),this.option("useInkRipple")&&this._renderInkRipple()},h._renderInkRipple=function(){this._inkRipple=(0,s.render)()},h._toggleActiveState=function(t,n,i){if(e.prototype._toggleActiveState.apply(this,arguments),this._inkRipple){var o={element:t,event:i};n?this._inkRipple.showWave(o):this._inkRipple.hideWave(o)}},h._getShowSubmenuMode=function(){var e=this.option("showSubmenuMode");return e=(0,r.isObject)(e)?e.name:e,this._isDesktopDevice()?e:"onClick"},h._initSelectedItems=function(){},h._isDesktopDevice=function(){return"desktop"===c.default.real().deviceType},h._initEditStrategy=function(){var e=u.default;this._editStrategy=new e(this)},h._addCustomCssClass=function(e){e.addClass(this.option("cssClass"))},h._itemWrapperSelector=function(){return".".concat(w)},h._hoverStartHandler=function(e){var t=this._getItemElementByEventArgs(e);t&&!this._isItemDisabled(t)&&(e.stopPropagation(),"onHover"===this._getShowSubmenuMode()&&(clearTimeout(this._showSubmenusTimeout),this._showSubmenusTimeout=setTimeout(this._showSubmenu.bind(this,t),this._getSubmenuDelay("show"))))},h._getAvailableItems=function(t){return e.prototype._getAvailableItems.call(this,t).filter((function(){return"hidden"!==(0,i.default)(this).css("visibility")}))},h._isItemDisabled=function(e){return this._disabledGetter(e.data(this._itemDataKey()))},h._showSubmenu=function(e){this._addExpandedClass(e)},h._addExpandedClass=function(e){(0,i.default)(e).addClass(x)},h._getSubmenuDelay=function(e){var t=this.option("showSubmenuMode").delay;return(0,r.isDefined)(t)?(0,r.isObject)(t)?t[e]:t:F[e]},h._getItemElementByEventArgs=function(e){var t=(0,i.default)(e.target);if(t.hasClass(this._itemClass())||t.get(0)===e.currentTarget)return t;for(;!t.hasClass(this._itemClass());)if((t=t.parent()).hasClass("dx-submenu"))return null;return t},h._hoverEndHandler=function(){clearTimeout(this._showSubmenusTimeout)},h._hasSubmenu=function(e){return e&&e.internalFields.childrenKeys.length},h._renderContentImpl=function(){this._renderItems(this._dataAdapter.getRootNodes())},h._renderItems=function(e,t){var n=this;if(e.length){this.hasIcons=!1;var i=this._renderContainer(this.$element(),t),o=-1,r=-1;(0,a.each)(e,(function(e,t){var a=!1!==t.visible;a&&o<0&&(o=e),o<e&&(t.beginGroup||e===r)&&(r=a?e:e+1),e===r&&o<e&&n._renderSeparator(i),n._renderItem(e,t,i)})),this.hasIcons||i.addClass(m)}},h._renderContainer=function(e){var t=(0,i.default)("<ul>");return this.setAria("role","none",t),t.appendTo(e).addClass(y)},h._createDOMElement=function(e){var t=(0,i.default)("<li>");return this.setAria("role","none",t),t.appendTo(e).addClass(w)},h._renderItem=function(t,n,i,o){var r=this.option("items"),a=o||this._createDOMElement(i);r[t+1]&&r[t+1].beginGroup&&a.addClass(b);var l=e.prototype._renderItem.call(this,t,n.internalFields.item,a);n.internalFields.item===this.option("selectedItem")&&l.addClass(C),l.attr("tabIndex",-1),this._hasSubmenu(n)&&this.setAria("haspopup","true",l)},h._renderItemFrame=function(t,n,i){var o=i.children(".".concat(_));return o.length?o:e.prototype._renderItemFrame.apply(this,arguments)},h._refreshItem=function(e,t){var n=this._dataAdapter.getNodeByItem(t),i=e.data(this._itemIndexKey()),o=e.closest("ul"),r=e.closest("li");this._renderItem(i,n,o,r)},h._addContentClasses=function(e,t){var n=!!e.text&&!!e.text.length,i=!!e.icon,o=!!e.items&&!!e.items.length;t.toggleClass(E,n),t.toggleClass(S,i),this.hasIcons||(this.hasIcons=i),t.toggleClass(O,o)},h._getItemContent=function(t){var n=e.prototype._getItemContent.call(this,t);return n.length||(n=t.children(".".concat(v))),n},h._postprocessRenderItem=function(e){var t=(0,i.default)(e.itemElement),n=this._dataAdapter.getSelectedNodesKeys();n.length&&this._selectedGetter(e.itemData)&&this._isItemSelectable(e.itemData)?this._dataAdapter.getNodeByItem(e.itemData).internalFields.key===n[0]?(t.addClass(this._selectedItemClass()),this._setAriaSelectionAttribute(t,"true")):this._setAriaSelectionAttribute(t,"false"):this._setAriaSelectionAttribute(t,"false")},h._isItemSelectable=function(e){return!1!==e.selectable},h._renderSeparator=function(e){(0,i.default)("<li>").appendTo(e).addClass(I)},h._itemClickHandler=function(e){if(!e._skipHandling){var t=this._createAction(this._updateSubmenuVisibilityOnClick.bind(this));this._itemDXEventHandler(e,"onItemClick",{},{beforeExecute:this._itemClick,afterExecute:t.bind(this)}),e._skipHandling=!0}},h._itemClick=function(e){var t=e.args[0],n=t.event.target.getElementsByClassName("dx-item-url")[0];t.itemData.url&&n&&n.click()},h._updateSubmenuVisibilityOnClick=function(e){this._updateSelectedItemOnClick(e),"onClick"===this._getShowSubmenuMode()&&this._addExpandedClass(e.args[0].itemElement)},h._updateSelectedItemOnClick=function(e){var t=e.args?e.args[0]:e;if(this._isItemSelectAllowed(t.itemData)){var n=this._dataAdapter.getSelectedNodesKeys(),i=n.length&&this._dataAdapter.getNodeByKey(n[0]);i&&this._toggleItemSelection(i,!1),i&&i.internalFields.item===t.itemData?(this._fireSelectionChangeEvent(null,this.option("selectedItem")),this._setOptionWithoutOptionChange("selectedItem",null)):this.selectItem(t.itemData)}},h._isItemSelectAllowed=function(e){var t=this._isSelectionEnabled()&&this.option("selectByClick");return!this._isContainerEmpty()&&t&&this._isItemSelectable(e)&&!this._itemsGetter(e)},h._isContainerEmpty=function(){return this._itemContainer().is(":empty")},h._syncSelectionOptions=function(){return(0,o.asyncNoop)()},h._optionChanged=function(t){switch(t.name){case"showSubmenuMode":break;case"selectedItem":var n=this._dataAdapter.getNodeByItem(t.value),i=this._dataAdapter.getSelectedNodesKeys()[0];if(n&&n.internalFields.key!==i){if(!1===n.selectable)break;i&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(i),!1),this._toggleItemSelection(n,!0),this._updateSelectedItems()}break;case"cssClass":case"position":case"selectByClick":case"animation":case"useInkRipple":this._invalidate();break;default:e.prototype._optionChanged.call(this,t)}},h._toggleItemSelection=function(e,t){var n=this._getElementByItem(e.internalFields.item);n&&(0,i.default)(n).toggleClass(C),this._dataAdapter.toggleSelection(e.internalFields.key,t)},h._getElementByItem=function(e){var t,n=this;return(0,a.each)(this._itemElements(),(function(o,r){return(0,i.default)(r).data(n._itemDataKey())!==e||(t=r,!1)})),t},h._updateSelectedItems=function(e,t){(e||t)&&this._fireSelectionChangeEvent(t,e)},h._fireSelectionChangeEvent=function(e,t){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:[e],removedItems:[t]})},h.selectItem=function(e){var t=e.nodeType?this._getItemData(e):e,n=this._dataAdapter.getSelectedNodesKeys()[0],i=this.option("selectedItem"),o=this._dataAdapter.getNodeByItem(t);o.internalFields.key!==n&&(n&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(n),!1),this._toggleItemSelection(o,!0),this._updateSelectedItems(i,t),this._setOptionWithoutOptionChange("selectedItem",t))},h.unselectItem=function(e){var t=e.nodeType?this._getItemData(e):e,n=this._dataAdapter.getNodeByItem(t),i=this.option("selectedItem");n.internalFields.selected&&(this._toggleItemSelection(n,!1),this._updateSelectedItems(i,null),this._setOptionWithoutOptionChange("selectedItem",null))},d}(d.default);P.ItemClass=h.default;var V=P;t.default=V,e.exports=t.default,e.exports.default=t.default},6697:(e,t,n)=>{var i;t.default=void 0;var o=((i=n(37028))&&i.__esModule?i:{default:i}).default;t.default=o,e.exports=t.default,e.exports.default=t.default}}]);